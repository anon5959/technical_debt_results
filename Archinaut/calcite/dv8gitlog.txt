commit 799802822cc99ef4e0f9ee16e8b4fb0718baa81b
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-09-06 14:43:01 +0200

    [maven-release-plugin] prepare for next development iteration

2	2	babel/pom.xml
2	2	cassandra/pom.xml
2	2	core/pom.xml
2	2	druid/pom.xml
2	2	elasticsearch/pom.xml
2	2	example/csv/pom.xml
2	2	example/function/pom.xml
2	2	example/pom.xml
2	2	file/pom.xml
2	2	geode/pom.xml
1	1	kafka/pom.xml
2	2	linq4j/pom.xml
2	2	mongodb/pom.xml
2	2	pig/pom.xml
2	2	piglet/pom.xml
2	2	plus/pom.xml
2	2	pom.xml
2	2	server/pom.xml
2	2	spark/pom.xml
2	2	splunk/pom.xml
1	1	ubenchmark/pom.xml

commit adc1532de853060d24fd0129257a3fae306fb55c
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-09-06 14:41:49 +0200

    [maven-release-plugin] prepare release calcite-1.21.0

2	2	babel/pom.xml
2	2	cassandra/pom.xml
2	2	core/pom.xml
2	2	druid/pom.xml
2	2	elasticsearch/pom.xml
2	2	example/csv/pom.xml
2	2	example/function/pom.xml
2	2	example/pom.xml
2	2	file/pom.xml
2	2	geode/pom.xml
1	1	kafka/pom.xml
2	2	linq4j/pom.xml
2	2	mongodb/pom.xml
2	2	pig/pom.xml
2	2	piglet/pom.xml
2	2	plus/pom.xml
2	2	pom.xml
2	2	server/pom.xml
2	2	spark/pom.xml
2	2	splunk/pom.xml
1	1	ubenchmark/pom.xml

commit 358027602b24c45a6cec686544ef37b3da594e9b
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-08-28 12:07:49 +0200

    [CALCITE-3303] Release Calcite 1.21.0
    
    1. Update docs and pom to 1.21.0.
    2. Add release notes for 1.21.0.

1	1	README
1	1	pom.xml
352	3	site/_docs/history.md
4	4	site/_docs/howto.md

commit 8c941e03d8443d1e0dae12cb740e7eea09d56ab2
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-09-05 20:03:48 -0700

    Cosmetic code changes
    
    Improve documentation of JDBC adapter (Shuming Li)
    
    Copy-edit SQL reference

2	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableHashJoin.java
40	32	core/src/main/java/org/apache/calcite/sql/validate/implicit/TypeCoercion.java
20	13	core/src/main/java/org/apache/calcite/sql/validate/implicit/TypeCoercionImpl.java
7	6	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
2	4	core/src/test/java/org/apache/calcite/plan/RelWriterTest.java
2	4	core/src/test/java/org/apache/calcite/runtime/EnumerablesTest.java
4	4	core/src/test/java/org/apache/calcite/util/Smalls.java
4	2	site/_docs/adapter.md
62	38	site/_docs/reference.md

commit 6fabfd609800824d84fb13703f4d70ac1798c9aa
Author: Lindsey Meyer <lameyer@users.noreply.github.com>
Date:   2019-09-03 16:34:17 -0700

    [CALCITE-3321] BigQuery does not have correct casing rules (Lindsey Meyer)
    
    Close apache/calcite#1438

5	1	core/src/main/java/org/apache/calcite/sql/dialect/BigQuerySqlDialect.java
5	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit faeb6d0ea16c493157a1159c49cb970790c10cc1
Author: 沈洪 <yuling.sh@alipay.com>
Date:   2019-09-04 11:02:50 +0800

    [CALCITE-3322] Remove duplicate test case in RelMetadataTest (沈洪)
    
    Alter testcase RelMetadataTest.testRowCountSortLimit0, adding LIMIT 0 so
    that it is not the same as testRowCountSortLimit.
    
    Close apache/calcite#1439

2	2	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java

commit 5c25c386dd70172f98d870ce72455fab897eb70a
Author: wenhuitang <wenhui_tang@yeah.net>
Date:   2019-09-02 20:28:22 +0800

    Remove the useless JdbcConvention out in descriptionPrefix for JdbcToEnumerableConverterRule (Wenhui Tang)
    
    Close apache/calcite#1435

1	1	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcToEnumerableConverterRule.java

commit 955d4ea7b30b85519529c1c77662fa04141bfa89
Author: winifredtamg <wenhui_tang@yeah.net>
Date:   2019-06-05 20:56:22 +0800

    [CALCITE-3115] Cannot add JdbcRules which have different JdbcConvention to same VolcanoPlanner's RuleSet (Wenhui Tang, Igor Guzenko)
    
    Close apache/calcite#1397
    
    Co-authored-by: Igor Guzenko <ihor.huzenko.igs@gmail.com>

15	10	core/src/main/java/org/apache/calcite/rel/convert/ConverterRule.java
29	0	core/src/test/java/org/apache/calcite/test/JdbcAdapterTest.java
9	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java

commit c9520c35899fe5ac363053e9fb9b292989b1176c
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-08-30 12:24:46 +0200

    [CALCITE-3314] CVSS dependency-check-maven fails for calcite-pig, calcite-piglet, calcite-spark
    
    Never fail the build due to OWASP dependency-check for pig, piglet, and spark modules.

8	0	pig/pom.xml
11	0	piglet/pom.xml
8	0	spark/pom.xml

commit 48086a76578b96ac961c833075357710bd624d3e
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-08-31 11:11:39 +0800

    [CALCITE-3315] Multiple failures in Druid IT tests due to implicit casts
    
    1. Update stale tests in DruidAdapterIT and DruidAdapter2IT following the implementation of implicit casts in CALCITE-2302.
    2. Refactor common druidChecker code in DruidAdapterIT and DruidAdapter2IT in a separate class.
    
    Co-authored-by: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>

197	206	druid/src/test/java/org/apache/calcite/test/DruidAdapter2IT.java
219	242	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java
55	0	druid/src/test/java/org/apache/calcite/test/DruidChecker.java

commit 55cc3abfbcb906935a703a5cf77b1b0359fca734
Author: rubenada <rubenql@gmail.com>
Date:   2019-08-30 09:46:21 +0200

    [CALCITE-3309] Refactor generatePredicate method from EnumerableNestedLoopJoin/EnumerableHashJoin/EnumerableBatchNestedLoopJoin into a single location

41	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumUtils.java
3	37	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableBatchNestedLoopJoin.java
4	40	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableHashJoin.java
4	39	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableNestedLoopJoin.java

commit 81c768e60078bcb6c8c78057d80090d27ac86030
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-08-30 15:39:14 +0800

    [CALCITE-3310] Approximate and exact aggregate calls are recognized as the same during sql-to-rel conversion

9	1	core/src/main/java/org/apache/calcite/rel/core/AggregateCall.java
19	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
27	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit b8d24a6f7f2b4c7cb8093eea158f1fa00dbc6ffc
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-08-26 11:27:10 +0800

    [CALCITE-3292] SqlToRelConverter#substituteSubQuery fails with NullPointerException when converting SqlUpdate (Jin Xing)

10	0	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
12	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
19	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 72680df93ef089abd0a7c0ac8cdc6253619c2ebe
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-08-30 19:07:24 +0800

    [CALCITE-3311] Add doc to site for implicit type coercion

1	0	site/_docs/adapter.md
58	1	site/_docs/reference.md

commit e2300d297d291514906ca002d045664732ec928c
Author: rubenada <rubenql@gmail.com>
Date:   2019-08-30 10:36:01 +0200

    [CALCITE-3307] PigRelExTest, PigRelOpTest and PigScriptTest fail on Windows

4	0	piglet/src/test/java/org/apache/calcite/test/PigRelTestBase.java

commit 6cec81178e6739d9b1f3474dc5dbd7488dda2464
Author: Lai Zhou <hhlai1990@gmail.com>
Date:   2019-08-21 20:49:48 +0800

    [CALCITE-2973],[CALCITE-3284] Allow joins(hash,semi,anti) that have equi conditions to be executed using a hash join algorithm

65	3	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableHashJoin.java
28	8	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableJoinRule.java
8	4	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
115	0	core/src/test/java/org/apache/calcite/runtime/EnumerablesTest.java
203	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableHashJoinTest.java
12	0	linq4j/src/main/java/org/apache/calcite/linq4j/DefaultEnumerable.java
244	7	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java
30	0	linq4j/src/main/java/org/apache/calcite/linq4j/ExtendedEnumerable.java

commit c1b042fec9a979bfa39a767f7b04da0a5134053a
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   2019-08-28 19:15:03 +0300

    [CALCITE-3297] PigToSqlAggregateRule should be applied on multi-set projection to produce an optimal plan (Igor Guzenko)
    
    Close apache/calcite#1420

0	14	core/src/main/java/org/apache/calcite/sql/type/SqlTypeUtil.java
1	18	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
10	15	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
3	20	piglet/src/test/java/org/apache/calcite/test/PigRelOpTest.java

commit 01477c42ded991aaa7b14cf72a6e4ea1a20edf5e
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2018-05-30 12:16:57 +0800

    [CALCITE-2302] Implicit type cast support
    
    Changes:
    * Support full implicit type coercion for SQL contexts:
    Set operation, binary arithmetic exprs, binary equality
    exprs, binary comparison exprs, case when(COALESCE),
    IN operation, builtin functions, user defined function(UDF);
    * The SqlValidator now takes a component named `TypeCoercion`
    responsible for the coercion work, you can turn off the coercion with
    `SqlValidator#setEnableTypeCoercion(false)`;
    * We follow PostgreSQL and SQL-SERVER conversion style for two integers division,
    i.e. `'9'/2` returns INTEGER 4.

7	2	core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java
2	0	core/src/main/java/org/apache/calcite/config/CalciteConnectionConfig.java
5	0	core/src/main/java/org/apache/calcite/config/CalciteConnectionConfigImpl.java
5	1	core/src/main/java/org/apache/calcite/config/CalciteConnectionProperty.java
2	0	core/src/main/java/org/apache/calcite/jdbc/JavaTypeFactoryImpl.java
1	0	core/src/main/java/org/apache/calcite/prepare/CalciteSqlValidator.java
10	0	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactory.java
37	0	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactoryImpl.java
25	1	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeSystem.java
21	5	core/src/main/java/org/apache/calcite/sql/SqlFunction.java
43	0	core/src/main/java/org/apache/calcite/sql/SqlKind.java
3	1	core/src/main/java/org/apache/calcite/sql/SqlOperator.java
28	18	core/src/main/java/org/apache/calcite/sql/SqlUtil.java
21	2	core/src/main/java/org/apache/calcite/sql/fun/SqlCaseOperator.java
17	5	core/src/main/java/org/apache/calcite/sql/fun/SqlInOperator.java
1	0	core/src/main/java/org/apache/calcite/sql/type/AssignableOperandTypeChecker.java
9	2	core/src/main/java/org/apache/calcite/sql/type/ComparableOperandTypeChecker.java
50	0	core/src/main/java/org/apache/calcite/sql/type/CompositeOperandTypeChecker.java
50	2	core/src/main/java/org/apache/calcite/sql/type/FamilyOperandTypeChecker.java
54	0	core/src/main/java/org/apache/calcite/sql/type/ImplicitCastOperandTypeChecker.java
1	0	core/src/main/java/org/apache/calcite/sql/type/JavaToSqlTypeConversionRules.java
17	4	core/src/main/java/org/apache/calcite/sql/type/ReturnTypes.java
1	1	core/src/main/java/org/apache/calcite/sql/type/SameOperandTypeChecker.java
6	2	core/src/main/java/org/apache/calcite/sql/type/SameOperandTypeExceptLastOperandChecker.java
42	19	core/src/main/java/org/apache/calcite/sql/type/SetopOperandTypeChecker.java
40	2	core/src/main/java/org/apache/calcite/sql/type/SqlTypeAssignmentRules.java
4	1	core/src/main/java/org/apache/calcite/sql/type/SqlTypeFactoryImpl.java
64	0	core/src/main/java/org/apache/calcite/sql/type/SqlTypeFamily.java
2	0	core/src/main/java/org/apache/calcite/sql/type/SqlTypeTransforms.java
179	2	core/src/main/java/org/apache/calcite/sql/type/SqlTypeUtil.java
22	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidator.java
38	2	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
671	0	core/src/main/java/org/apache/calcite/sql/validate/implicit/AbstractTypeCoercion.java
169	0	core/src/main/java/org/apache/calcite/sql/validate/implicit/TypeCoercion.java
523	0	core/src/main/java/org/apache/calcite/sql/validate/implicit/TypeCoercionImpl.java
35	0	core/src/main/java/org/apache/calcite/sql/validate/implicit/TypeCoercions.java
81	0	core/src/main/java/org/apache/calcite/sql/validate/implicit/package-info.java
4	0	core/src/test/java/org/apache/calcite/sql/test/AbstractSqlTester.java
116	52	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
7	2	core/src/test/java/org/apache/calcite/sql/test/SqlTestFactory.java
3	0	core/src/test/java/org/apache/calcite/sql/test/SqlTester.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
1	1	core/src/test/java/org/apache/calcite/test/ExceptionMessageTest.java
7	3	core/src/test/java/org/apache/calcite/test/ReflectiveSchemaTest.java
9	1	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
13	0	core/src/test/java/org/apache/calcite/test/RelOptTestBase.java
2	2	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
32	12	core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java
235	71	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
59	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTestCase.java
7	4	core/src/test/java/org/apache/calcite/test/TableFunctionTest.java
143	0	core/src/test/java/org/apache/calcite/test/TypeCoercionConverterTest.java
825	0	core/src/test/java/org/apache/calcite/test/TypeCoercionTest.java
37	18	core/src/test/java/org/apache/calcite/test/UdfTest.java
11	6	core/src/test/java/org/apache/calcite/util/Smalls.java
6	5	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
264	0	core/src/test/resources/org/apache/calcite/test/TypeCoercionConverterTest.xml
1	0	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeZipsTest.java
2	2	linq4j/src/main/java/org/apache/calcite/linq4j/tree/BinaryExpression.java

commit 97d68952d467540cddddbe8350f706028001dfbf
Author: yanzhi <yanzhi.wyl@antfin.com>
Date:   2019-08-26 20:45:16 +0800

    [CALCITE-3295] Add aggregate call name in serialized json string for relnode (Wang Yanlin)
    
    Close #1415

1	0	core/src/main/java/org/apache/calcite/rel/externalize/RelJson.java
2	1	core/src/main/java/org/apache/calcite/rel/externalize/RelJsonReader.java
87	3	core/src/test/java/org/apache/calcite/plan/RelWriterTest.java

commit 70f1453086d67bd6d431d63b93a27baf0cdba06d
Author: Juhwan Kim <jkim@dremio.com>
Date:   2019-08-26 11:41:53 -0700

    [CALCITE-3296] Decorrelator shouldn't give empty value when fetch and offset values are null in Sort rel (Juhwan Kim)
    
    Instead of passing in zeros, pass negative values to sortLimit builder when values are null.
    
    Close #1416

2	2	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
15	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
38	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit cc169aec313c19bd7749c448c1e8eca014997b77
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-08-27 15:08:42 -0500

    Following [CALCITE-3122] Fix getFamilitTypes typo

3	3	piglet/src/main/java/org/apache/calcite/piglet/PigRelSqlUdfs.java

commit e5ae1796e8016b0a5e943f458bf31a7e7e8aa75a
Author: Khai Tran <khtran@linkedin.com>
Date:   2016-12-06 14:41:11 -0800

    [CALCITE-3122] Convert Pig Latin scripts into Calcite relational algebra and Calcite SQL (Khai Tran)
    
    Remove SqlNode.toSqlString and replace it with SqlNode.unparse.
    
    Mute pig parser log in piglet tests.
    
    Refactor DynamicTupleRecordType.
    
    Remove dependency on core/PigRelBuilder from LogicalPigRelBuilder and
    rename LogicalPigRelBuilder to PigRelBuilder.
    
    Fix RAT report on Travis on unapproved license files.
    
    Close apache/calcite#1265

16	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumUtils.java
1	1	core/src/main/java/org/apache/calcite/plan/RelOptCluster.java
10	0	core/src/main/java/org/apache/calcite/prepare/RelOptTableImpl.java
2	4	core/src/main/java/org/apache/calcite/rel/core/Uncollect.java
162	0	core/src/main/java/org/apache/calcite/rel/logical/ToLogicalConverter.java
117	0	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
41	1	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
7	2	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
14	0	core/src/main/java/org/apache/calcite/schema/impl/ScalarFunctionImpl.java
1	1	core/src/main/java/org/apache/calcite/sql/SqlBasicTypeNameSpec.java
4	1	core/src/main/java/org/apache/calcite/sql/SqlLateralOperator.java
11	10	core/src/main/java/org/apache/calcite/sql/SqlNode.java
8	1	core/src/main/java/org/apache/calcite/sql/SqlUnnestOperator.java
2	2	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
16	11	core/src/main/java/org/apache/calcite/tools/PigRelBuilder.java
17	5	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
411	0	core/src/test/java/org/apache/calcite/rel/logical/ToLogicalConverterTest.java
36	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
6	6	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
17	2	core/src/test/java/org/apache/calcite/test/Matchers.java
2	2	kafka/pom.xml
25	0	piglet/pom.xml
76	0	piglet/src/main/java/org/apache/calcite/piglet/DynamicTupleRecordType.java
288	0	piglet/src/main/java/org/apache/calcite/piglet/PigConverter.java
658	0	piglet/src/main/java/org/apache/calcite/piglet/PigRelBuilder.java
452	0	piglet/src/main/java/org/apache/calcite/piglet/PigRelExVisitor.java
84	0	piglet/src/main/java/org/apache/calcite/piglet/PigRelExWalker.java
251	0	piglet/src/main/java/org/apache/calcite/piglet/PigRelOpInnerVisitor.java
722	0	piglet/src/main/java/org/apache/calcite/piglet/PigRelOpVisitor.java
92	0	piglet/src/main/java/org/apache/calcite/piglet/PigRelOpWalker.java
361	0	piglet/src/main/java/org/apache/calcite/piglet/PigRelSqlUdfs.java
128	0	piglet/src/main/java/org/apache/calcite/piglet/PigRelToSqlConverter.java
195	0	piglet/src/main/java/org/apache/calcite/piglet/PigRelUdfConverter.java
76	0	piglet/src/main/java/org/apache/calcite/piglet/PigTable.java
408	0	piglet/src/main/java/org/apache/calcite/piglet/PigToSqlAggregateRule.java
200	0	piglet/src/main/java/org/apache/calcite/piglet/PigTypes.java
112	0	piglet/src/main/java/org/apache/calcite/piglet/PigUdfFinder.java
47	0	piglet/src/main/java/org/apache/calcite/piglet/PigUdfs.java
78	0	piglet/src/main/java/org/apache/calcite/piglet/PigUserDefinedFunction.java
14	6	piglet/src/test/java/org/apache/calcite/test/CalciteHandler.java
250	0	piglet/src/test/java/org/apache/calcite/test/PigRelExTest.java
1631	0	piglet/src/test/java/org/apache/calcite/test/PigRelOpTest.java
38	0	piglet/src/test/java/org/apache/calcite/test/PigRelTestBase.java
79	0	piglet/src/test/java/org/apache/calcite/test/PigScriptTest.java
2	2	piglet/src/test/resources/log4j.properties
44	0	piglet/src/test/resources/testPig.pig
1	1	site/_docs/history.md

commit b039b152d8d2e91ab2ca0232ebddfc998f3bb331
Author: ShuMingLi <ming.moriarty@gmail.com>
Date:   2019-08-26 12:54:12 +0800

    [CALCITE-3280] Add REGEXP_REPLACE function in Oracle, MySQL libraries (Shuming Li)
    
    Close apache/calcite#1401

19	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
57	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
4	1	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
77	0	core/src/main/java/org/apache/calcite/sql/fun/SqlRegexpReplaceFunction.java
8	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
35	0	core/src/main/java/org/apache/calcite/util/Unsafe.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
39	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
38	0	core/src/test/java/org/apache/calcite/test/SqlFunctionsTest.java
2	1	site/_docs/reference.md

commit 8a3fde56e6931ca8c5a12d22489c6ce0eae4a8bc
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-08-26 13:28:31 -0700

    In SqlFunctionsTest, replace assertEquals and assertNull with assertThat

252	246	core/src/test/java/org/apache/calcite/test/SqlFunctionsTest.java

commit be678e3dc65f5933f85927e53b2811738d124f11
Author: yanzhi <yanzhi.wyl@antfin.com>
Date:   2019-08-17 17:20:40 +0800

    [CALCITE-3260] Add Expressions.evaluate(Node), a public API for evaluating linq4j expressions (Wang Yanlin)
    
    And a couple of cosmetic changes.
    
    Close apache/calcite#1387

4	3	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterStructsTest.java
10	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Expressions.java
9	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/ExpressionTest.java
2	2	server/src/main/java/org/apache/calcite/sql/ddl/SqlCreateTable.java

commit 77e7808fc0aa4e089a992535bc890047724fd900
Author: Xiening Dai <xndai.git@live.com>
Date:   2019-08-22 14:50:57 -0700

    [CALCITE-3283] RelSubset does not contain its best RelNode (Xiening Dai)
    
    In VolcanoPlanner.rename(), the given relnode will be removed when we find
    there's an equivalent rel after rename. But if the node to be removed happens
    to be the best relnode of its subset, the RelSubSet.best will not able to get
    updated under two scenarios:
    1. If equivalent rel is in the same set as the original rel, currently we do
    nothing. So RelSubSet.best is not updated and points to a node that's removed
    after rename.
    2. If we end up merging two sub set and equivalent rel cost is same as original
    rel cost, we won't update RelSubSet.best either.
    
    Fix the issue by udpdating the RelSubSet.best if best is the RelNode that's
    supposed to be removed. Enable isValid() check only under debug log level or
    finer until calcite-2018 is fixed.
    
    Close #1403

12	0	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java

commit e863294ccfbed9dd520c999f75ed0bbe03f9fb1d
Author: Wang Weidong <weidong3630@126.com>
Date:   2019-08-20 21:05:29 +0800

    [CALCITE-3210] JDBC adapter should generate "CAST(NULL AS type)" rather than "NULL" conditionally (Wang Weidong)
    
    Always wrap NULL literal in Project project list with CAST operator
    during rel-to-sql conversion.
    
    close apache/calcite#1338

16	0	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
89	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 69f9e877c436b6d74fdc712b5bf71819dc090796
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-07-20 20:25:20 +0800

    [CALCITE-3204] Implement jps command for OS adapter (Qianjin Xu)
    
    Close #1325

89	1	example/csv/src/main/java/org/apache/calcite/adapter/csv/JsonEnumerator.java
7	62	example/csv/src/main/java/org/apache/calcite/adapter/csv/JsonTable.java
81	0	plus/src/main/java/org/apache/calcite/adapter/os/JpsTableFunction.java
2	0	plus/src/main/java/org/apache/calcite/adapter/os/SqlShell.java
14	0	plus/src/test/java/org/apache/calcite/adapter/os/OsAdapterTest.java
16	0	site/_docs/os_adapter.md

commit a8f9e4ee02c4253e1cbc150cbe3af8791a7beda8
Author: Khawlamhb <mouhoubi.khawla@gmail.com>
Date:   2019-06-03 18:03:03 +0200

    [CALCITE-2979] Add a block-based nested loop join algorithm (Khawla Mouhoubi)

252	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableBatchNestedLoopJoin.java
142	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableBatchNestedLoopJoinRule.java
3	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRules.java
6	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
3	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
75	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
229	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableBatchNestedLoopJoinTest.java
166	0	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java
24	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/JoinPreserveOrderTest.java

commit 48c0db1206b17c571d477d912d193d32b5be1eff
Author: jackyWoo <wuchienchao@qq.com>
Date:   2019-07-30 20:15:26 +0800

    [CALCITE-3220] JDBC adapter now transforms TRIM to TRIM, LTRIM or RTRIM when target is Hive (Jacky Woo)
    
    Close apache/calcite#1342

32	2	core/src/main/java/org/apache/calcite/sql/dialect/HiveSqlDialect.java
36	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 00ad79b6bc95b68e02129b31be8a3a656517f8a8
Author: ShuMingLi <ming.moriarty@gmail.com>
Date:   2019-08-20 13:50:38 +0800

    [CALCITE-3263] Add MD5, SHA1 SQL functions (Shuming Li)
    
    The functions are consistent with PostgreSQL, MySQL, Redshift;
    we do not at this time implement the similar functions in BigQuery,
    which allow BINARY or CHAR arguments and return a BINARY result.
    
    Close apache/calcite#1390

4	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
21	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
20	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
2	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
34	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
30	0	core/src/test/java/org/apache/calcite/test/SqlFunctionsTest.java
12	10	site/_docs/reference.md

commit 22577e488e04d4056e15af96bac4246fd810f0fa
Author: Chunwei Lei <chunwei@apache.org>
Date:   2019-08-05 15:54:01 +0800

    [CALCITE-3228] Error while applying rule ProjectScanRule: interpreter

8	2	core/src/main/java/org/apache/calcite/interpreter/Bindables.java
9	4	core/src/main/java/org/apache/calcite/rel/core/Project.java
4	4	core/src/main/java/org/apache/calcite/rel/rules/ProjectTableScanRule.java
16	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
38	0	core/src/test/java/org/apache/calcite/tools/FrameworksTest.java

commit 729446005617059c0ce9fef4068087e4ca9ca139
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-08-01 12:06:38 +0800

    [CALCITE-3223] MV fails to match when there is Non-RexInputRef in the projects (Jin Xing)
    
    Close #1346

11	8	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
18	0	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit ab97af39bd9438420cb5b212b95b23d9cb798f0d
Author: Xiening Dai <xndai.git@live.com>
Date:   2019-08-16 13:05:46 -0700

    [CALCITE-3257] RelMetadataQuery cache is not invalidated when log trace is enabled (Xiening Dai)
    
    Based on current design, RelMetadataQuery.map needs to be cleared between each
    rule firing. This is achieved through RelOptCluster.invalidateMetadataQuery()
    by VolcanoRuleCall.transformTo(). But when trace is enabled, the dump process
    would actually rebuild the meta data cache from previous rel tree. Then the
    subsequent rule firing doesn't get a chance to update rel node cost as it's
    been in the cache.
    
    A simple fix will just add a call to RelOptCluster.invalidateMetadataQuery()
    after dumping rel nodes.
    
    Close #1385

1	0	core/src/main/java/org/apache/calcite/plan/volcano/RuleQueue.java

commit 1e62d3d64fc217d14016702237b4f8d56b3683f2
Author: Igor Guzenko <ihor.huzenko.igs@gmail.com>
Date:   2019-07-11 19:48:24 +0300

    [CALCITE-3138] RelStructuredTypeFlattener doesn't restructure ROW type fields (Igor Guzenko)
    
    Close #1374

12	0	core/src/main/java/org/apache/calcite/sql/fun/SqlItemOperator.java
14	20	core/src/main/java/org/apache/calcite/sql/type/SqlTypeUtil.java
246	198	core/src/main/java/org/apache/calcite/sql2rel/RelStructuredTypeFlattener.java
18	1	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
28	22	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterStructsTest.java
50	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
22	25	core/src/test/java/org/apache/calcite/tools/PlannerTest.java
66	6	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 9fd9c822287751ed1f9e6a10adc3f50b0cea0a54
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-08-19 12:14:40 +0800

    [CALCITE-3262] Refine doc of SubstitutionVisitor.java (Jin Xing)

11	11	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java

commit 5a42812832e51a7551a793ac75160188e06668e6
Author: dz <953396112@qq.com>
Date:   2019-08-19 15:18:59 +0800

    [CALCITE-3251] BinaryExpression evaluate method support full numeric
    types in Primitive (xy2953396112)
    
    Before this patch, BinaryExpression#evaludate only supports INT and
    DOUBLE type, this also remove some useless code in ExpressionTest.
    
    close apache/calcite#1379
    close apache/calcite#1389

96	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/BinaryExpression.java
213	6	linq4j/src/test/java/org/apache/calcite/linq4j/test/ExpressionTest.java

commit beeb012c994642e2db46c30e6059f1f1c22287c9
Author: yanzhi <yanzhi.wyl@antfin.com>
Date:   2019-08-17 12:15:14 +0800

    [CALCITE-3259] Align 'Property' in the serialized xml string of RelXmlWriter (Wang Yanlin).

1	1	core/src/main/java/org/apache/calcite/util/XmlOutput.java
2	1	core/src/test/java/org/apache/calcite/test/JdbcTest.java
6	3	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java

commit 11116f6d03bca7cd97d151033c5d82f24394e229
Author: Juhwan Kim <jkim@dremio.com>
Date:   2019-08-14 22:47:07 -0700

    [CALCITE-3111] Add RelBuilder.correlate method, and allow custom implementations of Correlate in RelDecorrelator (Juhwan Kim)
    
    In RelDecorrelator, refactor all Logical rels into corresponding
    abstract rels, and use given RelBuilder when creating a new rel.
    Add abstract rel visitors in CorelMapBuilder, and change access
    levels to allow extending RelDecorrelator.
    
    Close apache/calcite#1334

28	0	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
165	175	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
36	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
45	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
43	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
32	0	core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java
7	2	site/_docs/algebra.md
2	2	site/_docs/history.md

commit a71def51dbf3dc18af2e73418ed30e0f2e6addde
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-08-16 14:12:03 -0700

    [CALCITE-3258] Upgrade jackson-databind from 2.9.9 to 2.9.9.3, and kafka-clients from 2.0.0 to 2.1.1

4	3	pom.xml

commit e8b08c490ab4270945c35f31846cd36b5788cc23
Author: Lindsey Meyer <lameyer@users.noreply.github.com>
Date:   2019-08-14 11:34:15 -0700

    [CALCITE-3252] Add CONVERT_TIMEZONE, TO_DATE and TO_TIMESTAMP non-standard functions (Lindsey Meyer)
    
    CONVERT_TIMEZONE is for Redshift; TO_DATE and TO_TIMESTAMP are for
    PostgreSQL (including Redshift) and Oracle.
    
    Close apache/calcite#1380

5	2	core/src/main/java/org/apache/calcite/sql/SqlJdbcFunctionCall.java
35	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
3	0	core/src/main/java/org/apache/calcite/sql/type/OperandTypes.java
6	2	core/src/test/java/org/apache/calcite/materialize/LatticeSuggesterTest.java
56	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
3	0	site/_docs/reference.md

commit 3f550c3f28d75d0f75b5815a22395dbecf992f03
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-07-05 10:55:03 +0800

    [CALCITE-3167] Make equals and hashCode methods final in AbstractRelNode, and remove overriding methods in EnumerableTableScan (Jin Xing)
    
    Close apache/calcite#1294

0	10	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableScan.java
3	0	core/src/main/java/org/apache/calcite/plan/RelOptMaterializations.java
22	0	core/src/main/java/org/apache/calcite/rel/AbstractRelNode.java

commit 36e3109fb524c13ca0a08e3ad585785aa5abc18b
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-05-30 23:53:37 -0500

    [CALCITE-3089] Deprecate EquiJoin
    
    Close apache/calcite#1247

7	16	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableHashJoin.java
19	26	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableJoinRule.java
8	17	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMergeJoin.java
18	20	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMergeJoinRule.java
5	13	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableNestedLoopJoin.java
18	10	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
6	0	core/src/main/java/org/apache/calcite/rel/core/EquiJoin.java
24	54	core/src/main/java/org/apache/calcite/rel/core/JoinInfo.java
13	14	core/src/main/java/org/apache/calcite/rel/rules/FilterJoinRule.java
0	10	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
2	8	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
1	1	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
4	2	pig/src/test/java/org/apache/calcite/test/PigRelBuilderStyleTest.java

commit 79b97b628ac43e56873029b72a18e7bec0d1e7db
Author: Ryan Fu <ryan.fu@looker.com>
Date:   2019-08-13 15:30:00 -0700

    [CALCITE-3235] Add CONCAT function for Redshift (Ryan Fu)
    
    Add '||' to operator precedence list in doc.
    
    Close apache/calcite#1376

1	1	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperatorTableFactory.java
20	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
31	0	core/src/test/java/org/apache/calcite/materialize/LatticeSuggesterTest.java
22	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
2	1	site/_docs/reference.md

commit 6b600e4bd13d130a4ea48ab9b8451d81ed095da0
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-08-19 19:59:46 +0800

    [CALCITE-3267] Remove method SqlDataTypeSpec#deriveType(RelDataTypefactory)
    
    Changes:
    * Remove method SqlDataTypeSpec#deriveType(RelDataTypefactory);
    * Add a SqlValidator subType ContextSqlValidator used to derive type during DDL
    nodes execution;
    * Support create table with user defined type and add test case.

63	0	core/src/main/java/org/apache/calcite/jdbc/ContextSqlValidator.java
0	4	core/src/main/java/org/apache/calcite/sql/SqlBasicTypeNameSpec.java
0	8	core/src/main/java/org/apache/calcite/sql/SqlCollectionTypeNameSpec.java
10	35	core/src/main/java/org/apache/calcite/sql/SqlDataTypeSpec.java
0	10	core/src/main/java/org/apache/calcite/sql/SqlRowTypeNameSpec.java
1	11	core/src/main/java/org/apache/calcite/sql/SqlTypeNameSpec.java
1	7	core/src/main/java/org/apache/calcite/sql/SqlUserDefinedTypeNameSpec.java
3	4	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorUtil.java
3	5	core/src/main/java/org/apache/calcite/sql/validate/TableNamespace.java
1	1	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
1	1	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
5	3	core/src/test/java/org/apache/calcite/sql/parser/parserextensiontesting/SqlCreateTable.java
6	15	server/src/main/java/org/apache/calcite/sql/ddl/SqlCreateTable.java
4	8	server/src/main/java/org/apache/calcite/sql/ddl/SqlCreateType.java
10	0	server/src/main/java/org/apache/calcite/sql/ddl/SqlDdlNodes.java
12	0	server/src/test/java/org/apache/calcite/test/ServerParserTest.java
12	0	server/src/test/java/org/apache/calcite/test/ServerTest.java

commit 6400a509501419beef0d34e1deccdc2beadfbb30
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-08-19 18:30:46 +0800

    [CALCITE-3214] Add UnionToUnionRule for materialization matching (refine rule name) (Jin Xing)

4	4	core/src/main/java/org/apache/calcite/plan/MaterializedViewSubstitutionVisitor.java

commit a68bfc96bacc95b4b8ab5d185bb5cc1991113769
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-07-26 12:34:38 +0800

    [CALCITE-3214] Add UnionToUnionRule for materialization matching (Jin Xing)

34	0	core/src/main/java/org/apache/calcite/plan/MaterializedViewSubstitutionVisitor.java
6	0	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit 0a6f53cb828cd39d78d1423361921bf40636943a
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-08-14 16:10:14 +0800

    [CALCITE-3249] Substitution#getRexShuttle does not consider RexLiteral (Jin Xing)

8	0	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
20	0	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit 705be2771f284533a998e941c9dc3b285f1d7351
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-08-15 18:35:18 +0800

    [CALCITE-3250] Support nested collection type for  SqlDataTypeSpec
    
    Changes:
    * Add a new SqlTypeNameSpec SqlCollectionTypeNameSpec to describe nested
    collections type
    * Refactor SqlDataTypeSpec to only keep SqlTypeNameSpec, TimeZone and
    nullble.
    * Add a new method SqlTypeNameSpec#deriveType(SqlValidator) to support
    derive type for UDT(throws exception when we can't deduce any type).

17	18	core/src/main/codegen/templates/Parser.jj
6	0	core/src/main/java/org/apache/calcite/sql/SqlBasicTypeNameSpec.java
134	0	core/src/main/java/org/apache/calcite/sql/SqlCollectionTypeNameSpec.java
56	92	core/src/main/java/org/apache/calcite/sql/SqlDataTypeSpec.java
12	0	core/src/main/java/org/apache/calcite/sql/SqlRowTypeNameSpec.java
10	0	core/src/main/java/org/apache/calcite/sql/SqlTypeNameSpec.java
9	4	core/src/main/java/org/apache/calcite/sql/SqlUserDefinedTypeNameSpec.java
20	3	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
41	1	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
30	0	core/src/test/java/org/apache/calcite/test/catalog/Fixture.java
11	0	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderExtended.java
1	1	site/_docs/reference.md

commit 7625938f1faa37fe34540d3a7a2257ec7eae5704
Author: Chunwei Lei <chunwei@apache.org>
Date:   2019-08-06 10:18:07 +0800

    [CALCITE-3229] UnsupportedOperationException for UPDATE with IN query

6	3	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
20	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
40	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 5c017135b6b923abbf1b465ac1962bcec7886dfd
Author: wellfengzhu <wellfengzhu@gmail.com>
Date:   2019-08-08 13:20:27 +0800

    [CALCITE-3236] Handle issues found in static code analysis (DonnyZone)
    
    close apache/calcite#1362

2	1	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
1	1	core/src/main/java/org/apache/calcite/rel/mutable/MutableTableFunctionScan.java
12	0	core/src/test/java/org/apache/calcite/test/MutableRelTest.java

commit f25734a2d27f304a454a310e656ab83a5fa85890
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-08-12 17:32:20 +0800

    [CALCITE-3238] Support Time Zone suffix of DateTime types for SqlDataTypeSpec

1	3	core/src/main/codegen/config.fmpp
220	86	core/src/main/codegen/templates/Parser.jj
265	0	core/src/main/java/org/apache/calcite/sql/SqlBasicTypeNameSpec.java
84	194	core/src/main/java/org/apache/calcite/sql/SqlDataTypeSpec.java
6	15	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
1	2	core/src/main/java/org/apache/calcite/sql/SqlJdbcDataTypeName.java
33	6	core/src/main/java/org/apache/calcite/sql/{SqlRowTypeSpec.java => SqlRowTypeNameSpec.java}
33	5	core/src/main/java/org/apache/calcite/sql/SqlTypeNameSpec.java
79	0	core/src/main/java/org/apache/calcite/sql/SqlUserDefinedTypeNameSpec.java
9	5	core/src/main/java/org/apache/calcite/sql/dialect/MysqlSqlDialect.java
4	3	core/src/main/java/org/apache/calcite/sql/dialect/OracleSqlDialect.java
4	3	core/src/main/java/org/apache/calcite/sql/dialect/PostgresqlSqlDialect.java
4	3	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonValueFunction.java
4	0	core/src/main/java/org/apache/calcite/sql/type/SqlTypeFactoryImpl.java
31	37	core/src/main/java/org/apache/calcite/sql/type/SqlTypeUtil.java
27	2	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
2	13	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
20	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
13	1	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeTable.java
7	0	site/_docs/history.md
28	12	site/_docs/reference.md

commit 3abb974588194e2e531aa43daa79c4dfd18ef25f
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-07-27 23:31:28 +0800

    [CALCITE-3159] Remove DISTINCT flag from calls to MIN, MAX, BIT_OR, BIT_AND aggregate functions (xuqianjin)
    
    Close apache/calcite#1335

12	8	core/src/main/java/org/apache/calcite/rel/core/AggregateCall.java
16	0	core/src/main/java/org/apache/calcite/sql/SqlAggFunction.java
4	0	core/src/main/java/org/apache/calcite/sql/fun/SqlBitOpAggFunction.java
4	0	core/src/main/java/org/apache/calcite/sql/fun/SqlMinMaxAggFunction.java
5	1	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
27	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
12	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
25	4	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 5ec3a2a503dcf26fe1b3cad8a5a9467264213dcf
Author: Julian Feinauer <j.feinauer@pragmaticminds.de>
Date:   2018-12-25 23:50:58 +0100

    [CALCITE-1935] Implement MATCH_RECOGNIZE, part 3: get it working (Julian Feinauer)
    
    Add support for OR ("|") and OPTIONAL ("?") patterns.
    
    Translate eps-NFA to DFA, and implement Matcher based on DFA.
    
    Fixed a Bug in RexImpTable to make the minimal example work.
    
    Close apache/calcite#1343

203	33	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMatch.java
14	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
11	2	core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java
1	1	core/src/main/java/org/apache/calcite/rel/core/Match.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateFilterTransposeRule.java
9	8	core/src/main/java/org/apache/calcite/rel/rules/SortJoinCopyRule.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
28	2	core/src/main/java/org/apache/calcite/runtime/Automaton.java
30	0	core/src/main/java/org/apache/calcite/runtime/AutomatonBuilder.java
188	0	core/src/main/java/org/apache/calcite/runtime/DeterministicAutomaton.java
17	7	core/src/main/java/org/apache/calcite/runtime/Enumerables.java
231	104	core/src/main/java/org/apache/calcite/runtime/Matcher.java
21	1	core/src/main/java/org/apache/calcite/runtime/Pattern.java
6	3	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
87	16	core/src/test/java/org/apache/calcite/runtime/AutomatonTest.java
104	0	core/src/test/java/org/apache/calcite/runtime/DeterministicAutomatonTest.java
45	0	core/src/test/java/org/apache/calcite/runtime/EnumerablesTest.java
2	3	core/src/test/java/org/apache/calcite/sql/parser/parserextensiontesting/ExtensionSqlParserTest.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
40	6	core/src/test/java/org/apache/calcite/test/JdbcTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
132	67	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
43	27	core/src/test/resources/sql/match.iq
2	2	file/src/test/java/org/apache/calcite/adapter/file/SqlTest.java
48	0	linq4j/src/main/java/org/apache/calcite/linq4j/MemoryEnumerable.java
88	0	linq4j/src/main/java/org/apache/calcite/linq4j/MemoryEnumerator.java
97	0	linq4j/src/main/java/org/apache/calcite/linq4j/MemoryFactory.java
75	0	linq4j/src/main/java/org/apache/calcite/linq4j/ModularInteger.java
7	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/ExpressionType.java
1	1	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Expressions.java
3	3	linq4j/src/main/java/org/apache/calcite/linq4j/tree/ForEachStatement.java
2	1	linq4j/src/main/java/org/apache/calcite/linq4j/tree/VisitorImpl.java
70	0	linq4j/src/test/java/org/apache/calcite/linq4j/MemoryEnumerableTest.java
21	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/ExpressionTest.java

commit 2a2de705f93c886cea0996e757348a2493eef737
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-08-12 01:20:03 -0700

    [CALCITE-1935] Implement MATCH_RECOGNIZE, part 2: add class Automaton
    
    In ImmutableBitSet, add buildAndReset(), to allow re-use;
    add ImmutableBitSet.Builder.get.
    
    In Pair, add zipMutable.

185	3	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMatch.java
1	1	core/src/main/java/org/apache/calcite/interpreter/Bindables.java
5	5	core/src/main/java/org/apache/calcite/rel/core/Match.java
2	2	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
4	3	core/src/main/java/org/apache/calcite/rel/logical/LogicalMatch.java
2	1	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
12	11	core/src/main/java/org/apache/calcite/rel/mutable/MutableMatch.java
7	5	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
1	0	core/src/main/java/org/apache/calcite/rex/RexAction.java
1	0	core/src/main/java/org/apache/calcite/rex/RexPattern.java
128	0	core/src/main/java/org/apache/calcite/runtime/Automaton.java
207	0	core/src/main/java/org/apache/calcite/runtime/AutomatonBuilder.java
121	0	core/src/main/java/org/apache/calcite/runtime/Enumerables.java
226	0	core/src/main/java/org/apache/calcite/runtime/Matcher.java
210	0	core/src/main/java/org/apache/calcite/runtime/Pattern.java
5	0	core/src/main/java/org/apache/calcite/runtime/Utilities.java
4	4	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
51	44	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
23	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
30	0	core/src/main/java/org/apache/calcite/util/ImmutableBitSet.java
87	9	core/src/main/java/org/apache/calcite/util/Pair.java
162	0	core/src/test/java/org/apache/calcite/runtime/AutomatonTest.java
61	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
33	0	core/src/test/java/org/apache/calcite/util/ImmutableBitSetTest.java
27	29	core/src/test/resources/sql/match.iq
2	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/ExpressionType.java
8	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Expressions.java
84	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/ForEachStatement.java
13	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Shuttle.java
1	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Visitor.java
6	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/VisitorImpl.java

commit 205fe17eee11b923356e6f297679e43366043043
Author: Zhiqiang-He <absolute005@qq.com>
Date:   2017-12-15 11:34:34 +0800

    [CALCITE-1935] Implement MATCH_RECOGNIZE, part 1: add basic classes: LogicalMatch, BindableMatch, EnumerableMatch, MatchRule (Zhiqiang-He)

78	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMatch.java
44	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMatchRule.java
5	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRules.java
80	2	core/src/main/java/org/apache/calcite/interpreter/Bindables.java
39	0	core/src/main/java/org/apache/calcite/interpreter/MatchNode.java
5	0	core/src/main/java/org/apache/calcite/interpreter/Nodes.java
2	0	core/src/main/java/org/apache/calcite/plan/RelOptRules.java
0	18	core/src/main/java/org/apache/calcite/rel/core/Match.java
21	13	core/src/main/java/org/apache/calcite/rel/logical/LogicalMatch.java
23	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
121	0	core/src/main/java/org/apache/calcite/rel/mutable/MutableMatch.java
1	0	core/src/main/java/org/apache/calcite/rel/mutable/MutableRelType.java
19	0	core/src/main/java/org/apache/calcite/rel/mutable/MutableRels.java
55	0	core/src/main/java/org/apache/calcite/rel/rules/MatchRule.java
3	0	core/src/main/java/org/apache/calcite/tools/Programs.java
26	0	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
129	0	core/src/test/resources/sql/match.iq

commit 996cdd0249a4e5086fadc27a15ccc23eb9defd8e
Author: Sahith Nallapareddy <sahithn@spotify.com>
Date:   2019-08-08 09:42:56 -0400

    [CALCITE-3237] IndexOutOfBoundsException when generating deeply nested Java code from linq4j (Sahith Nallapareddy)
    
    The problem was that ExpressionWriter was using a list of indent
    strings but it did not resize the list for very large indents. The
    solution was to use Avatica's Spacer class.
    
    Close apache/calcite#1364

4	0	linq4j/pom.xml
9	34	linq4j/src/main/java/org/apache/calcite/linq4j/tree/ExpressionWriter.java

commit a042b6115120cb48079266444a264e16a9ca611b
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-08-07 14:47:20 -0700

    [CALCITE-3234] For boolean properties, empty string should mean "true"
    
    For example, -Dflag means the same as -Dflag=true.

18	14	core/src/main/java/org/apache/calcite/config/CalciteSystemProperty.java

commit e8baf4f4720e07cdce1aa2baabf20042b9353bbb
Author: Muhammad Gelbana <m.gelbana@gmail.com>
Date:   2019-02-17 18:55:53 +0200

    [CALCITE-2843] Support PostgreSQL cast operator '::' (Muhammad Gelbana)
    
    SqlCastOperator is in SqlLibraryOperators but not SqlStdOperatorTable;
    you can enable it using 'fun=postgresql' in your connect string.
    
    Make SqlCastOperator a sub-class of SqlBinaryOperator to match its
    syntax, delegating to SqlCastFunction for behavior such as
    type-checking. Change its precedence/associativity to match that of
    "::" in PostgreSQL. (Julian Hyde)
    
    Close apache/calcite#1066

10	0	babel/src/main/codegen/config.fmpp
17	0	babel/src/main/codegen/includes/parserImpls.ftl
23	0	babel/src/test/java/org/apache/calcite/test/BabelParserTest.java
40	5	babel/src/test/java/org/apache/calcite/test/BabelTest.java
8	0	core/src/main/codegen/config.fmpp
7	0	core/src/main/codegen/templates/Parser.jj
3	15	core/src/main/java/org/apache/calcite/plan/RexImplicationChecker.java
3	14	core/src/main/java/org/apache/calcite/plan/VisitorDataContext.java
15	0	core/src/main/java/org/apache/calcite/rex/RexUtil.java
2	1	core/src/main/java/org/apache/calcite/sql/SqlKind.java
9	2	core/src/main/java/org/apache/calcite/sql/fun/SqlCastFunction.java
70	0	core/src/main/java/org/apache/calcite/sql/fun/SqlCastOperator.java
24	23	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
1	0	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
8	0	core/src/test/codegen/config.fmpp
8	0	server/src/main/codegen/config.fmpp
5	0	site/_docs/reference.md

commit 6f02ecf33318b223f752a3f6f3daa70753149875
Author: rubenada <rubenql@gmail.com>
Date:   2019-08-09 14:39:52 +0200

    [CALCITE-3198] Enhance RexSimplify to handle '(x<>a or x<>b)' (fix javadoc)

6	6	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
4	4	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 5212d6c47e36995943f4d955a1714bf03eb08e7e
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-08-09 14:45:07 +0800

    [CALCITE-3233] Support Row type for SqlDataTypeSpec

2	0	core/src/main/codegen/config.fmpp
84	2	core/src/main/codegen/templates/Parser.jj
50	22	core/src/main/java/org/apache/calcite/sql/SqlDataTypeSpec.java
109	0	core/src/main/java/org/apache/calcite/sql/SqlRowTypeSpec.java
44	0	core/src/main/java/org/apache/calcite/sql/SqlTypeNameSpec.java
19	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
31	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
50	0	core/src/test/java/org/apache/calcite/test/catalog/Fixture.java
13	0	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderExtended.java
2	14	server/src/main/codegen/includes/parserImpls.ftl
70	8	site/_docs/reference.md

commit 602b2a10e3f81888c0759ca69f7415497124ef82
Author: Chunwei Lei <chunwei@apache.org>
Date:   2019-08-06 11:13:42 +0800

    [CALCITE-2835] Markdown errors on the Geode adapter page

2	2	site/_docs/geode_adapter.md

commit fb797bbf428a0a949a792b3bc01b612049cb22fc
Author: Ruben Quesada Lopez <rubenql@gmail.com>
Date:   2019-08-08 23:11:53 +0200

    [CALCITE-3198] Enhance RexSimplify to handle '(x<>a or x<>b)' (fix javadoc)

6	6	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
4	4	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 2678eb9a867c6589208b60c2a07446c658d2d8c6
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-08-02 11:03:20 +0800

    [CALCITE-3226] RelBuilder doesn't keep the alias when scan from an expanded view (Jin Xing)

6	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
37	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit 7f5b313bbc0f98379c1b03a3fb08f296143d64c2
Author: rubenada <rubenql@gmail.com>
Date:   2019-07-17 12:16:08 +0200

    [CALCITE-3198] Enhance RexSimplify to handle (x<>a or x<>b)

50	0	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
84	3	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
48	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
111	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit f1db14c1b088ba650405c2def3395a1311dc2572
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-08-07 13:37:07 -0400

    Site: Update Apache links on homepage to HTTPS

3	3	site/index.html

commit 0eab54d28a8a528926ec7074b38d3b4a09befd84
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-08-07 10:13:28 -0400

    Update favicon for new logo

-	-	site/favicon.ico

commit 0bbbae54dbac2bc8f738e091167dd9b027ad4f20
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-06-04 23:50:21 -0700

    [CALCITE-3101] Don't push non-equi join conditions into Project below Join

45	15	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
7	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
25	5	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 979a825fab0757c506363f5df6ed7997674e8726
Author: Botong Huang <botong@apache.org>
Date:   2019-08-03 14:28:46 -0700

    [CALCITE-3227] IndexOutOfBound when checking candidate parent match's input ordinal in VolcanoRuleCall

3	0	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoRuleCall.java
46	0	core/src/test/java/org/apache/calcite/plan/volcano/VolcanoPlannerTest.java

commit 3cff43a053abde614e5ab00587d10831197dc6ee
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-08-06 21:54:08 +0800

    [CALCITE-3231] Support ARRAY type for SqlDataTypeSpec

17	9	core/src/main/codegen/templates/Parser.jj
3	0	core/src/main/java/org/apache/calcite/sql/SqlDataTypeSpec.java
9	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
7	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java

commit 80cc4253a3a5b0677382725d7471ed1163cc204e
Author: Khawlamhb <mouhoubi.khawla@gmail.com>
Date:   2019-08-05 14:57:43 +0200

    [CALCITE-2624] Add a rule to copy a sort below a join operator (Khawla Mouhoubi)

165	0	core/src/main/java/org/apache/calcite/rel/rules/SortJoinCopyRule.java
77	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
153	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 4954216c71a6262728ad6ed4792d4ac7b9ec7b71
Author: yanzhi <yanzhi.wyl@antfin.com>
Date:   2019-07-25 10:03:43 +0800

    [CALCITE-3177]Ensure correct deserialization of relational algebra.

31	14	core/src/main/java/org/apache/calcite/rel/externalize/RelJson.java
2	2	core/src/main/java/org/apache/calcite/rel/externalize/RelJsonReader.java
72	8	core/src/test/java/org/apache/calcite/plan/RelWriterTest.java

commit 22817fb34ab0921e6ab6567a9c65819ebd11b9c5
Author: Lindsey Meyer <lameyer@users.noreply.github.com>
Date:   2019-08-02 16:58:21 -0700

    [CALCITE-3218] Syntax error while parsing DATEADD function (which is valid on Redshift) (Lindsey Meyer)
    
    Fix by adding DATEADD, DATEDIFF, DATE_PART to the Babel parser. They
    treat their first argument (e.g. DAY, MONTH) as a time-unit not as an
    expression, and therefore don't complain that there's no column called
    "day".
    
    Close apache/calcite#1352
    
    move DATEADD etc. from core parser to babel parser

1	0	babel/src/main/codegen/config.fmpp
31	1	babel/src/main/codegen/includes/parserImpls.ftl
14	0	babel/src/test/java/org/apache/calcite/test/BabelParserTest.java
1	1	core/src/main/codegen/templates/Parser.jj
11	0	core/src/test/java/org/apache/calcite/materialize/LatticeSuggesterTest.java

commit b432756e2be9ad0557a56254550eb4438dd0efcf
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-08-02 17:59:01 -0700

    Deprecate RexBuilder.constantNull(), because it produces untyped NULL literals that make planning difficult
    
    We cannot deprecate RelBuilder.literal(null), but remove all uses of
    in internal code, for similar reasons.

1	5	core/src/main/java/org/apache/calcite/rel/core/TableScan.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateExpandDistinctAggregatesRule.java
23	42	core/src/main/java/org/apache/calcite/rel/rules/AggregateReduceFunctionsRule.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateValuesRule.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/LoptOptimizeJoinRule.java
63	52	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
6	5	core/src/main/java/org/apache/calcite/rel/rules/ValuesReduceRule.java
6	2	core/src/main/java/org/apache/calcite/rex/RexBuilder.java
6	2	core/src/main/java/org/apache/calcite/sql2rel/NullInitializerExpressionFactory.java
7	18	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
2	5	core/src/main/java/org/apache/calcite/sql2rel/RelStructuredTypeFlattener.java
1	3	core/src/main/java/org/apache/calcite/sql2rel/SqlNodeToRexConverterImpl.java
8	3	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
2	1	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
2	4	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
1	1	core/src/test/java/org/apache/calcite/test/catalog/EmpInitializerExpressionFactory.java
14	18	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
1	1	core/src/test/resources/sql/blank.iq
2	2	core/src/test/resources/sql/sub-query.iq

commit 357cb741f70f9c9d541dfc77fa0b813ee4dfe959
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-07-31 15:11:07 -0700

    [CALCITE-3222] Fix code style issues introduced by [CALCITE-3031] (Vineet Garg)
    
    Close apache/calcite#1345

39	23	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java

commit c3108bc1231b2aa4ba25227d225544fef4576508
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-07-12 14:33:12 -0700

    [CALCITE-3191] In JDBC adapter for MySQL, implement Values by generating SELECT without FROM
    
    Revisit SqlDialect methods supportsAliasedValues() and hasImplicitTableAlias();
    make requiresAliasForFromItems() public (was protected),
    and add List<String> getSingleRowTableName().

33	23	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
36	2	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
28	1	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
9	0	core/src/main/java/org/apache/calcite/sql/dialect/MysqlSqlDialect.java
11	3	core/src/main/java/org/apache/calcite/sql/dialect/OracleSqlDialect.java
1	1	core/src/main/java/org/apache/calcite/sql/dialect/PostgresqlSqlDialect.java
66	8	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit ac06e64fed6865949207aabd4ef839418589b6e3
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-06-13 00:37:07 -0700

    [CALCITE-3147] In JDBC adapter, accommodate the idiosyncrasies of how BigQuery (standard SQL) quotes character literals and identifiers
    
    Make literalQuoteString and literalEscapedQuoteString configurable in SqlDialect.

6	5	core/src/main/java/org/apache/calcite/sql/SqlCharStringLiteral.java
120	39	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
53	0	core/src/main/java/org/apache/calcite/sql/dialect/BigQuerySqlDialect.java
2	2	core/src/main/java/org/apache/calcite/sql/fun/SqlLiteralChainOperator.java
12	8	core/src/main/java/org/apache/calcite/util/NlsString.java
100	1	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 3ab722b5cccf3357f5c6fddf796ccf612d978cc2
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-06-17 09:44:49 -0700

    [CALCITE-3131] In LatticeSuggester, record whether columns are used as "dimensions" or "measures"

38	2	core/src/main/java/org/apache/calcite/materialize/Lattice.java
32	21	core/src/main/java/org/apache/calcite/materialize/LatticeSuggester.java
60	2	core/src/test/java/org/apache/calcite/materialize/LatticeSuggesterTest.java

commit 61b7280ee1167235e3fbd76a6ce379fc83658dbb
Author: yanzhi <yanzhi.wyl@antfin.com>
Date:   2019-07-11 10:59:07 +0800

    [CALCITE-3175] AssertionError while serializing to JSON a RexLiteral with Enum type (Wang Yanlin)
    
    An example of this is the "LEADING" flag in a call to the "TRIM"
    function. "LEADING" is an instance of enum SqlTrimFunction.Flag, and
    becomes a RexLiteral of type SYMBOL.
    
    The solution is to serialize enum values as strings, and build a
    registry of enum classes that may be serialized to JSON and the names
    of their constants. Since the enums have distinct names (for instance,
    no other enum class has a constant called "LEADING"), when we
    deserialize we can use a map to convert them to the correct type.
    
    Close apache/calcite#1301

106	0	core/src/main/java/org/apache/calcite/rel/externalize/RelEnumTypes.java
5	2	core/src/main/java/org/apache/calcite/rel/externalize/RelJson.java
2	0	core/src/main/java/org/apache/calcite/rex/RexBuilder.java
3	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
58	0	core/src/test/java/org/apache/calcite/plan/RelWriterTest.java

commit f82353c80223143673fc78561a05c79d6fd4f364
Author: godfreyhe <godfreyhe@163.com>
Date:   2019-08-02 13:42:49 +0800

    [CALCITE-3225] JoinToMultiJoinRule should not match SEMI/ANTI LogicalJoin

6	0	core/src/main/java/org/apache/calcite/rel/rules/JoinToMultiJoinRule.java
80	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
32	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 1e999374f3a40c26d1cb3469211f10cd2fdc0622
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-07-26 10:42:52 +0200

    [CALCITE-3215] Simplification may have not fully simplified IS NOT NULL expressions
    
    The expression "(-x) is not null" should be simplified to "true" if x is known to be not null.

14	0	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
23	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
1	1	core/src/test/java/org/apache/calcite/test/fuzzer/RexProgramFuzzyTest.java

commit f7762b6a7cd85711a8cc6d7c7174dedca22bdcd2
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-07-29 17:51:53 +0200

    [CALCITE-3192] Simplification may weaken OR conditions containing inequalities
    
    For expressions like: (1 < x or ( x < 3 and c ))
    simplification was made to ( 1 < x or c )

27	2	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
12	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
2	2	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 41b00bab339a5f5fd514ab873c926cdede37b544
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-07-31 17:01:36 -0700

    More compiler fixes, and cosmetic changes

7	12	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeSystem.java
3	5	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
1	0	core/src/test/java/org/apache/calcite/sql/type/RelDataTypeSystemTest.java
2	2	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
0	1	core/src/test/java/org/apache/calcite/test/catalog/VirtualColumnsExpressionFactory.java
2	2	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
2	2	core/src/test/resources/sql/sub-query.iq
2	10	file/src/test/java/org/apache/calcite/adapter/file/SqlTest.java
1	1	file/src/test/resources/sales-json/DEPTS.json
1	1	file/src/test/resources/sales-json/EMPTY.json
1	1	file/src/test/resources/sales-json/SDEPTS.json
3	3	site/_docs/history.md

commit fef2133ee6652688de7c6cd7ecb755cf5459cba1
Author: Laurent Goujon <laurent@apache.org>
Date:   2019-07-31 14:45:08 -0700

    Fix compiler warnings
    
    Fix compiler warnings introduced by patches for issues CALCITE-3031 and
    CALCITE-3187.
    Also force compiler to stop if such warnings are detected.

2	1	core/src/main/java/org/apache/calcite/rel/rules/ReduceDecimalsRule.java
2	3	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
3	0	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactoryImpl.java
4	1	pom.xml

commit d98856bf1a5f5c151d004b769e14bdd368a67234
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-07-24 15:51:48 +0800

    [CALCITE-3211] List of MutableRel may fail to be identified by SubstitutionVisitor during matching. (Jin Xing)

3	1	core/src/main/java/org/apache/calcite/rel/mutable/MutableRels.java
9	0	core/src/test/java/org/apache/calcite/test/MutableRelTest.java

commit 3309396dbb73d1f2ec2e32e8ffee0f9e68262db1
Author: xurenhe <renhe.xrh@antfin.com>
Date:   2019-07-23 20:08:13 +0800

    [CALCITE-3207] Fail to convert Join RelNode with like condition to sql statement (wojustme)
    
    close apache/calcite#1328

1	0	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
30	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 0061b2a172de29acd5859abd7eb93e491d4f4f41
Author: ShuMingLi <ming.moriarty@gmail.com>
Date:   2019-07-28 21:45:39 +0800

    [CALCITE-3153] Improve testing in TpcdsTest using assertEqual instead of printing results

42	26	plus/src/test/java/org/apache/calcite/adapter/tpcds/TpcdsTest.java

commit ccad6f982fc0d6bd45424e602ec0432a1bcecda7
Author: Chunwei Lei <chunwei@apache.org>
Date:   2019-07-25 16:03:25 +0800

    [CALCITE-2496] Return 0 in case of extract(milli/micro/nanosecond from datel) (Sergey Nuyanzin, Chunwei Lei)

7	3	core/src/main/codegen/templates/Parser.jj
6	2	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
52	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java

commit a1851b67d56f98e14fbe54a96972104585ae8a61
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-04-29 16:06:40 -0700

    [CALCITE-3031] Support for correlated ANY/SOME/ALL sub-query (Vineet Garg)

87	27	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
14	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
85	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
66	0	core/src/test/resources/sql/sub-query.iq

commit 689a5bbb14614d3f8eef4a4f7e832c6c02029b3c
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-07-26 12:41:29 +0200

    Update stale tests in DruidAdapter
    
    1. Adapt plans based on the improvements in the simplifier and elsewhere.
    2. Rename DruidAdapterIT2 to DruidAdapterIT to be run in integration tests.

10	14	druid/src/test/java/org/apache/calcite/test/{DruidAdapterIT2.java => DruidAdapter2IT.java}
8	13	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java

commit 3ebaa591c6fa045310252944a292b85908a938f8
Author: Justin Szeluga <justin.szeluga@gmail.com>
Date:   2019-06-14 00:41:30 +0800

    Following [CALCITE-2804], fix incorrect expected Druid query in test case DruidAdapterIT#testCastToTimestamp (Justin Szeluga)
    
    Close apache/calcite#1262
    
    Co-authored-by: Justin Szeluga <justin.szeluga@gmail.com>
    Co-authored-by: Hongze Zhang <hongze@apache.org>

22	15	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java

commit c1c4e31c849c4c9cb73056be95f5694ccd5fc2db
Author: rubenada <rubenql@gmail.com>
Date:   2019-06-13 12:18:38 +0200

    [CALCITE-3109] Improvements on algebraic operators to express recursive queries (RepeatUnion & TableSpool)

5	5	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRepeatUnion.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRepeatUnionRule.java
7	5	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableSpool.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableSpoolRule.java
6	6	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
9	12	core/src/main/java/org/apache/calcite/rel/core/RepeatUnion.java
7	6	core/src/main/java/org/apache/calcite/rel/core/TableSpool.java
5	5	core/src/main/java/org/apache/calcite/rel/logical/LogicalRepeatUnion.java
6	6	core/src/main/java/org/apache/calcite/rel/logical/LogicalTableSpool.java
43	11	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
4	4	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
4	4	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableRepeatUnionHierarchyTest.java
7	8	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java

commit 9ba140ef66ad1e048789532211ddf8b3ca1cf8ec
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-07-24 15:47:04 +0800

    [CALCITE-3209] When calling MutableMultiRel::setInput, exception thrown (Jin Xing)

2	2	core/src/main/java/org/apache/calcite/rel/mutable/MutableMultiRel.java
27	0	core/src/test/java/org/apache/calcite/test/MutableRelTest.java

commit 18974ce8a945424a8a3465c03b253e292641f420
Author: wellfengzhu <wellfengzhu@gmail.com>
Date:   2019-07-15 22:49:59 +0800

    [CALCITE-3195] Handle a UDF that throws checked exceptions in the Enumerable code generator (DonnyZone)

19	2	core/src/main/java/org/apache/calcite/adapter/enumerable/ReflectiveCallNotNullImplementor.java
28	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java
35	0	core/src/test/java/org/apache/calcite/test/UdfTest.java
15	0	core/src/test/java/org/apache/calcite/util/Smalls.java
11	2	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Shuttle.java
12	1	linq4j/src/main/java/org/apache/calcite/linq4j/tree/TryStatement.java
28	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/InlinerTest.java

commit 2d52dd3f2dc3e6087c034008037e6c47b201c732
Author: Botong Huang <botong@apache.org>
Date:   2019-06-07 20:57:30 -0700

    [CALCITE-3118] VolcanoRuleCall should look at RelSubset rather than RelSet when checking child ordinal of a parent operand (Botong Huang)
    
    When matching in ascending order, only the parent operands in input
    RelSubSet should be considered.
    
    Fix-ups:(Danny Chan)
    - Remove TestBiRel because it is only used by PhysBiRel
    - Add issue link to the test case
    
    close apache/calcite#1260

1	1	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoRuleCall.java
65	2	core/src/test/java/org/apache/calcite/plan/volcano/PlannerTests.java
36	0	core/src/test/java/org/apache/calcite/plan/volcano/VolcanoPlannerTest.java

commit 5754fa95e20fb6a961b01c1c951fc47f21132923
Author: Sergei_Tsvetkov <9326077@gmail.com>
Date:   2019-06-10 17:26:26 +0800

    [CALCITE-2510] Implement CHR function (Sergey Tsvetkov, Chunwei Lei)
    
    It follows oracle standard. Sergey started the work and Chunwei rebased and made some fixup.
    
    Close apache/calcite#810

2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
5	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
10	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
6	0	core/src/main/java/org/apache/calcite/sql/type/ReturnTypes.java
13	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
1	0	site/_docs/reference.md

commit 59c7acd802a885dec1db576974bea6e205d3d955
Author: winifredtamg <wenhui_tang@yeah.net>
Date:   2019-06-20 11:39:12 +0800

    [CALCITE-3136] Fix the default rule description of ConverterRule (TANG Wen-hui)
    
    The ConverterRule's description will decide how it is matched, which
    should be kept synced with the doc and the current implementation.
    
    close apache/calcite#1275

3	3	core/src/main/java/org/apache/calcite/plan/RelOptRule.java
1	1	core/src/main/java/org/apache/calcite/rel/convert/ConverterRule.java
78	0	core/src/test/java/org/apache/calcite/plan/RelOptUtilTest.java

commit 9c11efb5aae075f473d7cbfefbac99af1ef31553
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-07-18 18:21:43 +0800

    [CALCITE-3201] SqlValidator throws exception for sql insert target table with virtual columns

9	1	core/src/main/java/org/apache/calcite/schema/ColumnStrategy.java
47	21	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
28	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
4	0	core/src/test/java/org/apache/calcite/test/catalog/Fixture.java
24	0	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderExtended.java
38	0	core/src/test/java/org/apache/calcite/test/catalog/VirtualColumnsExpressionFactory.java
2	3	server/src/test/java/org/apache/calcite/test/ServerTest.java

commit ab71c4cae5a5c3c7d979337a2d38ddaf271aa206
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-07-06 21:30:18 +0800

    [CALCITE-3176] File adapter for parsing JSON files

6	6	example/csv/src/main/java/org/apache/calcite/adapter/csv/CsvSchema.java
23	28	example/csv/src/main/java/org/apache/calcite/adapter/csv/JsonEnumerator.java
54	0	example/csv/src/main/java/org/apache/calcite/adapter/csv/JsonScannableTable.java
69	24	example/csv/src/main/java/org/apache/calcite/adapter/csv/JsonTable.java
12	6	example/csv/src/test/java/org/apache/calcite/test/CsvTest.java
43	0	example/csv/src/test/resources/bug/ARCHERS.json
0	27	example/csv/src/test/resources/bug/archers.json
16	13	file/src/main/java/org/apache/calcite/adapter/file/FileSchema.java
81	0	file/src/test/java/org/apache/calcite/adapter/file/FileReaderTest.java
82	1	file/src/test/java/org/apache/calcite/adapter/file/SqlTest.java
32	0	file/src/test/resources/sales-json.json
9	0	file/src/test/resources/sales-json/DATE.csv
30	0	file/src/test/resources/sales-json/DEPTS.json
78	0	file/src/test/resources/sales-json/EMPS.json
16	0	file/src/test/resources/sales-json/EMPTY.json
42	0	file/src/test/resources/sales-json/SDEPTS.json
51	0	site/_docs/file_adapter.md

commit 58b6ad6135d909c053f15fb902d8b73559d1fa53
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-07-17 19:17:35 +0800

    [CALCITE-3182] Trim unused fields for plan of materialized-view before matching (Jin Xing)

3	2	core/src/main/java/org/apache/calcite/prepare/CalciteMaterializer.java
14	1	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit 6d7eca19bb0a22d059abe4e283d003d2848e55af
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   2019-07-05 13:27:58 +0300

    [CALCITE-3174] IS NOT DISTINCT FROM condition pushed from filter to join is not collapsed(Bohdan Kazydub)
    
    If filter containing IS NOT DISTINCT FROM expression is pushed to join,
    this results to new join condition having this expanded IS NOT DISTINCT
    FROM expression (and not collapsed one), which can be further modified
    making impossible to identify the IS NOT DISTINCT FROM condition.
    
    close apache/calcite#1300

24	1	core/src/main/java/org/apache/calcite/rel/rules/FilterJoinRule.java
9	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
22	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit f43d4f0ba44ae5f9d54e72dd6f071dbdee016d9a
Author: zabetak <15013153+zabetak@users.noreply.github.com>
Date:   2019-07-09 01:37:58 +0200

    [CALCITE-3184] Add the new logo to the website
    
    1. Add svg/png versions of the new logo.
    2. Retain the old-logo for other usages.
    3. Improve site's layout for better presentation and resizing.
    4. Unify site's mobile and desktop navigation layouts.
    5. Compress site/img/*.png using pngquant.
    
    Close apache/calcite#1308

3	6	site/_includes/header.html
3	4	site/_sass/_style.scss
-	-	site/img/feather.png
-	-	site/img/logo.png
346	0	site/img/logo.svg
-	-	site/img/old-logo.png
-	-	site/img/pb-calcite-140.png
-	-	site/img/pb-calcite-240.png
-	-	site/img/pie-chart.png
-	-	site/img/powered-by.png
-	-	site/img/window-types.png

commit 0a87daf30d635277b8f1c94355e04ef907fc4002
Author: jinxing <jinxing.corey@gmail.com>
Date:   2019-07-09 22:34:58 +0800

    [CALCITE-3113] Equivalent MutableAggregates with different row types should match with each other(Jin Xing)
    
    The MaterializedView now can match with eath other if the row fields
    types equals but with different alias.
    
    close apache/calcite#1310

21	4	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
16	1	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit 8c0d792dd735eded2bb11be0c7c195b8f302ae90
Author: Laurent Goujon <laurent@apache.org>
Date:   2019-07-16 14:24:45 -0700

    Fix javadoc error
    
    Fix a javadoc error in RelDataTypeFactory caused by a invalid signature
    and introduced by the previous patch

1	1	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactory.java

commit f7c0b0a18ab72338e0b3afcdfd087aab3572fddb
Author: Praveen <praveen@dremio.com>
Date:   2019-07-09 11:24:32 +0530

    CALCITE-3187: Make decimal type inference overridable (Praveen Kumar)
    
    Decimal return type inference for addition and modulus is hardcoded.
    
    Add new methods to RelDataTypeSystem to allow implementers to override
    behavior if needed. Deprecate existing methods for multiply and divide
    in RelDataTypeFactory and move them over to RelDataTypeSystem for
    consistency.
    
    Close apache/calcite#1311

11	0	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactory.java
14	104	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactoryImpl.java
246	0	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeSystem.java
1	1	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
28	43	core/src/main/java/org/apache/calcite/sql/type/ReturnTypes.java
202	0	core/src/test/java/org/apache/calcite/sql/type/RelDataTypeSystemTest.java

commit 0cce229903a845a7b8ed36cf86d6078fd82d73d3
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-06-24 13:01:37 -0700

    [CALCITE-3145] RelBuilder.aggregate throws IndexOutOfBoundsException if groupKey is non-empty and there are duplicate aggregate functions
    
    The cause is that [CALCITE-3123] did not handle the case of non-empty groupKey.
    
    Enable RelBuilder.Config.dedupAggregateCalls by default.

27	26	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
37	10	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit ab1f777edb617ed9cf1c2f9b9a99c4dd0202a36b
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-06-12 18:56:38 -0700

    Change type of SqlStdOperatorTable.GROUPING field to public class

3	3	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	1	linq4j/src/main/java/org/apache/calcite/linq4j/Ord.java

commit 15e63787a6c2ccaa01582991068d8e74daf93d1f
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-07-01 17:14:26 -0700

    [CALCITE-3166] Make RelBuilder configurable
    
    Add immutable class RelBuilder.Config, and a builder for it.
    
    Disable elimination of duplicate aggregate calls (added in
    [CALCITE-3123]), until [CALCITE-3145] is fixed.

91	5	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
50	3	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit 687b7d8cc8c63259138b43745a9e28ef64483839
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-07-01 12:57:14 -0700

    [CALCITE-3144] Add rule, AggregateCaseToFilterRule, that converts "SUM(CASE WHEN b THEN x END)" to "SUM(x) FILTER (WHERE b)"
    
    Copied from Apache Druid's CaseFilteredAggregatorRule.
    
    Some aggregate functions (e.g. SINGLE_VALUE, GROUPING, GROUP_ID) do
    not allow filter, so we skip them in the rule.

2	0	core/src/main/java/org/apache/calcite/plan/RelOptRules.java
2	0	core/src/main/java/org/apache/calcite/rel/core/AggregateCall.java
268	0	core/src/main/java/org/apache/calcite/rel/rules/AggregateCaseToFilterRule.java
4	0	core/src/main/java/org/apache/calcite/sql/fun/SqlSingleValueAggFunction.java
17	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
6	2	core/src/test/java/org/apache/calcite/test/RelOptTestBase.java
30	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
32	0	core/src/test/resources/sql/agg.iq

commit 1c5de1cd27a0251ac28a503e877ef9c21e61b620
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-07-10 17:26:26 -0700

    [CALCITE-3196] In Frameworks, add interface BasePrepareAction (a functional interface) and deprecate abstract class PrepareAction

12	5	core/src/main/java/org/apache/calcite/prepare/CalcitePrepareImpl.java
40	19	core/src/main/java/org/apache/calcite/tools/Frameworks.java
3	14	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
23	35	core/src/test/java/org/apache/calcite/rex/RexExecutorTest.java
5	21	core/src/test/java/org/apache/calcite/test/RexImplicationCheckerTest.java
13	19	core/src/test/java/org/apache/calcite/tools/FrameworksTest.java

commit bb0bae9c047db0f4bebaa6cd5b149876476e6ebe
Author: Juhwan Kim <jkim@dremio.com>
Date:   2019-07-12 10:19:10 -0700

    [CALCITE-3183] During field trimming, Filter is copied with wrong traitSet (Juhwan Kim)
    
    New Filter created after trimming uses its old trait set,
    which could cause problem if there has been any update on collation.
    
    Code changes:
    - Add a FilterFactory method that includes correlating variables;
    - Use RelBuilder when creating a new Filter in trimmer;
    - Add test cases for the bug and new RelBuilder method.
    
    Close apache/calcite#1309

8	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRel.java
7	2	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcRules.java
6	5	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
25	5	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
2	1	core/src/main/java/org/apache/calcite/rel/rules/SemiJoinFilterTransposeRule.java
3	3	core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java
3	2	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
26	2	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
49	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
64	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
2	2	core/src/test/resources/sql/misc.iq
2	2	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeAllDataTypesTest.java
9	3	pig/src/main/java/org/apache/calcite/adapter/pig/PigRelFactories.java
3	1	site/_docs/algebra.md

commit 0732283cab7894ffdce6a22ebe5d31b28d389a4d
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-07-09 17:22:35 -0700

    [CALCITE-3189] Multiple fixes for Oracle SQL dialect
    
    Close apache/calcite#1312

5	0	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
77	1	core/src/main/java/org/apache/calcite/sql/dialect/OracleSqlDialect.java
113	4	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit e5e5809d28f422896147bd9f069f4930f22629ad
Author: rubenada <rubenql@gmail.com>
Date:   2019-07-02 11:14:31 +0200

    [CALCITE-3165] Project#accept(RexShuttle shuttle) does not update rowType

2	1	core/src/main/java/org/apache/calcite/rel/RelNode.java
6	0	core/src/main/java/org/apache/calcite/rel/core/Project.java
1	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
76	0	core/src/test/java/org/apache/calcite/test/RexShuttleTest.java

commit 954f27c2a09e019dd22d689ddd770ffb42c1c10c
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-07-10 21:11:34 +0800

    [CALCITE-3188] IndexOutOfBoundsException in ProjectFilterTransposeRule when executing SELECT COUNT(*)

4	1	core/src/main/java/org/apache/calcite/rel/rules/ProjectFilterTransposeRule.java
37	18	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
10	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit fe2b59b82facad4d4e86eb4fa4080513b5dfe541
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-07-10 20:25:15 -0400

    Fix complitation warnings after mongo java driver upgrade
    
    Some methods were deprecated after client upgrade to 3.10.2 (see [CALCITE-3157])

5	5	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoSchema.java
9	10	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoSchemaFactory.java
2	2	mongodb/src/test/java/org/apache/calcite/adapter/mongodb/MongoAdapterTest.java

commit 72c52f46eab7fbe57ae5236ecc3831113684ff71
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-04-14 15:24:25 +0800

    [CALCITE-2995] Implement DAYNAME，MONTHNAME functions; add "locale" connection property (xuqianjin)
    
    Add locale connection property (Julian Hyde).
    
    Close apache/calcite#1163

7	0	core/src/main/java/org/apache/calcite/DataContext.java
66	16	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
2	0	core/src/main/java/org/apache/calcite/config/CalciteConnectionConfig.java
5	0	core/src/main/java/org/apache/calcite/config/CalciteConnectionConfigImpl.java
7	0	core/src/main/java/org/apache/calcite/config/CalciteConnectionProperty.java
9	3	core/src/main/java/org/apache/calcite/jdbc/CalciteConnectionImpl.java
0	1	core/src/main/java/org/apache/calcite/rel/externalize/RelJsonReader.java
92	7	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
2	0	core/src/main/java/org/apache/calcite/sql/SqlJdbcFunctionCall.java
16	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
10	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
76	74	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
140	61	core/src/test/java/org/apache/calcite/test/JdbcTest.java
2	4	site/_docs/reference.md

commit 6abf37a83b71568c3aa6d757913ab871fa15f837
Author: wellfengzhu <wellfengzhu@gmail.com>
Date:   2019-07-03 15:26:41 +0800

    [CALCITE-3160] Failed to materialize when the aggregate function uses group key (DonnyZone)

1	1	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
13	0	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit cb364ce8109f92c80c17bb37d1cb1a03e6222bbe
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-07-07 13:56:17 +0800

    [CALCITE-3170] ANTI join on conditions push down generates wrong plan
    
    Antijoin on conditions should not be pushed down to either left or right hand
    side.

2	11	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
2	3	core/src/main/java/org/apache/calcite/rel/rules/FilterCorrelateRule.java
13	2	core/src/main/java/org/apache/calcite/rel/rules/FilterJoinRule.java
76	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
30	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableJoinTest.java
30	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 4d4fe4cdab8dd7e03f0062a10884c2ac5ffc0da4
Author: Fokko Driesprong <fokko@apache.org>
Date:   2019-07-08 09:06:46 +0200

    [CALCITE-3179] Bump Jackson from 2.9.8 to 2.9.9 (Fokko Driesprong)

1	1	pom.xml

commit e723ee943f575823db5c8c155236368fc6bb00e2
Author: godfreyhe <godfreyhe@163.com>
Date:   2019-07-03 12:34:53 +0800

    [CALCITE-3169] decorrelateRel method should return when meeting SEMI/ANTI join in RelDecorrelator

1	1	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java

commit e1875e3f78d91711ba174834cdead500361b19e6
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-07-07 14:09:10 +0800

    [CALCITE-3171] SemiJoin on conditions push down throws IndexOutOfBoundsException
    
    RelOptUtil#pushDownJoinConditions should only project left side above
    the join node when the join type only returns left side.

8	5	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
41	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
17	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 046f9f4e2e3c779e4e2e61946d67a0dc124f7f72
Author: rubenada <rubenql@gmail.com>
Date:   2019-07-04 16:06:41 +0200

    [CALCITE-3172] RelBuilder#empty does not keep aliases

5	2	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
44	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit 1748f0503e7b626a8d0165f1698adb8b61bbc31e
Author: winifredtamg <wenhui_tang@yeah.net>
Date:   2019-05-27 18:25:53 +0800

    [CALCITE-2460] [CALCITE-2459] Add TO_BASE64 / FROM_BASE64 SQL functions (Wenhui Tang)

4	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
36	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
23	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
2	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
73	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
37	0	core/src/test/java/org/apache/calcite/test/SqlFunctionsTest.java
2	0	site/_docs/reference.md

commit 0ed54bd64d0beb0849a499e65e872c43f00efce9
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-07-02 14:06:48 +0800

    [CALCITE-3121] VolcanoPlanner hangs due to subquery with dynamic star

21	0	core/src/main/java/org/apache/calcite/rel/rules/ProjectFilterTransposeRule.java
53	2	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
21	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 021fabe2a77264b388a3b681b78bc7e51fb2d978
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-07-03 10:20:25 +0800

    [CALCITE-3168] Add test for invalid literal of sql parser
    
    This patch also merge the redundant sql statements with
    `SqlParserTest.Sql#sansCarets`.

31	11	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit adf4cc4dc5cdb9f5e49c85d10f46a2fdcd831ccf
Author: Muhammad Gelbana <m.gelbana@gmail.com>
Date:   2019-05-11 18:05:58 +0200

    [CALCITE-3063] Parse and process PostgreSQL posix regular expressions

1	0	babel/src/main/codegen/config.fmpp
8	0	babel/src/main/codegen/includes/parserImpls.ftl
1	0	core/src/main/codegen/config.fmpp
15	5	core/src/main/codegen/templates/Parser.jj
12	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
4	0	core/src/main/java/org/apache/calcite/rex/RexSqlStandardConvertletTable.java
18	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
10	0	core/src/main/java/org/apache/calcite/sql/SqlKind.java
136	0	core/src/main/java/org/apache/calcite/sql/fun/SqlPosixRegexOperator.java
14	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
1	0	core/src/test/codegen/config.fmpp
21	0	core/src/test/java/org/apache/calcite/test/SqlFunctionsTest.java
4	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
1	0	server/src/main/codegen/config.fmpp

commit d9d79ba69056ff69ab69b4c871ca1d83b0bfff15
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-06-28 16:01:44 +0800

    [CALCITE-3152] Unify throws in sql parser
    
    Replace generateParseException() and new ParseExecption to
    SqlUtil.newContextException, this makes the error message more user
    friendly.

16	13	core/src/main/codegen/templates/Parser.jj
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
14	11	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit 64a61cda18ada294e74ed6841d714d067bf0cb4e
Author: rubenada <rubenql@gmail.com>
Date:   2019-07-01 13:47:57 +0200

    [CALCITE-3125] Remove completely CorrelateJoinType

0	68	linq4j/src/main/java/org/apache/calcite/linq4j/CorrelateJoinType.java
0	8	linq4j/src/main/java/org/apache/calcite/linq4j/DefaultEnumerable.java
1	33	linq4j/src/main/java/org/apache/calcite/linq4j/ExtendedEnumerable.java

commit ceb13a134502b950ce1ce1c25d9267aa51ca14b5
Author: rubenada <rubenql@gmail.com>
Date:   2019-07-01 12:21:58 +0200

    [CALCITE-3133] Remove completely SemiJoinType

0	9	core/src/main/java/org/apache/calcite/rel/core/Correlate.java
0	16	core/src/main/java/org/apache/calcite/rel/logical/LogicalCorrelate.java
0	134	core/src/main/java/org/apache/calcite/sql/SemiJoinType.java

commit 79a4ec63adfa83c6920b9ece5042f65a322ff80f
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-07-01 11:39:06 +0800

    [CALCITE-3126] Remove deprecated SemiJoin usage completely

0	8	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRules.java
0	152	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoin.java
0	56	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoinRule.java
4	4	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
0	132	core/src/main/java/org/apache/calcite/rel/core/SemiJoin.java
0	9	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
0	9	core/src/main/java/org/apache/calcite/rel/metadata/RelMdColumnUniqueness.java
0	7	core/src/main/java/org/apache/calcite/rel/metadata/RelMdDistinctRowCount.java
0	7	core/src/main/java/org/apache/calcite/rel/metadata/RelMdNodeTypes.java
0	6	core/src/main/java/org/apache/calcite/rel/metadata/RelMdPopulationSize.java
0	14	core/src/main/java/org/apache/calcite/rel/metadata/RelMdRowCount.java
0	6	core/src/main/java/org/apache/calcite/rel/metadata/RelMdSize.java
0	8	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUniqueKeys.java
0	16	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUtil.java
0	1	core/src/main/java/org/apache/calcite/rel/mutable/MutableRelType.java
0	19	core/src/main/java/org/apache/calcite/rel/mutable/MutableRels.java
0	88	core/src/main/java/org/apache/calcite/rel/mutable/MutableSemiJoin.java
4	5	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
0	12	core/src/main/java/org/apache/calcite/rel/rules/JoinToCorrelateRule.java
6	6	core/src/main/java/org/apache/calcite/sql/SemiJoinType.java
0	4	core/src/main/java/org/apache/calcite/tools/Programs.java

commit eb47b375c61aa4b3f6be2acb71e132c7a81c4e53
Author: winifredtamg <wenhui_tang@yeah.net>
Date:   2019-06-25 21:32:38 +0800

    [CALCITE-3146] Support the detection of nested aggregations for JdbcAggregate in SqlImplementor.(Wenhui Tang)

4	4	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java

commit 8dd4fed46ff31df8737788847fdd2963944295f9
Author: Musbah EL FIL <melfil@murex.com>
Date:   2019-06-29 16:28:47 +0300

    [CALCITE-3155] Empty LogicalValues can not be converted to UNION_ALL without operands which can not be unparsed(Musbah EL FIL)
    
    Empty LogicalValues would be converted to
    UNION_ALL Operator with no operands for rel to sql conversion,
    which can not be unparsed to SQL string(invalid).
    
    The fix converts the empty values to a "select NULL, NULL ...
    from DUAL where 1 = 0"
    
    Fix-ups(Danny Chan):
    * Replace empty values check with Values.isEmpty(e)
    * Always generate false condition as `1 = 0`
    
    close apache/calcite#1286

51	6	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
33	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 914e2127b096dd40d6c8a5f5c05ddad89b2e0863
Author: Zhenghua Gao <docete@gmail.com>
Date:   2019-06-27 19:55:52 +0800

    [CALCITE-3151] RexCall's Monotonicity is not considered in determining a Calc's collation

8	1	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
53	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java

commit 78251a196543a51b67f43b21f484ffcc8a8aa3f9
Author: hequn8128 <chenghequn@gmail.com>
Date:   2019-01-27 15:19:22 +0800

    [CALCITE-2801] Check input type in AggregateUnionAggregateRule when remove the bottom Aggregate (Hequn Cheng)
    
    Updated code to make sure to preserve the alias of Union, and add 1 more test
    case for coverage by Haisheng Yuan.
    
    Closes #1017

21	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateUnionAggregateRule.java
40	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
61	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit ccbacf624c60b8b707c9e219a58d3968a9d4b854
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-06-26 22:19:47 -0700

    [CALCITE-3149] RelDataType CACHE in RelDataTypeFactoryImpl can't be garbage collected

15	11	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactoryImpl.java

commit bd42d29123c54200b6c3c213d8dbd8e8ec24db79
Author: wellfengzhu <wellfengzhu@gmail.com>
Date:   2019-06-13 15:39:18 +0800

    [CALCITE-3060] MutableProject should be generated based on INVERSE_SURJECTION mapping (DonnyZone)

11	2	core/src/main/java/org/apache/calcite/rel/mutable/MutableRels.java
9	0	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit 3301a32273ccc325c7b0430d1695d496d5292509
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-06-29 15:47:43 -0400

    [CALCITE-3157] Mongo java driver upgrade: 3.5.0 -> 3.10.2

1	1	pom.xml

commit 135daf3b302e7051768eb2bdce9839e75ba13e05
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-06-29 15:05:57 -0400

    [CALCITE-3156] Mongo adapter. Replace fongo with Mongo Java Server for tests
    
    mongo java server is a better alternative to fongo. All tests (including IT) are passing.

9	2	mongodb/pom.xml
2	10	mongodb/src/test/java/org/apache/calcite/adapter/mongodb/MongoAdapterTest.java
25	13	mongodb/src/test/java/org/apache/calcite/adapter/mongodb/MongoDatabasePolicy.java
4	3	mongodb/src/test/java/org/apache/calcite/test/MongoAssertions.java
14	4	pom.xml

commit 6375e24d4a8848e11e776ed6968f3a6f499424ae
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-06-27 10:59:32 +0800

    [CALCITE-3148] Validator throws IndexOutOfBoundsException for SqlInsert when source and sink have non-equal fields number

1	1	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
9	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java

commit 1cc7c3593a9201886afbd4dfc5ebe5b6d422715d
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-06-27 15:54:19 -0400

    Update example announcement
    
    After sending the latest release announcement, the secretary indicated
    that we should not link directly to closer.cgi, but instead to Calcite's
    downloads page. Changing the sample announcement will save someone else
    from future announcement rejection.

1	1	site/_docs/howto.md

commit 69c8053cd98ec65c55fa1c3b282b076536ab758f
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-06-24 20:27:42 -0400

    Add committer names to 1.20.0 release notes

57	57	site/_docs/history.md

commit 34758b3ef86d739a89f95912536cde6c19ad951b
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-06-24 15:13:03 -0400

    Add 1.20.0 release date

1	1	site/_docs/history.md

commit 3530daaa8cad43aad6845b6c79e4bc1ca0e72f5f
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-06-24 11:13:52 -0400

    Add 1.20.0 release announcement

34	0	site/_posts/2019-03-26-release-1.20.0.md

commit 8b5fae5deccfb69b9a9a571ddcdc9bef5819948b
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-06-19 14:10:10 -0400

    [maven-release-plugin] prepare for next development iteration

2	2	babel/pom.xml
2	2	cassandra/pom.xml
2	2	core/pom.xml
2	2	druid/pom.xml
2	2	elasticsearch/pom.xml
2	2	example/csv/pom.xml
2	2	example/function/pom.xml
2	2	example/pom.xml
2	2	file/pom.xml
2	2	geode/pom.xml
1	1	kafka/pom.xml
2	2	linq4j/pom.xml
2	2	mongodb/pom.xml
2	2	pig/pom.xml
2	2	piglet/pom.xml
2	2	plus/pom.xml
2	2	pom.xml
2	2	server/pom.xml
2	2	spark/pom.xml
2	2	splunk/pom.xml
1	1	ubenchmark/pom.xml

commit 31a3321a23e995e6c7bdc7f4be5dbee275c5a61f
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-06-19 14:06:47 -0400

    [maven-release-plugin] prepare release calcite-1.20.0

2	2	babel/pom.xml
2	2	cassandra/pom.xml
2	2	core/pom.xml
2	2	druid/pom.xml
2	2	elasticsearch/pom.xml
2	2	example/csv/pom.xml
2	2	example/function/pom.xml
2	2	example/pom.xml
2	2	file/pom.xml
2	2	geode/pom.xml
2	3	kafka/pom.xml
2	2	linq4j/pom.xml
2	2	mongodb/pom.xml
2	2	pig/pom.xml
2	2	piglet/pom.xml
2	2	plus/pom.xml
2	2	pom.xml
2	2	server/pom.xml
2	2	spark/pom.xml
2	2	splunk/pom.xml
1	1	ubenchmark/pom.xml

commit 3979b460c3a39024883d2378b9bcac9599efc61e
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-06-19 11:51:22 -0400

    Bump version for sanity check of properties

1	1	core/src/test/java/org/apache/calcite/test/JdbcTest.java

commit 55e43284270a3758fbe3ed4a2610eef356e03722
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-06-13 14:07:31 -0400

    Release notes for 1.20.0

169	1	site/_docs/history.md

commit b1c14912538dba12f12c2277a3eadae1b0b741d7
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-06-13 13:19:25 -0400

    Bump version number for 1.20.0

1	1	README
1	1	pom.xml
2	2	site/_docs/howto.md

commit 4e89fddab415a1e04b82c7d69960e399f608949f
Author: rubenada <rubenql@gmail.com>
Date:   2019-06-07 18:32:47 +0200

    [CALCITE-3119] Deprecate Linq4j CorrelateJoinType (in favor of JoinType)

21	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumUtils.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCorrelate.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableNestedLoopJoin.java
0	39	core/src/main/java/org/apache/calcite/rel/core/JoinRelType.java
1	2	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
18	0	linq4j/src/main/java/org/apache/calcite/linq4j/CorrelateJoinType.java
9	1	linq4j/src/main/java/org/apache/calcite/linq4j/DefaultEnumerable.java
7	4	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java
32	0	linq4j/src/main/java/org/apache/calcite/linq4j/ExtendedEnumerable.java
9	7	linq4j/src/test/java/org/apache/calcite/linq4j/test/CorrelateJoinTest.java
5	6	linq4j/src/test/java/org/apache/calcite/linq4j/test/JoinPreserveOrderTest.java

commit a3c56be7bccc58859524ba39e5b30b7078f97d00
Author: wellfengzhu <wellfengzhu@gmail.com>
Date:   2019-06-03 21:15:27 +0800

    [CALCITE-3087] AggregateOnProjectToAggregateUnifyRule ignores Project incorrectly when its Mapping breaks ordering (DonnyZone)

22	3	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
5	0	core/src/main/java/org/apache/calcite/rel/mutable/MutableAggregate.java
1	1	core/src/main/java/org/apache/calcite/rel/mutable/MutableRels.java
21	2	core/src/main/java/org/apache/calcite/util/mapping/Mappings.java
50	0	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit 2b91eb2ee5cbc1e9a6323f98e9628385faf42e1b
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-06-10 09:39:21 -0700

    Fix test exception caused by slightly different error message from regex in JDK 13

11	6	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java

commit 340e21a6a93e0766acf3fa292c4ecd86d5f5f8ef
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-06-10 10:25:24 +0800

    Following [CALCITE-2744] Remove usage of deprecated api in MockSqlOperatorTable

6	4	core/src/test/java/org/apache/calcite/test/MockSqlOperatorTable.java
4	4	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
6	6	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 90a431691c50e9ffccf18356ed4e87e57643bf43
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-06-09 18:08:31 -0700

    Following [CALCITE-3005], remove conflict warning in SQL parser
    
    Alphabetize some lists in pom.xml.
    
    Remove call to deprecated SqlAggFunction constructor.

1	0	core/src/main/codegen/templates/Parser.jj
5	12	core/src/test/java/org/apache/calcite/test/MockSqlOperatorTable.java
15	17	pom.xml

commit e01ba5ab6e7c57348f9f7be2babf00ae007204b5
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-06-07 15:56:13 -0700

    [CALCITE-3123] In RelBuilder, eliminate duplicate aggregate calls

41	3	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
19	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit 941cd4e9540e3ef9b7c15daee42831a0c63da8b9
Author: zabetak <15013153+zabetak@users.noreply.github.com>
Date:   2019-06-08 01:12:20 +0200

    Following [CALCITE-2822] simplify test and related classes/rules
    
    I accidentally pushed CALCITE-2822 without these changes. Apologies for
    the multiple commits.

4	8	core/src/main/java/org/apache/calcite/rel/rules/MultiJoinProjectTransposeRule.java
81	126	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
1	1	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 0cb51c64715dd45f8bbcd533cc9096b4bb7b70af
Author: siddharth <siddharth@dremio.com>
Date:   2019-02-05 11:01:37 -0800

    [CALCITE-2822] Allow MultiJoin rules with any project/filter (Siddharth Teotia)
    
    Close apache/calcite#1030

3	3	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
20	7	core/src/main/java/org/apache/calcite/rel/rules/FilterMultiJoinMergeRule.java
3	2	core/src/main/java/org/apache/calcite/rel/rules/MultiJoinProjectTransposeRule.java
20	2	core/src/main/java/org/apache/calcite/rel/rules/ProjectMultiJoinMergeRule.java
2	2	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
165	5	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
21	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit be2b97905548a5b24067c8636567b364529332cc
Author: rubenada <rubenql@gmail.com>
Date:   2019-05-31 18:16:42 +0200

    [CALCITE-2968] New AntiJoin relational expression
    
    Close apache/calcite#1246

1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCorrelate.java
24	14	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableHashJoin.java
1	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableNestedLoopJoin.java
6	3	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcRules.java
16	6	core/src/main/java/org/apache/calcite/rel/core/JoinRelType.java
2	2	core/src/main/java/org/apache/calcite/rel/metadata/RelMdSize.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/ProjectJoinTransposeRule.java
8	1	core/src/main/java/org/apache/calcite/rel/rules/PushProjector.java
12	4	core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java
3	28	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
4	2	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
8	7	core/src/test/java/org/apache/calcite/runtime/EnumerablesTest.java
2	4	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
53	4	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableCorrelateTest.java
140	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableJoinTest.java
49	15	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java
89	0	linq4j/src/main/java/org/apache/calcite/linq4j/JoinType.java
20	9	linq4j/src/test/java/org/apache/calcite/linq4j/test/JoinPreserveOrderTest.java
1	1	site/_docs/algebra.md

commit 4513a7293c7ce2307ecdb8129a9167165fc59ab5
Author: Rong Rong <walter_ddr@hotmail.com>
Date:   2019-01-24 19:48:21 -0800

    [CALCITE-2721] Support parsing record-type [DOT] member-functions
    
    Close apache/calcite#1011

51	3	core/src/main/codegen/templates/Parser.jj
21	1	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
11	1	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java

commit 614b4350f558a4fabaafc06fef9689ec4c267994
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-06-06 16:05:05 +0200

    [CALCITE-3116] Upgrade to Avatica 1.15
    
    Remove bug for CALCITE-2776 which was fixed in Avatica 1.15.
    Remove bug for CALCITE-2993 which is fixed in Calcite but forgotten.

0	11	core/src/main/java/org/apache/calcite/util/Bug.java
0	2	core/src/test/java/org/apache/calcite/test/JdbcTest.java
0	2	core/src/test/java/org/apache/calcite/test/QuidemTest.java
0	2	core/src/test/resources/sql/struct.iq
1	1	pom.xml

commit d8f4cc4aa4f6c8b49bd76d5043e30270b7ff2546
Author: godfreyhe <godfreyhe@163.com>
Date:   2019-06-04 16:37:54 +0800

    [CALCITE-2744] RelDecorrelator use wrong output map for LogicalAggregate decorrelate (godfreyhe and Danny Chan)
    
    godfreyhe started the work by apply a new map for LogicalAggregate
    decorrelate register, and Danny Chan add shifts for constant keys
    mapping.
    
    Also fix the test case name and comments.
    
    close apache/calcite#1254

33	5	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
24	0	core/src/test/java/org/apache/calcite/test/MockSqlOperatorTable.java
38	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
100	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit e0774db1fad3e0c509cfa9c1a929875015c14c2b
Author: Justin Szeluga <justin.szeluga@gmail.com>
Date:   2019-01-25 14:48:20 -0500

    [CALCITE-2804] Fix casting to timestamps in Druid
    
    Close apache/calcite#1014

8	3	druid/src/main/java/org/apache/calcite/adapter/druid/DruidSqlCastConverter.java
26	0	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java

commit 9a617d5b346f7920162656d8786c45522f578281
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-06-04 11:56:39 -0700

    Following [CALCITE-2812] Disable parallel execution of parameterized test to avoid hanging
    
    The patch of CALCITE-2812 introduced a parameterized test, but
    parameterized JUnit test hangs when running in parallel mode due to
    https://issues.apache.org/jira/browse/SUREFIRE-1430. We have to disable
    parallel execution until the issue is fixed.

3	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableRepeatUnionHierarchyTest.java

commit 7f33215ffaf9c0b8f4bef082913c910c77bf4427
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-04-17 16:41:10 +0800

    [CALCITE-3005] Implement string functions: LEFT, RIGHT (xuqianjin)
    
    Close apache/calcite#1168

4	5	core/src/main/codegen/templates/Parser.jj
4	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
49	12	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
23	28	core/src/main/java/org/apache/calcite/sql/SqlJdbcFunctionCall.java
12	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
7	0	core/src/main/java/org/apache/calcite/sql/type/OperandTypes.java
2	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
2	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
56	6	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
17	15	site/_docs/reference.md

commit c4e61bd7ea9c3d636da2f5f22cf4cedad9047b80
Author: Fokko Driesprong <fokko@apache.org>
Date:   2019-05-31 20:25:21 +0200

    [CALCITE-3107] Upgrade commons-dbcp2 from 2.5.0 to 2.6.0 (Fokko Driesprong)
    
    Close apache/calcite#1249

1	1	pom.xml

commit 674c12384234f6b2454b1166c8a440f935324118
Author: Fokko Driesprong <fokko@apache.org>
Date:   2019-05-31 20:23:42 +0200

    [CALCITE-3106] Upgrade commons-pool2 from 2.6.0 to 2.6.2 (Fokko Driesprong)
    
    Close apache/calcite#1248

1	1	pom.xml

commit c08ea8b39a5c7ed348459fd02c0ed91ccb9d834f
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-30 11:08:30 -0700

    Cosmetic changes

7	13	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRepeatUnion.java
9	7	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableSpool.java
5	5	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableSpoolRule.java
3	3	core/src/main/java/org/apache/calcite/config/CalciteSystemProperty.java
1	1	core/src/main/java/org/apache/calcite/rel/core/Join.java
8	6	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
25	28	core/src/main/java/org/apache/calcite/rel/core/RepeatUnion.java
24	16	core/src/main/java/org/apache/calcite/rel/core/Spool.java
7	4	core/src/main/java/org/apache/calcite/rel/core/TableSpool.java
10	13	core/src/main/java/org/apache/calcite/rel/logical/LogicalRepeatUnion.java
10	7	core/src/main/java/org/apache/calcite/rel/logical/LogicalTableSpool.java
26	16	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
12	20	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableRepeatUnionTest.java
3	3	site/_docs/history.md
7	7	site/_docs/reference.md

commit b0e83c469ff57257c1ea621ff943ca76f626a9b7
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-31 20:36:14 -0700

    Following [CALCITE-2944] remove internal uses of Aggregate.indicator
    
    These were generating deprecation warnings.

13	8	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableAggregate.java
0	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableAggregateRule.java
3	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRules.java
2	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoin.java
13	6	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcRules.java
11	5	core/src/main/java/org/apache/calcite/interpreter/Bindables.java
28	15	core/src/main/java/org/apache/calcite/rel/core/Aggregate.java
11	6	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
23	24	core/src/main/java/org/apache/calcite/rel/logical/LogicalAggregate.java
1	2	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUtil.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
6	9	core/src/main/java/org/apache/calcite/rel/rules/AggregateExpandDistinctAggregatesRule.java
2	3	core/src/main/java/org/apache/calcite/rel/rules/AggregateFilterTransposeRule.java
3	4	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinRemoveRule.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateMergeRule.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateProjectMergeRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateStarTableRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateUnionTransposeRule.java
16	28	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
7	10	core/src/test/java/org/apache/calcite/plan/volcano/TraitPropagationTest.java
1	2	druid/src/main/java/org/apache/calcite/adapter/druid/DruidQuery.java
3	6	druid/src/main/java/org/apache/calcite/adapter/druid/DruidRules.java
15	6	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchAggregate.java
0	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchRules.java
16	5	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeAggregate.java
0	1	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeRules.java
15	7	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoAggregate.java
0	1	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoRules.java
17	7	pig/src/main/java/org/apache/calcite/adapter/pig/PigAggregate.java
3	3	pig/src/main/java/org/apache/calcite/adapter/pig/PigRelFactories.java
1	1	pig/src/main/java/org/apache/calcite/adapter/pig/PigRules.java

commit ef0c4c6ddb7553e2e858259007d8ca1cb3692101
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-31 17:47:17 -0700

    Complete [CALCITE-2969] and [CALCITE-3102] by restoring APIs that use SemiJoin but mask deprecation warnings
    
    Fix description of RelBuilder.semiJoin algebra.md.

3	3	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMergeJoinRule.java
3	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRules.java
80	11	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoin.java
7	16	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoinRule.java
15	5	core/src/main/java/org/apache/calcite/rel/core/Correlate.java
16	0	core/src/main/java/org/apache/calcite/rel/logical/LogicalCorrelate.java
8	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
9	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdColumnUniqueness.java
7	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdDistinctRowCount.java
7	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdNodeTypes.java
6	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdPopulationSize.java
15	1	core/src/main/java/org/apache/calcite/rel/metadata/RelMdRowCount.java
6	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdSize.java
8	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUniqueKeys.java
17	1	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUtil.java
15	0	core/src/main/java/org/apache/calcite/rel/mutable/MutableRels.java
12	5	core/src/main/java/org/apache/calcite/rel/rules/JoinToCorrelateRule.java
4	0	core/src/main/java/org/apache/calcite/tools/Programs.java
1	1	site/_docs/algebra.md
1	0	site/_docs/history.md

commit 8a2578787910e3c05c4d17006439de1940c0b195
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-05-30 12:41:41 -0500

    [CALCITE-2944] Deprecate Aggregate indicator and remove fields where possible

1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableAggregate.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableAggregateRule.java
3	3	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcRules.java
0	4	core/src/main/java/org/apache/calcite/interpreter/AggregateNode.java
4	2	core/src/main/java/org/apache/calcite/interpreter/Bindables.java
33	44	core/src/main/java/org/apache/calcite/rel/core/Aggregate.java
6	3	core/src/main/java/org/apache/calcite/rel/logical/LogicalAggregate.java
1	10	core/src/main/java/org/apache/calcite/rel/metadata/RelMdColumnOrigins.java
1	2	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUtil.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
12	19	core/src/main/java/org/apache/calcite/rel/rules/AggregateExpandDistinctAggregatesRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateFilterTransposeRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinRemoveRule.java
2	3	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinTransposeRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateMergeRule.java
2	8	core/src/main/java/org/apache/calcite/rel/rules/AggregateProjectMergeRule.java
0	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateProjectPullUpConstantsRule.java
2	14	core/src/main/java/org/apache/calcite/rel/rules/AggregateReduceFunctionsRule.java
0	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateStarTableRule.java
1	1	core/src/main/java/org/apache/calcite/rel/stream/StreamRules.java
17	3	core/src/main/java/org/apache/calcite/rex/RexBuilder.java
6	7	core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java
0	1	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
5	3	core/src/test/java/org/apache/calcite/plan/volcano/TraitPropagationTest.java

commit 682dd8f6c25e421355e83e113e98d4b27bee89bc
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-05-31 10:38:09 +0800

    [CALCITE-3102] Remove deprecation warnings following CALCITE-2969

0	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMergeJoinRule.java
9	77	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoin.java
11	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoinRule.java
0	11	core/src/main/java/org/apache/calcite/rel/core/Correlate.java
0	16	core/src/main/java/org/apache/calcite/rel/logical/LogicalCorrelate.java
0	7	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
0	8	core/src/main/java/org/apache/calcite/rel/metadata/RelMdColumnUniqueness.java
0	7	core/src/main/java/org/apache/calcite/rel/metadata/RelMdDistinctRowCount.java
0	6	core/src/main/java/org/apache/calcite/rel/metadata/RelMdNodeTypes.java
0	6	core/src/main/java/org/apache/calcite/rel/metadata/RelMdPopulationSize.java
0	13	core/src/main/java/org/apache/calcite/rel/metadata/RelMdRowCount.java
0	5	core/src/main/java/org/apache/calcite/rel/metadata/RelMdSize.java
0	8	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUniqueKeys.java
1	17	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUtil.java
0	10	core/src/main/java/org/apache/calcite/rel/mutable/MutableRels.java
1	4	core/src/main/java/org/apache/calcite/rel/rules/JoinToCorrelateRule.java
0	1	core/src/main/java/org/apache/calcite/tools/Programs.java
0	1	site/_docs/history.md

commit 6c96d15c47fb545e7a8405f68d090fd7233e553d
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-28 15:28:11 -0700

    [CALCITE-3098] Upgrade SQLLine to 1.8.0

1	1	pom.xml

commit a09fa1eeb7653c4868e0d3f239dc19591110e045
Author: siddharth <siddharth@dremio.com>
Date:   2019-02-05 12:14:26 -0800

    [CALCITE-2742] Read values of USER and SYSTEM_USER variables from DataContext (Siddharth Teotia, Jacques Nadeau)
    
    Close apache/calcite#1031 (the PR used for this fix)
    Close apache/calcite#973 (a previous PR, superceded by 1031)

12	1	core/src/main/java/org/apache/calcite/DataContext.java
2	2	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
4	0	core/src/main/java/org/apache/calcite/jdbc/CalciteConnectionImpl.java
13	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
2	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
86	9	core/src/test/java/org/apache/calcite/rex/RexExecutorTest.java
18	18	core/src/test/java/org/apache/calcite/test/JdbcTest.java
17	0	core/src/test/java/org/apache/calcite/test/Matchers.java

commit d8768f9c07fa3927475902e27c13c8bc39687897
Author: Laurent Goujon <laurent@apache.org>
Date:   2019-03-11 11:34:11 -0700

    [CALCITE-3082] Fix NPE in SqlUtil#getSelectListItem
    
    Queries similar to `SELECT 1 UNION SELECT 2, 3` might cause Calcite
    validator to throw an NPE exception instead of a proper error message.
    
    When validating operands of a set operation, if operands don't have
    matching schema, and if one of the operand doesn't have a FROM clause,
    SqlUtil#getSelectListItem throws NPE.
    
    Fixing by adding a proper check.

1	1	core/src/main/java/org/apache/calcite/sql/SqlUtil.java
5	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java

commit 037250b99d6db8a605b64780a3643f784d07d308
Author: Hongze Zhang <hongze@apache.org>
Date:   2019-05-27 17:33:28 +0800

    [CALCITE-3093] Remove JDBC connection calls from PlannerImpl
    
    Close apache/calcite#1241

46	38	core/src/main/java/org/apache/calcite/prepare/PlannerImpl.java
2	0	core/src/main/java/org/apache/calcite/tools/Frameworks.java

commit 5650beb9e81a5706d614140b43060084b955ce29
Author: Hongze Zhang <hongze@apache.org>
Date:   2019-05-28 15:17:25 +0800

    [CALCITE-3095] Add several system properties to control enabling/disabling of rules and traits
    
    Also, add utility class RelOptRules to reorganize built-in rules from different places.
    
    Close apache/calcite#1237

34	3	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRules.java
16	0	core/src/main/java/org/apache/calcite/config/CalciteSystemProperty.java
195	0	core/src/main/java/org/apache/calcite/plan/RelOptRules.java
89	27	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
1	31	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
25	161	core/src/main/java/org/apache/calcite/prepare/CalcitePrepareImpl.java
3	2	core/src/main/java/org/apache/calcite/prepare/RelOptTableImpl.java
4	25	core/src/main/java/org/apache/calcite/tools/Programs.java

commit 48093937ae4db179884d1111fa9d12e978e57e1f
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-04-12 15:11:30 +0800

    [CALCITE-2696] Improve design of join-like relational expressions
    
    **Diff**
    - Deprecate SemiJoin, EnumerableSemiJoin, SemiJoinType,
    EnumerableSemiJoinRule, JoinToCorrelateRule#SEMI
    - Add SEMI and ANTI join type to JoinRelType, add method
    projectsRight() and isOuterJoin()
    - Correlate use JoinRelType instead of SemiJoinType
    - Rename EnumerableThetaJoin to EnumerableNestedLoopJoin
    - Rename EnumerableJoin to EnumerableHashJoin
    - EnumerableJoinRule converts semi join to EnumerableHashJoin
    (EnumerableSemiJoin's functionality is merged into this rule)
    - Add method isSemiJoin() in Join.java to decide if this join is a semi join
    (comes from SemiJoinRule during decorrelateation),
    the return value true means the join is a semi join equivalent to
    SemiJoin before this patch.
    - Cache the JoinInfo in Join and use it to get leftKeys and rightKeys,
    merge SemiJoin#computeSelfCost logic into Join#computeSelfCost
    - For RelBuilder, removes SemiJoinFactory, method #semiJoin
    now returns a LogicalJoin with JoinRelType#SEMI
    - Rename EnumerableDefaults#join to EnumerableDefaults#hashJoin
    - Rename EnumerableDefaults#thetaJoin to EnumerableDefaults#nestedLoopJoin
    
    **Rules tweak**
    - JoinAddRedundantSemiJoinRule now creates LogicalJoin with JoinRelType#SEMI
    instead of SemiJoin
    - JoinToCorrelateRule deprecates SEMI instance and change the matches
    condition to !join.getJoinType().generatesNullsOnLeft() which also
    allowed ANTI compared before this patch.
    - SemiJoinRule matches SEMI join specifically.
    
    **Metadata tweak**
    - RelMdAllPredicates, RelMdExpressionLineage: Add full rowType to
    getAllPredicates(Join) cause semi join only outputs one side
    - RelMdColumnUniqueness, RelMdSelectivity, RelMdDistinctRowCount,
    RelMdSize, RelMdUniqueKeys: merge semi join logic to join
    
    **Test cases change**
    - MaterializationTest#testJoinMaterialization11 now can materialize
    successfully, cause i allow logical SemiJoin node to match, the original
    matches SemiJoin as SemiJoin.class.isAssignableFrom(), which i think is
    wrong cause this will only matches subClasses of SemiJoin which is only
    EnumerableSemiJoin before this patch.
    - SortRemoveRuleTest#removeSortOverEnumerableCorrelate, because
    CALCITE-2018, the final EnumerableSort's cost was cached by the previous
    EnumerableSort with logical children, so i remove the EnumerableSortRule
    and the best plan is correct
    
    close apache/calcite#1157

0	14	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumUtils.java
6	6	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCorrelate.java
68	74	core/src/main/java/org/apache/calcite/adapter/enumerable/{EnumerableJoin.java => EnumerableHashJoin.java}
19	20	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableJoinRule.java
14	13	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMergeJoin.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableMergeJoinRule.java
15	35	core/src/main/java/org/apache/calcite/adapter/enumerable/{EnumerableThetaJoin.java => EnumerableNestedLoopJoin.java}
1	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRules.java
6	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoin.java
5	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoinRule.java
3	9	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcRules.java
2	3	core/src/main/java/org/apache/calcite/materialize/Lattice.java
16	5	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
18	6	core/src/main/java/org/apache/calcite/rel/core/Correlate.java
21	4	core/src/main/java/org/apache/calcite/rel/core/EquiJoin.java
20	4	core/src/main/java/org/apache/calcite/rel/core/Join.java
88	1	core/src/main/java/org/apache/calcite/rel/core/JoinRelType.java
8	7	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
5	0	core/src/main/java/org/apache/calcite/rel/core/SemiJoin.java
18	10	core/src/main/java/org/apache/calcite/rel/logical/LogicalCorrelate.java
2	2	core/src/main/java/org/apache/calcite/rel/metadata/JaninoRelMetadataProvider.java
12	4	core/src/main/java/org/apache/calcite/rel/metadata/RelMdAllPredicates.java
20	14	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
5	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdColumnUniqueness.java
2	24	core/src/main/java/org/apache/calcite/rel/metadata/RelMdDistinctRowCount.java
11	2	core/src/main/java/org/apache/calcite/rel/metadata/RelMdExpressionLineage.java
18	24	core/src/main/java/org/apache/calcite/rel/metadata/RelMdPredicates.java
5	3	core/src/main/java/org/apache/calcite/rel/metadata/RelMdSelectivity.java
4	4	core/src/main/java/org/apache/calcite/rel/metadata/RelMdSize.java
6	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUniqueKeys.java
83	8	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUtil.java
4	4	core/src/main/java/org/apache/calcite/rel/mutable/MutableCorrelate.java
3	4	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/FilterCorrelateRule.java
10	3	core/src/main/java/org/apache/calcite/rel/rules/FilterJoinRule.java
5	4	core/src/main/java/org/apache/calcite/rel/rules/JoinAddRedundantSemiJoinRule.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/JoinProjectTransposeRule.java
11	33	core/src/main/java/org/apache/calcite/rel/rules/JoinToCorrelateRule.java
6	6	core/src/main/java/org/apache/calcite/rel/rules/LoptMultiJoin.java
5	5	core/src/main/java/org/apache/calcite/rel/rules/LoptOptimizeJoinRule.java
22	22	core/src/main/java/org/apache/calcite/rel/rules/LoptSemiJoinOptimizer.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/MultiJoin.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/ProjectJoinTransposeRule.java
3	4	core/src/main/java/org/apache/calcite/rel/rules/PushProjector.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
11	8	core/src/main/java/org/apache/calcite/rel/rules/SemiJoinFilterTransposeRule.java
13	14	core/src/main/java/org/apache/calcite/rel/rules/SemiJoinJoinTransposeRule.java
12	19	core/src/main/java/org/apache/calcite/rel/rules/SemiJoinProjectTransposeRule.java
5	4	core/src/main/java/org/apache/calcite/rel/rules/SemiJoinRemoveRule.java
14	15	core/src/main/java/org/apache/calcite/rel/rules/SemiJoinRule.java
3	0	core/src/main/java/org/apache/calcite/sql/SemiJoinType.java
4	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorUtil.java
12	5	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
2	4	core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java
1	2	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
6	11	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
2	2	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
11	10	core/src/test/java/org/apache/calcite/rel/rules/SortRemoveRuleTest.java
7	7	core/src/test/java/org/apache/calcite/runtime/EnumerablesTest.java
2	2	core/src/test/java/org/apache/calcite/test/JdbcAdapterTest.java
2	2	core/src/test/java/org/apache/calcite/test/JdbcFrontJdbcBackLinqMiddleTest.java
11	11	core/src/test/java/org/apache/calcite/test/JdbcTest.java
1	1	core/src/test/java/org/apache/calcite/test/LatticeTest.java
8	6	core/src/test/java/org/apache/calcite/test/MaterializationTest.java
2	2	core/src/test/java/org/apache/calcite/test/MultiJdbcSchemaJoinTest.java
1	1	core/src/test/java/org/apache/calcite/test/MutableRelTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelMdPercentageOriginalRowsTest.java
1	2	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
2	3	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
1	1	core/src/test/java/org/apache/calcite/test/StreamTest.java
24	22	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableCorrelateTest.java
23	23	core/src/test/java/org/apache/calcite/tools/PlannerTest.java
15	15	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
13	13	core/src/test/resources/sql/agg.iq
2	2	core/src/test/resources/sql/blank.iq
10	10	core/src/test/resources/sql/join.iq
18	18	core/src/test/resources/sql/misc.iq
2	2	core/src/test/resources/sql/outer.iq
1	1	core/src/test/resources/sql/some.iq
45	45	core/src/test/resources/sql/sub-query.iq
1	1	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeZipsTest.java
6	6	linq4j/src/main/java/org/apache/calcite/linq4j/DefaultEnumerable.java
8	8	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java
2	2	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableQueryable.java
3	3	linq4j/src/main/java/org/apache/calcite/linq4j/ExtendedEnumerable.java
11	11	linq4j/src/test/java/org/apache/calcite/linq4j/test/JoinPreserveOrderTest.java
5	5	linq4j/src/test/java/org/apache/calcite/linq4j/test/Linq4jTest.java
1	1	pig/src/main/java/org/apache/calcite/adapter/pig/PigTableScan.java
7	7	plus/src/test/java/org/apache/calcite/adapter/tpcds/TpcdsTest.java
11	0	site/_docs/history.md
2	2	spark/src/test/java/org/apache/calcite/test/SparkAdapterTest.java
2	2	ubenchmark/src/main/java/org/apache/calcite/benchmarks/AbstractRelNodeGetRelTypeNameBenchmark.java

commit 00f8b5f5ca1d45ce5029a474c42e674bec31634f
Author: Laurent Goujon <laurent@apache.org>
Date:   2019-05-29 14:04:46 -0700

    RelOptUtilTest concurrency fixup
    
    RelOptUtilTest was creating a static RelOptCluster which could be used
    during tests running in parallel to acces the associated RelMetadataQuery
    instance.  Alas the object is not safe to access from multiple threads
    and in some occasions tests would fail with CyclicMetadataException.
    
    Fixing the test class by creating a new RelOptCluster/RelBuilder
    instance for each test, and removing the static instances.

73	70	core/src/test/java/org/apache/calcite/plan/RelOptUtilTest.java

commit 73e6d05fa65f16485caca80571d1fe4fda5c7468
Author: rubenada <rubenql@gmail.com>
Date:   2019-05-30 00:06:47 +0200

    [CALCITE-2812] Add algebraic operators to allow expressing recursive queries
    
    1. Add Spool, and RepeatUnion operators with their Logical and Enumerable counterparts as well as appropriate converter rules.
    2. Add new interface allowing to express transient tables with a sample implementation.
    3. Add new methods in RelBuilder useful for building recursive queries.
    4. Update the website with examples for building recursive queries.
    5. Add HierarchySchema allowing to express interesting hierarchies through recursive queries.
    6. Add unit tests verifying the plan created by the builder and correctness of the new operators.
    
    Close apache/calcite#1020

95	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRepeatUnion.java
56	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRepeatUnionRule.java
6	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRules.java
111	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableSpool.java
53	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableSpoolRule.java
2	0	core/src/main/java/org/apache/calcite/prepare/CalcitePrepareImpl.java
54	1	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
120	0	core/src/main/java/org/apache/calcite/rel/core/RepeatUnion.java
87	0	core/src/main/java/org/apache/calcite/rel/core/Spool.java
51	0	core/src/main/java/org/apache/calcite/rel/core/TableSpool.java
72	0	core/src/main/java/org/apache/calcite/rel/logical/LogicalRepeatUnion.java
66	0	core/src/main/java/org/apache/calcite/rel/logical/LogicalTableSpool.java
33	0	core/src/main/java/org/apache/calcite/schema/TransientTable.java
150	0	core/src/main/java/org/apache/calcite/schema/impl/ListTransientTable.java
93	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
4	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
4	1	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
91	0	core/src/test/java/org/apache/calcite/test/HierarchySchema.java
73	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
153	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableRepeatUnionHierarchyTest.java
157	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableRepeatUnionTest.java
148	0	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java
49	0	site/_docs/algebra.md

commit 21ada17e140ebe76bba7c3e348305eff651bcaef
Author: Steven Talbot <steven@looker.com>
Date:   2019-05-28 14:45:49 -0700

    [CALCITE-3097] GROUPING SETS breaks on sets of size > 1 due to precedence issues (Steven Talbot)
    
    RelToSqlConverter was converting each composite item in GROUPING SETS into
    a SqlNodeList when it should be a call to the ROW operator.
    
    Close apache/calcite#1239

15	7	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
1	1	core/src/main/java/org/apache/calcite/sql/fun/SqlRollupOperator.java
20	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
6	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit f1cad57035db0f94190433aa6db2352228a641e0
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-04-24 15:54:44 -0700

    [CALCITE-3022] Babel: Various SQL parsing issues
    
    * Allow 'DATE(x)' function, per PostgreSQL and Redshift
    * Allow "TIMESTAMP 'yyyy-mm-dd'" literal (missing time part), per PostgreSQL and Redshift

10	0	babel/src/main/codegen/config.fmpp
20	0	babel/src/main/codegen/includes/parserImpls.ftl
24	1	babel/src/test/java/org/apache/calcite/test/BabelParserTest.java
6	0	core/src/main/codegen/config.fmpp
3	11	core/src/main/codegen/templates/Parser.jj
12	3	core/src/main/java/org/apache/calcite/sql/parser/SqlParserUtil.java
6	0	core/src/test/codegen/config.fmpp
6	0	server/src/main/codegen/config.fmpp

commit 5c477f0dee1b9f709016a63ae8e5b824fb560585
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-02 23:40:13 -0700

    [CALCITE-3047] In JDBC adapter, expose multiple schemas of the back-end database
    
    We do this by adding JdbcCatalogSchema, an implementation of Schema
    that reads the back-end database catalog and for each schema, creates
    a sub-schema that is a JdbcSchema.
    
    Also add an experimental way to create a Calcite connection with a
    given schema as its root schema (in this case, a JdbcCatalogSchema)
    rather than the usual AbstractSchema.
    
    Rather than calling JdbcSchema.getDataSource(), generated code now
    calls schema.unwrap(DataSource.class). This works for JdbcCatalogSchema
    as well as JdbcSchema.

147	0	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcCatalogSchema.java
4	10	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcToEnumerableConverter.java
18	1	core/src/main/java/org/apache/calcite/jdbc/CalciteSchema.java
2	2	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
32	0	core/src/test/java/org/apache/calcite/test/MultiJdbcSchemaJoinTest.java

commit 7429c25a178401bd49b74d96645ef4226fc228ce
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-04-30 14:39:53 -0700

    [CALCITE-3048] Improve how JDBC adapter deduces current schema on Redshift
    
    In JdbcSchema on PostgreSQL or Redshift, if schema is null, call
    CURRENT_SCHEMA() to get it. Similarly catalog and CURRENT_DATABASE().
    
    Without this fix, we sometimes call DatabaseMetaData.getTables with null
    or empty schema, and get tables from other schemas, resulting in
    a Guava "Multiple entries with same key" error.

86	26	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcSchema.java
8	0	core/src/main/java/org/apache/calcite/sql/SqlDialectFactoryImpl.java

commit fc5704e6038ded2108f232f435060d48015f957d
Author: winifredtamg <wenhui_tang@yeah.net>
Date:   2019-05-28 15:48:54 +0800

    Javadoc typos (Wenhui Tang, Muhammad Gelbana)
    
    Close apache/calcite#1238
    Close apache/calcite#1194

1	1	core/src/main/java/org/apache/calcite/plan/RelOptPredicateList.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/FilterJoinRule.java
1	1	site/_docs/adapter.md

commit aabcb2e5d1df0201fc8b5f3d99f9317bde6d49ae
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-04-29 17:12:49 -0700

    [CALCITE-3096] In RelBuilder, make alias method idempotent

17	1	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
35	1	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit ac40d6951bc8c475ca6804be6d878107cc2ebb13
Author: Bohdan Kazydub <bohdan.kazydub@gmail.com>
Date:   2019-05-23 17:21:56 +0300

    [CALCITE-3055] Use pair of relNode's rowType and digest as unique key for cache in RelOptPlanner (KazydubB)
    
    Currently RelNode's digest can not uniquely identify itself,
    two relational expressions are equivalent only if their digests and row
    types are the same.
    
    * Add unit test and update code for testing dynamic tables to reflect real use-cases;
    * Add row type as part of cache key for HepPlanner.
    
    close apache/calcite#1230

2	2	core/src/main/java/org/apache/calcite/plan/RelOptNode.java
16	11	core/src/main/java/org/apache/calcite/plan/hep/HepPlanner.java
17	26	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
2	1	core/src/main/java/org/apache/calcite/rel/rules/CalcMergeRule.java
12	0	core/src/test/java/org/apache/calcite/test/HepPlannerTest.java
44	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
36	1	core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java
86	19	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReader.java
30	6	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderDynamic.java
14	0	core/src/test/resources/org/apache/calcite/test/HepPlannerTest.xml
23	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 98d0dce058edc66f17e89adcb5d586b74bb8504d
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-05-27 13:21:05 -0400

    [CALCITE-2952] Document JDK 12 support

2	2	site/_docs/howto.md

commit ab40586dd6b6a8daff5054176db463d63e9c250c
Author: rubenada <rubenql@gmail.com>
Date:   2019-05-22 09:44:58 +0200

    [CALCITE-3021] Equality of nested ROWs returns false for identical values

15	0	core/src/test/resources/sql/struct.iq
2	2	linq4j/src/main/java/org/apache/calcite/linq4j/function/Functions.java

commit b5b036dae318a2118b2c6589be7cfefeb3ed6643
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-26 11:26:43 -0700

    Cosmetic changes

4	3	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
7	6	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
3	3	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinJoinRemoveRule.java
3	3	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinRemoveRule.java
3	3	core/src/main/java/org/apache/calcite/rel/rules/ProjectJoinJoinRemoveRule.java
3	3	core/src/main/java/org/apache/calcite/rel/rules/ProjectJoinRemoveRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
5	3	core/src/main/java/org/apache/calcite/util/BlackholeMap.java
2	2	core/src/test/java/org/apache/calcite/adapter/enumerable/TypeFinderTest.java
5	4	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
2	4	core/src/test/java/org/apache/calcite/sql/type/SqlTypeFixture.java
29	34	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
23	25	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
1	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchProject.java
1	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaMessageEnumerator.java
7	5	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaRowConverter.java
1	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaRowConverterImpl.java
4	3	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaStreamTable.java
1	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaTableConstants.java
2	2	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaTableFactory.java
1	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaTableOptions.java
1	0	kafka/src/test/java/org/apache/calcite/adapter/kafka/KafkaAdapterTest.java
1	0	kafka/src/test/java/org/apache/calcite/adapter/kafka/KafkaMockConsumer.java
1	0	kafka/src/test/java/org/apache/calcite/adapter/kafka/KafkaRowConverterTest.java
2	3	kafka/src/test/resources/kafka.model.json
4	2	site/_docs/kafka_adapter.md

commit 80e09c0471cdf48484d07d106d07ac28a4e73abc
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-26 11:23:24 -0700

    Remove call to Class.newInstance(), which is deprecated as of JDK 9

9	13	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaTableFactory.java

commit 769fa6d09b41e4f347a75337e6cd03a21ec18c6b
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-24 15:17:57 -0700

    Make field JdbcTableScan.jdbcTable public

3	3	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcTableScan.java

commit ee14e012ecbd775c9f845682ddf02bf65204a0f7
Author: Muhammad Gelbana <m.gelbana@gmail.com>
Date:   2019-05-22 21:59:00 +0200

    [CALCITE-35] More test cases to guard against providing a broken fix for parenthesized join (Muhammad Gelbana)
    
    Close apache/calcite#1228

12	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit 4e1b68e3c0b2a90832cc790c6166cebb14ae2970
Author: wellfengzhu <wellfengzhu@gmail.com>
Date:   2019-05-24 13:52:41 +0800

    [CALCITE-3077] Rewrite CUBE&ROLLUP queries in SparkSqlDialect (DonnyZone)

7	0	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
7	0	core/src/main/java/org/apache/calcite/sql/dialect/SparkSqlDialect.java
21	8	core/src/main/java/org/apache/calcite/sql/fun/SqlRollupOperator.java
32	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 2037831fd04a144f7e2e6f25bce8452be969bcd5
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-05-25 00:50:05 +0300

    Add system properties to RexProgramFuzzyTest to simplify git bisect

15	2	core/src/test/java/org/apache/calcite/test/fuzzer/RexProgramFuzzyTest.java

commit e0cbcd822146225c5dcd158bace39177858586cb
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-05-25 00:47:36 +0300

    Improve display of reproducer code in RexFuzzerTest for SqlStdOperatorTable.MULTIPLY
    
    It was displayed as SqlStdOperatorTable.*, however mul(a, b) should be used

1	0	core/src/test/java/org/apache/calcite/test/fuzzer/RexToTestCodeShuttle.java

commit 3fffb546154f4223a9b56feb30443bcbbee6ae72
Author: Josh Elser <elserj@apache.org>
Date:   2019-05-24 13:38:02 -0400

    [CALCITE-3090] Remove Central configuration
    
    We don't actually need the explicit configuration for Central. We're
    just providing the same value that's already configured.
    
    Closes #1234
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

0	12	pom.xml

commit b31899709565a7d7601b2465d6dfd28d909ac081
Author: Josh Elser <elserj@apache.org>
Date:   2019-05-24 13:37:37 -0400

    Revert "[CALCITE-3090] Use https for maven central"
    
    This reverts commit 13102955bf0e1d6619593c5ef6fd0ef52a1be58d.

1	1	pom.xml

commit ca6dc99a4625b9d2708f73b523da3dd41d71f73b
Author: mingmxu <mingmxu@ebay.com>
Date:   2019-05-24 09:54:11 -0700

    [CALCITE-2913] Adapter for Apache Kafka (Mingmin Xu)
    Expose an Apache Kafka topic as a stream table.

99	0	kafka/pom.xml
91	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaMessageEnumerator.java
51	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaRowConverter.java
68	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaRowConverterImpl.java
115	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaStreamTable.java
29	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaTableConstants.java
101	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaTableFactory.java
80	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/KafkaTableOptions.java
28	0	kafka/src/main/java/org/apache/calcite/adapter/kafka/package-info.java
112	0	kafka/src/test/java/org/apache/calcite/adapter/kafka/KafkaAdapterTest.java
48	0	kafka/src/test/java/org/apache/calcite/adapter/kafka/KafkaMockConsumer.java
63	0	kafka/src/test/java/org/apache/calcite/adapter/kafka/KafkaRowConverterTest.java
48	0	kafka/src/test/resources/kafka.model.json
8	0	pom.xml
1	0	site/_docs/adapter.md
103	0	site/_docs/kafka_adapter.md
1	1	sqlline

commit 13102955bf0e1d6619593c5ef6fd0ef52a1be58d
Author: Josh Elser <elserj@apache.org>
Date:   2019-05-24 12:33:17 -0400

    [CALCITE-3090] Use https for maven central
    
    Closes #1233
    
    Signed-off-by: Julian Hyde <jhyde@apache.org>
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	1	pom.xml

commit 6120ff0746cdb32c319674d73c7002fcfb9dbbb2
Author: wpl <1269223860@qq.com>
Date:   2019-05-21 18:20:45 +0800

    [CALCITE-3084] Implement JDBC string functions: ASCII, REPEAT, SPACE, SOUNDEX, DIFFERENC (pingle wang)

5	0	core/src/main/java/org/apache/calcite/sql/SqlJdbcFunctionCall.java
18	18	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java

commit b42029fd46958ddf4d62a29182a2dbee66c1adef
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-05-23 15:53:05 +0800

    [CALCITE-2985] Implement JSON_STORAGE_SIZE function (xuqianjin)
    
    Also, correct content about error handling of MySQL JSON functions in documentation.
    
    Close apache/calcite#1150

2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
13	0	core/src/main/java/org/apache/calcite/runtime/JsonFunctions.java
42	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonStorageSizeFunction.java
3	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
3	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
7	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
7	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
22	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
11	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
47	37	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
6	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
23	2	site/_docs/reference.md

commit 2cbdb6d9b10d02e655eaca9987a0dcacd7143c03
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-22 09:13:13 -0700

    Oops, broke a test on Windows

7	11	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit 82e7d4e760cb203d31956c55e38e0fdd56119d58
Author: Laurent Goujon <laurent@apache.org>
Date:   2019-01-24 15:35:43 -0800

    [CALCITE-2807] Fix `IS NOT DISTINCT FROM` expression identification in RelOptUtil#pushDownJoinConditions()
    
    RelOptUtil#pushDownJoinConditions do not identify and preserve
    expanded versions of `IS NOT DISTINCT FROM` expressions, causing
    equi-joins to be miscategorized as inequality joins.
    
    Modify the function to try to collapse the expression back to a
    canonical `IS NOT DISTINCT FROM` expression if possible before
    visiting the expression and pushing it below the join.

13	5	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
6	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
233	22	core/src/test/java/org/apache/calcite/plan/RelOptUtilTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
15	11	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 170d5225fb65fd49df83d0234d8a69d11a9469c4
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-14 00:18:21 -0700

    [CALCITE-3050] Integrate SqlDialect and SqlParser.Config
    
    Add a method SqlDialect.configureParser(SqlParser.ConfigBuilder),
    which allows a dialect to pass on its settings to a SQL parser.
    
    Also add SqlDialect methods getUnquotedCasing(), getQuotedCasing(),
    getConformance(), isCaseSensitive().
    
    Add Snowflake dialect.

194	15	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
45	0	core/src/main/java/org/apache/calcite/sql/SqlDialectFactoryImpl.java
2	1	core/src/main/java/org/apache/calcite/sql/dialect/MssqlSqlDialect.java
2	0	core/src/main/java/org/apache/calcite/sql/dialect/MysqlSqlDialect.java
2	0	core/src/main/java/org/apache/calcite/sql/dialect/PostgresqlSqlDialect.java
5	1	core/src/main/java/org/apache/calcite/sql/dialect/RedshiftSqlDialect.java
38	0	core/src/main/java/org/apache/calcite/sql/dialect/SnowflakeSqlDialect.java
3	1	core/src/main/java/org/apache/calcite/sql/dialect/VerticaSqlDialect.java
33	10	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
41	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit 61b858db13c2e1997e92172a09f38c639ffdceee
Author: shimamoto <chibochibo@gmail.com>
Date:   2019-05-21 11:06:30 +0900

    [CALCITE-3023] Upgrade elastic search to 7.x (Takako Shimamoto)

52	3	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJson.java
4	11	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchMapping.java
23	43	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchSchema.java
1	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchSchemaFactory.java
12	11	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
9	11	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTransport.java
15	5	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchVersion.java
8	4	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/AggregationTest.java
3	2	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java
7	2	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/EmbeddedElasticsearchNode.java
13	14	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/EmbeddedElasticsearchPolicy.java
3	2	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ScrollingTest.java
1	1	pom.xml
21	13	site/_docs/elasticsearch_adapter.md
1	1	sqlline
1	1	sqlline.bat

commit 2765791e60c46e0d66a3c510a5c91d16fe757720
Author: Shawn Chen <shawn.chen@geminidata.com>
Date:   2019-05-20 17:41:40 +0800

    [CALCITE-3067] Splunk adapter cannot parse right session keys from Splunk 7.2 (Shawn Chen)
    
    Close apache/calcite#1222

1	1	splunk/src/main/java/org/apache/calcite/adapter/splunk/search/SplunkConnectionImpl.java

commit 2e01ce15575bdf67aaad16b2402377adb0ba6e4d
Author: wpl <1269223860@qq.com>
Date:   2019-05-13 16:01:42 +0800

    [CALCITE-2601] Add REVERSE function (pingle wang)
    
    Close apache/calcite#1209

2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
6	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
6	0	core/src/main/java/org/apache/calcite/sql/SqlJdbcFunctionCall.java
7	2	core/src/main/java/org/apache/calcite/sql/SqlKind.java
10	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
1	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
13	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
2	0	site/_docs/reference.md

commit 50cd1340c6df8f4d8e2bde287ddd18c1b07e312c
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-05-20 21:56:25 +0800

    [CALCITE-3076] AggregateJoinTransposeRule throws error for unique under aggregate keys when generating merged calls
    
    AggregateJoinTransposeRule generates wrong mapping for under agg
    calls with unique aggregate keys.
    
    Close apache/calcite#1223

3	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinTransposeRule.java
22	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
28	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 1a5fca0feab124f33c16d31b65f0ba0806231731
Author: Chunwei Lei <chunwei@apache.org>
Date:   2019-05-19 21:30:47 +0800

    [CALCITE-3068] testSubprogram() does not test whether subprogram gets re-executed

1	1	core/src/main/java/org/apache/calcite/plan/hep/HepProgram.java
1	1	core/src/main/java/org/apache/calcite/plan/hep/HepProgramBuilder.java
2	1	core/src/test/java/org/apache/calcite/test/HepPlannerTest.java
4	3	core/src/test/resources/org/apache/calcite/test/HepPlannerTest.xml

commit 7fa13bf164f9354aed492b03f753c2b9b30b0164
Author: wellfengzhu <wellfengzhu@tencent.com>
Date:   2019-05-16 13:01:31 +0800

    [CALCITE-3072] Generate right SQL for FLOOR&SUBSTRING functions in SparkSqlDialect (DonnyZone)
    
    TimeUnit first in SparkSQL date_trunc;
    Add test for floor with one operand.
    
    Close apache/calcite#1216

41	0	core/src/main/java/org/apache/calcite/sql/dialect/SparkSqlDialect.java
32	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 996579a20cc6a66481055a93ca634622f69b1bfd
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-04-01 20:40:47 +0800

    [CALCITE-2712] Add rule to remove null-generating side of a Join

15	0	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
158	0	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinJoinRemoveRule.java
127	0	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinRemoveRule.java
2	11	core/src/main/java/org/apache/calcite/rel/rules/AggregateProjectMergeRule.java
142	0	core/src/main/java/org/apache/calcite/rel/rules/ProjectJoinJoinRemoveRule.java
127	0	core/src/main/java/org/apache/calcite/rel/rules/ProjectJoinRemoveRule.java
267	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
538	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 4d04773054c5bda3b43c3dbeb2be01df19cbe3e3
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-03-15 21:55:40 +0800

    [CALCITE-2965] Implement string functions: REPEAT, SPACE, SOUNDEX, DIFFERENCE

4	0	core/pom.xml
8	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
38	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
40	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
3	0	core/src/main/java/org/apache/calcite/sql/type/OperandTypes.java
21	0	core/src/main/java/org/apache/calcite/sql/type/ReturnTypes.java
4	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
69	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
6	0	pom.xml
5	5	site/_docs/reference.md

commit ca92ce27ce9f9a40d755a165041d64538a467a10
Author: Hongze Zhang <hongze@apache.org>
Date:   2019-05-16 22:52:58 +0800

    [CALCITE-3074] Move MySQL's JSON operators to SqlLibraryOperators

1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
8	5	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
18	13	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java

commit c6b6800c220e513f1d9a2b167b2f14cb689c0b06
Author: Laurent Goujon <laurent@apache.org>
Date:   2019-05-10 15:37:14 -0700

    [CALCITE-3062] Do not populate provenanceMap if not debug
    
    VolcanoPlanner.provenanceMap captures provenance of all rel nodes added
    to the planner but the information is only printed out if planner log
    level is debug or finer.  As the map can get quite big with complex
    queries, the memory usage can increase significantly.
    
    Detect if planner log level is debug when creating a new volcano planner
    and use a blackhole map so that the map is not populated by default.
    
    Change-Id: If6393eb07438ea5f922c9f78f26089160926ef37

8	2	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
114	0	core/src/main/java/org/apache/calcite/util/BlackholeMap.java
5	0	core/src/main/java/org/apache/calcite/util/Util.java
21	0	core/src/test/java/org/apache/calcite/util/UtilTest.java

commit 999c41d5ff893a30b2622442a448102c72fc475e
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-04-03 23:32:08 +0800

    [CALCITE-2975] Implement JSON_REMOVE function (xuqianjin)
    
    Close apache/calcite#1146

2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
4	1	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
26	0	core/src/main/java/org/apache/calcite/runtime/JsonFunctions.java
73	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonRemoveFunction.java
2	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
2	1	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
7	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
7	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
20	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
8	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
20	1	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
7	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
18	2	site/_docs/reference.md

commit 7df06784a725bd9bde421b5d86ac69a3e30d66b4
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-03-20 20:42:46 +0800

    [CALCITE-2933] Add timestamp extract for casts from timestamp type to other types
    
    In Druid, timestamp is stored as a UTC long value, so the
    Cast(timestamp as varchar) should transform to date format string.
    
    Close apache/calcite#1120

17	15	druid/src/main/java/org/apache/calcite/adapter/druid/DruidQuery.java
16	8	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT2.java

commit 051058be8f7de31f59718962a88604dc2d1c9d36
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-05-10 18:29:53 +0800

    [CALCITE-2282] Remove sql operator table from parser
    
    Differentiate for unresolved functions and non-parameters function identifier unparsing;
    Merge logic in SqlIdeitifier and SqlUtil;
    Fix Julian's comments address: Remove leftPrec and rightPrec from SqlCollation.
    
    Close apache/calcite#1205

5	1	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
2	4	core/src/main/java/org/apache/calcite/sql/SqlCollation.java
1	1	core/src/main/java/org/apache/calcite/sql/SqlDataTypeSpec.java
0	8	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
1	15	core/src/main/java/org/apache/calcite/sql/SqlIdentifier.java
56	1	core/src/main/java/org/apache/calcite/sql/SqlUtil.java
6	1	core/src/main/java/org/apache/calcite/sql/SqlWriter.java
1	1	core/src/main/java/org/apache/calcite/sql/fun/SqlLiteralChainOperator.java
3	29	core/src/main/java/org/apache/calcite/sql/parser/SqlAbstractParserImpl.java
3	0	core/src/main/java/org/apache/calcite/sql/parser/SqlParserPos.java
4	3	core/src/main/java/org/apache/calcite/sql/pretty/SqlPrettyWriter.java
25	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorUtil.java
16	16	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
18	1	core/src/test/java/org/apache/calcite/sql/test/AbstractSqlTester.java
2	3	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
1	1	server/src/main/java/org/apache/calcite/sql/ddl/SqlAttributeDefinition.java

commit 046bb81a9a4ac3e5b63c0ca4a0141446df325a44
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-05-13 10:34:47 -0700

    [CALCITE-3052] Error while applying rule MaterializedViewAggregateRule(Project-Aggregate): ArrayIndexOutOfBoundsException
    
    Close apache/calcite#1212

4	3	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java

commit d6896202c865b38b7821f1e0b644e1de0c95eda2
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-05-13 18:35:09 -0700

    [CALCITE-3066] RelToSqlConverter may incorrectly throw an AssertionError for some decimal literals
    
    Close apache/calcite#1213

2	2	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
8	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit a5b382abb6585f01995a350ca1e3937e2f3b91a1
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-05-13 21:45:06 -0700

    [CALCITE-3028] Support FULL OUTER JOIN with AggregateJoinTransposeRule (Vineet Garg)

2	3	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinTransposeRule.java
0	4	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
123	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit e98c779d1ec0bc87c81a72b974c89a41a7222a07
Author: Hongze Zhang <hongze@apache.org>
Date:   2019-04-25 02:17:35 +0800

    [CALCITE-3017] Improve null handling of JsonValueExpressionOperator
    
    * Remove SqlJsonApiCommonSyntaxOperator;
    * Move implementation methods of JSON functions from SqlFunctions to JsonFunctions;
    * Add new null policy NullPolicy.ARG0 (currently used by some JSON functions only);
    * Change return type to nullable for some operators of JSON functions;
    * In code generation, perform regular null semantic check on operands of a call when NullAs.IS_NULL/IS_NOT_NULL is used.

28	31	core/src/main/codegen/templates/Parser.jj
2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/NullPolicy.java
34	15	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
757	0	core/src/main/java/org/apache/calcite/runtime/JsonFunctions.java
2	578	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
1	6	core/src/main/java/org/apache/calcite/sql/SqlKind.java
0	64	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonApiCommonSyntaxOperator.java
12	6	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonExistsFunction.java
2	1	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonKeysFunction.java
2	1	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonPrettyFunction.java
11	9	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonQueryFunction.java
4	1	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonTypeFunction.java
49	39	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonValueFunction.java
0	3	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
2	71	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
24	21	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
12	0	core/src/main/java/org/apache/calcite/util/Util.java
9	9	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
80	32	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
165	155	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
6	5	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
8	8	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
2	1	site/_docs/reference.md

commit 3f24710db7e1ef91eb8fe934057456bffc2de780
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-03-20 16:43:31 -0700

    [CALCITE-2936] Simplify EXISTS or NOT EXISTS sub-query that has "GROUP BY ()"

17	2	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
40	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
54	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit b039a36a3d683f0948531b16a9d97ee50615a5eb
Author: zhaofaxian <zhaofaxian@kuaishou.com>
Date:   2019-04-29 14:06:40 +0800

    [CALCITE-3034] CSV test case description does not match it's code logic (FaxianZhao)
    
    The o.a.c.a.c.CsvFilterableTable will ignore the whole filter condition
    with AND as SqlKind before this patch.
    
    Close apache/calcite#3034

5	1	example/csv/src/main/java/org/apache/calcite/adapter/csv/CsvFilterableTable.java
9	0	example/csv/src/test/java/org/apache/calcite/test/CsvTest.java

commit 2a2140f98d3c5df91d418856e7dd448345183a71
Author: Francis Chuang <francischuang@apache.org>
Date:   2019-05-14 08:43:43 +1000

    Site: Add Danny Chan as committer

5	0	site/_data/contributors.yml

commit c25b29c0c1cae3a57bf91ddfd9f6a0622ca974a4
Author: Laurent Goujon <laurent@apache.org>
Date:   2019-01-23 14:32:00 -0800

    [CALCITE-2803] ProjectTransposeJoinRule messes INDF expressions
    
    ProjectTransposeJoinRule does not identify expanded versions of IS NOT
    DISTINCT FROM expressions in the join filter, and might push them below
    the join operator in a way which makes impossible for
    RelOptUtil#splitJoinCondition() to identify the INDF condition and mis-
    categorize the join as not being an equi-join.
    
    Fix the issue by collapsing INDF expressions before invoking PushProjector.
    Also add support for expanded form CASE(WHEN A IS NULL THEN B IS NULL
    WHEN B IS NULL THEN A IS NULL ELSE A = B).

83	12	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
21	3	core/src/main/java/org/apache/calcite/rel/rules/ProjectJoinTransposeRule.java
53	1	core/src/test/java/org/apache/calcite/plan/RelOptUtilTest.java
10	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
23	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit d0a06f78644906c2ca73e6fb5ea08f7d17f55dab
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   2019-05-10 19:16:34 +0300

    [CALCITE-3061] Query with WITH clause fails when alias is the same as the table with rolled up column
    
    Close #1206

23	66	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
12	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
11	0	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReader.java

commit 9a4eab5240d96379431d14a1ac33bfebaf6fbb28
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-04-25 12:00:28 +0800

    [CALCITE-3017] Re-organize how we represent built-in operators that are not in the standard operator table
    
    Add enum SqlLibrary, with values STANDARD, SPATIAL, ORACLE, MYSQL etc.,
    and SqlLibraryOperatorTableFactory, that can create operator tables for
    any combination of libraries.
    
    Further changes by Julian Hyde:
     * Adopt the term "library" (earlier revisions had "dialect" and "flavor");
     * Change SqlDialectOperatorTableFactory into a cache (previously it
       pre-built one table per library);
     * Make it responsible for standard and spatial libraries in addition to
       database-specific ones;
     * Move operators from SqlLibraryOperatorTableFactory into a dedicated
       holder class, SqlLibraryOperators;
     * Deprecate OracleSqlOperatorTable, and move its operator definitions.
    
    Close apache/calcite#1203

3	3	core/src/main/codegen/templates/Parser.jj
6	6	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java
9	33	core/src/main/java/org/apache/calcite/config/CalciteConnectionConfigImpl.java
2	2	core/src/main/java/org/apache/calcite/config/CalciteConnectionProperty.java
2	2	core/src/main/java/org/apache/calcite/rex/RexSqlStandardConvertletTable.java
2	2	core/src/main/java/org/apache/calcite/sql/dialect/OracleSqlDialect.java
45	0	core/src/main/java/org/apache/calcite/sql/fun/LibraryOperator.java
21	79	core/src/main/java/org/apache/calcite/sql/fun/OracleSqlOperatorTable.java
96	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibrary.java
166	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperatorTableFactory.java
151	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLibraryOperators.java
2	2	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
12	12	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
47	24	core/src/test/java/org/apache/calcite/sql/test/DocumentationTest.java
16	15	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
4	4	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
3	2	site/_docs/reference.md

commit 6afa38bae794462e6e250237a1b60cc4220b2885
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-05-04 18:14:16 +0200

    Site: Improve contribution guidelines for JIRA
    
    Summarize the respective discussion in the dev list(
    https://lists.apache.org/thread.html/59d028ec300884e432f9be1abe894d076e94b9f1ac9427cb22fa745d@%3Cdev.calcite.apache.org%3E) and include the suggestions from all participants.

28	6	site/_docs/howto.md
41	1	site/develop/index.md

commit b15c8c9baccf05e1bf16b1e268d4edfac90bbf03
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-05-08 20:20:40 -0400

    Mongo adapter. Mongo checker validates only first line of the Bson query in tests
    
    `BsonDocument.parse()` is more lenient with input and this omission was not noticed before

20	8	mongodb/src/test/java/org/apache/calcite/adapter/mongodb/MongoAdapterTest.java

commit b727f3b04286dd39fddb25a9905819449d27475b
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-05-08 01:52:41 -0400

    [CALCITE-3056] Elasticsearch adapter. Invalid result with cast function on raw queries
    
    Fix queries of type (with elastic adapter):
    
    ```sql
    select max(cast(_MAP['foo'] as integer)) from elastic
    ```

24	4	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchRules.java
18	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/AggregationTest.java

commit b8bdfb074be12f90c98f9f1fa2af8cf46f2d36f1
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2019-05-05 17:23:45 +0800

    [CALCITE-3046] CompileException when inserting casted value of composited user defined type into table
    
    Also, add several test cases for EnumerableRelImplementor.TypeFinder.

33	3	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRelImplementor.java
132	0	core/src/test/java/org/apache/calcite/adapter/enumerable/TypeFinderTest.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
17	0	server/src/test/java/org/apache/calcite/test/ServerTest.java

commit 735fc068012a7de5a93563e55f3f9a6846331d11
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-05-06 12:37:27 -0700

    [CALCITE-3053] Add a test to ensure that all functions are documented in the SQL reference
    
    Following [CALCITE-2846], fix up the documentation of MySQL- and
    Oracle-specific operators to make it better fit narrow web pages.

0	4	babel/src/test/java/org/apache/calcite/test/BabelParserTest.java
1	1	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	66	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
180	0	core/src/test/java/org/apache/calcite/sql/test/DocumentationTest.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
0	4	server/src/test/java/org/apache/calcite/test/ServerParserTest.java
94	47	site/_docs/reference.md

commit c0523d346a13c7c032ddd95a43116a7f2044c726
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-04-29 15:35:36 +0800

    [CALCITE-2846] Document Oracle-specific functions, such as NVL and LTRIM, in the SQL reference

54	9	site/_docs/reference.md

commit f5363478e1feed6a090b2ac0c9fc52743a653ca0
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-05-08 01:18:02 -0400

    [CALCITE-3054] Elasticsearch adapter. Avoid scripting for simple projections
    
    Simple query like below is using `script` when `_source` is sufficient.
    ```sql
    select  _MAP['a'], _MAP['b.a'] from elastic
    ```

11	7	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchProject.java
23	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/Projection2Test.java

commit da4970e647d58b2989077688d1e19747fd459d14
Author: dijkspicy <dijkspicy@outlook.com>
Date:   2019-05-05 12:05:50 +0800

    [CALCITE-3039] In Interpreter, min() incorrectly returns maximum double value (dijkspicy)
    
    Close apache/calcite#1197

1	1	core/src/main/java/org/apache/calcite/interpreter/AggregateNode.java
15	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java

commit 247c7d4f76a3d7d862ae6f4148cc8e6556efa497
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-05-05 06:21:14 +0800

    [CALCITE-3049] When simplifying "IS NULL" and "IS NOT NULL", simplify the operand first
    
    When simplifying "(x IS NULL) IS NOT NULL", remove redundant casts
    before simplifying the operand.
    
    Julian Hyde started work on this case, simplifying before and after,
    and Danny Chan improved it by only simplifying before.
    
    Close apache/calcite#1198

15	3	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
16	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
3	3	core/src/test/resources/sql/sub-query.iq

commit 0d504d20d47542e8d461982512ae0e7a94e4d6cb
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2019-05-05 14:50:43 +0800

    Oops, remove a println

0	1	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java

commit 603f93d3fd242010a2fd3dd2dd658dbeea0a96fc
Author: Will Yu <wmy7ymw@gmail.com>
Date:   2019-04-27 17:02:59 -0700

    [CALCITE-3003] AssertionError when GROUP BY nested field (Will Yu)
    
    Close apache/calcite#1186

1	1	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorUtil.java
60	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
21	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
30	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 9ece70f5dcdb00dbc6712496c51f52c05178d4aa
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-04-27 15:11:33 -0700

    [CALCITE-3012] Column uniqueness metadata provider may return wrong result for FULL OUTER JOIN operator (Vineet Garg)
    
    Close apache/calcite#1185

8	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdColumnUniqueness.java
15	0	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java

commit a8f46239509f01162c4e3ecf640a59cf0e0dfcad
Author: Hongze Zhang <hongze@apache.org>
Date:   2019-05-01 20:57:16 +0800

    [CALCITE-3045] NullPointerException when casting null literal to composite user defined type

6	6	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
9	0	core/src/test/java/org/apache/calcite/test/UdtTest.java

commit e3a69708df55cf05bbe38f8f1d5bd472cf8de81f
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-04-29 17:31:47 +0800

    [CALCITE-3030] SqlParseException when using component identifier for setting in merge statements (Danny Chan)
    
    Close apache/calcite#1190

2	2	core/src/main/codegen/templates/Parser.jj
44	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit 37002c1399cea1464b5d53c0fc4e5ec90f831f1b
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2019-04-28 18:21:00 +0800

    [CALCITE-3029] Java-oriented field type is wrongly forced to be NOT NULL after being converted to SQL-oriented

13	19	core/src/main/java/org/apache/calcite/jdbc/JavaTypeFactoryImpl.java
16	0	core/src/test/java/org/apache/calcite/jdbc/JavaTypeFactoryTest.java
19	0	core/src/test/java/org/apache/calcite/tools/PlannerTest.java

commit 20dbd23f8d03e762478d2d9b35df515e0fc87da2
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-04-26 19:41:23 +0800

    [CALCITE-2292] Query result is wrong when table is implemented with FilterableTable and the sql has multiple where conditions

4	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
23	0	example/csv/src/test/java/org/apache/calcite/test/CsvTest.java

commit 9aebcfc000eab274f450c425302dcaa1ace46007
Author: Francis Chuang <francischuang@apache.org>
Date:   2019-04-29 19:38:51 +1000

    Site: Add new committers and PMC (Chunwei Lei, Ruben Quesada Lopez, Zhiwei Peng and Stamatis Zampetakis)

17	2	site/_data/contributors.yml

commit a3f81bb7b088fd8c1d0c1df3b0f2b0cf122633de
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-04-14 18:40:21 +0800

    [CALCITE-2998] RexCopier should support all rex types (Chunwei Lei, Alexander Shilov)
    
    Close apache/calcite#1164
    Close apache/calcite#969

10	12	core/src/main/java/org/apache/calcite/rex/RexCopier.java
155	0	core/src/test/java/org/apache/calcite/rex/RexBuilderTest.java

commit eed664de8c45af1423d692af88cc98395adcb072
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2019-04-08 15:35:10 +0800

    [CALCITE-2982] SqlItemOperator should throw understandable exception message for incorrect operand type (pengzhiwei)
    
    Close apache/calcite#1149

4	4	core/src/main/java/org/apache/calcite/sql/fun/SqlItemOperator.java
7	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java

commit b7226129d16ee2ed5c0e2a3d3c945b06cc555535
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-04-25 11:25:15 -0700

    Revert "[CALCITE-3021] ArrayEqualityComparer should use Arrays#deepEquals/deepHashCode instead of Arrays#equals/hashCode (Ruben Quesada Lopez)"
    
    This reverts commit 758ce8b0eab0bfe59c7eefeedaf4cdd0d2235a10.

0	15	core/src/test/resources/sql/struct.iq
2	2	linq4j/src/main/java/org/apache/calcite/linq4j/function/Functions.java
0	15	linq4j/src/test/java/org/apache/calcite/linq4j/test/Linq4jTest.java

commit 758ce8b0eab0bfe59c7eefeedaf4cdd0d2235a10
Author: rubenada <rubenql@gmail.com>
Date:   2019-04-24 15:04:42 +0200

    [CALCITE-3021] ArrayEqualityComparer should use Arrays#deepEquals/deepHashCode instead of Arrays#equals/hashCode (Ruben Quesada Lopez)

15	0	core/src/test/resources/sql/struct.iq
2	2	linq4j/src/main/java/org/apache/calcite/linq4j/function/Functions.java
15	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/Linq4jTest.java

commit 986a2d579c8f9b9f08aa9bbbfe11efc4e7bb0809
Author: cyazbeck <cyazbeck@murex.com>
Date:   2018-08-08 12:41:13 +0300

    [CALCITE-2453] Parse list of SQL statements separated with a semicolon (Chunwei Lei, charbel yazbeck)
    
    Close apache/calcite#1177

42	20	core/src/main/codegen/templates/Parser.jj
10	0	core/src/main/java/org/apache/calcite/sql/parser/SqlAbstractParserImpl.java
29	7	core/src/main/java/org/apache/calcite/sql/parser/SqlParser.java
228	8	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
3	0	site/_docs/reference.md

commit f26d92f956c4f8b59bafbf7cfc7431f3d4d536f9
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-04-16 13:24:51 +0800

    [CALCITE-3004] RexOver is incorrectly pushed down in ProjectSetOpTransposeRule and ProjectCorrelateTransposeRule (Chunwei Lei)

3	2	core/src/main/java/org/apache/calcite/rel/rules/ProjectCorrelateTransposeRule.java
29	16	core/src/main/java/org/apache/calcite/rel/rules/ProjectSetOpTransposeRule.java
21	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
59	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit ecb469b9fd6122e7597cca93741ec34085b35ab4
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-04-16 18:37:06 -0700

    [CALCITE-3011] Support left and right outer joins with AggregateJoinTransposeRule (Vineet Garg)
    
    Close apache/calcite#1171

14	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinTransposeRule.java
264	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
345	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 898ddbd8388ed28066a598297d82121557dde7d7
Author: Nishant <nishant.monu51@gmail.com>
Date:   2019-04-18 17:45:58 +0530

    [CALCITE-3001] Upgrade to Apache Druid 0.14.0-incubating
    
    Close apache/calcite#1174

56	56	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java
1	1	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT2.java
1	1	druid/src/test/resources/druid-wiki-model.json
1	1	druid/src/test/resources/druid-wiki-no-columns-model.json
11	0	site/_docs/history.md

commit 79df7f9df496959c3cfebc80bc545ac9946bd7a0
Author: Hongze Zhang <hongze@apache.org>
Date:   2019-04-23 23:15:46 +0800

    Following [CALCITE-3010], remove redundant non-reserved keyword definitions

0	9	babel/src/main/codegen/config.fmpp
0	5	core/src/main/codegen/config.fmpp
0	5	core/src/main/codegen/templates/Parser.jj
0	5	core/src/test/codegen/config.fmpp
0	5	server/src/main/codegen/config.fmpp
0	5	site/_docs/reference.md

commit 577e72cb95e5d4d88f187909c14d8691c266ac4c
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2019-04-13 04:43:44 +0800

    [CALCITE-2993] ParseException may be thrown for legal SQL queries due to incorrect "LOOKAHEAD(1)" hints
    
    Also:
    * Following [CALCITE-883], add absent non-reserved keywords to config.fmpp files;
    * Remove redundant "LOOKAHEAD(1)" hints;
    * The case "select json_object(key: value) from t" is added to unit test but not fixed. See the reason from method "SqlParserTest#testJsonObject".

2	0	babel/src/main/codegen/config.fmpp
14	5	core/src/main/codegen/templates/Parser.jj
2	0	core/src/test/codegen/config.fmpp
46	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
0	1	piglet/src/main/javacc/PigletParser.jj
2	0	server/src/main/codegen/config.fmpp

commit 02eb106bcd1b0fdb1d0be06d117a94eddc9f3fce
Author: Hongze Zhang <hongze@apache.org>
Date:   2019-04-19 23:40:12 +0800

    [CALCITE-3010] In SQL parser, move JsonValueExpression into Expression
    
    * SqlJsonValueExpressionOperator is now a postfix operator;
    * Remove SqlStdOperatorTable.JSON_STRUCTURED_VALUE_EXPRESSION;
    * Remove SqlStdOperatorTable.JSON_API_COMMON_SYNTAX_WITHOUT_PATH;
    * When "FORMAT JSON" is implicit, a call to SqlJsonValueExpressionOperator is added and validated during sql-to-rel process;
    * Correct JSON_DEPTH's return type.

17	128	core/src/main/codegen/templates/Parser.jj
0	6	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
18	16	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
5	25	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonApiCommonSyntaxOperator.java
4	3	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayAggAggFunction.java
3	2	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonDepthFunction.java
3	17	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonKeysFunction.java
3	18	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonLengthFunction.java
10	2	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectAggAggFunction.java
14	2	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectFunction.java
8	31	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonValueExpressionOperator.java
4	11	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
14	0	core/src/main/java/org/apache/calcite/sql/type/InferTypes.java
73	7	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
5	0	core/src/main/java/org/apache/calcite/util/Bug.java
0	4	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
13	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
58	39	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
1	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
22	20	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
1	14	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
40	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
26	3	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
88	13	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
60	63	core/src/test/resources/sql/agg.iq

commit ee83efd360793ef4201f4cdfc2af8d837b76ca69
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-04-17 14:49:14 +0800

    [CALCITE-3009] DiffRepository should ensure that XML resource file does not contain duplicate test names
    
    Close apache/calcite#1167

25	4	core/src/test/java/org/apache/calcite/test/DiffRepository.java
0	29	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit cd9697398959bf518b255d1c59e7686c45f39646
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-04-08 14:19:34 -0700

    [CALCITE-2986] Wrong results with =ANY subquery (Vineet Garg)

3	0	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
7	1	core/src/main/java/org/apache/calcite/rex/RexSubQuery.java
12	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
6	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
93	11	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
16	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
25	0	core/src/test/resources/sql/some.iq

commit a51a187c2216351905d0da552dd59479ba5b6bd6
Author: Will Yu <wmy7ymw@gmail.com>
Date:   2019-04-09 22:15:39 -0700

    [CALCITE-2962] RelStructuredTypeFlattener generates wrong types for nested column when flattenProjection (Will Yu)
    
    Close #1152

2	2	core/src/main/java/org/apache/calcite/sql2rel/RelStructuredTypeFlattener.java
25	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
2	1	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
1	0	core/src/test/java/org/apache/calcite/test/catalog/Fixture.java
12	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit ceb36747a6b2546f87cf52e65c4f622a08e2828e
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-04-17 19:05:50 -0700

    [CALCITE-3007] Type mismatch for ANY subquery in project (Vineet Garg)
    
    Close #1172

25	16	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
24	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
78	4	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 89829252689477bfeb305071285edcde1b4a3048
Author: rubenada <rubenql@gmail.com>
Date:   2019-03-01 09:50:24 +0100

    [CALCITE-2865] FilterProjectTransposeRule generates wrong traitSet when copyFilter/Project is true (Ruben Quesada Lopez)

13	2	core/src/main/java/org/apache/calcite/rel/rules/FilterProjectTransposeRule.java
38	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java

commit 41df09cb3a842b43606fa69bbcb25a70d8250bdb
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-04-18 11:19:46 +0800

    [CALCITE-3006] Example code on site cannot compile (Chunwei Lei)

3	5	site/_docs/index.md

commit b03cdc486cf5c7232bbc6fa9b5f02f564e9601c3
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-04-14 10:27:36 +0800

    [CALCITE-2343] PushProjector with OVER expression causes infinite loop (Chunwei Lei)
    
    Also, remove unnecessary cast to RexNode in PushProjector.java.
    
    Close apache/calcite#1162

2	1	core/src/main/java/org/apache/calcite/rel/rules/ProjectJoinTransposeRule.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/PushProjector.java
34	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
81	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 395aa85085e0dad1ba14d8761aeb79b2b11c3809
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-04-15 17:04:33 +0200

    [CALCITE-2994] Least restrictive type among structs does not consider nullability

4	1	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactoryImpl.java
12	0	core/src/test/java/org/apache/calcite/sql/type/SqlTypeFactoryTest.java
12	0	core/src/test/java/org/apache/calcite/sql/type/SqlTypeFixture.java

commit 9538374e8fae5cec7d6f7b270850f5dfb4c1fc06
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-04-11 16:47:02 -0700

    [CALCITE-2991] getMaxRowCount should return 1 for an Aggregate with constant keys (Vineet Garg)
    
    Close apache/calcite#1155

24	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdMaxRowCount.java
11	0	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java

commit 53561d2af027bbeaeef4843c7915d33b1af8fb4f
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-04-10 12:20:36 +0800

    [CALCITE-1338] JoinProjectTransposeRule should not pull a literal up through the null-generating side of a join (Chunwei Lei)
    
    Close apache/calcite#1153

32	0	core/src/main/java/org/apache/calcite/plan/Strong.java
13	0	core/src/main/java/org/apache/calcite/rel/rules/JoinProjectTransposeRule.java
99	4	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
200	1	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 38e3c3015b661f8f9dc61d8d0ef4be6186a4bc7a
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2019-04-04 16:32:21 +0800

    [CALCITE-2977] Exception is not thrown when there are ambiguous field in select list
    
    Close #1147

17	7	core/src/main/java/org/apache/calcite/sql/validate/DelegatingScope.java
1	1	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
32	15	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java

commit f2869e9ad3864caa4d1678fbefc50389b981f2e6
Author: Dian Fu <fudian.fd@alibaba-inc.com>
Date:   2018-12-12 21:09:23 +0800

    [CALCITE-2739] NPE is thrown if the DEFINE statement contains IN in MATCH_RECOGNIZE
    
    Close #970

1	0	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
28	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
13	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
20	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 3ed76375fd05b29db17d6117aa0487ccb85f45ba
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-02-28 17:10:34 -0600

    [CALCITE-896] Remove Aggregate if grouping columns are unique and all functions are splittable
    
    Close apache/calcite#1078

56	21	core/src/main/java/org/apache/calcite/rel/rules/AggregateRemoveRule.java
18	4	core/src/main/java/org/apache/calcite/sql/SqlSplittableAggFunction.java
87	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
121	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
2	3	core/src/test/resources/sql/sub-query.iq

commit f596539fcd31e60193d0032c72db9fed3b6f2654
Author: Pressenna Sockalingasamy <pressenna.sockalingasamy@omnisci.com>
Date:   2019-04-09 16:02:22 +0100

    [CALCITE-2427] Allow sub-queries in DML statements (Pressenna Sockalingasamy)
    
    Close apache/calcite#1151

2	0	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
0	1	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
1	2	core/src/test/java/org/apache/calcite/tools/PlannerTest.java
7	13	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit af97f55f1fcbb3cf6005393dffd91eb345c04b6f
Author: ShuMingLi <ming.moriarty@gmail.com>
Date:   2019-04-11 17:12:03 +0800

    [CALCITE-2990] Fix document misspelling in RelInput (Shuming Li)
    
    Close apache/calcite#1154

1	1	core/src/main/java/org/apache/calcite/rel/RelInput.java

commit 72e952d1a79ee2d7ba05de88cbc2ac11f65cd879
Author: zuozhiw <zuozhiw@gmail.com>
Date:   2018-08-09 16:13:58 +0800

    [CALCITE-2456] VolcanoRuleCall doesn't match unordered child operand when the operand is not the first operand. PruneEmptyRules UNION and MINUS with empty inputs cause infinite cycle. (Zuozhi Wang)
    
    UNION and MINUS corrected by Vladimir Sitnikov.
    Note: call.getChildRels(RelNode) was used previously to get inputs of UNION/MINUS,
    and it looks like the method is ill-defined (at least, it returns wrong results).
    
    fixes #784

2	0	core/src/main/java/org/apache/calcite/plan/RelOptRuleCall.java
38	3	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoRuleCall.java
43	42	core/src/main/java/org/apache/calcite/rel/rules/PruneEmptyRules.java
0	1	core/src/test/java/org/apache/calcite/plan/volcano/VolcanoPlannerTest.java
1	2	core/src/test/java/org/apache/calcite/rel/rules/SortRemoveRuleTest.java
147	0	core/src/test/java/org/apache/calcite/tools/PlannerTest.java

commit a8e71f9f295e36e472d9f650d1c76d2501e1fdbf
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-04-07 12:39:41 -0700

    Remove calls to deprecated Guava API
    
    Throwables.propagate was deprecated in Guava 21.
    
    Add '<p>' to a multi-paragraph javadoc comment, and edit for clarity.

6	5	babel/src/test/java/org/apache/calcite/test/BabelParserTest.java
5	1	core/src/main/java/org/apache/calcite/sql/type/SqlTypeAssignmentRules.java
11	7	core/src/main/java/org/apache/calcite/statistic/CachingSqlStatisticProvider.java

commit 16f518b359cdf529d5bbe42cd5e8663001030d14
Author: hongzezhang <hongzezhang@tencent.com>
Date:   2019-02-14 16:22:18 +0800

    [CALCITE-2847] Optimize global LOOKAHEAD for SQL parsers
    
    Close apache/calcite#1041

59	0	babel/src/test/java/org/apache/calcite/test/BabelParserTest.java
2	2	core/pom.xml
117	81	core/src/main/codegen/templates/Parser.jj
76	75	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
3	12	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
1	1	core/src/test/java/org/apache/calcite/test/SqlValidatorMatchTest.java
1	1	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
10	20	core/src/test/resources/sql/lateral.iq
1	1	piglet/pom.xml
5	1	piglet/src/main/javacc/PigletParser.jj
1	1	server/pom.xml
1	1	server/src/main/codegen/includes/parserImpls.ftl
2	2	server/src/test/resources/sql/schema.iq

commit 7bc925872e6ab213a9937a6a4c21cf8c31326910
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-04-02 09:19:23 -0700

    [CALCITE-2976] Improve materialized view rewriting coverage with disjunctive predicates
    
    Close apache/calcite#1144

28	81	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
42	11	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit 906183a35b6355b3f5e394ce838f5ea1dad09ad2
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-03-15 09:43:18 -0700

    [CALCITE-2914] Add a new statistic provider, to improve how LatticeSuggester deduces foreign keys
    
    Statistic provider now generates SQL statements to look at a join
    condition and figure out whether either side is a unique key, and
    whether the other side is a foreign key (i.e. does an anti-join to
    verify referential integrity).
    
    Create new package org.apache.calcite.statistic, and move some
    existing classes such as MapSqlStatisticProvider into it.
    
    In JDBC adapter, when generating SQL for JDBC tables, use the foreign
    catalog, schema and table name.
    
    In Frameworks, use a query provider with a 30 minute, 1,000 element
    cache, rather than map provider as default provider.
    
    In LatticeSuggesterTest we continue to use a MapSqlStatisticProvider,
    for performance reasons.
    
    Fix deprecated calls to AggregateCall.create added in [CALCITE-1172].
    
    Close apache/calcite#1141

124	0	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcRules.java
17	14	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcTable.java
1	0	core/src/main/java/org/apache/calcite/materialize/Lattice.java
0	88	core/src/main/java/org/apache/calcite/materialize/MapSqlStatisticProvider.java
34	2	core/src/main/java/org/apache/calcite/materialize/SqlStatisticProvider.java
32	5	core/src/main/java/org/apache/calcite/materialize/Step.java
2	2	core/src/main/java/org/apache/calcite/rel/core/AggregateCall.java
9	17	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
11	2	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
12	9	core/src/main/java/org/apache/calcite/sql/SqlSplittableAggFunction.java
86	0	core/src/main/java/org/apache/calcite/statistic/CachingSqlStatisticProvider.java
168	0	core/src/main/java/org/apache/calcite/statistic/MapSqlStatisticProvider.java
222	0	core/src/main/java/org/apache/calcite/statistic/QuerySqlStatisticProvider.java
28	0	core/src/main/java/org/apache/calcite/statistic/package-info.java
2	2	core/src/main/java/org/apache/calcite/tools/Frameworks.java
13	12	core/src/test/java/org/apache/calcite/materialize/LatticeSuggesterTest.java
8	6	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
1	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
135	0	core/src/test/java/org/apache/calcite/test/SqlStatisticProviderTest.java

commit 6d57ff983cc8e1bc0db4b8422a5140184dba3053
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-03-26 22:36:51 -0700

    [CALCITE-2954] SubQueryJoinRemoveRule and SubQueryProjectRemoveRule passing on empty set instead of set of correlation id (Vineet Garg)
    
    Close #1135

6	3	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
9	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
39	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit bb4a0638260b6103994b14e1071eb679ae4bb5c2
Author: snuyanzin <snuyanzin@gmail.com>
Date:   2018-12-25 19:51:03 +0300

    [CALCITE-2754] Implement LISTAGG function (Sergey Nuyanzin, Chunwei Lei)
    
    Close #1142

29	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
4	1	core/src/main/java/org/apache/calcite/sql/SqlKind.java
14	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
5	0	core/src/main/java/org/apache/calcite/sql/validate/AggVisitor.java
21	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
56	0	core/src/test/resources/sql/agg.iq
1	1	site/_docs/reference.md

commit 463ab84d2e889a12011a2395ee64dba5cf3e1028
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-03-04 15:40:35 -0600

    [CALCITE-1172] Add rule to flatten two Aggregate operators into one

2	0	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
152	0	core/src/main/java/org/apache/calcite/rel/rules/AggregateMergeRule.java
48	0	core/src/main/java/org/apache/calcite/sql/SqlSplittableAggFunction.java
171	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
171	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 80dc5bcb3efa9c72573c4cc5b02f512d34c20d13
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-03-07 00:34:42 +0800

    [CALCITE-2892] Add the JSON_KEYS function (xuqianjin)
    
    Close apache/calcite#1086

65	60	babel/src/main/codegen/config.fmpp
2	1	core/src/main/codegen/config.fmpp
25	5	core/src/main/codegen/templates/Parser.jj
2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
29	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
0	6	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonDepthFunction.java
54	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonKeysFunction.java
0	8	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonLengthFunction.java
0	6	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonPrettyFunction.java
0	6	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonTypeFunction.java
2	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
2	1	core/src/test/codegen/config.fmpp
19	12	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
9	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
50	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
12	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
45	11	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
6	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
2	1	server/src/main/codegen/config.fmpp
22	1	site/_docs/reference.md

commit 43ba147937dc53dfb86ee8723d45562e48b14d20
Author: rubenada <rubenql@gmail.com>
Date:   2019-03-18 12:21:34 +0100

    [CALCITE-2930] IllegalStateException when FilterCorrelateRule matches a SEMI or ANTI Correlate (Ruben Quesada Lopez)
    
    Close #1112

12	3	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
3	2	core/src/main/java/org/apache/calcite/rel/rules/FilterCorrelateRule.java
29	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableCorrelateTest.java

commit e043640ef1c3eef36bab457fc98303a7627b5505
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-03-08 11:33:27 -0600

    [CALCITE-2004] Push join predicate down into inner relation for lateral join
    
    Before this patch, the join predicate was put on top of LogicalCorrelate, which
    is wrong plan and may cause wrong result for left outer lateral join.

45	4	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
1	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
85	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
14	0	core/src/test/java/org/apache/calcite/test/TableFunctionTest.java
18	18	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
142	3	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit a75a689eff2f1333adc8fb800bdfa077e94da562
Author: siddharth <siddharth@dremio.com>
Date:   2019-02-06 12:06:13 -0800

    [CALCITE-2820] Avoid reducing certain aggregate functions when
    it is not necessary (Siddharth Teotia)

50	12	core/src/main/java/org/apache/calcite/rel/rules/AggregateReduceFunctionsRule.java
81	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
123	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit d7946a94adfd2e788f5d324910944dd65dab11ee
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-03-27 14:58:58 +0800

    [CALCITE-883] Support RESPECT NULLS, IGNORE NULLS option for LEAD, LAG, FIRST_VALUE, LAST_VALUE, NTH_VALUE functions (Chunwei Lei)
    
    IGNORE NULLS works in the parser and validator but not at runtime.
    
    We have changed the Rex model support for aggregate functions even
    though today it is only valid for windowed functions.
    
    Fix javadoc error on JDK 8.
    
    Close apache/calcite#1108

2	0	core/src/main/codegen/config.fmpp
23	0	core/src/main/codegen/templates/Parser.jj
3	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableWindow.java
10	34	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
1	0	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
48	18	core/src/main/java/org/apache/calcite/rel/core/AggregateCall.java
19	4	core/src/main/java/org/apache/calcite/rel/core/Window.java
2	2	core/src/main/java/org/apache/calcite/rel/externalize/RelJson.java
1	1	core/src/main/java/org/apache/calcite/rel/externalize/RelJsonReader.java
2	1	core/src/main/java/org/apache/calcite/rel/logical/LogicalWindow.java
13	7	core/src/main/java/org/apache/calcite/rel/rules/AggregateExpandDistinctAggregatesRule.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateFilterTransposeRule.java
10	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateReduceFunctionsRule.java
4	3	core/src/main/java/org/apache/calcite/rel/rules/AggregateStarTableRule.java
3	7	core/src/main/java/org/apache/calcite/rel/rules/AggregateUnionTransposeRule.java
4	5	core/src/main/java/org/apache/calcite/rel/rules/ProjectWindowTransposeRule.java
23	25	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
27	16	core/src/main/java/org/apache/calcite/rex/RexBuilder.java
11	1	core/src/main/java/org/apache/calcite/rex/RexOver.java
2	1	core/src/main/java/org/apache/calcite/rex/RexShuttle.java
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
6	0	core/src/main/java/org/apache/calcite/sql/SqlAggFunction.java
1	1	core/src/main/java/org/apache/calcite/sql/SqlFilterOperator.java
11	0	core/src/main/java/org/apache/calcite/sql/SqlKind.java
67	0	core/src/main/java/org/apache/calcite/sql/SqlNullTreatmentOperator.java
6	0	core/src/main/java/org/apache/calcite/sql/SqlOverOperator.java
4	3	core/src/main/java/org/apache/calcite/sql/SqlSplittableAggFunction.java
4	0	core/src/main/java/org/apache/calcite/sql/fun/SqlFirstLastValueAggFunction.java
4	0	core/src/main/java/org/apache/calcite/sql/fun/SqlLeadLagAggFunction.java
4	0	core/src/main/java/org/apache/calcite/sql/fun/SqlNthValueAggFunction.java
9	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
5	5	core/src/main/java/org/apache/calcite/sql/validate/AggChecker.java
35	14	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
44	27	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
4	4	core/src/test/java/org/apache/calcite/plan/RelWriterTest.java
1	1	core/src/test/java/org/apache/calcite/plan/volcano/TraitPropagationTest.java
45	13	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
24	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
22	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
88	4	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
26	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
35	6	site/_docs/reference.md

commit 42f57618149b854a0ff8a7cce396c9b8f4d0d4e0
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-03-31 14:41:45 -0700

    Cosmetic changes
    
    Fix javadoc error in E?numerableLimitRuleTest on JDK 8.

8	16	core/src/main/java/org/apache/calcite/rel/rules/ExchangeRemoveConstantKeysRule.java
1	2	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonApiCommonSyntaxOperator.java
1	1	core/src/main/java/org/apache/calcite/sql2rel/AuxiliaryConverter.java
2	2	core/src/main/java/org/apache/calcite/tools/Programs.java
13	10	core/src/test/java/org/apache/calcite/rel/rules/EnumerableLimitRuleTest.java
2	2	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchEnumerators.java
1	3	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/Scrolling.java
7	7	site/develop/index.md

commit 81fa5314e94e86b6cf8df244b03f9d57c884f54d
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-03-24 17:05:54 +0100

    Site: Add guidelines for JIRA's fix version field
    
    Add guidelines for setting correctly the fix version field in JIRA, as discussed with Francis Chuang and Julian Hyde.

20	0	site/develop/index.md

commit b6d663c0a4546fcad2ecbf3cf66192ad1ab85854
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2019-03-30 13:41:01 +0800

    Site: Update content of "Not implemented" since JSON_LENGH has already been added

0	1	site/_docs/reference.md

commit 9bce62c6b6abd13d551d0eed1f1e14b024bbb2ae
Author: Hongze Zhang <hongze@apache.org>
Date:   2019-03-11 15:46:08 +0800

    Site: Improve documentation for MySQL-specific JSON operators
    
    Also, simplify a bit on type handling logic for JSON_TYPE function.

1	5	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
89	41	site/_docs/reference.md

commit 136c9c5d75cf7b0809c3bde3525956d2c58470c7
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2019-03-28 14:04:03 +0800

    [CALCITE-2928] When resolving user-defined functions (UDFs), use the case-sensitivity of the current connection (Danny Chan)
    
    Move SqlUtil.makeCall to SqlValidator.makeNullaryCall; it just makes
    sense now that it is using SqlOperatorTable and SqlNameMatcher from the
    validator.
    
    Close apache/calcite#1137

4	2	core/src/main/java/org/apache/calcite/prepare/CalciteCatalogReader.java
1	1	core/src/main/java/org/apache/calcite/sql/SqlBasicCall.java
3	1	core/src/main/java/org/apache/calcite/sql/SqlCall.java
5	2	core/src/main/java/org/apache/calcite/sql/SqlFunction.java
2	8	core/src/main/java/org/apache/calcite/sql/SqlIdentifier.java
4	3	core/src/main/java/org/apache/calcite/sql/SqlOperator.java
5	1	core/src/main/java/org/apache/calcite/sql/SqlOperatorTable.java
30	48	core/src/main/java/org/apache/calcite/sql/SqlUtil.java
3	1	core/src/main/java/org/apache/calcite/sql/parser/SqlAbstractParserImpl.java
4	2	core/src/main/java/org/apache/calcite/sql/util/ChainedSqlOperatorTable.java
4	2	core/src/main/java/org/apache/calcite/sql/util/ListSqlOperatorTable.java
50	21	core/src/main/java/org/apache/calcite/sql/util/ReflectiveSqlOperatorTable.java
1	5	core/src/main/java/org/apache/calcite/sql/validate/AggChecker.java
6	5	core/src/main/java/org/apache/calcite/sql/validate/AggFinder.java
11	5	core/src/main/java/org/apache/calcite/sql/validate/AggVisitor.java
8	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidator.java
45	25	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
2	1	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorUtil.java
1	1	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
16	4	core/src/test/java/org/apache/calcite/prepare/LookupOperatorOverloadsTest.java
8	14	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
23	0	core/src/test/java/org/apache/calcite/test/MockSqlOperatorTable.java
55	1	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java

commit 22fd34f892a2232d393bd5906f8bb1f21f1dff50
Author: rubenada <rubenql@gmail.com>
Date:   2019-03-15 16:56:54 +0100

    [CALCITE-2920] In RelBuilder, add antiJoin method (Ruben Quesada Lopez)
    
    There is no AntiJoin relational operator (for now), so generate a
    Correlate instead.
    
    Close apache/calcite#1110

8	1	core/src/main/java/org/apache/calcite/runtime/FlatLists.java
22	7	core/src/main/java/org/apache/calcite/sql/SemiJoinType.java
77	2	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
21	3	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
15	16	core/src/test/java/org/apache/calcite/test/LatticeTest.java
22	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
65	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableCorrelateTest.java
1	0	site/_docs/algebra.md

commit a3c0abd920e65afd47abc2afffd645d6f851ad15
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-03-11 20:27:15 +0800

    [CALCITE-1515] In RelBuilder, add functionScan method to create TableFunctionScan (Chunwei Lei)
    
    Allow RelBuilder.functionScan() to have 0 relational inputs, rework
    the RexCall produced by the CURSOR function, and add an overload of
    functionScan with "(RexNode...)" arguments. (Julian Hyde)
    
    Close apache/calcite#1102

32	0	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
3	2	core/src/main/java/org/apache/calcite/rel/core/TableFunctionScan.java
5	4	core/src/main/java/org/apache/calcite/rel/logical/LogicalTableFunctionScan.java
69	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
54	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
3	0	site/_docs/algebra.md

commit 1018d25af62da638f8125e24214d3b97a76f71c2
Author: Will Yu <wmy7ymw@gmail.com>
Date:   2019-03-22 21:36:16 -0700

    [CALCITE-2900] RelStructuredTypeFlattener generates wrong types on nested columns (Will Yu)
    
    Close #1104

17	5	core/src/main/java/org/apache/calcite/sql2rel/RelStructuredTypeFlattener.java
11	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
10	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 382f62c84ac1c976c6569fde8be225b32d865730
Author: rubenada <rubenql@gmail.com>
Date:   2019-03-21 11:45:05 +0100

    [CALCITE-2941] EnumerableLimitRule on Sort with no collation creates EnumerableLimit with wrong traitSet and cluster (Ruben Quesada Lopez)

2	10	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableLimitRule.java
100	0	core/src/test/java/org/apache/calcite/rel/rules/EnumerableLimitRuleTest.java

commit 59aa1153cfc60c8c29af3eccdbf353b3887926ef
Author: rubenada <rubenql@gmail.com>
Date:   2019-03-11 11:15:05 +0100

    [CALCITE-2909] Optimize Enumerable SemiJoin with lazy computation of innerLookup (Ruben Quesada Lopez)

7	3	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java

commit 5cdf8562e1aaf97d5ba16ccafc3e16a96966561d
Author: Kevin Risden <krisden@apache.org>
Date:   2019-03-29 15:19:05 -0400

    [CALCITE-2961] Enable Travis to test against JDK 13
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	0	.travis.yml
4	5	cassandra/src/test/java/org/apache/calcite/test/CassandraAdapterTest.java

commit 0537f27d87598dea888050a4cc63cf4d6fe027d7
Author: chunwei.lcw <chunweilcw@163.com>
Date:   2018-11-15 20:40:59 +0800

    [CALCITE-2658] Add ExchangeRemoveConstantKeysRule that removes constant keys from Exchange or SortExchange (Chunwei Lei)

4	1	core/src/main/java/org/apache/calcite/prepare/CalcitePrepareImpl.java
209	0	core/src/main/java/org/apache/calcite/rel/rules/ExchangeRemoveConstantKeysRule.java
36	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
20	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit a619caeb8742ff0b9fbd762d2a5c47168828886d
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-11-11 13:55:43 +0800

    Oops!
    
    Close apache/calcite#912

-	-	core/src/main/java/org/apache/calcite/runtime/.SqlFunctions.java.swp

commit 3124a85b93ff2f1b79484c7bd4cc41835d4f1920
Author: wangzzu <wangm92@163.com>
Date:   2019-03-18 09:57:44 +0800

    [CALCITE-2927] The Javadoc and implement of RuleQueue.computeImportance() is inconsistent (Meng Wang)
    
    Close apache/calcite#1111

2	2	core/src/main/java/org/apache/calcite/plan/volcano/RuleQueue.java

commit aafdc5219682e535144b1f25e2e41884f793d514
Author: chunwei.lcw <chunweilcw@163.com>
Date:   2018-11-11 13:55:43 +0800

    [CALCITE-2729] Introducing WindowReduceExpressionsRule (Chunwei Lei)

1	0	core/src/main/java/org/apache/calcite/prepare/CalcitePrepareImpl.java
88	0	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
19	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
28	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 2d33c57bff41b6ea473f8f60505a10b196ea79d7
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-03-05 18:35:24 +0800

    [CALCITE-2808] Add the JSON_LENGTH function (xuqianjin)
    
    Close apache/calcite#1070

2	3	babel/src/main/codegen/config.fmpp
1	0	core/src/main/codegen/config.fmpp
40	10	core/src/main/codegen/templates/Parser.jj
6	1	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
-	-	core/src/main/java/org/apache/calcite/runtime/.SqlFunctions.java.swp
10	4	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
58	4	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
26	8	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonApiCommonSyntaxOperator.java
65	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonLengthFunction.java
6	1	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
3	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
4	2	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
1	0	core/src/test/codegen/config.fmpp
9	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
11	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
52	2	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
17	8	core/src/test/java/org/apache/calcite/test/JdbcTest.java
36	0	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
9	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
1	0	server/src/main/codegen/config.fmpp
21	0	site/_docs/reference.md

commit 8d81495967533c556d861cfda8de5adcb9fd912c
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-03-08 21:20:14 -0600

    [CALCITE-2903] Exception thrown when decorrelating query with TEMPORAL TABLE
    
    Close apache/calcite#1098

13	0	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
44	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
61	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 78874654979eeb9240261f48cf6ff3a994559975
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-03-27 16:31:46 -0700

    Update instructions for publishing site; we previously used subversion, now we use git

7	2	site/README.md

commit 62fc0e649c460e9f4ca10b302a9c260206914c72
Author: chadasa <44845836+chadasa@users.noreply.github.com>
Date:   2019-02-27 09:51:57 +0530

    [CALCITE-2877] Make GeodeSchema constructor public to pass client cache object (Sandeep Chada)

1	9	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeSchema.java
5	2	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeSchemaFactory.java
4	2	geode/src/main/java/org/apache/calcite/adapter/geode/util/GeodeUtils.java

commit a9687de8145de35262c34288c27961585c141ca7
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-03-26 21:55:52 -0700

    [CALCITE-2958] Upgrade SQLLine to 1.7.0
    
    Close apache/calcite#1136

1	1	pom.xml

commit 650d24b9a330489b313d7fc07430b345f5c989f7
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-03-18 13:31:02 -0700

    Site: Add Alibaba MaxCompute to powered-by page
    
    Close apache/calcite#1113

7	0	site/_docs/powered_by.md
-	-	site/img/powered-by.png

commit ddbcd3955245787fc770d0cee589660a9abd81ad
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-03-10 20:57:27 -0700

    Suppress deprecation warning, and remove unicode character from Java source file
    
    Re-format and re-order change log in 1.19 release notes, and fix release date.

3	3	core/src/main/java/org/apache/calcite/adapter/enumerable/PhysType.java
1	0	core/src/main/java/org/apache/calcite/adapter/enumerable/PhysTypeImpl.java
1	1	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
105	79	site/_docs/history.md
4	5	ubenchmark/src/main/java/org/apache/calcite/benchmarks/AbstractRelNodeGetRelTypeNameBenchmark.java

commit 1f4b61989faec2a4b5a4a8eac58cd621843cf2b3
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-01-22 10:44:29 -0800

    [CALCITE-2796] JDBC adapter should convert 'GROUP BY ROLLUP(x, y)' to 'GROUP BY x, y WITH ROLLUP' for MySQL 5
    
    Add 'Util.select(List<E>, List<Integer>)'.
    
    In Aggregate.Group, broaden patterns of grouping sets that are
    considered a "rollup". Previously [{}, {0}, {0,1}] would have been
    considered a rollup, but [{}, {1}, {0, 1}] would not, because of bit
    order. Now they are both considered rollups. Add Group.getRollup(),
    which generates the sequence of bits, for example [0, 1] and [1, 0]
    for the previous examples.

1	10	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
2	1	core/src/main/java/org/apache/calcite/rel/RelFieldCollation.java
60	10	core/src/main/java/org/apache/calcite/rel/core/Aggregate.java
125	10	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
37	2	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
11	0	core/src/main/java/org/apache/calcite/sql/dialect/MysqlSqlDialect.java
18	0	core/src/main/java/org/apache/calcite/sql/fun/SqlRollupOperator.java
6	0	core/src/main/java/org/apache/calcite/tools/Programs.java
3	3	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
14	0	core/src/main/java/org/apache/calcite/util/Util.java
145	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
63	11	core/src/test/java/org/apache/calcite/test/InduceGroupingTypeTest.java
34	0	core/src/test/java/org/apache/calcite/util/UtilTest.java
1	13	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeRules.java

commit 4fdf241dfb8cc555ab28c6cba7a152e4cc4ec169
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-01-22 12:30:47 -0800

    In RelFieldCollation, add a "withX" copy method for each attribute "X", and deprecate "copy"
    
    Annotate SqlNode.getKind() and SqlCall.getOperandList() as Nonnull.

2	2	core/src/main/java/org/apache/calcite/rel/RelCollations.java
21	5	core/src/main/java/org/apache/calcite/rel/RelFieldCollation.java
1	1	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/ProjectWindowTransposeRule.java
1	2	core/src/main/java/org/apache/calcite/rex/RexProgram.java
1	1	core/src/main/java/org/apache/calcite/rex/RexUtil.java
3	2	core/src/main/java/org/apache/calcite/sql/SqlCall.java
2	1	core/src/main/java/org/apache/calcite/sql/SqlNode.java

commit 90e69d4188c02420027b51b11c315330759ec2ea
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-03-27 07:35:54 -0700

    [CALCITE-2953] LatticeTest.testTileAlgorithm2 and LatticeTest.testTileAlgorithm3 fail intermittently
    
    Close apache/calcite#1134

27	6	core/src/test/java/org/apache/calcite/test/LatticeTest.java

commit 11c067f9992d9c8bc29e2326dd8b299ad1e9dbdc
Author: Francis Chuang <francischuang@apache.org>
Date:   2019-03-27 08:54:49 +1100

    Site: Add new committers (Haisheng Yuan, Hongze Zhang and Stamatis Zampetakis)

15	0	site/_data/contributors.yml

commit 35ab6c768607226a25a9c033675f62707f0fca0f
Author: Kevin Risden <krisden@apache.org>
Date:   2019-03-26 08:27:49 -0400

    [CALCITE-2952] Add JDK 12 as tested to 1.19.0 history
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	1	site/_docs/history.md

commit 1b430721c0d9e22b2252ffcd893b42959cb7966c
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-03-25 18:57:56 -0700

    [CALCITE-574] Remove org.apache.calcite.util.Bug.CALCITE_461_FIXED

1	3	core/src/main/java/org/apache/calcite/rel/core/Aggregate.java
0	9	core/src/main/java/org/apache/calcite/util/Bug.java

commit 81143c8308b302a3f69eb14fb2dc6753a1b891bf
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-03-14 19:21:39 -0500

    [CALCITE-589] Extend unifyAggregates method to work with Grouping Sets
    
    Close apache/calcite#1106

15	14	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
2	1	core/src/main/java/org/apache/calcite/rel/mutable/MutableAggregate.java
34	1	core/src/test/java/org/apache/calcite/test/MaterializationTest.java

commit 25ffeb4ac9c996855f8a946f6180dc01844f80dc
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-03-11 14:10:49 +0800

    [CALCITE-2908] Implement SQL LAST_DAY function (Chunwei Lei)

3	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
27	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
9	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
8	0	core/src/main/java/org/apache/calcite/sql/type/ReturnTypes.java
1	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
77	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
21	0	core/src/test/resources/sql/misc.iq
1	0	site/_docs/reference.md

commit 406129b97a47262f7307de64bf24c26b2eba70eb
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-03-19 18:30:36 -0700

    [CALCITE-2951] Support decorrelate subquery that has aggregate with grouping sets (Haisheng Yuan)
    
    Close apache/calcite#1118

11	5	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
13	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
25	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 2fa7fd79b7dbb09276574784baa80b99edf37412
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-03-22 18:31:31 -0700

    [CALCITE-2946] RelBuilder wrongly skips creation of Aggregate that prunes columns if input produces one row at most
    
    Close apache/calcite#1128

1	1	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
19	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit ecc100ea23bdb5dd1a4c34633c3a376856b64970
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-03-21 15:21:35 -0700

    [CALCITE-2943] Materialized view rewriting logic calls getApplicableMaterializations each time the rule is triggered
    
    Close apache/calcite#1125

1	1	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
294	289	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java

commit 79f432457f843060a76177c4d80f3c5d72d8047d
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-03-21 09:25:06 -0700

    [CALCITE-2942] Materialized view rewriting logic instantiates RelMetadataQuery each time the rule is triggered
    
    Close apache/calcite#1124

1	1	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java

commit 06b1894db15dd299590c5056a17f87bac9183eb1
Author: Kevin Risden <krisden@apache.org>
Date:   2019-03-25 08:37:23 -0400

    Site: News item for release 1.19.0

34	0	site/_posts/2019-03-26-release-1.19.0.md

commit b8f4edfcf107aa99f9e8007b3f26f2b94ba7d341
Author: Kevin Risden <krisden@apache.org>
Date:   2019-03-20 13:36:33 -0400

    [maven-release-plugin] prepare for next development iteration

2	2	babel/pom.xml
2	2	cassandra/pom.xml
2	2	core/pom.xml
2	2	druid/pom.xml
2	2	elasticsearch/pom.xml
2	2	example/csv/pom.xml
2	2	example/function/pom.xml
2	2	example/pom.xml
2	2	file/pom.xml
2	2	geode/pom.xml
2	2	linq4j/pom.xml
2	2	mongodb/pom.xml
2	2	pig/pom.xml
2	2	piglet/pom.xml
2	2	plus/pom.xml
2	2	pom.xml
2	2	server/pom.xml
2	2	spark/pom.xml
2	2	splunk/pom.xml
1	1	ubenchmark/pom.xml

commit 4143176acdb2860b3a80eb18e4cb1557f5969d13
Author: Kevin Risden <krisden@apache.org>
Date:   2019-03-20 13:36:11 -0400

    [maven-release-plugin] prepare release calcite-1.19.0

2	2	babel/pom.xml
2	2	cassandra/pom.xml
2	2	core/pom.xml
2	2	druid/pom.xml
2	2	elasticsearch/pom.xml
2	2	example/csv/pom.xml
2	2	example/function/pom.xml
2	2	example/pom.xml
2	2	file/pom.xml
2	2	geode/pom.xml
2	2	linq4j/pom.xml
2	2	mongodb/pom.xml
2	2	pig/pom.xml
2	2	piglet/pom.xml
2	2	plus/pom.xml
2	2	pom.xml
2	2	server/pom.xml
2	2	spark/pom.xml
2	2	splunk/pom.xml
1	1	ubenchmark/pom.xml

commit e0e36cf7089a4da32e69a6abd5dc200acf03f661
Author: Kevin Risden <krisden@apache.org>
Date:   2019-03-13 13:31:36 -0400

    [CALCITE-2911] Release Calcite 1.19.0
    
    * Change version numbers
    * Release notes
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	1	README
1	1	pom.xml
221	0	site/_docs/history.md
2	2	site/_docs/howto.md

commit a648f9c12309cc253628930b0cab98591caa66ab
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-03-18 09:56:07 +0100

    [CALCITE-2929] Simplification of IS NULL checks are incorrectly assuming that CAST-s are possible
    
    * for non-nullable types the cast was discarded in case of an IS NULL check; so it might resulted in missing errors
      cast('invalid' as int) IS NULL
    * in case of non-nullable types; IS NULL have made the assumption that cast will not change its nullability (which is true); however it may raise an error - so it can't be removed.
    
    Close apache/calcite#1116
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

9	2	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
14	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
3	3	core/src/test/resources/sql/sub-query.iq
1	1	spark/src/test/java/org/apache/calcite/test/SparkAdapterTest.java

commit 1229ef27094ea73ad9c7a397f442285c7e1df9b0
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2019-03-19 16:07:00 +0800

    [CALCITE-2932] Update stale Druid integration test cases
    
    Also, fix IOBE during pushing down filtered aggregate in Druid adapter.
    
    Close apache/calcite#1115
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

6	0	core/src/main/java/org/apache/calcite/util/Bug.java
3	2	druid/src/main/java/org/apache/calcite/adapter/druid/DruidRules.java
52	56	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java
58	64	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT2.java

commit 600da53545eb9b116aae7692ba287a7acd23d987
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-03-18 17:21:23 -0400

    [CALCITE-2931] Mongo Adapter- Compare Bson (not string) query representation in tests
    
    Some tests currently fail because of wrong order of keys in Bson.
    
    ```text
    // Expected
    {$project: {POP: '$pop', STATE: '$state'}}
    
    // Actual
    {$project: {STATE: '$state', POP: '$pop'}}
    ```
    
    Close apache/calcite#1114
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

32	10	mongodb/src/test/java/org/apache/calcite/adapter/mongodb/MongoAdapterTest.java

commit ffca956be03a99cd11e440d652b09674aaa727e6
Author: Kevin Risden <krisden@apache.org>
Date:   2019-03-15 09:16:53 -0400

    [CALCITE-2925] Exclude maven-wrapper.jar from source distribution
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

2	0	src/main/config/assemblies/source-assembly.xml

commit 8f4a79735078f025a35e5e83637bce99ca98f348
Author: Kevin Risden <krisden@apache.org>
Date:   2019-03-12 12:40:14 -0400

    [CALCITE-2916] Upgrade jackson to 2.9.8
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	1	pom.xml

commit f33e1b8f5609f11b039577694023241156951c08
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-03-08 18:56:44 +0100

    [CALCITE-2902] Improve performance of AbstractRelNode#computeDigest
    
    1. Use StringBuilder instead of PrintWriter for building the digest, which is more efficient to initialize and append to.
    2. Improve (sligthly) the performance of AbstractRelNode#getRelTypeName (used in the digest) by performing:
    a. one lastIndexOf operation instead of potentially two;
    b. char instead of char[] array comparison.
    3. Add micro benchmark with different implementations of AbstractRelNode#getRelTypeName showing the benefit of the adopted implementation.
    4. Improve RelWriter interface with default methods and refactor respective classes.

69	48	core/src/main/java/org/apache/calcite/rel/AbstractRelNode.java
9	3	core/src/main/java/org/apache/calcite/rel/RelWriter.java
1	12	core/src/main/java/org/apache/calcite/rel/externalize/RelJsonWriter.java
0	16	core/src/main/java/org/apache/calcite/rel/externalize/RelWriterImpl.java
261	0	ubenchmark/src/main/java/org/apache/calcite/benchmarks/AbstractRelNodeGetRelTypeNameBenchmark.java

commit a4813575ea8bfdb7dd65ddbf37d150835dad1d5d
Author: Chunwei Lei <chunwei.lcw@alibaba-inc.com>
Date:   2019-03-10 00:56:15 +0800

    [CALCITE-2599] Implement SQL ASCII function (Chunwei Lei)
    
    It follows PostgreSQL standard which returns unicode code point for non-ASCII chars

2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
6	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
9	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
13	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
1	1	site/_docs/reference.md

commit bfc842a043fc1fb0776d4d2ac633cf91acda3dc0
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-11-16 15:09:34 +0100

    [CALCITE-2677] Struct types with one field are not mapped correctly to Java Classes
    
    1. Remove wrong unnesting of single field struct types from JavaTypeFactoryImpl and EnumUtils.
    2. Refactor and move EnumUtils#javaRowClass method in PhysTypeImpl since it is used in only one place.
    3. Add tests for JavaTypeFactoryImpl#getJavaClass and PhysType#fieldClass methods.
    4. Modify EnumerableCollect to work always with rows represented as Object[], necessary for having MULTISET working after fixing CALCITE-2776.
    5. Modify PhysType#convertTo to use JavaRowFormat instead of PhysType since the conversion is meant to only change the representation of rows in Java.
    6. Disallow optimizations of the row format in the PhysType#convertTo method.
    7. Implement SqlFunctions.slice method according to the specification in StdSqlOperatorTable.SLICE.
    8. Add struct.iq test for reproducing CALCITE-2677 and CALCITE-2776.
    9. Escape tests affected by CALCITE-2776.

0	9	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumUtils.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableAggregate.java
15	3	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCollect.java
1	4	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableScan.java
12	1	core/src/main/java/org/apache/calcite/adapter/enumerable/PhysType.java
20	5	core/src/main/java/org/apache/calcite/adapter/enumerable/PhysTypeImpl.java
0	3	core/src/main/java/org/apache/calcite/jdbc/JavaTypeFactoryImpl.java
5	1	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
5	0	core/src/main/java/org/apache/calcite/util/Bug.java
72	0	core/src/test/java/org/apache/calcite/adapter/enumerable/PhysTypeTest.java
94	0	core/src/test/java/org/apache/calcite/jdbc/JavaTypeFactoryTest.java
2	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
2	0	core/src/test/java/org/apache/calcite/test/QuidemTest.java
37	0	core/src/test/resources/sql/struct.iq

commit 5ee592a19bf377438aa100dbc19d40ae8b2e2cd9
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-02-27 15:54:04 -0600

    [CALCITE-2818] EXTRACT returns wrong results for DATE and TIMESTAMP values before epoch (Haisheng Yuan)

6	7	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
67	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
6	6	core/src/test/resources/sql/misc.iq

commit 3ba81e2fda4a66fcc6acdd24a8688c8292bbfcff
Author: Jark Wu <wuchong.wc@alibaba-inc.com>
Date:   2017-12-12 20:02:30 +0800

    [CALCITE-1912] Temporal tables, "FOR SYSTEM_TIME AS OF" SQL clause, and add Snapshot relational operator (Jark Wu)
    
    Close apache/calcite#759

30	17	core/src/main/codegen/templates/Parser.jj
5	0	core/src/main/java/org/apache/calcite/prepare/RelOptTableImpl.java
27	1	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
110	0	core/src/main/java/org/apache/calcite/rel/core/Snapshot.java
74	0	core/src/main/java/org/apache/calcite/rel/logical/LogicalSnapshot.java
6	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
7	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdDistribution.java
6	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
7	0	core/src/main/java/org/apache/calcite/schema/Schema.java
35	0	core/src/main/java/org/apache/calcite/schema/TemporalTable.java
6	0	core/src/main/java/org/apache/calcite/sql/SqlKind.java
2	1	core/src/main/java/org/apache/calcite/sql/SqlLateralOperator.java
135	0	core/src/main/java/org/apache/calcite/sql/SqlSnapshot.java
37	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
5	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorTable.java
9	0	core/src/main/java/org/apache/calcite/sql2rel/RelStructuredTypeFlattener.java
20	0	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
18	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
2	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
2	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
9	0	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
43	1	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
22	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
21	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
43	0	core/src/test/java/org/apache/calcite/test/StreamTest.java
34	20	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReader.java
13	2	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderSimple.java
46	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
1	0	site/_docs/algebra.md
1	0	site/_docs/reference.md

commit 870d5f48de16d44e44a09891018ba2c138980f68
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2018-12-06 17:33:55 +0800

    [CALCITE-2674] Column name with escape character should not be verified as a function when the column name is same with it (Danny Chan)
    
    Fix-ups (Julian Hyde):
    * Make SqlParserPos immutable, and create a sub-class for quoted identifiers;
    * Add case to SqlParserTest;
    * Convert 'assert' to 'assertThat' in a test.
    
    Close apache/calcite#958

64	46	core/src/main/codegen/templates/Parser.jj
12	0	core/src/main/java/org/apache/calcite/sql/SqlIdentifier.java
1	1	core/src/main/java/org/apache/calcite/sql/SqlUtil.java
31	0	core/src/main/java/org/apache/calcite/sql/parser/SqlParserPos.java
30	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
133	0	core/src/test/java/org/apache/calcite/sql/validate/LexEscapeTest.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java

commit e226ae49f987dde3a64b69cd474152d9adc7c38c
Author: Julian Hyde <jhyde@apache.org>
Date:   2019-03-07 16:29:23 -0800

    Cosmetic changes
    
    Remove duplicate calcite-core:test inclusion in piglet/pom.xml
    
    Remove ubenchmark package-info.java (was freaking out shade) and
    suppress the resulting checkstyle warning.
    
    Add RelToSqlConverterStructsTest to CalciteSuite.

3	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableInterpretable.java
43	23	core/src/main/java/org/apache/calcite/config/CalciteSystemProperty.java
2	2	core/src/main/java/org/apache/calcite/plan/volcano/RuleQueue.java
5	6	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
6	6	core/src/main/java/org/apache/calcite/rel/rules/FilterProjectTransposeRule.java
3	2	core/src/main/java/org/apache/calcite/rex/RexCall.java
2	2	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
8	9	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonDepthFunction.java
8	9	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonTypeFunction.java
1	3	core/src/test/java/org/apache/calcite/plan/RelWriterTest.java
9	9	core/src/test/java/org/apache/calcite/rel/rules/SortRemoveRuleTest.java
4	4	core/src/test/java/org/apache/calcite/schemas/HrClusteredSchema.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
6	11	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
1	1	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
1	1	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
2	2	core/src/test/resources/sql/sub-query.iq
2	1	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java
4	4	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/Projection2Test.java
18	20	linq4j/src/test/java/org/apache/calcite/linq4j/test/JoinPreserveOrderTest.java
0	6	piglet/pom.xml
5	3	site/_docs/elasticsearch_adapter.md
1	1	site/develop/index.md
1	0	src/main/config/checkstyle/suppressions.xml
6	7	ubenchmark/src/main/java/org/apache/calcite/adapter/enumerable/CodeGenerationBenchmark.java
0	26	ubenchmark/src/main/java/org/apache/calcite/adapter/enumerable/package-info.java
7	6	ubenchmark/src/main/java/org/apache/calcite/benchmarks/StringConstructBenchmark.java

commit 50012d221d6e9a5e42a957ab0723e0f706b25be3
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-03-06 17:53:59 +0100

    [CALCITE-2899] Deprecate RelTraitPropagationVisitor and remove its usages
    
    The class is deprecated for the following reasons:
    1. The contract and behavior of RelTraitPropagationVisitor are not consistent.
    2. It traverses RelNode subtrees after every rule transformation affecting performance.
    3. It exists only for debugging purposes and we have no proof that helps discover issues.
    4. It not modified for the past five years.
    5. It is unlikely to be used in the future.

0	4	core/src/main/java/org/apache/calcite/plan/RelOptRule.java
12	0	core/src/main/java/org/apache/calcite/plan/RelTraitPropagationVisitor.java
0	9	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoRuleCall.java

commit ea5a0364eec6c0de9a52d51a40609692d6e4ad76
Author: chunwei.lcw <chunwei.lcw@alibaba-inc.com>
Date:   2019-03-06 16:48:45 +0800

    [CALCITE-2895] Add missing arguments to constructor javadoc of LogicAggregate (Chunwei Lei)

5	2	core/src/main/java/org/apache/calcite/rel/logical/LogicalAggregate.java

commit f992e6c8fbc3712c6bd70096fb6b05da448b2cab
Author: hongzezhang <hongzezhang@tencent.com>
Date:   2019-02-28 11:38:42 +0800

    [CALCITE-2785] In EnumerableAggregate, wrong result produced if there are sorted aggregates and non-sorted aggregates at the same time
    
    Rename SequencedAdderAggregateLambdaFactory to BasicAggregateLambdaFactory;
    Rename OrderedAggregateLambdaFactory to LazyAggregateLambdaFactory;
    Add BasicLazyAccumulator.

3	3	core/src/main/java/org/apache/calcite/adapter/enumerable/{SequencedAdderAggregateLambdaFactory.java => BasicAggregateLambdaFactory.java}
45	0	core/src/main/java/org/apache/calcite/adapter/enumerable/BasicLazyAccumulator.java
13	5	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableAggregate.java
24	16	core/src/main/java/org/apache/calcite/adapter/enumerable/{OrderedAggregateLambdaFactory.java => LazyAggregateLambdaFactory.java}
12	5	core/src/main/java/org/apache/calcite/adapter/enumerable/SourceSorter.java
6	4	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
21	0	core/src/test/resources/sql/agg.iq

commit f2638b9f7dc878f3f109cbc59d1a6ae02d3d5696
Author: Francis Chuang <francischuang@apache.org>
Date:   2019-03-07 10:39:30 +1100

    Switch from maven:alpine to maven image for generating javadoc when building the site

1	1	site/docker-compose.yml

commit c3fa21b805edf5be79ef4a4992d7b5213488cbaa
Author: rubenada <rubenql@gmail.com>
Date:   2019-03-06 10:27:56 +0100

    [CALCITE-2894] NullPointerException thrown by RelMdPercentageOriginalRows when explaining plan with all attributes

16	4	core/src/main/java/org/apache/calcite/rel/metadata/RelMdPercentageOriginalRows.java
45	0	core/src/test/java/org/apache/calcite/test/RelMdPercentageOriginalRowsTest.java

commit e2b364e3353b4b78ac74e6404410df6f1a130950
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-03-06 11:19:20 +0100

    [CALCITE-2897] Reduce expensive calls to Class#getSimpleName
    
    1. Replace rule.getClass().getSimpleName() with rule.toString():
    (i) It conforms to the API VolcanoPlannerPhaseRuleMappingInitializer;
    (ii) It is safer to use when the same rule class has many instances;
    (iii) It is much more efficient.
    2. Precompute the class name for Boxed primitives and use where necessary.
    3. Remove Types#boxClassName since it is slightly redundant.

6	4	core/src/main/java/org/apache/calcite/plan/volcano/RuleQueue.java
1	1	example/csv/src/main/java/org/apache/calcite/adapter/csv/CsvFieldType.java
1	1	file/src/main/java/org/apache/calcite/adapter/file/FileFieldType.java
1	1	linq4j/src/main/java/org/apache/calcite/linq4j/tree/ConstantExpression.java
3	2	linq4j/src/main/java/org/apache/calcite/linq4j/tree/FunctionExpression.java
2	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Primitive.java
0	24	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Types.java

commit 92562a0f213fc1edc66e25f9c88e15bacb9085df
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-03-04 23:06:44 -0600

    [CALCITE-2891] Alias suggester failed to suggest name based on original name incrementally (Haisheng Yuan)
    
    Close apache/calcite#1085

2	1	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
28	1	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit 6687023e9517fba00c5eeb85cc7b94efa0a6b9c0
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-03-01 18:24:41 +0100

    [CALCITE-2887] Improve performance of RexLiteral#toJavaString
    
    1. Replace combination of PrintWriter/StringWriter with StringBuilder.
    2. Add JMH benchmark showing a 10X improvement when choosing StringBuilder.
    3. Remove unused method from Unsafe.
    4. Improve Javadoc of modified methods.

129	124	core/src/main/java/org/apache/calcite/rex/RexLiteral.java
0	6	core/src/main/java/org/apache/calcite/util/Unsafe.java
22	13	core/src/main/java/org/apache/calcite/util/Util.java
172	0	ubenchmark/src/main/java/org/apache/calcite/benchmarks/StringConstructBenchmark.java

commit 36d373f0ff549eb079ed91c7cf2dda2475a0721a
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-03-04 14:58:49 +0100

    [CALCITE-2886] Simplification of AND expressions should push negations earlier
    
    Earlier decomposition of AND operands into normal/negated terms preceeded recursion of simplification;
    which could have helped retaining negated terms.
    Remove duplicate invocation of simplification on negated and operands.
    Also run full simplification on filter predicates.

18	15	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
1	1	core/src/main/java/org/apache/calcite/runtime/FlatLists.java
2	3	core/src/test/java/org/apache/calcite/test/MaterializationTest.java
22	16	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
9	9	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
6	7	core/src/test/resources/sql/blank.iq
24	26	core/src/test/resources/sql/sub-query.iq

commit 0876740d2457a7f735267d14e1639d6decfed16d
Author: liusiyuan1 <liusiyuan1@360.cn>
Date:   2019-02-03 01:16:26 +0800

    [CALCITE-2890] Elasticsearch adapter. any_value with other aggregation functions returns incorrect result (Siyuan Liu)

1	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJson.java
23	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/AggregationTest.java

commit 62d933c769b4af19d82d2266cfe94804eae1544c
Author: rubenada <rubenql@gmail.com>
Date:   2018-10-11 14:15:30 +0200

    [CALCITE-2621] Add rule to execute semi joins with correlation (Ruben Quesada Lopez)

54	8	core/src/main/java/org/apache/calcite/rel/rules/JoinToCorrelateRule.java
1	1	core/src/test/java/org/apache/calcite/rel/rules/SortRemoveRuleTest.java
27	1	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableCorrelateTest.java

commit d10aeb7f7e50dc7028ce102a5f590d0c50c49fa8
Author: Zoltan Haindrich <zhaindrich@hortonworks.com>
Date:   2019-02-28 16:31:14 +0100

    [CALCITE-2421] Generalize simplification of self-comparisions
    
    This change enables to rewrite comparisions between the same operands to a form which relys on the nullability check of the original expression.
    For example `x=x` is rewritten to `null or x is not null`

16	9	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
31	16	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 6c9557fb554cd9e7178987030681982f2e85308e
Author: Ritesh Kapoor <riteshkapoor.opensource@gmail.com>
Date:   2019-02-28 15:04:33 +0530

    [CALCITE-2881] Add the JSON_PRETTY function (Ritesh Kapoor)
    
    Also refactor SqlJsonFunctionsTest a little to better generate invocation descriptions.
    
    Close apache/calcite#1075

3	0	babel/src/main/codegen/config.fmpp
1	0	core/src/main/codegen/config.fmpp
19	0	core/src/main/codegen/templates/Parser.jj
2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
16	2	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
68	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonPrettyFunction.java
3	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
6	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
1	0	core/src/test/codegen/config.fmpp
7	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
7	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
9	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
12	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
51	44	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
10	1	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
1	0	server/src/main/codegen/config.fmpp
2	0	site/_docs/reference.md

commit 44c04eedff518ee3ed04106b53775c97cdc77707
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-02-22 11:52:27 -0800

    [CALCITE-1513] Correlated NOT IN query throws AssertionError (Vineet Garg)
    
    Close apache/calcite#1063

32	0	core/src/test/resources/sql/sub-query.iq

commit 24a7a1b49bc4fb9f089031625f1a7ee052524125
Author: chunwei.lcw <chunwei.lcw@alibaba-inc.com>
Date:   2019-02-26 14:24:03 +0800

    [CALCITE-2875] fix some misspellings in RelOptListener (Chunwei Lei)
    
    Close apache/calcite#1069

2	2	core/src/main/java/org/apache/calcite/plan/RelOptListener.java

commit 564caac262e43d7c27397d7bd17ab0f1689fdf4d
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-02-26 15:20:08 +0100

    [CALCITE-2338] Make Simplification API more conservative
    
    Deprecated simplifyOr/simplitfyAnd methods as alternate entry points may not get that much attention during development.
    Before this, some simplification opportunities were missed during predicate processing.
    From now on in RelBuilder all Rex simplifications are postponed until Rel creation time - which makes it more consistent and it also obeys the simplification setting.

3	1	core/src/main/java/org/apache/calcite/rel/metadata/RelMdPredicates.java
23	17	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
3	2	core/src/main/java/org/apache/calcite/rex/RexUtil.java
4	1	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
2	2	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit e14cef28af2b4f0aac5c3876aa7023053e294ee1
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-11-30 17:26:26 +0100

    [CALCITE-2703] Reduce code generation and class loading overhead when executing queries in the EnumerableConvention
    
    1. Add a configurable Guava cache in EnumerableInterpretable#getBindable to re-use Bindable instances.
    2. Avoid caching instances of classes with static fields.
    3. Add JMH benchmark for the expensive part of EnumerableInterpretable#getBindable method.
    4. Add utility method for obtaining integer runtime properties.
    5. NPE in VisitorImpl when visiting a FieldDeclaration without an initializer.

41	8	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableInterpretable.java
57	2	core/src/main/java/org/apache/calcite/config/CalciteSystemProperty.java
2	1	linq4j/src/main/java/org/apache/calcite/linq4j/tree/VisitorImpl.java
15	4	ubenchmark/pom.xml
287	0	ubenchmark/src/main/java/org/apache/calcite/adapter/enumerable/CodeGenerationBenchmark.java
26	0	ubenchmark/src/main/java/org/apache/calcite/adapter/enumerable/package-info.java

commit 280642a02a4bcfd1fb9cbe8c5ab672d3619860e7
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-02-22 11:30:45 +0100

    [CALCITE-2859] Centralize Calcite system properties
    
    1. Move all system properties with "calcite" namespace under a common class.
    2. Improve the documentation (javadoc) of existing properties.
    3. Add review comments regarding a few properties.
    4. Deprecate SaffronProperties and move them all under CalciteSystemProperty.

2	2	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraToEnumerableConverter.java
2	3	cassandra/src/test/java/org/apache/calcite/test/CassandraAdapterTest.java
2	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableAggregate.java
3	3	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableInterpretable.java
2	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableWindow.java
2	2	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcToEnumerableConverter.java
323	0	core/src/main/java/org/apache/calcite/config/CalciteSystemProperty.java
2	2	core/src/main/java/org/apache/calcite/interpreter/Interpreter.java
3	3	core/src/main/java/org/apache/calcite/interpreter/JaninoRexCompiler.java
2	2	core/src/main/java/org/apache/calcite/materialize/Lattice.java
3	3	core/src/main/java/org/apache/calcite/plan/RelOptMaterialization.java
2	2	core/src/main/java/org/apache/calcite/plan/RelOptMaterializations.java
2	2	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
5	12	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
2	1	core/src/main/java/org/apache/calcite/prepare/CalciteMaterializer.java
2	7	core/src/main/java/org/apache/calcite/prepare/CalcitePrepareImpl.java
5	5	core/src/main/java/org/apache/calcite/profile/ProfilerImpl.java
2	2	core/src/main/java/org/apache/calcite/rel/core/Filter.java
2	2	core/src/main/java/org/apache/calcite/rel/logical/LogicalCorrelate.java
3	4	core/src/main/java/org/apache/calcite/rel/metadata/JaninoRelMetadataProvider.java
4	4	core/src/main/java/org/apache/calcite/rel/rules/AggregateStarTableRule.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/MultiJoinOptimizeBushyRule.java
2	2	core/src/main/java/org/apache/calcite/rex/RexExecutorImpl.java
2	2	core/src/main/java/org/apache/calcite/rex/RexLiteral.java
2	2	core/src/main/java/org/apache/calcite/runtime/CalciteException.java
2	2	core/src/main/java/org/apache/calcite/sql/SqlCollation.java
2	1	core/src/main/java/org/apache/calcite/sql/fun/SqlCountAggFunction.java
3	3	core/src/main/java/org/apache/calcite/sql/parser/SqlParserUtil.java
0	4	core/src/main/java/org/apache/calcite/sql/validate/SqlValidator.java
2	2	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorException.java
2	2	core/src/main/java/org/apache/calcite/tools/Programs.java
4	6	core/src/main/java/org/apache/calcite/util/PartiallyOrderedSet.java
4	0	core/src/main/java/org/apache/calcite/util/SaffronProperties.java
3	26	core/src/main/java/org/apache/calcite/util/Util.java
2	2	core/src/main/java/org/apache/calcite/util/javac/JaninoCompiler.java
3	3	core/src/test/java/org/apache/calcite/jdbc/CalciteRemoteDriverTest.java
2	2	core/src/test/java/org/apache/calcite/plan/volcano/TraitPropagationTest.java
3	2	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
7	34	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
4	3	core/src/test/java/org/apache/calcite/test/FoodmartTest.java
4	3	core/src/test/java/org/apache/calcite/test/JdbcTest.java
2	2	core/src/test/java/org/apache/calcite/test/MultiJdbcSchemaJoinTest.java
3	3	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
2	1	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
2	2	core/src/test/java/org/apache/calcite/tools/FrameworksTest.java
2	1	core/src/test/java/org/apache/calcite/tools/PlannerTest.java
4	4	core/src/test/java/org/apache/calcite/util/PartiallyOrderedSetTest.java
6	6	druid/src/main/java/org/apache/calcite/adapter/druid/DruidConnectionImpl.java
3	10	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java
3	10	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT2.java
2	2	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoToEnumerableConverter.java
3	3	mongodb/src/test/java/org/apache/calcite/test/MongoAssertions.java
4	4	plus/src/test/java/org/apache/calcite/adapter/tpcds/TpcdsTest.java
4	3	plus/src/test/java/org/apache/calcite/adapter/tpch/TpchTest.java
2	2	plus/src/test/java/org/apache/calcite/materialize/TpcdsLatticeSuggesterTest.java
2	2	spark/src/main/java/org/apache/calcite/adapter/spark/JdbcToSparkConverter.java
2	2	spark/src/main/java/org/apache/calcite/adapter/spark/SparkHandlerImpl.java
2	2	splunk/src/main/java/org/apache/calcite/adapter/splunk/SplunkTableScan.java
2	8	splunk/src/test/java/org/apache/calcite/test/SplunkAdapterTest.java

commit a2e9f82f10355be40a7348707d2659270f06dda0
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2019-02-28 12:10:41 +0800

    Following [CALCITE-2864], remove a redundant file generated by test

0	15	core/custom-schema-model.json

commit e3a319e1f79bc807327bd443433c50c4bbf20866
Author: Juhwan Kim <jkim@dremio.com>
Date:   2019-02-21 14:31:51 -0800

    [CALCITE-2827] Allow Convention.NONE planning with VolcanoPlanner
    
    By default, cost for Convention.NONE is infinity.
    - Add option to allow Convention.None planning with VolcanoPlanner
    - Add a unit test
    
    Change-Id: Idcee2ca923c9b10b58cc9352a390a87f899b64ee
    
    [CALCITE-2827] Fix checkstyle error
    
    Change-Id: I50702e6d50d9fe916e15b5bd42f8ec7b12bf0c6f
    
    [CALCITE-2827] Fix grammar errors
    
    Change-Id: Icca105184888ff9cc01b2b71f597f3fbd235b638

16	2	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
36	0	core/src/test/java/org/apache/calcite/plan/volcano/VolcanoPlannerTraitTest.java

commit 82ab280b492c737c1668360a4a434718465ad013
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2019-02-22 22:32:24 +0800

    [CALCITE-2787] JSON aggregate calls with different null clause get incorrectly merged during converting from SQL to relational algebra

10	3	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
1	2	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
3	8	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayAggAggFunction.java
3	8	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectAggAggFunction.java
3	3	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
5	5	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
75	2	core/src/test/resources/sql/agg.iq

commit cfc6a4df50b49c697a2a4aba36279946140d86cc
Author: XuQianJin-Stars <x1q1j1@163.com>
Date:   2019-02-26 11:43:13 +0800

    [CALCITE-2864]Add the JSON_DEPTH function

1	0	babel/src/main/codegen/config.fmpp
15	0	core/custom-schema-model.json
1	0	core/src/main/codegen/config.fmpp
19	0	core/src/main/codegen/templates/Parser.jj
2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
44	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
68	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonDepthFunction.java
2	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
1	0	core/src/test/codegen/config.fmpp
8	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
10	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
28	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
12	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
23	0	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
8	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
1	0	server/src/main/codegen/config.fmpp
24	1	site/_docs/reference.md

commit aa65a82eae624a4606056e4790140448e155b8e9
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-02-27 16:02:52 +0300

    Improve Graphviz dump in CannotPlanException: make boxes shorter, print composite traits if they were simplified

18	2	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java

commit ebafff1ede5921901b322872693bf1dbdf09fc8d
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-02-13 23:35:36 +0300

    [CALCITE-2878] Avoid use of new RuntimeException(e) in tests
    
    new RuntimeException(e) adds very little info in tests, and it makes stacktraces harder to read.
    So it makes sense to just sneaky-throw in those cases, especially for test purposes.

10	9	core/src/test/java/org/apache/calcite/jdbc/CalciteRemoteDriverTest.java
4	3	core/src/test/java/org/apache/calcite/plan/RelWriterTest.java
6	5	core/src/test/java/org/apache/calcite/profile/ProfilerTest.java
2	3	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
2	1	core/src/test/java/org/apache/calcite/rex/RexSqlStandardConvertletTableTest.java
1	1	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
1	1	core/src/test/java/org/apache/calcite/sql/test/AbstractSqlTester.java
3	4	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
31	53	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
3	2	core/src/test/java/org/apache/calcite/test/DiffTestCase.java
7	6	core/src/test/java/org/apache/calcite/test/JdbcAdapterTest.java
6	4	core/src/test/java/org/apache/calcite/test/JdbcFrontJdbcBackTest.java
2	1	core/src/test/java/org/apache/calcite/test/JdbcFrontLinqBackTest.java
24	23	core/src/test/java/org/apache/calcite/test/JdbcTest.java
1	1	core/src/test/java/org/apache/calcite/test/LatticeTest.java
2	1	core/src/test/java/org/apache/calcite/test/Matchers.java
4	3	core/src/test/java/org/apache/calcite/test/ReflectiveSchemaTest.java
2	1	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
3	7	core/src/test/java/org/apache/calcite/test/SqlTestGen.java
2	1	core/src/test/java/org/apache/calcite/test/SqlToRelConverterExtendedTest.java
2	1	core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java
2	1	core/src/test/java/org/apache/calcite/test/StreamTest.java
2	1	core/src/test/java/org/apache/calcite/test/TableFunctionTest.java
2	1	core/src/test/java/org/apache/calcite/tools/FrameworksTest.java
47	0	core/src/test/java/org/apache/calcite/util/TestUtil.java
6	5	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java
6	5	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT2.java
2	1	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java
3	1	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/EmbeddedElasticsearchNode.java
2	1	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/Projection2Test.java
6	0	example/csv/pom.xml
6	5	example/csv/src/test/java/org/apache/calcite/test/CsvTest.java
5	4	file/src/test/java/org/apache/calcite/adapter/file/SqlTest.java
2	1	mongodb/src/test/java/org/apache/calcite/adapter/mongodb/MongoAdapterTest.java
2	1	mongodb/src/test/java/org/apache/calcite/test/MongoAssertions.java
2	1	pig/src/test/java/org/apache/calcite/test/PigRelBuilderStyleTest.java
6	0	piglet/pom.xml
2	1	piglet/src/test/java/org/apache/calcite/test/CalciteHandler.java
7	6	plus/src/test/java/org/apache/calcite/adapter/os/OsAdapterTest.java
4	3	splunk/src/test/java/org/apache/calcite/test/SplunkAdapterTest.java

commit cce9c79ac3cc40988e342ace5340b5ed771bc2a2
Author: Juhwan Kim <jkim@dremio.com>
Date:   2018-12-21 18:36:07 -0800

    [CALCITE-2750] PI operator incorrectly identified as dynamic function
    
    Change-Id: I32d931ce22d430d466ddcd8fff6f944eee7cdfc1
    
    [CALCITE-2750] Add a test to ensure that PI function is not dynamic
    
    Change-Id: I9e50b7f75a66bd83904ed771765afda2381c413c
    
    [CALCITE-2750] Add error message in the test
    
    Change-Id: Id7cca495e14bd15a6ac70de904c6329ab60e3682
    
    [CALCITE-2750] Fix checkstyle error
    
    Change-Id: I5a8153e9fedb1a166d8716e45f47f3cd3cc8af58

1	2	core/src/main/java/org/apache/calcite/sql/fun/SqlBaseContextVariable.java
12	2	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
6	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java

commit 67b439fc1d98fd0082517684b74b53cd1050bbf4
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2019-02-23 01:52:39 +0800

    [CALCITE-2786] Add order by clause support for JSON_ARRAYAGG

59	13	core/src/main/codegen/templates/Parser.jj
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
22	1	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayAggAggFunction.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
11	1	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
19	1	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
40	1	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
37	0	core/src/test/resources/sql/agg.iq
2	1	site/_docs/reference.md

commit e93522a8f374d9269e6657cd23603377762b4bc1
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-02-25 23:04:55 -0500

    [CALCITE-2863] ElasticSearch Adapter. "select *" may return empty dictionary for document table
    
    In some circumstances (eg. order by clause) `select *` would return `{}`.

9	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchConstants.java
4	4	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchEnumerators.java
6	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJson.java
1	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchProject.java
6	3	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java
24	2	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/Projection2Test.java

commit e94c1574e234ae58b7daac327ea8ce69d2873f22
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2019-02-20 14:55:51 -0800

    [CALCITE-2858] Improvements in JSON writer and reader for plans
    
    Close apache/calcite#1056

217	43	core/src/main/java/org/apache/calcite/rel/externalize/RelJson.java
7	4	core/src/main/java/org/apache/calcite/rel/externalize/RelJsonReader.java
3	3	core/src/main/java/org/apache/calcite/rel/externalize/RelJsonWriter.java
2	2	core/src/main/java/org/apache/calcite/sql/SqlWindow.java
299	3	core/src/test/java/org/apache/calcite/plan/RelWriterTest.java
46	3	core/src/test/java/org/apache/calcite/test/JdbcTest.java

commit 82f9bd5b1eeb25c027b00a0cd3fbb4b46dcb860a
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-02-15 08:28:56 +0100

    [CALCITE-2839] Simplify comparisions against boolean literals
    
    This patch enables to simplify x=true to x and x=false to not(x)
    It also handles inequalities which are probably less frequent.

65	7	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
24	1	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
1	1	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
14	14	core/src/test/resources/sql/sub-query.iq
2	2	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeAllDataTypesTest.java

commit 0e15ae669102ceffec49a6f99ac12106226a9ba9
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-02-04 10:48:30 -0600

    [CALCITE-2722] Unparsing may have run into StackOverflowError in case of large number of AND/OR operands (Haisheng Yuan)
    
    Create left-deep tree in iterative way instead of recursion to avoid
    potential stack overflow in case of large number of OR expressions.
    
    Add testcase (Zoltan Haindrich)
    
    Close apache/calcite#1048

4	7	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
18	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 83d8cf1e9189d0098677751d928cc39ac188b5a9
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-02-23 11:51:55 -0500

    [CALCITE-2863] ElasticSearch Adapter. select * and predicates on _MAP fail
    
    Fix handling of `select *` in projections.
    
    Example of failing query:
    ```sql
    select * from elastic where _MAP['state'] = 'NY' order by _MAP['city']
    ```

9	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchProject.java
24	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java

commit c462838f37f02b490088a216773415926688e9f3
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-02-14 09:15:31 +0100

    [CALCITE-2838] Simplification: Remove redundant IS TRUE/IS NOT FALSE checks
    
    Earlier expressions like ((x IS TRUE) IS TRUE) were left as is, the new behaviour
    recognizes if the IS TRUE/IS NOT FALSE check is redundant.
    In case ((x IS TRUE) IS TRUE) is a filter expression, it is simplified to 'x'.

35	11	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
1	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
53	10	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
4	3	core/src/test/java/org/apache/calcite/test/fuzzer/RexProgramFuzzyTest.java
9	9	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
2	2	core/src/test/resources/sql/blank.iq
8	28	core/src/test/resources/sql/sub-query.iq

commit c3fd74a897ca1b469b6b776baeaa3c660ce5876a
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-10-04 15:25:29 +0200

    [CALCITE-2841] Simplification: push negation into Case expression
    
    Earlier NOT was not pushed into CASE expressions.
    Also ensure that recursion under NOT happens.

25	1	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
16	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
2	2	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
2	2	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
1	1	core/src/test/resources/sql/some.iq
7	7	core/src/test/resources/sql/sub-query.iq

commit 5101703c3bb7e051766f9dc932534a0a7acba0c5
Author: xuqianjin <x1q1j1@163.com>
Date:   2019-02-23 00:44:49 +0800

    [CALCITE-2791] Add the JSON_TYPE function (xuqianjin)
    
    Close apache/calcite#1013

1	0	babel/src/main/codegen/config.fmpp
1	0	core/src/main/codegen/config.fmpp
19	0	core/src/main/codegen/templates/Parser.jj
2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
36	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
69	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonTypeFunction.java
2	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
1	0	core/src/test/codegen/config.fmpp
8	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
10	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
24	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
12	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
22	1	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
8	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
1	0	server/src/main/codegen/config.fmpp
24	0	site/_docs/reference.md

commit 846494a0091b00357f3ccb67c8a4a7d9d226cd7d
Author: rubenada <rubenql@gmail.com>
Date:   2018-11-01 17:19:40 +0100

    [CALCITE-2464] Allow to set nullability for columns of structured types (Ruben Quesada Lopez)
    - Added nullability flag to struct types (previously they were always considered as non-nullable)
    - Struct types will be built as non-nullable by default to avoid regresssions, but this
    can be changed via RelDataTypeFactory#createTypeWithNullability
    - SqlCreateTable will generate nullable struct types, unless they are defined as NOT NULL
    - New unit tests

18	10	core/src/main/java/org/apache/calcite/jdbc/JavaTypeFactoryImpl.java
44	30	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeFactoryImpl.java
22	3	core/src/main/java/org/apache/calcite/rel/type/RelRecordType.java
29	0	core/src/test/java/org/apache/calcite/sql/type/SqlTypeFactoryTest.java
15	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
4	0	server/src/main/java/org/apache/calcite/sql/ddl/SqlCreateTable.java
8	0	server/src/test/java/org/apache/calcite/test/ServerTest.java
33	1	server/src/test/resources/sql/type.iq

commit 8eb852039db04c132ae7a99943495f87cf39dfd2
Author: stuti.gupta <stuti.gupta@datametica.com>
Date:   2019-02-18 16:29:59 +0530

    CALCITE-2856-Emulating Cross Join For SparkSqlDialect

6	2	core/src/main/java/org/apache/calcite/rel/rel2sql/RelToSqlConverter.java
5	0	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
7	0	core/src/main/java/org/apache/calcite/sql/SqlDialectFactoryImpl.java
60	0	core/src/main/java/org/apache/calcite/sql/dialect/SparkSqlDialect.java
12	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 233d9dd5671477ce06d777cd5ef3ee56df4664f8
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-02-21 09:56:22 +0100

    [CALCITE-2582] FilterProjectTransposeRule does not always simplify the new filter condition
    
    1. Simplify newCondition in a similar manner to RelBuilder#filter method.
    
    2. Update tests in misc.iq, sub-query.iq, GeodeZipsTest, GeodeAllDataTypesTest to reflect the applied simplifications.

28	2	core/src/main/java/org/apache/calcite/rel/rules/FilterProjectTransposeRule.java
1	1	core/src/test/resources/sql/misc.iq
8	8	core/src/test/resources/sql/sub-query.iq
2	2	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeAllDataTypesTest.java
1	1	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeZipsTest.java

commit e4489207385701549c3e0309d8d44e5e8d9f9cbf
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-02-13 16:07:43 +0100

    [CALCITE-2840] RexNode simplification logic should use more specific UnknownAs modes
    
    Close apache/calcite#1045

9	9	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
11	0	core/src/main/java/org/apache/calcite/rex/RexUnknownAs.java
22	11	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
1	1	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit b8546979e18294d756462d46c35a053f9fdcfb77
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-02-15 12:14:22 +0100

    [CALCITE-2852] RexNode simplification does not traverse unknown functions
    
    Earlier simplification was not attempted below arithmetic operators.
    Expressions like: 1 + CASE WHEN TRUE THEN 1 ELSE 2 END were not simplified.
    
    Close apache/calcite#1053

16	0	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
2	3	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
10	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
2	2	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
10	7	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 880393ee46352dea1569380bbdbc8004f7b39990
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-02-12 17:32:50 +0100

    [CALCITE-2842] Computing RexCall digest containing IN expressions leads to Exceptions
    
    Close apache/calcite#1040

8	1	core/src/main/java/org/apache/calcite/rex/RexCall.java
9	1	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 9924699e534516f47363aa30d23fb9e64e34ed29
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-02-15 00:42:38 +0100

    [CALCITE-2848] Simplifying a case statement's first branch should ignore its safety
    
    Earlier when a CASE expression had any condition/value which contained probably dangerous instructions,
    the rewrite to a boolean expression was abandoned.
    This change relaxes the check to omit it for first branch's condition - because that would be evaluated anyway.

2	1	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
7	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 6b41a6135d7bb09b4ccd08df665ae089275b8454
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-02-15 10:26:44 +0100

    [CALCITE-2850] Geode adapter: support boolean column as filter operand
    
    Earlier when a boolean column was supplied as a filter, the adapter have thrown Exception.

22	3	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeFilter.java
26	0	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeRules.java
22	0	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeAllDataTypesTest.java

commit ef9f926061de21ad713a76ec3ec8110e5cbd92bf
Author: Francis Chuang <francischuang@apache.org>
Date:   2019-02-18 10:35:26 +1100

    Update instructions for pushing to the git site repository

20	8	site/README.md

commit 3cefa45ac13b9768e1a7b7e90ede77c6b6eec27b
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-02-16 11:27:58 +0300

    [CALCITE-2853] Avoid multithreaded execution of CalciteRemoteDriverTest
    
    Technically speaking, the test should pass even in concurrent mode,
    however Calcite remote driver does not support concurrency yet, so
    @NotThreadSafe is added to make CI pass.

5	0	core/pom.xml
5	0	core/src/test/java/org/apache/calcite/jdbc/CalciteRemoteDriverTest.java

commit d64f60cc513370cd409098f8ec997463329c1d6c
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-02-01 20:40:00 +0300

    [CALCITE-2817] Make CannotPlanException great
    
    This addresses the common cases for CannotPlanException: VolcanoPlanner would
    try to identify and print explanations like "the convertsion from LogicalAggregate to enumerable is missing".
    
    The change also adds VolcanoPlanner#toDot() method to dump planner state in a Graphviz-compatible format.
    The state includes sets, subsets, rels. It prints active rule with references to the matched rels.
    
    Color coding:
    red subset means it has no rels (besides AbstractConverter) yet
    blue (subset, rel) means it is best for its subset
    dashed lines connect VolcanoRule with its operands

152	2	core/src/main/java/org/apache/calcite/plan/volcano/RelSubset.java
190	14	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
6	1	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoRuleCall.java

commit 2102f1f5442fa271c258b7754da8df07d65847ec
Author: Vineet Garg <vgarg@apache.org>
Date:   2019-02-07 20:56:19 -0800

    [CALCITE-1726] Subquery in FILTER is left untransformed (Vineet Garg)
    
    Close apache/calcite#1035

5	4	core/src/main/java/org/apache/calcite/tools/Programs.java
56	0	core/src/test/resources/sql/sub-query.iq

commit 883666929478aabe07ee5b9e572c43a6f1a703e2
Author: Kevin Risden <krisden@apache.org>
Date:   2019-02-08 15:20:09 -0500

    [CALCITE-2836] Remove maven-compiler-plugin from calcite-plus module pom.xml
    
    Close apache/calcite#1039
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

0	11	plus/pom.xml

commit 866d855bfb7f95d4e064531fceb0cbf27ed6edff
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-01-11 11:14:35 +0300

    [CALCITE-2454] Avoid treating Project(x=1) and Project(x=1) equal in case the type of 1 is int in the first rel and long in the second one
    
    Add type information to RexLiteral#digest, ensure planner uses just RelNode#digest for identity
    
    fixes #1002

1	1	cassandra/src/test/java/org/apache/calcite/test/CassandraAdapterTest.java
28	17	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
15	15	core/src/main/java/org/apache/calcite/rel/core/Values.java
2	11	core/src/main/java/org/apache/calcite/rex/RexBuilder.java
82	6	core/src/main/java/org/apache/calcite/rex/RexCall.java
28	0	core/src/main/java/org/apache/calcite/rex/RexDigestIncludeType.java
142	10	core/src/main/java/org/apache/calcite/rex/RexLiteral.java
1	6	core/src/main/java/org/apache/calcite/rex/RexOver.java
9	27	core/src/main/java/org/apache/calcite/sql/SqlCollation.java
1	3	core/src/main/java/org/apache/calcite/sql/SqlPostfixOperator.java
1	3	core/src/main/java/org/apache/calcite/sql/SqlPrefixOperator.java
4	2	core/src/main/java/org/apache/calcite/sql/type/BasicSqlType.java
6	0	core/src/main/java/org/apache/calcite/util/Unsafe.java
3	3	core/src/test/java/org/apache/calcite/plan/RelOptUtilTest.java
3	1	core/src/test/java/org/apache/calcite/rex/RexBuilderTest.java
1	6	core/src/test/java/org/apache/calcite/sql/test/SqlTests.java
17	9	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
6	6	core/src/test/java/org/apache/calcite/test/JdbcTest.java
6	10	core/src/test/java/org/apache/calcite/test/MaterializationTest.java
34	5	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
54	43	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
2	2	core/src/test/java/org/apache/calcite/test/StreamTest.java
2	2	core/src/test/resources/org/apache/calcite/test/HepPlannerTest.xml
61	62	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
48	48	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
2	2	core/src/test/resources/sql/agg.iq
4	4	core/src/test/resources/sql/join.iq
10	10	core/src/test/resources/sql/misc.iq
1	1	core/src/test/resources/sql/outer.iq
1	1	core/src/test/resources/sql/some.iq
0	0	core/src/test/resources/sql/spatial.iq
21	21	core/src/test/resources/sql/sub-query.iq
3	3	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java
3	3	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT2.java
5	5	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java
1	1	example/csv/src/test/java/org/apache/calcite/test/CsvTest.java
1	2	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeBookstoreTest.java
7	7	mongodb/src/test/java/org/apache/calcite/adapter/mongodb/MongoAdapterTest.java
1	1	site/_docs/os_adapter.md
3	3	spark/src/test/java/org/apache/calcite/test/SparkAdapterTest.java

commit 4ccf5caea070580ae030074dc4c213fd67d73255
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-02-06 21:15:47 +0300

    Make SparkHandlerImpl singletone thread-safe

6	5	spark/src/main/java/org/apache/calcite/adapter/spark/SparkHandlerImpl.java

commit 21fe666e9634ab9a752c7cc328924b68f6143afe
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-01-08 22:48:01 +0300

    [CALCITE-2301] JDBC adapter: use query timeout from the top-level statement
    
    fixes #995

4	0	core/src/main/java/org/apache/calcite/DataContext.java
5	1	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcToEnumerableConverter.java
5	0	core/src/main/java/org/apache/calcite/jdbc/CalciteConnectionImpl.java
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
42	6	core/src/main/java/org/apache/calcite/runtime/ResultSetEnumerable.java
2	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties

commit 4be11a9e4425674a86192c8a908177df29725af0
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-02-05 10:40:23 -0500

    Remove usage of 'userConfig' attribute in ElasticSearch adapter
    
    `userConfig` is not used since migration to ES RestClient (it is ignored by ElasticsearchSchemaFactory)

8	8	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchSchemaFactory.java

commit d9fe7f7ad7c2006780e459ce90e3f442a6246051
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-02-03 13:32:12 +0300

    Improve assert messages for CalciteAssert-based tests
    
    Make sure top-most exception is AssertionError, so test failures are simpler to understand.
    
    For instance:
    
    java.lang.AssertionError:
    Expected: "empid=100; deptno=10; DNAME=Sales\nempid=1170; deptno=10; DNAME=Sales\nempid=150; deptno=10; DNAME=Sales\nempid=200; deptno=20; DNAME=null"
         but: was "empid=100; deptno=10; DNAME=Sales\nempid=110; deptno=10; DNAME=Sales\nempid=150; deptno=10; DNAME=Sales\nempid=200; deptno=20; DNAME=null"
    
            at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)
            at org.junit.Assert.assertThat(Assert.java:956)
            at org.junit.Assert.assertThat(Assert.java:923)
            at org.apache.calcite.test.CalciteAssert.lambda$checkResult$6(CalciteAssert.java:423)
            at org.apache.calcite.test.CalciteAssert.assertQuery(CalciteAssert.java:557)
            at org.apache.calcite.test.CalciteAssert$AssertQuery.lambda$returns$1(CalciteAssert.java:1456)
            at org.apache.calcite.test.CalciteAssert$AssertQuery.withConnection(CalciteAssert.java:1388)
            at org.apache.calcite.test.CalciteAssert$AssertQuery.returns(CalciteAssert.java:1454)
            at org.apache.calcite.test.CalciteAssert$AssertQuery.returns(CalciteAssert.java:1437)
            at org.apache.calcite.test.CalciteAssert$AssertQuery.returnsUnordered(CalciteAssert.java:1466)
            at org.apache.calcite.test.JdbcTest.testScalarSubQuery(JdbcTest.java:4593)
            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
            at java.lang.reflect.Method.invoke(Method.java:498)
            at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
            at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
            at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
            at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
            at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)
            at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)
            at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)
            at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
            at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
            at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
            at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
            at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
            at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
            at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
            at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
            at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
            at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
            at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
            Suppressed: java.lang.RuntimeException: With materializationsEnabled=false, limit=0, sql=select "empid", "deptno",
     (select "name" from "hr"."depts"
      where "deptno" = e."deptno") as dname
    from "hr"."emps" as e
                    at org.apache.calcite.test.CalciteAssert.assertQuery(CalciteAssert.java:570)
                    ... 28 more

58	87	core/src/test/java/org/apache/calcite/test/CalciteAssert.java

commit 18560d1eb21fe46056b6e459d75444419937c9de
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-02-01 20:39:53 +0300

    Add JUnit category for extremely slow tests, launch them in a separate Travis job
    
    Note: Travis runs 5 jobs in parallel, so we don't really want to have 6 jobs.
    That is why jdk-10 runs SLOW tests and other perform regular ones

3	2	.travis.yml
19	0	core/pom.xml
3	0	core/src/test/java/org/apache/calcite/materialize/LatticeSuggesterTest.java
3	0	core/src/test/java/org/apache/calcite/profile/ProfilerTest.java
2	0	core/src/test/java/org/apache/calcite/test/FoodmartTest.java
2	0	core/src/test/java/org/apache/calcite/test/LatticeTest.java
2	0	core/src/test/java/org/apache/calcite/test/MaterializationTest.java
25	0	core/src/test/java/org/apache/calcite/test/SlowTests.java
3	0	core/src/test/java/org/apache/calcite/util/PartiallyOrderedSetTest.java

commit 4814943895d609813878763faf0d38adb624eac4
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2018-12-27 14:18:14 -0600

    [CALCITE-2770] Add support for BIT_AND and BIT_OR aggregate functions

34	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
5	0	core/src/main/java/org/apache/calcite/rel/core/Match.java
2	0	core/src/main/java/org/apache/calcite/rel/rules/AggregateUnionTransposeRule.java
14	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
7	1	core/src/main/java/org/apache/calcite/sql/SqlKind.java
64	0	core/src/main/java/org/apache/calcite/sql/fun/SqlBitOpAggFunction.java
12	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
2	0	core/src/main/java/org/apache/calcite/sql/type/OperandTypes.java
2	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
44	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
23	0	core/src/test/resources/sql/agg.iq
2	0	site/_docs/reference.md

commit cf363b5989d35bd8b4d5f14c7a99acea6e9f0f5a
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2019-01-30 17:12:38 -0800

    [CALCITE-2798] Remove ORDER BY in sub-query, provided it has no LIMIT or OFFSET, during SQL-to-RelNode conversion (Haisheng Yuan)
    
    Standard SQL says that ORDER BY in sub-queries should have no effect;
    usually we prefer to make optimizations via planner rules, but we do
    this change in SqlToRelConverter because a planner rule would have
    difficulty telling whether a RelNode's consumers care about the order
    in which it produces records.
    
    Close apache/calcite#1021

18	2	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
21	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
21	38	core/src/test/java/org/apache/calcite/tools/PlannerTest.java
45	4	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 542c086749d504de5542c37f12f6a1329842f18d
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-01-26 23:27:33 -0500

    [CALCITE-2814] ElasticSearch adapter. Fix "group by" when using raw item access (eg. _MAP['foo'])
    
    The following queries were previsouly failing:
    
    ```sql
    select max(_MAP['a']), _MAP['b'] from elastic group by _MAP['b']
    ```

4	3	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchAggregate.java
21	5	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchEnumerators.java
2	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchMethod.java
3	2	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchRel.java
2	18	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchSort.java
3	3	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
2	3	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchToEnumerableConverter.java
7	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java

commit 1961d13fd801a6ef8d12ae6babdb75e61f87013f
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-01-24 14:16:59 +0100

    [CALCITE-2802] Druid adapter: Usage of range conditions like "2010-01-01 < timestamp" leads to incorrect results

6	8	druid/src/main/java/org/apache/calcite/adapter/druid/DruidDateTimeUtils.java
17	0	druid/src/test/java/org/apache/calcite/test/DruidDateRangeRulesTest.java

commit ff861941242e91b2fb65389f4114ee303856591d
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-01-26 16:50:06 -0500

    Update year in NOTICE

1	1	NOTICE

commit 817683bd78d1a42ee3d318e07bf4dbf4a8d44a6e
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-01-26 14:00:46 -0500

    [CALCITE-2811] Update version of Cassandra driver

1	1	pom.xml

commit e80ec9750a0963345444b5614f4cfc5fd4c0da75
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-01-25 15:28:22 -0500

    Site: [CALCITE-2734] Update mongo documentation to reflect filename changes
    
    After mongo adapter refactoring some files were renamed (eg. `mongo-zips-model.json`
    -> `mongo-models.json` in `test/resources`).

3	3	site/_docs/howto.md

commit b43a314b60f42d1e58febc39c04cbbbefc3503e1
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-01-25 15:27:50 -0500

    Fix sqlline by removing redundant slf4j dependency (log4j-over-slf4j) from cassandra-all
    
    SLF4J initialization was failing due to `NoClassDefFoundError`.

9	0	cassandra/pom.xml

commit edbaf6c2b61d10eed082ca33993b919b683fd955
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-01-25 15:48:40 -0500

    [CALCITE-2806] Allow uppercase characters in Cassandra table names

6	6	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraSchema.java
1	1	cassandra/src/test/java/org/apache/calcite/test/CassandraAdapterTest.java
1	1	cassandra/src/test/resources/twissandra.cql

commit cd01913c2c2333ea120b3b5dedcdacf40c618de4
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2019-01-25 15:41:48 -0500

    [CALCITE-2805] Allow string ports in Cassandra adapter schema

7	1	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraSchemaFactory.java

commit 0202ef59519eda6d4c416d84544e152304849715
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2019-01-16 21:15:22 +0800

    [CALCITE-2788]  Building error for sub-project of calcite on "maven-checkstyle-plugin"

1	0	pom.xml
3	3	src/main/config/checkstyle/checker.xml

commit e804521beeec30eccb5ae3a29620f818d0de8427
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2019-01-11 16:25:39 +0100

    [CALCITE-2783] Expressions like ( s or s is unknown ) = true causes Exceptions
    
    Earlier, expressions like ( s or s is null ) = true have resulted in an exception.
    Some other fixes to handle null translations to true/false in IS NULL/IS NOT NULL cases.
    
    Close apache/calcite#1007

14	2	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
17	0	core/src/test/resources/sql/conditions.iq

commit fc10982bc856a01c23928de15441822de2d3ffde
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-01-17 18:21:14 -0500

    [CALCITE-2797] Support APPROX_COUNT_DISTINCT aggregate function in ElasticSearch adapter
    
    Convert approximate count (on distinct values) `APPROX_COUNT_DISTINCT` into elastic
    [cardinality](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-metrics-cardinality-aggregation.html)
    single-value metrics aggregation.
    
    Remove AggregateExpandDistinctAggregatesRule from elastic planner so `APPROX_COUNT_DISTINCT` function
    can be correctly identified.

25	15	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchAggregate.java
1	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
5	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTableScan.java
30	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/AggregationTest.java
13	16	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java

commit c978304cbceb35fb09cb49b91d38d14ce18a3e17
Author: Justin Szeluga <justin.szeluga@gmail.com>
Date:   2019-01-15 13:15:15 -0500

    [CALCITE-2782] Use server time zone by default if time zone is not specified in the user connection string (Justin Szeluga)
    
    Close apache/calcite#1001

2	0	core/src/main/java/org/apache/calcite/config/CalciteConnectionConfig.java
5	0	core/src/main/java/org/apache/calcite/config/CalciteConnectionConfigImpl.java
5	2	core/src/main/java/org/apache/calcite/config/CalciteConnectionProperty.java

commit 73f71095ef4e66aa47563e28b02f3fd499a5a1ad
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2019-01-08 16:01:48 +0100

    Site: Add commit message guidelines for contributors (Stamatis Zampetakis)
    
    Add guidelines for commit messages proposed by Julian Hyde in various discussions in the dev list.

21	0	site/develop/index.md

commit 21474d6f06e0259946a46f01f444190908a668bf
Author: Francis Chuang <francischuang@apache.org>
Date:   2019-01-10 08:48:15 +1100

    Site: Add Zoltan Haindrich as committer

5	0	site/_data/contributors.yml

commit 2d250611fd9c282c158bd47918023904d5048be9
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-01-03 11:33:36 -0500

    Site: Elastic query example on _MAP

7	1	site/_docs/elasticsearch_adapter.md

commit 62b47aeeb7eeb59beaf5b8f3b54a5c58ba4ca76d
Author: Gian Merlino <gianmerlino@gmail.com>
Date:   2018-10-20 15:57:43 -0700

    [CALCITE-2635] getMonotonocity is slow on wide tables (Gian Merlino)
    
    Instead of getting the index of the column from rowType and then comparing
    it to the collation field index, gets the collation field index and checks
    if the corresponding rowType index matches.
    
    fixes #891

7	8	core/src/main/java/org/apache/calcite/prepare/RelOptTableImpl.java

commit d18d9e499856ebc260ca0fbc1793e7e813e13205
Author: Beluga Behr <dam6923@gmail.com>
Date:   2019-01-08 17:22:19 -0500

    [CALCITE-2779] Remove References to StringBuffer (Beluga Behr)
    
    fixes #996

1	1	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeImpl.java
1	1	core/src/main/java/org/apache/calcite/rex/RexProgram.java
0	1	core/src/test/java/org/apache/calcite/test/concurrent/ConcurrentTestCommandScript.java

commit 5ff57651c7bdbc61ecbc212293c21ae90d3d370f
Author: Laurent Goujon <laurent@apache.org>
Date:   2018-05-31 08:27:29 -0700

    [CALCITE-2344] Avoid inferring $0=null predicate from $0 IS NULL when $0 is not nullable
    
    fixes #714

1	1	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
5	6	core/src/main/java/org/apache/calcite/rex/RexUtil.java
42	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
48	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit d15d6e036b11e4e3588985f315bc4d1e2d2d2471
Author: Beluga Behr <dam6923@gmail.com>
Date:   2019-01-08 15:35:40 -0500

    [CALCITE-2778] Remove ClosableAllocation, ClosableAllocationOwner, CompoundClosableAllocation (BELUGA BEHR)
    
    fixes #994

0	32	core/src/main/java/org/apache/calcite/util/ClosableAllocation.java
0	35	core/src/main/java/org/apache/calcite/util/ClosableAllocationOwner.java
0	84	core/src/main/java/org/apache/calcite/util/CompoundClosableAllocation.java

commit 9c31e96729ed9630b20956eb657f7539e755ef2c
Author: beyond1920 <beyond1920@126.com>
Date:   2018-04-11 16:23:21 +0800

    [CALCITE-2249] AggregateJoinTransposeRule generates inequivalent nodes if Aggregate relNode contains distinct aggregate function (jingzhang)
    
    fixes #661

20	22	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinTransposeRule.java
13	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
22	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 535bd8d41c304c7a1694df765bef639d7d181206
Author: Pavel <pavel@contiamo.com>
Date:   2018-06-22 12:07:59 +0300

    CALCITE-2375 EnumerableDefaults.join_() leaks connections (Pavel Gubin)
    
    fixes #739

1	0	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java

commit d368fc570a5d0f836c049c6acd73f2dd9f467f79
Author: Laurent Goujon <laurent@dremio.com>
Date:   2018-12-21 09:54:55 -0800

    [CALCITE-2437] FilterMultiJoinMerge should combine filters from Filter relation and multijoin post-join filters
    
    The FilterMultiJoinMergeRule class is intended to combine a filter on
    top of a multi join into a single multijoin. But instead of combining
    the post join filter with the filter's condition, it simply replaces
    it.
    
    Fixing the issue by composing a conjuction of the two filters and
    adding it to the new multijoin.
    
    fixes #977

14	1	core/src/main/java/org/apache/calcite/rel/rules/FilterMultiJoinMergeRule.java
14	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
24	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 8cc6df210188e7a5a8a3a1f8d70b4d53544e9d94
Author: Laurent Goujon <laurent@apache.org>
Date:   2018-10-17 14:38:30 -0700

    [CACITE-2629] Remove call to CatalogReader#getAllSchemaObjects
    
    CatalogScope constructor makes a call to CatalogReader#getAllSchemaObjects
    and stores its result into a private field which is not used by the
    class itself, nor has some accessor other class could use.
    
    Removing this call as it might be expensive on some systems.
    
    fixes #888

0	11	core/src/main/java/org/apache/calcite/sql/validate/CatalogScope.java

commit b505ece7ff6cf906dfdc257848d85f381d103cb3
Author: hongzezhang <hongzezhang@tencent.com>
Date:   2019-01-03 18:23:16 +0800

    [CALCITE-2762] Quidem env variable is always false if its name is separated by dot(.) (Hongze Zhang)
    
    fixes #987

3	2	core/src/test/java/org/apache/calcite/test/QuidemTest.java

commit 13fca96c6809097a368625700536364624cb5887
Author: krishnakant.agrawal <krishnakant.agrawal@datametica.com>
Date:   2018-12-19 16:38:22 +0530

    [CALCITE-2623] Add specific translation for POSITION, MOD and set operators in BigQuery and Hive SQL dialects
    
    Close apache/calcite#877

3	0	core/src/main/java/org/apache/calcite/sql/SqlDialectFactoryImpl.java
7	2	core/src/main/java/org/apache/calcite/sql/SqlKind.java
53	0	core/src/main/java/org/apache/calcite/sql/dialect/BigQuerySqlDialect.java
27	0	core/src/main/java/org/apache/calcite/sql/dialect/HiveSqlDialect.java
1	1	core/src/main/java/org/apache/calcite/sql/fun/SqlPositionFunction.java
52	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 416d8c91d6b3dbfad9673a5c9e8e7d97b5f15be0
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-09-19 11:25:37 +0200

    [CALCITE-2554] Enrich enumerable join operators with order preserving information (Stamatis Zampetakis)
    
    1. Introduce collation metadata information for EnumerableJoin, EnumerableThetaJoin, EnumerableSemiJoin, and EnumerableCorrelate.
    
    2. Modify static factory create methods to obtain the collation information from the metadata.
    
    3. Change EnumerableJoinRule, EnumerableCorrelateRule to use the static factory method to create the operators.
    
    4. Add SortRemoveRuleTest, exploiting the preserved collation of various enumerable join operatrs to remove a sort.
    
    5. Adapt sql/join.iq removing redundant sort operators.
    
    6. Adapt sql/sub-query.iq due to CALCITE-2582.
    
    7. Add tests verifying the order preserving properties of the join algorithms in EnumerableDefaults.

26	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCorrelate.java
1	6	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCorrelateRule.java
6	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableJoin.java
7	8	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableJoinRule.java
15	3	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableSemiJoin.java
19	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableThetaJoin.java
86	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMdCollation.java
214	0	core/src/test/java/org/apache/calcite/rel/rules/SortRemoveRuleTest.java
130	0	core/src/test/java/org/apache/calcite/schemas/HrClusteredSchema.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
42	0	core/src/test/java/org/apache/calcite/tools/PlannerTest.java
4	5	core/src/test/resources/sql/join.iq
2	2	core/src/test/resources/sql/sub-query.iq
426	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/JoinPreserveOrderTest.java
2	1	linq4j/src/test/java/org/apache/calcite/linq4j/test/Linq4jSuite.java

commit 9667f8537010d21556a592bd0dfbf20f7d0a4411
Author: Laurent Goujon <laurent@apache.org>
Date:   2018-08-16 08:54:16 -0700

    [CALCITE-2471] Shorten AbstractRelNode#computeDigest() digest (Laurent Goujon)
    
    Digest/description created by AbstractRelNode#computeDigest includes
    the description of each of its inputs, causing the final string to
    be excessively long (e.g. the top level node of a tree containing
    the string representation of the whole tree).
    
    Change the function to not use the input's description but instead
    its original description which is <typeName>#<id>.
    
    fixes #795

13	7	core/src/main/java/org/apache/calcite/rel/AbstractRelNode.java
44	0	core/src/test/java/org/apache/calcite/test/HepPlannerTest.java

commit e67eb2d74c0a1f32d74025048f30fd8a94d98f8f
Author: Benoit Hanotte <b.hanotte@criteo.com>
Date:   2019-01-02 11:56:57 +0100

    [CALCITE-2767] Fix conversion of Case in RexSqlStandardConvertletTable (Benoit Hanotte)
    
    `SqlCaseOperator.createCall()` requires 4 operands [1]:
     1. first value (i.e. CASE value WHEN...)
     2. when condifitions (as SqlNodeList)
     3. then values (as SqlNodeLists)
     4. else value
    
    `RexSqlStandardConvertletTable` always only pass 3 arguments [2] as it uses the generic form such as
    `CASE WHEN condition1 THEN val2 ... ELSE val3 END` and never the form
    `CASE val WHEN condition1 THEN val2 ELSE val3`.
    
    When calling `SqlCaseOperator.createCall()`, it needs to pass a null sql node for the first value in
    order to correctly provide the 4 expected arguments and not only the last 3.
    
    [1] https://github.com/apache/calcite/blob/59b76701d9c805f51b0929577ca604fdbfe00b0b/core/src/main/java/org/apache/calcite/sql/fun/SqlCaseOperator.java#L288
    [2] https://github.com/apache/calcite/blob/59b76701d9c805f51b0929577ca604fdbfe00b0b/core/src/main/java/org/apache/calcite/rex/RexSqlStandardConvertletTable.java#L239
    
    fixes #990

1	5	core/src/main/java/org/apache/calcite/rex/RexSqlStandardConvertletTable.java
5	0	core/src/main/java/org/apache/calcite/rex/RexToSqlNodeConverterImpl.java
103	0	core/src/test/java/org/apache/calcite/rex/RexSqlStandardConvertletTableTest.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java

commit 01c8a454622771a8542b1fbdf5b175ff76227bb2
Author: Fokko Driesprong <fokko@apache.org>
Date:   2019-01-03 17:04:30 +0100

    [CALCITE-2765] Bump Janino dependency to 3.0.11 (Fokko Driesprong)
    
    Fixes some small issues and NPE fixes http://janino-compiler.github.io/janino/changelog.html
    
    fixes #988

1	1	pom.xml

commit 1556cdd4bb67e85f1e4036730fa510a29db59df3
Author: Marc Prud'hommeaux <marc@glimpse.io>
Date:   2018-12-11 21:35:20 -0500

    Site: fix JSON syntax error at file adapter page (Marc Prud'hommeaux)
    
    The "tables" operand should take an array, but the JSON example doesn't wrap the two tables in brackets.
    
    fixes #965

2	2	site/_docs/file_adapter.md

commit fc5af78bf37a4a8b9e89c20e2a478fb4a95dbd4d
Author: Marc Prud'hommeaux <marc@glimpse.io>
Date:   2018-12-15 21:00:27 -0500

    Site: fix typo at the main page (Marc Prud'hommeaux)
    
    fixes #974

1	1	site/_docs/index.md

commit 276e24b089bc066e9d9ffe3ed5f9bdf3f4699b96
Author: krishnakant.agrawal <krishnakant.agrawal@datametica.com>
Date:   2018-12-19 20:59:14 +0530

    [CALCITE-2625] Jdbc adapter: print Window Frame Boundary only for those aggregates that support it (KrishnaKant Agrawal)
    
    fixes #889

11	6	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
36	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit b54f6de9d7f87e9853fc9ec01b586555a089b913
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-01-03 21:58:55 +0300

    [CALCITE-2768] PlannerTest ignores top-level order by clause (~RootRel.collation)

1	1	core/src/test/java/org/apache/calcite/sql/validate/LexCaseSensitiveTest.java
41	15	core/src/test/java/org/apache/calcite/tools/PlannerTest.java

commit 8e36344414f7583c1fe5489ae41915190e0f6a1b
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-01-03 21:01:42 +0300

    Revert "[CALCITE-2764] RelCompositeTrait#satisfies does not work for non-trivial traits"
    
    This reverts commit 92978d981e6ca2eb352c1654d14c7b64fb8710fd.

0	15	core/src/main/java/org/apache/calcite/plan/RelCompositeTrait.java
0	56	core/src/test/java/org/apache/calcite/plan/RelTraitTest.java

commit 92978d981e6ca2eb352c1654d14c7b64fb8710fd
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2019-01-03 18:04:03 +0300

    [CALCITE-2764] RelCompositeTrait#satisfies does not work for non-trivial traits

15	0	core/src/main/java/org/apache/calcite/plan/RelCompositeTrait.java
56	0	core/src/test/java/org/apache/calcite/plan/RelTraitTest.java

commit 5d918acbb0efbf1d1671f034529bdc56a97cb5f8
Author: snuyanzin <snuyanzin@gmail.com>
Date:   2018-08-01 17:15:40 +0300

    [CALCITE-2436] Steps for building site under Windows, misprint fix in SQL Language page

4	0	site/README.md
1	1	site/_docs/reference.md

commit 5ed0c2a3f133e30fd2919a73675b6516d2da67bf
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-01-02 19:50:00 -0500

    ElasticSearch adapter. Remove dead (or unnecessary) code.
    
    Remove class `ElasticsearchFilter.Translator`.
    Remove redundant field quoting in `ElasticsearchRules.RexToElasticsearchTranslator`.

0	234	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchFilter.java
1	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchProject.java
1	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchRules.java
0	29	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ExpressionNotAnalyzableException.java

commit 3071a157bd3c2b2c94d0abc7534d6285aa5a3268
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-12-07 15:42:13 -0800

    [CALCITE-2733] Use catalog and schema from JDBC connection string to retrieve tables if specified
    
    Close apache/calcite#962

12	0	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcSchema.java
28	0	core/src/test/java/org/apache/calcite/test/JdbcAdapterTest.java

commit 6210ee4da22b3d55364582aedc52961c110038f3
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-12-07 15:37:28 -0800

    [CALCITE-2732] Upgrade postgresql driver version
    
    Close apache/calcite#961

1	1	pom.xml

commit d6fb6abd9a17b81a5d8d592860ecd5c2f20ce9b1
Author: LantaoJin <jinlantao@gmail.com>
Date:   2018-12-06 11:14:01 +0800

    [CALCITE-2727] MV rewriting bails out incorrectly when a view does not contain any table reference
    
    Close apache/calcite#957

2	2	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java

commit 234c2fc4039781afe774be5466f0bc5586f09e08
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2019-01-02 17:20:02 -0500

    [CALCITE-2760] ElasticSearch adapter. Support sorting on unmapped fields (eg. _MAP['city'])
    
    Previously queries like below failed due to missing mapping between projections and items (as in `_MAP['foo']`):
    
    ```sql
    select * from elastic order by _MAP['city']
    select _MAP['city'] from elastic order by _MAP['state']
    ```
    
    Reuse mapping from `ElasticsearchRel.Implementor.expressionItemMap` in `ElasticsearchSort` if
    current elastic field name is unknown (like `EXPR$0`).
    
    Closes #985

18	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchSort.java
78	22	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java

commit 3dee82dd7825f4c09dca27a312f9f82a8d6b899d
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-12-24 13:56:59 -0500

    [CALCITE-2755] Expose document _id field when querying ElasticSearch
    
    Allow user to query (project) [_id](https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-id-field.html) field
    explicitly.
    
    Note that (by default) meta fields are not available for `select *` type of queries and have to be explicitly listed in projection
    like `select _MAP['_id'], _MAP['a'] from elastic`.
    
    Add additional mapping between calcite expression `EXPR$n` and item name `foo.bar` (as part of `_MAP['foo.bar']`).
    This information is otherwise lost during query translation.
    
    Closes #982

5	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchConstants.java
26	8	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchEnumerators.java
5	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJson.java
1	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchMethod.java
4	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchProject.java
16	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchRel.java
11	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchRules.java
8	4	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
4	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchToEnumerableConverter.java
137	1	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/Projection2Test.java

commit d0cf8ca178d44c21b341337ea16a56df53cf2dd7
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-12-29 23:47:08 +0300

    [CALCITE-2759] Update maven-remote-resources-plugin to 1.6.0
    
    See also CALCITE-537 Support skip overwrite in maven-remote-resources-plugin

11	23	pom.xml

commit 6ece7d66e283bc2fd7898b436823eebee67b34a8
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-12-21 02:26:21 -0800

    Site: News item for release 1.18
    
    Add disclaimer to downloads page that github links are not for source code.

42	0	site/_posts/2018-12-21-release-1.18.0.md
10	4	site/downloads/index.md

commit 284fae997846c5792c72c2972d1e77903a8612c0
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-10-17 18:01:40 -0700

    Site: Rename MapD to OmniSci, and update logos

2	2	site/_docs/powered_by.md
-	-	site/img/powered-by.png

commit 9d50e6d7418579c5a73d872e6aec5924ed97c239
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2018-12-25 20:26:57 -0500

    Update site for new repository

1	1	site/_docs/howto.md
1	1	site/_posts/2017-03-31-new-avatica-repository.md
1	1	site/develop/index.md
1	1	site/doap_calcite.rdf

commit 76b2f5c1660abc4a8c75c26a3fd1fe47f3efe74d
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2018-12-25 20:12:46 -0500

    Update git URL

2	2	pom.xml

commit af739cbef3799512d095134567ca715b1179611a
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-12-24 15:08:32 -0500

    Site: ElasticAdapter mention supported versions (and support schedule)

4	2	site/_docs/elasticsearch_adapter.md

commit c3e076c0b8bc3b4f69d90cf08f7c6a082a4fe564
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-12-24 14:15:57 -0500

    Site: Improve documentation for ElasticSearch Adapter
    
    1. Clarify documentation on Scroll API usage in ElasticSearch adapter
    2. Remove stale mention of missing support for aggregations.
    3. Remove links to old ES adapters: calcite-elasticsearch2 and calcite-elasticsearch5

1	3	site/_docs/adapter.md
8	7	site/_docs/elasticsearch_adapter.md

commit a3711d78d450b7183a65e0ce695527ca92218bd8
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-19 18:59:13 +0300

    [CALCITE-2463] Silence ERROR logs from CalciteException, SqlValidatorException
    
    Output exception messages to logger only in calcite.debug=true mode
    
    Close #797

5	1	core/src/main/java/org/apache/calcite/runtime/CalciteException.java
4	1	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorException.java

commit a4bcea8c56527b179d73c826703471f1c56cec37
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-12-23 09:46:08 +1100

    Site: Update PMC chair

2	2	site/_data/contributors.yml

commit 5447b9ce6ac520e15f60865dff92d65f2384a597
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-12-18 11:34:00 -0800

    [maven-release-plugin] prepare for next development iteration

2	2	babel/pom.xml
2	2	cassandra/pom.xml
2	2	core/pom.xml
2	2	druid/pom.xml
2	2	elasticsearch/pom.xml
2	2	example/csv/pom.xml
2	2	example/function/pom.xml
2	2	example/pom.xml
2	2	file/pom.xml
2	2	geode/pom.xml
2	2	linq4j/pom.xml
2	2	mongodb/pom.xml
2	2	pig/pom.xml
2	2	piglet/pom.xml
2	2	plus/pom.xml
2	2	pom.xml
2	2	server/pom.xml
2	2	spark/pom.xml
2	2	splunk/pom.xml
1	1	ubenchmark/pom.xml

commit 27d883983e76691f9294e5edd9e264b978dfa7e9
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-12-18 11:33:17 -0800

    [maven-release-plugin] prepare release calcite-1.18.0

2	2	babel/pom.xml
2	2	cassandra/pom.xml
2	2	core/pom.xml
2	2	druid/pom.xml
2	2	elasticsearch/pom.xml
2	2	example/csv/pom.xml
2	2	example/function/pom.xml
2	2	example/pom.xml
2	2	file/pom.xml
2	2	geode/pom.xml
2	2	linq4j/pom.xml
2	2	mongodb/pom.xml
2	2	pig/pom.xml
2	2	piglet/pom.xml
2	2	plus/pom.xml
2	2	pom.xml
2	2	server/pom.xml
2	2	spark/pom.xml
2	2	splunk/pom.xml
1	1	ubenchmark/pom.xml

commit 6bca0b80859e86ac41ba1e342460db929cf72268
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-12-02 19:58:56 -0800

    [CALCITE-2575] Release Calcite 1.18.0
    
    Release notes; change version numbers.
    
    Update release instructions in HOWTO.

1	1	README
6	1	pom.xml
469	4	site/_docs/history.md
22	22	site/_docs/howto.md

commit f362785e1f14d74f45a30223a49f927df4b7b0c6
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-12-13 16:46:39 -0800

    [CALCITE-2673] Default implementation of SqlDialect should not support pushing all functions
    
    * Adding ROW operator as supported by default

2	0	core/src/main/java/org/apache/calcite/sql/SqlDialect.java

commit b51dbdb99907f92d9e9f3f92dbe27fe4160ae0b2
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-12-07 17:28:10 +0100

    [CALCITE-2731] RexProgramBuilder makes unsafe simplifications to CASE expressions (Zoltan Haindrich)
    
    Simplification treated LocalRefs as safe expressions; which was wrong,
    since they might be used to reference expressions such as x / 0.
    
    Close apache/calcite#960

10	7	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
12	0	core/src/test/resources/sql/conditions.iq
1	1	core/src/test/resources/sql/some.iq
7	7	core/src/test/resources/sql/sub-query.iq

commit 8c7dc786312d0dc0dc3f075c81ff71ac1ea871c5
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-12-07 17:16:57 +0100

    [CALCITE-2730] RelBuilder incorrectly simplifies a filter with duplicate conjunction to empty (Stamatis Zampetakis)
    
    1. Modify RexSimplify#processRange method to replace at most one term
       at a time.
    2. Add unit test reproducing the problem.
    3. Add missing filter in the expected plan of
       RelOptRulesTest#testMergeJoinFilter.
    4. Add utility method RexUtil#replaceFirst.
    
    Move RexUtil.replaceFirst into RexSimplify;
    change it to replaceLast, so that it simplifies (x, y, x) to (x, y)
    rather than the less intuitive (y, x). (Julian Hyde)
    
    Close apache/calcite#959

24	19	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
36	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
2	1	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit f3655e15a11a9fb266af290cb390e690d4301c09
Author: hongzezhang <hongzezhang@tencent.com>
Date:   2018-11-14 19:48:49 +0800

    [CALCITE-2670] Combine similar JSON aggregate functions in operator table
    
    Convert parameters from Enum to more specific types;
    include varying flag values in JSON aggregate functions.
    
    Some cosmetic stuff.
    
    Close apache/calcite#916

8	18	core/src/main/codegen/templates/Parser.jj
18	16	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
2	0	core/src/main/java/org/apache/calcite/jdbc/JavaTypeFactoryImpl.java
1	1	core/src/main/java/org/apache/calcite/rel/core/AggregateCall.java
1	17	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
8	1	core/src/main/java/org/apache/calcite/sql/SqlJsonConstructorNullClause.java
3	2	core/src/main/java/org/apache/calcite/sql/SqlJsonEmptyOrError.java
4	1	core/src/main/java/org/apache/calcite/sql/SqlJsonExistsErrorBehavior.java
1	1	core/src/main/java/org/apache/calcite/sql/SqlJsonQueryEmptyOrErrorBehavior.java
1	1	core/src/main/java/org/apache/calcite/sql/SqlJsonValueEmptyOrErrorBehavior.java
2	2	core/src/main/java/org/apache/calcite/sql/dialect/MssqlSqlDialect.java
34	17	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayAggAggFunction.java
1	1	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayFunction.java
32	15	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectAggAggFunction.java
1	1	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectFunction.java
4	12	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
7	14	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
58	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
108	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
6	0	core/src/test/resources/sql/misc.iq
4	4	example/csv/src/test/java/org/apache/calcite/test/CsvTest.java

commit 40d12b7419bd544bd829011a18ac37f6bc529ce7
Author: Rong Rong <walter_ddr@hotmail.com>
Date:   2018-08-20 17:16:19 -0700

    [CALCITE-2468] Validator throws IndexOutOfBoundsException when trying to infer operand type from STRUCT return type (Rong Rong)
    
    Add example in server module's type.iq test.
    Fix type inference when operator is AS with a complex row of just 1 element.
    
    Close apache/calcite#932

21	10	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
10	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
12	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
22	0	server/src/test/resources/sql/type.iq

commit 4da9c0d94ee0e2a2f4d03845730ffc63a83a7cbd
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-12-05 16:32:50 +0100

    [CALCITE-2726] ReduceExpressionRule oversimplifies filter conditions containing nulls
    
    ReduceExpressionsRule might have simplified "(empno=null and mgr=1) is
    null" to "false".
    
    Add test case based on [HIVE-20617];
    deprecate ExprSimplifier (Julian Hyde)
    
    Close apache/calcite#956

4	5	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
4	3	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
5	3	core/src/main/java/org/apache/calcite/rex/RexUtil.java
15	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
31	19	core/src/test/java/org/apache/calcite/test/RexImplicationCheckerTest.java
21	2	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
13	0	core/src/test/resources/sql/conditions.iq

commit efec74deb80da1708fd42bcc2b57289840869346
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-11-28 15:53:56 -0800

    [CALCITE-2716] Upgrade to Avatica 1.13.0
    
    Also upgrade to
    jetty 9.4.11.v20180605
    maven-scm-provider 1.10.0
    mockito 2.22.0
    owasp-dependency-check 3.3.2
    slf4j 1.7.25

7	7	pom.xml

commit 5c6d3c22cd77e3fd6427f327187b3e0bfd8a2a81
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-09-26 14:03:29 +0200

    [CALCITE-2596] When translating correlated variables in enumerable convention, convert not-null boxed primitive values to primitive (Stamatis Zampetakis)
    
    Apply nullAs policy when translating expressions with correlated variables.
    
    Close apache/calcite#868

20	10	core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java
12	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableCorrelateTest.java

commit 0ad68c3194c7bca24dfd21302418636730274312
Author: rubenada <rubenql@gmail.com>
Date:   2018-11-19 16:46:02 +0100

    [CALCITE-2684] RexBuilder gives AssertionError when creating integer literal larger than 2^63 (Ruben Quesada Lopez)
    
    Close apache/calcite#928
    
    For [CALCITE-2701]:
    Close apache/calcite#935

9	3	core/src/main/java/org/apache/calcite/rex/RexBuilder.java
24	0	core/src/test/java/org/apache/calcite/rex/RexBuilderTest.java

commit dfb29f7627d02f6e4414be7bc42822a26684778c
Author: Piotr Bojko <ptr.bojko@gmail.com>
Date:   2018-12-02 23:04:12 +0100

    [CALCITE-2719] In JDBC adapter for MySQL, fix cast to INTEGER and BIGINT (Piotr Bojko)
    
    MySQL does not support casts to INTEGER and BIGINT; instead we must
    cast to SIGNED.
    
    Close apache/calcite#953

2	1	core/src/main/java/org/apache/calcite/sql/dialect/MysqlSqlDialect.java
20	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 6c7a7edd1b9b11f2c0826db04d60cc2b62bea636
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-12-03 14:15:52 -0800

    [CALCITE-2713] JDBC adapter may generate casts on PostgreSQL for VARCHAR type exceeding max length
    
    Close apache/calcite#944

42	10	core/src/main/java/org/apache/calcite/sql/SqlDialect.java
25	1	core/src/main/java/org/apache/calcite/sql/dialect/PostgresqlSqlDialect.java
47	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit be5404713bbcd8cdc19f2651af33707b895d2c04
Author: chadasa <44845836+chadasa@users.noreply.github.com>
Date:   2018-12-01 20:44:09 +0530

    [CALCITE-2709] In Geode adapter, allow filtering on DATE, TIME, TIMESTAMP fields (Sandeep Chada)
    
    GeodeFilter changes to support filtering with datetime types (DATE,
    TIME, TIMESTAMP).
    
    Close apache/calcite#952

20	4	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeFilter.java
200	33	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeAllDataTypesTest.java
5	4	geode/src/test/java/org/apache/calcite/adapter/geode/rel/JsonLoader.java

commit 25c332d609372522e1090cb141ab8ae5f1bdceb8
Author: Andrew Pilloud <apilloud@google.com>
Date:   2018-08-17 15:44:01 -0700

    [CALCITE-2529] All numbers are in the same type family (Andrew Pilloud)
    
    The linq4j code generator fails to generate calls to functions
    when there is a mix between integer and floating point arguments.
    This is due to the incorrect assumption that java integer types
    can not be assigned to floating point types. This change fixes
    the assignment mapping, enabling the generator to call floating
    point functions with integer arguments.
    
    Close apache/calcite#818

6	78	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
5	1	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
4	4	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Primitive.java
16	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/PrimitiveTest.java

commit 03c88b69c27ce7df22eee889503c70e6fe6bb016
Author: Enrico Olivelli <eolivelli@apache.org>
Date:   2018-11-08 08:10:18 +0100

    [CALCITE-2662] In Planner, allow parsing a stream (Reader) instead of a String (Enrico Olivelli)
    
    Add SourceStringReader, a simple sub-class of StringReader that
    remembers the original string. This allows us to use Reader for most
    parser methods, knowing we can find the string if the parser was
    invoked on a string, but null if it was invoked on an infinite reader.
    
    Close apache/calcite#906

9	2	core/src/main/codegen/templates/Parser.jj
3	2	core/src/main/java/org/apache/calcite/prepare/PlannerImpl.java
34	15	core/src/main/java/org/apache/calcite/sql/parser/SqlParser.java
16	1	core/src/main/java/org/apache/calcite/tools/Planner.java
46	0	core/src/main/java/org/apache/calcite/util/SourceStringReader.java
17	1	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
2	1	core/src/test/java/org/apache/calcite/sql/test/SqlTestFactory.java
47	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java

commit d0bdec4f639e05498fe4ba6427fab53c826987b8
Author: xuqianjin <x1q1j1@163.com>
Date:   2018-11-23 22:15:20 +0800

    [CALCITE-2699] TIMESTAMPADD function now applies to DATE and TIME as well as TIMESTAMP (xuqianjin)
    
    Close apache/calcite#936

10	5	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
8	4	core/src/main/java/org/apache/calcite/sql/fun/SqlTimestampAddFunction.java
37	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
1	1	site/_docs/reference.md

commit 16ebc963d8751c3b4fddf27b341a74033b7e4b30
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-11-23 11:58:10 +0100

    [CALCITE-2701] Make generated Baz classes immutable
    
    Revert the workaround introduced in EnumerableRelImplementor due to JANINO-169.

1	14	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRelImplementor.java
3	2	core/src/test/java/org/apache/calcite/test/JdbcTest.java

commit 69750ff759a560b462960d81c446bdf912a1b39d
Author: Ted Xu <frankxus@gmail.com>
Date:   2018-11-10 14:46:24 +0800

    [CALCITE-2619] Reduce string literal creation cost by deferring and caching charset conversion (Ted Xu)
    
    Close apache/calcite#911

17	0	core/src/main/java/org/apache/calcite/rex/RexBuilder.java
57	8	core/src/main/java/org/apache/calcite/sql/SqlUtil.java
109	46	core/src/main/java/org/apache/calcite/util/NlsString.java
50	0	core/src/test/java/org/apache/calcite/rex/RexBuilderTest.java
1	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit d7d28a273c127d324787298ed253fae94b9f221d
Author: liusiyuan1 <liusiyuan1@360.cn>
Date:   2018-11-18 23:28:29 +0800

    [CALCITE-2679] In Elasticsearch adapter, implement DISTINCT and GROUP BY without aggregate function (Siyuan Liu)
    
    This commit mainly fixed 3 bugs:
    1. Group by and distinct query enter the wrong execution branch.
       [ElasticsearchTable:126]
    2. Values in agg bucket loses a part after returning as a result.
       [ElasticsearchJson:83-93, 546-551]
    3. Logic of removing empty agg blocks can not work. [Elasticsearch:240-254]
    
    Close apache/calcite#927

30	12	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJson.java
19	10	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
71	25	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java

commit e274f1ba28494a037fd6e06d7a7b8d762661484f
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-11-20 09:28:20 +0100

    [CALCITE-2688] Improve diagnosability when validator cannot infer a return type (Zoltan Haindrich)
    
    Close apache/calcite#930

7	1	core/src/main/java/org/apache/calcite/sql/SqlOperator.java
0	5	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
4	4	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
0	1	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
12	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 5ebf458f3aa82a4b319815a014ef3cb30c775af7
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-11-30 15:49:15 +0100

    [CALCITE-2720] RelMetadataQuery.getTableOrigin throws IndexOutOfBoundsException if RelNode has no columns (Zoltan Haindrich)
    
    An example is an Aggregate with empty groupKey an no aggregate
    functions. Occurs during LoptOptimizeJoinRule.
    
    Close apache/calcite#949
    
    An unrelated PR that we also wish to close:
    Close apache/calcite#939

3	0	core/src/main/java/org/apache/calcite/rel/metadata/RelMetadataQuery.java
15	0	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java

commit de9a7164b2d3e5a1637254fd0d54c7a4c886166e
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2018-11-30 14:25:20 -0800

    [CALCITE-2717] Use Interner instead of LoadingCache to cache traits to allow GC (Haisheng Yuan)
    
    Even though canonicalMap's value is soft referenced, key is strong referenced,
    key and value are referencing the same object. So traits in the cache will
    never be garbage-collected, which may cause OOM if we have tons of different
    traits. This issue has been fixed by caching traits using Interner instead of
    LoadingCache. In addition, canonizeComposite is removed, since canonize can do
    the same work.
    
    Close apache/calcite#951

3	21	core/src/main/java/org/apache/calcite/plan/RelCompositeTrait.java
12	45	core/src/main/java/org/apache/calcite/plan/RelTraitDef.java

commit 45258404b7844204266f8c356a8e41ef1f1e3683
Author: Rong Rong <walter_ddr@hotmail.com>
Date:   2018-11-19 16:42:10 -0800

    [CALCITE-2542] In SQL parser, allow '. field' to follow expressions other than tables and columns (Rong Rong)
    
    Fix how SqlNode AtomicRowExpression + DOT operation is parsed, adding
    in <DOT> parser for expression2b for parsing additional identifier
    after AtomicRowExpression.
    
    Close apache/calcite#933

10	0	core/src/main/codegen/templates/Parser.jj
14	4	core/src/main/java/org/apache/calcite/sql/fun/SqlDotOperator.java
10	5	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
10	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
24	2	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
22	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 849f1416d435acb1409be853f8cc62ff610eda9a
Author: LantaoJin <jinlantao@gmail.com>
Date:   2018-11-26 20:06:44 +0800

    [CALCITE-2705] Site: Remove duplicate "selectivity" in list of metadata types (Alan Jin)
    
    Close apache/calcite#940

2	3	site/_docs/adapter.md

commit 453f171d900ac8ac04bed95bbdd59c986ba4e726
Author: park.yq <park.yq@alibaba-inc.com>
Date:   2018-11-26 21:12:45 +0800

    [CALCITE-2637] In SQL parser, allow prefix '-' between BETWEEN and AND (Qi Yu)
    
    For example, "WHERE deptno BETWEEN - deptno AND 5".
    
    Fix Mimer URL; add a test (Julian Hyde)
    
    Close apache/calcite#941

4	2	core/src/main/codegen/templates/Parser.jj
23	1	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java

commit 847e76cde2894ea7540749f68669ce2d910c2fa9
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-11-26 15:58:50 +0100

    [CALCITE-2632] Ensure that RexNode and its sub-classes implement hashCode and equals methods (Zoltan Haindrich)
    
    Previously there was no default hashCode/equals implementations. To
    ensure that they are working properly is crucial while working with
    basic collections like sets/maps.
    
    Fix ups (Julian Hyde):
    
    * Use Objects.equals(x, y) in preference to x.equals(y) only when x or y
     may be null; and use x == y when objects are primitive.
    
    * When implementing Object.equals, use the pattern
    
      return this == obj
        || obj instanceof Type
        && a.equals(((Type) obj).a) ...
    
      whenever possible.
    
    * In the many cases where RexNode.toString() is used as a key in
      collections, use the raw RexNode instead.
    
    Close apache/calcite#943

2	2	core/src/main/java/org/apache/calcite/plan/RexImplicationChecker.java
4	4	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
1	1	core/src/main/java/org/apache/calcite/rel/core/Match.java
13	0	core/src/main/java/org/apache/calcite/rel/core/Window.java
65	72	core/src/main/java/org/apache/calcite/rel/metadata/RelMdPredicates.java
7	32	core/src/main/java/org/apache/calcite/rel/metadata/RelMdUtil.java
2	3	core/src/main/java/org/apache/calcite/rel/mutable/MutableFilter.java
2	4	core/src/main/java/org/apache/calcite/rel/mutable/MutableJoin.java
2	4	core/src/main/java/org/apache/calcite/rel/mutable/MutableSemiJoin.java
45	52	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
10	11	core/src/main/java/org/apache/calcite/rel/rules/DateRangeRules.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/JoinPushExpressionsRule.java
8	31	core/src/main/java/org/apache/calcite/rel/rules/PushProjector.java
4	4	core/src/main/java/org/apache/calcite/rel/rules/ReduceDecimalsRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
1	1	core/src/main/java/org/apache/calcite/rex/LogicVisitor.java
16	6	core/src/main/java/org/apache/calcite/rex/RexCall.java
12	0	core/src/main/java/org/apache/calcite/rex/RexCorrelVariable.java
14	0	core/src/main/java/org/apache/calcite/rex/RexDynamicParam.java
13	0	core/src/main/java/org/apache/calcite/rex/RexNode.java
3	3	core/src/main/java/org/apache/calcite/rex/RexOver.java
2	2	core/src/main/java/org/apache/calcite/rex/RexProgramBuilder.java
13	0	core/src/main/java/org/apache/calcite/rex/RexRangeRef.java
43	42	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
4	3	core/src/main/java/org/apache/calcite/rex/RexSubQuery.java
23	23	core/src/main/java/org/apache/calcite/rex/RexUtil.java
5	5	core/src/main/java/org/apache/calcite/rex/RexVariable.java
3	13	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
4	5	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
10	24	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
2	2	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchRules.java

commit ce47088f118b796908b1de4b1440d21d08d2b6b7
Author: Piotr Bojko <ptr.bojko@gmail.com>
Date:   2018-11-28 12:12:54 +0100

    [CALCITE-2715] In JDBC adapter, do not generate character set in data types for MS SQL Server (Piotr Bojko)
    
    MS SQL Server does not support character set as part of data type.
    
    Close apache/calcite#945

4	0	core/src/main/java/org/apache/calcite/sql/dialect/MssqlSqlDialect.java
11	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit ed3da62d75ead6c00bb73470c3436e51f6f77197
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-11-20 00:10:47 -0500

    [CALCITE-2689] In ElasticSearch adapter, allow grouping on non-textual fields like date and number
    
    Consider field type when populating `missing` (value) in Elasticsearch
    terms aggregations.
    
    Close apache/calcite#946

5	0	elasticsearch/pom.xml
55	12	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJson.java
188	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchMapping.java
9	4	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
17	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTransport.java
0	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/Scrolling.java
60	17	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/AggregationTest.java
4	3	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/BooleanLogicTest.java
0	1	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ScrollingTest.java

commit 08aefb09c596c3a3292b68b695b1038fd4f64b92
Author: rubenada <rubenql@gmail.com>
Date:   2018-11-29 11:08:03 +0100

    [CALCITE-2714] Make BasicSqlType immutable, and now SqlTypeFactory.createWithNullability can reuse existing type if possible (Ruben Quesada Lopez)
    
    Close apache/calcite#947

2	1	core/src/main/java/org/apache/calcite/sql/type/AbstractSqlType.java
49	45	core/src/main/java/org/apache/calcite/sql/type/BasicSqlType.java
2	3	core/src/main/java/org/apache/calcite/sql/type/SqlTypeFactoryImpl.java

commit 861d05a2d5cd00ba0c6fe69b68303b5e082d3ee0
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-28 23:00:23 +0000

    [maven-release-plugin] prepare release avatica-1.13.0-rc0

1	1	core/pom.xml
1	1	docker/pom.xml
1	1	metrics-dropwizardmetrics/pom.xml
1	1	metrics/pom.xml
1	1	noop-driver/pom.xml
2	2	pom.xml
1	1	server/pom.xml
1	1	shaded/core/pom.xml
1	1	standalone-server/pom.xml
1	1	tck/pom.xml

commit 5c5b7ae5d20c6ea629ef840a8ccb0eddb36d6ee1
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-29 08:53:20 +1100

    [CALCITE-2576] Release avatica 1.13.0

1	1	README
1	0	docker/src/main/dockerhub/Dockerfile.hypersql
1	1	pom.xml
14	14	site/_docs/docker_images.md
87	0	site/_docs/history.md
6	5	site/_docs/howto.md

commit 1e4013e16619824cbdf6bcd13846473a7c88f8e4
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-23 09:37:05 +1100

    [CALCITE-2698] Use Docker Hub hooks to select Avatica version during image build and publish HSQLDB image

2	2	.travis.yml
2	2	appveyor.yml
2	2	docker.sh
0	29	docker/pom.xml
1	2	docker/src/main/dockerhub/Dockerfile
1	1	docker/src/main/{dockerhub-hypersql/Dockerfile => dockerhub/Dockerfile.hypersql}
18	0	docker/src/main/dockerhub/hooks/build
21	0	docker/src/main/dockerhub/hooks/post_push
0	56	docker/src/test/scripts/verify-dockerhub-dockerfile-version.groovy
0	6	pom.xml
9	11	site/_docs/howto.md

commit 439ca73b8a335213b5f2764514b14e17c9d3c216
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-11-22 18:31:09 +0100

    [CALCITE-2695] Simplify casts which are only widening nullability (Zoltan Haindrich)
    
    Close apache/calcite#934

1	1	core/src/main/java/org/apache/calcite/rex/RexProgramBuilder.java
9	4	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
1	1	core/src/test/java/org/apache/calcite/test/JdbcTest.java
8	1	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
1	1	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
7	7	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
1	1	core/src/test/resources/sql/agg.iq
1	1	core/src/test/resources/sql/some.iq
10	10	core/src/test/resources/sql/sub-query.iq

commit 463255c75f7e83081f56e657549d69d4feb7dbdf
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-11-20 09:28:20 +0100

    [CALCITE-2687] Is distinct from could lead to Exceptions in ReduceExpressionRule (Zoltan Haindrich)
    
    Close apache/calcite#929

18	30	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
13	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
25	2	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
18	5	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit da57c903f335141e48d13656bafc568d8eb0d2d7
Author: chadasa <44845836+chadasa@users.noreply.github.com>
Date:   2018-11-24 12:43:24 +0530

    [CALCITE-2671] GeodeFilter convert multiple ORs (on same attribute) into single IN SET. (Sandeep Chada)
    
    Geode IN SET operator has better performance than multiple ORs (even if they're equivalent)
    
    foo = 1 or foo = 2 or foo = 3
    -- equivalent to (but much faster in geode)
    foo in SET(1, 2, 3)
    
    closes apache/calcite#942

133	12	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeFilter.java
145	0	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeAllDataTypesTest.java
73	21	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeBookstoreTest.java
108	2	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeZipsTest.java
13	3	geode/src/test/java/org/apache/calcite/adapter/geode/rel/JsonLoader.java

commit 249ec597504d73e8f2d553a5d5c0f2dfff3efa5f
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-11-14 13:01:38 -0800

    [CALCITE-2673] SqlDialect supports pushing of all functions by default
    
    Close apache/calcite#918

86	2	core/src/main/java/org/apache/calcite/sql/SqlDialect.java

commit 632a85d0b851075941cf6dad402ad181d145cf3e
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-11-26 19:45:19 -0800

    [CALCITE-2711] Upgrade SQLLine to 1.6.0

1	1	pom.xml

commit d32ee5c320938b5c34ce09df2276c9570c27a301
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-11-15 17:42:01 +0100

    [CALCITE-2675] Type validation error as ReduceExpressionRule fails to preserve type nullability (Zoltan Haindrich)
    
    Close apache/calcite#922

0	3	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
13	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
17	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit acc49bf8cdd5d2d86af4f2ec124c7d902c3575a8
Author: snuyanzin <snuyanzin@gmail.com>
Date:   2018-07-11 10:26:01 +0300

    [CALCITE-2412] Add appveyor.yml (sync with travis.yml) for tests on Windows against jdk1.8, 9, 10. Add Appveyor badge.
    
    Close apache/calcite-avatica#65

1	0	README.md
43	0	appveyor.yml

commit 53e15af6c5e8e782b2edcd7f5bf4f5f32225d110
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-11-05 18:57:50 +0300

    [CALCITE-563] In JDBC adapter, push bindable parameters down to the underlying JDBC data source (Vladimir Sitnikov, Piotr Bojko)
    
    Fix up, moving JdbcPreparedStatementUtils methods into
    ResultSetEnumerable, and fixing some comments and typos. (Julian Hyde)
    
    Close apache/calcite#907
    Close apache/calcite#902

49	14	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcToEnumerableConverter.java
1	1	core/src/main/java/org/apache/calcite/prepare/CalcitePrepareImpl.java
3	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
174	19	core/src/main/java/org/apache/calcite/runtime/ResultSetEnumerable.java
1	2	core/src/main/java/org/apache/calcite/sql/SqlDynamicParam.java
1	2	core/src/main/java/org/apache/calcite/sql/SqlNode.java
5	0	core/src/main/java/org/apache/calcite/sql/SqlWriter.java
15	2	core/src/main/java/org/apache/calcite/sql/pretty/SqlPrettyWriter.java
32	10	core/src/main/java/org/apache/calcite/sql/util/SqlString.java
5	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
1	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
107	6	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
11	0	core/src/test/java/org/apache/calcite/test/JdbcAdapterTest.java
53	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
9	0	plus/pom.xml
2	2	plus/src/main/java/org/apache/calcite/chinook/CalciteConnectionProvider.java
108	0	plus/src/main/java/org/apache/calcite/chinook/ChinookAvaticaServer.java
2	2	plus/src/main/java/org/apache/calcite/chinook/ConnectionFactory.java
76	0	plus/src/test/java/org/apache/calcite/chinook/RemotePreparedStatementParametersTest.java
3	1	plus/src/test/java/org/apache/calcite/test/PlusSuite.java

commit 9199fef02c10630a54b0a19596bf93b9fc512895
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-19 08:53:39 +1100

    [CALCITE-2385] Use -DskipDockerCheck when running tests on travis

2	2	.travis.yml

commit 2d0450f8ba8d8afea372e0f895fda8d9f96d7add
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-19 08:22:03 +1100

    Update travis badge to the apache/calcite-avatica one in README.md

1	1	README.md

commit bf0f19ccdcdce13fd26c09c2da89f54c1cdd8754
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-18 21:48:22 +1100

    [CALCITE-2682] Add ability to run tests in docker

12	3	docker-compose.yml
17	6	release.sh => docker.sh
14	1	site/_docs/howto.md

commit 0c4de610d26b62793c5f4fae78309852da4e64fd
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-18 18:45:23 +1100

    Remove the requirement to set a master maven password from release script

1	5	release.sh

commit 79c8c93be7cf6c66e0e3bec419bd83a0840f0847
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-18 16:54:27 +1100

    Fix release script to ensure that git usernames with whitespaces are not truncated

1	1	release.sh

commit f6d3fbbca3282a1cdf0862c4779a3a418788b353
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-18 14:14:27 +1100

    Prompt user for git username when using release script

5	0	release.sh

commit d5d779e3458ca888dd0029d7504b61a42e6544d9
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-18 13:50:28 +1100

    Use selected GPG key in release script when executing release:perform

1	4	release.sh

commit 8f89f7ee9e8d677a428c0e713f2cfca2ccd1cbb4
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-18 13:44:25 +1100

    [CALCITE-2681] Add maven-scm-api as a dependency so that Avatica can be built

6	0	pom.xml

commit f8520bb89f93531f5cff713526860fd2263308f8
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-18 13:17:34 +1100

    Set release script to use gpg-agent

3	0	release.sh

commit c427d2c220d4a4658d2d48f36d0ad5f166652750
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-18 10:23:48 +1100

    [CALCITE-2680] Downgrade maven-scm-provider to 1.10.0 due to API incompatibility
    bug that is preventing releases from building correctly

1	1	pom.xml

commit 02ca9bc995cac5b4b97855a4d06df46e632d7c22
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-11-16 16:11:16 +0100

    [CALCITE-2678] RelBuilderTest#testRelBuilderToString fails on Windows (Stamatis Zampetakis)
    
    Close apache/calcite#924

3	3	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit bd956458f9dd321c3cc90daaf5c13f194b8feb03
Author: ambition119 <1269223860>
Date:   2018-11-08 20:28:12 +0800

    [CALCITE-2663] Add CREATE and DROP FUNCTION (ambition119)
    
    Syntax is similar to Apache Hive's function syntax.
    
    Close apache/calcite#908
    Close apache/calcite#920
    Close apache/calcite#913

6	0	core/src/main/java/org/apache/calcite/sql/SqlKind.java
1	2	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorUtil.java
11	0	core/src/main/java/org/apache/calcite/util/Util.java
11	6	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
4	0	core/src/test/java/org/apache/calcite/sql/parser/SqlUnParserTest.java
12	1	core/src/test/java/org/apache/calcite/util/UtilTest.java
10	0	server/src/main/codegen/config.fmpp
59	0	server/src/main/codegen/includes/parserImpls.ftl
97	0	server/src/main/java/org/apache/calcite/sql/ddl/SqlCreateFunction.java
21	0	server/src/main/java/org/apache/calcite/sql/ddl/SqlDdlNodes.java
39	0	server/src/main/java/org/apache/calcite/sql/ddl/SqlDropFunction.java
1	0	server/src/main/java/org/apache/calcite/sql/ddl/SqlDropObject.java
35	0	server/src/test/java/org/apache/calcite/test/ServerParserTest.java
40	0	server/src/test/java/org/apache/calcite/test/ServerUnParserTest.java
16	0	site/_docs/reference.md

commit a8617e0354c50b006a6e098371179be99b6270eb
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-16 10:05:45 +1100

    [CALCITE-2676] Add release script and docker-compose.yml to support building a release using docker

44	0	docker-compose.yml
262	0	release.sh
40	0	site/_docs/howto.md

commit 614bc7b2bffce28b26d7c52f12a670f4a13f264a
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-10-31 22:35:33 -0400

    [CALCITE-2651] Enable scrolling in ElasticSearch adapter for basic search queries
    
    The only efficient way to fetch full (large) result set in elastic is to use scrolling.
    
    Note that behaviour remains unchanged for queries with aggregates and offsets
    (like explicit pagination using `from`).

5	0	elasticsearch/pom.xml
11	2	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJson.java
22	2	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchSchema.java
21	79	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
285	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTransport.java
176	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/Scrolling.java
36	12	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java
7	3	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/EmbeddedElasticsearchPolicy.java
125	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ScrollingTest.java

commit 3f0e5afe2d6b05178686ea0454f57c9de4883655
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-11-13 09:52:35 +1100

    [CALCITE-2385] Add flag to disable dockerfile checks when executing a dry-run build

6	1	docker/pom.xml
5	17	site/_docs/howto.md

commit fcc8bf7f44f92efb3c9a1e1f51ffc1a09cab27b9
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-11-13 14:00:17 -0800

    [CALCITE-2669] RelMdTableReferences should check whether references inferred from input are null for Union/Join operators

18	3	core/src/main/java/org/apache/calcite/rel/metadata/RelMdTableReferences.java
44	0	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java

commit 11ff061205604950d8fdfade62cb84236a3fc1e4
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2018-11-13 16:15:10 -0500

    Remove incorrect "Not implemented" message from CALCITE-2031

0	1	core/src/test/resources/sql/spatial.iq

commit a36ffc35cd21c4db69021d8051ac8c9834c02faa
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-11-13 11:26:50 -0800

    [CALCITE-2668] Support for left/right outer join in RelMdExpressionLineage (addendum)
    
    Catch UnsupportedOperationException in RelMdExpressionLineage

12	6	core/src/main/java/org/apache/calcite/rel/metadata/RelMdAllPredicates.java
9	3	core/src/main/java/org/apache/calcite/rel/metadata/RelMdExpressionLineage.java

commit 81a9bd783e2cc8a34e7a175b09cfd0b77dbf334a
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-11-13 08:42:35 -0800

    [CALCITE-2668] Support for left/right outer join in RelMdExpressionLineage

88	61	core/src/main/java/org/apache/calcite/rel/metadata/RelMdExpressionLineage.java
1	1	core/src/main/java/org/apache/calcite/rel/metadata/RelMdTableReferences.java
11	2	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
36	10	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java

commit 3f89e037cdcf99f416633a1915cbfc047e50f638
Author: Kevin Risden <krisden@apache.org>
Date:   2018-11-12 11:30:19 -0500

    [CALCITE-2660] OsAdapterTest should check if required commands are available
    
    Close apache/calcite#914
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

0	2	.travis.yml
24	0	plus/src/test/java/org/apache/calcite/adapter/os/OsAdapterTest.java
1	0	pom.xml

commit 1d2929105f47b944c65529fe59b3072cce167116
Author: chunwei.lcw <chunweilcw@163.com>
Date:   2018-11-09 11:30:29 +0800

    [CALCITE-2661] In RelBuilder, add methods for creating Exchange and SortExchange relational expressions (Chunwei Lei)
    
    Close apache/calcite#910

1	1	core/src/main/java/org/apache/calcite/rel/core/Exchange.java
60	0	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
68	0	core/src/main/java/org/apache/calcite/rel/logical/LogicalSortExchange.java
25	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
26	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
4	0	site/_docs/algebra.md

commit 6d9242a168a26ea3bebd3aed7919dccb86b7ebe3
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-11-12 12:22:58 -0800

    Following [CALCITE-2266], remove an unwanted dependency
    
    Also, cosmetic changes: spaces and indentation

71	101	core/src/main/codegen/templates/Parser.jj
1	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRelImplementor.java
11	17	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
1	3	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
2	2	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
46	33	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
2	1	core/src/main/java/org/apache/calcite/sql/SqlJsonEncoding.java
6	2	core/src/main/java/org/apache/calcite/sql/SqlJsonQueryEmptyOrErrorBehavior.java
3	1	core/src/main/java/org/apache/calcite/sql/SqlJsonQueryWrapperBehavior.java
5	2	core/src/main/java/org/apache/calcite/sql/SqlJsonValueEmptyOrErrorBehavior.java
2	4	core/src/main/java/org/apache/calcite/sql/dialect/HsqldbSqlDialect.java
2	4	core/src/main/java/org/apache/calcite/sql/dialect/MysqlSqlDialect.java
7	15	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonApiCommonSyntaxOperator.java
7	16	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayAggAggFunction.java
12	15	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayFunction.java
5	8	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonExistsFunction.java
6	15	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectAggAggFunction.java
15	17	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectFunction.java
11	12	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonQueryFunction.java
16	29	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonValueExpressionOperator.java
34	41	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonValueFunction.java
18	15	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
2	1	core/src/main/java/org/apache/calcite/sql/type/ReturnTypes.java
9	19	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
18	14	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
0	1	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
2	1	core/src/test/java/org/apache/calcite/sql/test/SqlTester.java
4	2	core/src/test/java/org/apache/calcite/sql/test/SqlTests.java
1	2	core/src/test/java/org/apache/calcite/test/BookstoreSchema.java
2	2	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
152	184	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
1	2	druid/src/test/java/org/apache/calcite/adapter/druid/DruidQueryFilterTest.java
2	4	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java
2	4	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT2.java
1	2	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java
5	5	site/_docs/reference.md

commit 4310815a829ef01decccc3a4dcc37f5f8372c671
Author: Hongze Zhang <hongzezhang@tencent.com>
Date:   2018-11-11 01:39:20 +0800

    Fix invocation of deprecated constructor of SqlAggFunction (Hongze Zhang)

3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayAggAggFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectAggAggFunction.java

commit 8e557d26cffceaf7d7f98d8f8bafd9fbe3bc2447
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2018-11-09 11:39:20 -0500

    [CALCITE-2266] Implement SQL:2016 JSON functions: JSON_EXISTS, JSON_VALUE, JSON_QUERY, JSON_OBJECT, JSON_OBJECTAGG, JSON_ARRAY, JSON_ARRAYAGG, IS JSON predicate (Hongze Zhang)
    
    Close apache/calcite#785

19	0	babel/src/main/codegen/config.fmpp
4	0	core/pom.xml
12	0	core/src/main/codegen/config.fmpp
585	0	core/src/main/codegen/templates/Parser.jj
153	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
77	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
422	15	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
26	0	core/src/main/java/org/apache/calcite/sql/SqlJsonConstructorNullClause.java
33	0	core/src/main/java/org/apache/calcite/sql/SqlJsonEmptyOrError.java
42	0	core/src/main/java/org/apache/calcite/sql/SqlJsonEncoding.java
26	0	core/src/main/java/org/apache/calcite/sql/SqlJsonExistsErrorBehavior.java
32	0	core/src/main/java/org/apache/calcite/sql/SqlJsonQueryEmptyOrErrorBehavior.java
26	0	core/src/main/java/org/apache/calcite/sql/SqlJsonQueryWrapperBehavior.java
32	0	core/src/main/java/org/apache/calcite/sql/SqlJsonValueEmptyOrErrorBehavior.java
23	2	core/src/main/java/org/apache/calcite/sql/SqlKind.java
75	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonApiCommonSyntaxOperator.java
75	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayAggAggFunction.java
109	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonArrayFunction.java
61	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonExistsFunction.java
79	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectAggAggFunction.java
137	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonObjectFunction.java
119	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonQueryFunction.java
75	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonValueExpressionOperator.java
196	0	core/src/main/java/org/apache/calcite/sql/fun/SqlJsonValueFunction.java
111	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
6	0	core/src/main/java/org/apache/calcite/sql/type/ReturnTypes.java
24	0	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
34	0	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
25	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
12	0	core/src/test/codegen/config.fmpp
81	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
147	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
10	0	core/src/test/java/org/apache/calcite/sql/test/AbstractSqlTester.java
7	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
307	4	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
17	0	core/src/test/java/org/apache/calcite/sql/test/SqlTester.java
38	0	core/src/test/java/org/apache/calcite/sql/test/SqlTests.java
1	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
9	8	core/src/test/java/org/apache/calcite/test/SqlFunctionsTest.java
807	0	core/src/test/java/org/apache/calcite/test/SqlJsonFunctionsTest.java
93	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
41	0	core/src/test/resources/sql/agg.iq
12	0	pom.xml
12	0	server/src/main/codegen/config.fmpp
81	0	site/_docs/reference.md

commit d7829a3c2b35d1cb52e60167bc446b163b928096
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-11-08 11:33:21 -0800

    Oops, let's stay on sqlline-1.5 for now

1	1	pom.xml

commit ebc43d9288dca1990992b16a1fa8bbfdd193f939
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-11-01 23:15:57 +0100

    [CALCITE-2652] SqlNode to SQL conversion fails if the join condition references a BOOLEAN column (Zoltan Haindrich)
    
    Previously when a join ON condition have contained an exact reference it ended up with an exception.
    
    Close apache/calcite#899

4	0	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
13	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 042fa6b7135fc8861816985253657dd685471f25
Author: chunwei.lcw <chunweilcw@163.com>
Date:   2018-11-07 15:17:02 +0800

    [CALCITE-2657] In RexShuttle, use "RexCall.clone" instead of "new RexCall" (Chunwei Lei)
    
    Close apache/calcite#905

1	4	core/src/main/java/org/apache/calcite/rex/RexShuttle.java

commit 7bc9f14032b7cf0761c0b2eefdb6bb588047ec8e
Author: hongzezhang <hongzezhang@tencent.com>
Date:   2018-09-27 17:55:02 +0800

    [CALCITE-2224] Support WITHIN GROUP clause for aggregate functions (Hongze Zhang)
    
    Close apache/calcite#871

13	2	core/src/main/codegen/templates/Parser.jj
1	0	core/src/main/java/org/apache/calcite/adapter/enumerable/AggImpState.java
48	0	core/src/main/java/org/apache/calcite/adapter/enumerable/AggregateLambdaFactory.java
146	49	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableAggregate.java
105	0	core/src/main/java/org/apache/calcite/adapter/enumerable/OrderedAggregateLambdaFactory.java
88	0	core/src/main/java/org/apache/calcite/adapter/enumerable/SequencedAdderAggregateLambdaFactory.java
60	0	core/src/main/java/org/apache/calcite/adapter/enumerable/SourceSorter.java
6	4	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
3	10	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
3	1	core/src/main/java/org/apache/calcite/prepare/CalciteCatalogReader.java
20	0	core/src/main/java/org/apache/calcite/rel/RelCollations.java
81	31	core/src/main/java/org/apache/calcite/rel/core/AggregateCall.java
1	0	core/src/main/java/org/apache/calcite/rel/core/Window.java
4	1	core/src/main/java/org/apache/calcite/rel/externalize/RelJsonReader.java
36	15	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
2	0	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
14	13	core/src/main/java/org/apache/calcite/rel/rules/AggregateExpandDistinctAggregatesRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateExtractProjectRule.java
1	0	core/src/main/java/org/apache/calcite/rel/rules/AggregateFilterTransposeRule.java
29	30	core/src/main/java/org/apache/calcite/rel/rules/AggregateProjectMergeRule.java
10	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateReduceFunctionsRule.java
2	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateStarTableRule.java
6	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateUnionTransposeRule.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
2	1	core/src/main/java/org/apache/calcite/rex/RexBuilder.java
12	0	core/src/main/java/org/apache/calcite/runtime/CalciteResource.java
55	4	core/src/main/java/org/apache/calcite/sql/SqlAggFunction.java
36	11	core/src/main/java/org/apache/calcite/sql/SqlFilterOperator.java
5	0	core/src/main/java/org/apache/calcite/sql/SqlKind.java
2	1	core/src/main/java/org/apache/calcite/sql/SqlRankFunction.java
10	6	core/src/main/java/org/apache/calcite/sql/SqlSplittableAggFunction.java
85	0	core/src/main/java/org/apache/calcite/sql/SqlWithinGroupOperator.java
2	1	core/src/main/java/org/apache/calcite/sql/fun/SqlAbstractGroupFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlAnyValueAggFunction.java
5	2	core/src/main/java/org/apache/calcite/sql/fun/SqlAvgAggFunction.java
5	2	core/src/main/java/org/apache/calcite/sql/fun/SqlCountAggFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlCovarAggFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlFirstLastValueAggFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlHistogramAggFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlLeadLagAggFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlMinMaxAggFunction.java
2	1	core/src/main/java/org/apache/calcite/sql/fun/SqlNthValueAggFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlNtileAggFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlSingleValueAggFunction.java
9	2	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlSumAggFunction.java
3	1	core/src/main/java/org/apache/calcite/sql/fun/SqlSumEmptyIsZeroAggFunction.java
4	0	core/src/main/java/org/apache/calcite/sql/validate/AggChecker.java
5	2	core/src/main/java/org/apache/calcite/sql/validate/SqlUserDefinedAggFunction.java
5	3	core/src/main/java/org/apache/calcite/sql/validate/SqlValidator.java
37	2	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
4	3	core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java
61	6	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
44	21	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
19	1	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
41	0	core/src/main/java/org/apache/calcite/util/Optionality.java
4	0	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
3	2	core/src/test/java/org/apache/calcite/plan/RelWriterTest.java
2	1	core/src/test/java/org/apache/calcite/plan/volcano/TraitPropagationTest.java
49	2	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
58	0	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
2	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
75	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
28	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
35	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
3	1	core/src/test/java/org/apache/calcite/tools/PlannerTest.java
38	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
123	0	core/src/test/resources/sql/agg.iq
5	6	druid/src/main/java/org/apache/calcite/adapter/druid/DruidRules.java
1	1	pom.xml
13	13	site/_docs/algebra.md
11	1	site/_docs/reference.md

commit 4cc46130f71d21e4f5b76f6e645380cd83d2c921
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-11-03 19:59:11 -0700

    [CALCITE-2654] In RelBuilder, add a fluent API for building complex aggregate calls
    
    To interface AggCall in RelBuilder, add methods distinct(boolean),
    filter(RexNode), approximate(boolean), alias(String). And simplify the
    RelBuilder.aggregateCall method to just two arguments:
    aggregateCall(op, operands). Thus you only specify the arguments that
    are of interest. Similar changes to count, countStar, min, max, sum,
    avg.

12	9	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
11	10	core/src/main/java/org/apache/calcite/rel/rules/AggregateExpandDistinctAggregatesRule.java
6	3	core/src/main/java/org/apache/calcite/rel/rules/AggregateExtractProjectRule.java
4	4	core/src/main/java/org/apache/calcite/rel/rules/SubQueryRemoveRule.java
5	3	core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java
1	2	core/src/main/java/org/apache/calcite/tools/PigRelBuilder.java
208	41	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
2	2	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java
32	34	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
17	5	site/_docs/algebra.md

commit 425fa7b7fb9cc02f5078e0696284176be0283fa3
Author: Kevin Risden <krisden@apache.org>
Date:   2018-11-06 11:30:50 -0500

    [CALCITE-2655] Enable Travis to test against JDK 12
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

3	0	.travis.yml
7	4	cassandra/src/test/java/org/apache/calcite/test/CassandraAdapterTest.java
4	3	pom.xml
0	7	ubenchmark/pom.xml

commit d94935509c62accbef3a0787290cd8faa381fbd7
Author: Kevin Risden <krisden@apache.org>
Date:   2018-11-06 11:34:04 -0500

    CALCITE-2655 - Enable Travis to test against JDK 12
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	0	.travis.yml
6	4	pom.xml

commit 06197d3bbe54d00fc695e7c50280653c1758e056
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-11-06 14:01:08 +0300

    [CALCITE-2605] Support semi-join via EnumerableCorrelate (Ruben Quesada Lopez)

14	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumUtils.java
4	11	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCorrelate.java

commit fce3966b29673a835b2a21b714d107eb4aa56e47
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-11-05 16:34:54 +0300

    [CALCITE-2605] Support left outer join via EnumerableCorrelate
    
    Test by Ruben Quesada Lopez
    
    closes #874
    closes #901

10	5	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCorrelate.java
32	0	core/src/test/java/org/apache/calcite/test/enumerable/EnumerableCorrelateTest.java

commit 561c6427e3602510d619b45cd7da840773fa0d2c
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-09-04 16:54:05 -0700

    [CALCITE-2405] In Babel parser, make 400 reserved keywords including YEAR, SECOND, DESC non-reserved
    
    Command words (e.g. SELECT, UPDATE, EXPLAIN, ALTER), SQL clause names
    (e.g. WHERE, ORDER, INNER but not BY), and keywords that start literals
    (DATE, TIME, TIMESTAMP, INTERVAL) remain reserved.
    
    In Planner, use the parser's conformance.
    
    Avoid javac StackOverflowError by splitting up the NonReservedKeywords()
    parser method into several parts.
    
    Compatibility warning: If you have created your own sub-parser you must
    copy nonReservedKeywords from core config.fmpp to your config.fmpp.
    Previously the core non-reserved keywords were in a parser method
    CommonNonReservedKeywords(), but that method has been removed.
    
    Upgrade freemarker to 2.3.28.

760	1	babel/src/main/codegen/config.fmpp
98	0	babel/src/test/java/org/apache/calcite/test/BabelParserTest.java
289	0	core/src/main/codegen/config.fmpp
61	320	core/src/main/codegen/templates/Parser.jj
1	2	core/src/main/java/org/apache/calcite/prepare/PlannerImpl.java
289	0	core/src/test/codegen/config.fmpp
101	59	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
1	1	pom.xml
291	0	server/src/main/codegen/config.fmpp

commit 9c26a9e74dafadb27ea363d82cfe1105d5dd3329
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-10-25 16:50:44 -0700

    [CALCITE-2441] RelBuilder.scan should expand TranslatableTable and views
    
    Add class ViewExpanders, which has utility methods for creating
    ToRelContext and ViewExpander.

0	1	core/src/main/java/org/apache/calcite/jdbc/CalciteSchema.java
1	1	core/src/main/java/org/apache/calcite/plan/RelOptMaterialization.java
3	15	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
67	0	core/src/main/java/org/apache/calcite/plan/ViewExpanders.java
10	10	core/src/main/java/org/apache/calcite/prepare/LixToRelTranslator.java
54	41	core/src/main/java/org/apache/calcite/prepare/PlannerImpl.java
2	6	core/src/main/java/org/apache/calcite/prepare/Prepare.java
2	1	core/src/main/java/org/apache/calcite/prepare/QueryableRelBuilder.java
44	0	core/src/main/java/org/apache/calcite/rel/core/RelFactories.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateStarTableRule.java
2	1	core/src/main/java/org/apache/calcite/rel/rules/LoptSemiJoinOptimizer.java
2	2	core/src/main/java/org/apache/calcite/rel/rules/TableScanRule.java
20	5	core/src/main/java/org/apache/calcite/schema/impl/ViewTable.java
0	4	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
2	14	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
6	0	core/src/main/java/org/apache/calcite/tools/FrameworkConfig.java
16	2	core/src/main/java/org/apache/calcite/tools/Frameworks.java
1	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
5	0	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
85	28	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
40	0	core/src/test/java/org/apache/calcite/tools/PlannerTest.java

commit 332ffb44783142bd75ffd429e72bfba305aa3bf1
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-10-03 15:09:22 -0700

    [CALCITE-1174] When generating SQL, translate SUM0(x) to COALESCE(SUM(x), 0)
    
    Don't require that '(' and ')' are formally part of a list; it the
    caller may not know the full context within the parse tree.
    
    Add some tests for RelToSql applied to empty GROUP BY.

27	12	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
0	6	core/src/main/java/org/apache/calcite/sql/pretty/SqlPrettyWriter.java
70	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit c33a4f46177419b3191fadd5ccc60a8a2ecc8524
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-09-28 17:46:11 -0700

    RelBuilder.toString()

9	0	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
22	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit 0b7b24a689d1791ad5c8127f02f69a3dba124689
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-09-28 14:51:24 -0700

    [CALCITE-2647] In RelBuilder, add a groupKey method that assumes only one grouping set
    
    Deprecate RelBuilder.groupKey(nodes, boolean, nodeList) (indicator is obsolete).

2	2	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
3	4	core/src/main/java/org/apache/calcite/rel/rules/AggregateExtractProjectRule.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/AggregateJoinTransposeRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateProjectPullUpConstantsRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateUnionAggregateRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AggregateUnionTransposeRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/IntersectToDistinctRule.java
42	9	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
1	1	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
1	1	site/_docs/algebra.md

commit b47413a1d648455c43dbe8d51df926ebd68b3a36
Author: Julian Hyde <jhyde@apache.org>
Date:   2017-07-06 15:19:58 -0700

    [CALCITE-1870] Lattice suggester
    
    Don't add a query graph if it is cyclic.
    
    More concise descriptions of join graphs, and add FoodMart test case.
    Add a test based on TPC-DS.
    
    Make FoodMartQueryTest a top-level class, and add a test that runs
    through all of its queries and suggests lattices.
    
    API changes to Lattice. Rename class Lattice.Node to LatticeNode, add
    sub-class LatticeRootNode that is immutable and has state that was
    previously in Lattice. LatticeSuggester makes heavy use of LatticeNode.
    Move column unique name into Column, and remove the
    Lattice.uniqueColumnNames field.
    
    DirectedGraph.toString sorts lists of vertices and edges.
    
    Add materialized views to documentation menu;
    tweak SQL formatting.
    
    In HepPlanner, rename noDAG to noDag.
    
    SqlImplementor: Translate simple RexNode to SQL without requiring RelBuilder;
    SqlImplementor.Context is now static, but not all derived classes are.
    
    Fix a typo in UdfTest.

433	161	core/src/main/java/org/apache/calcite/materialize/Lattice.java
46	0	core/src/main/java/org/apache/calcite/materialize/LatticeChildNode.java
116	0	core/src/main/java/org/apache/calcite/materialize/LatticeNode.java
86	0	core/src/main/java/org/apache/calcite/materialize/LatticeRootNode.java
135	0	core/src/main/java/org/apache/calcite/materialize/LatticeSpace.java
755	0	core/src/main/java/org/apache/calcite/materialize/LatticeSuggester.java
56	0	core/src/main/java/org/apache/calcite/materialize/LatticeTable.java
88	0	core/src/main/java/org/apache/calcite/materialize/MapSqlStatisticProvider.java
127	0	core/src/main/java/org/apache/calcite/materialize/MutableNode.java
45	0	core/src/main/java/org/apache/calcite/materialize/Path.java
31	0	core/src/main/java/org/apache/calcite/materialize/SqlStatisticProvider.java
113	0	core/src/main/java/org/apache/calcite/materialize/Step.java
4	0	core/src/main/java/org/apache/calcite/model/JsonSchema.java
3	1	core/src/main/java/org/apache/calcite/model/ModelHandler.java
1	1	core/src/main/java/org/apache/calcite/plan/RelOptLattice.java
16	18	core/src/main/java/org/apache/calcite/plan/hep/HepPlanner.java
64	20	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
1	1	core/src/main/java/org/apache/calcite/schema/impl/StarTable.java
7	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorUtil.java
15	0	core/src/main/java/org/apache/calcite/tools/FrameworkConfig.java
78	13	core/src/main/java/org/apache/calcite/tools/Frameworks.java
113	0	core/src/main/java/org/apache/calcite/util/graph/AttributedDirectedGraph.java
24	10	core/src/main/java/org/apache/calcite/util/graph/DefaultDirectedGraph.java
4	2	core/src/main/java/org/apache/calcite/util/graph/DefaultEdge.java
53	0	core/src/main/java/org/apache/calcite/util/mapping/IntPair.java
626	0	core/src/test/java/org/apache/calcite/materialize/LatticeSuggesterTest.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
85	0	core/src/test/java/org/apache/calcite/test/FoodMartQuerySet.java
4	65	core/src/test/java/org/apache/calcite/test/FoodmartTest.java
4	6	core/src/test/java/org/apache/calcite/test/JdbcTest.java
120	19	core/src/test/java/org/apache/calcite/test/LatticeTest.java
3	1	core/src/test/java/org/apache/calcite/test/UdfTest.java
70	0	core/src/test/java/org/apache/calcite/util/graph/DirectedGraphTest.java
31	0	core/src/test/resources/hsqldb-foodmart-auto-lattice-model.json
206	0	plus/src/test/java/org/apache/calcite/materialize/TpcdsLatticeSuggesterTest.java
1	0	site/_data/docs.yml
225	7	site/_docs/lattice.md
20	20	site/_docs/materialized_views.md

commit 6284d3c88d9c659e0a8ef3dd5cf4819133de7522
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-10-11 19:25:49 +0200

    [CALCITE-2617] Add a variant of FilterProjectTransposeRule that can push down a Filter that contains correlated variables (Stamatis Zampetakis)
    
    The default instance of FilterProjectTransposeRule does not push down
    a Filter that contains correlated variables, as before.
    
    1. Add a new constructor accepting predicates for the Filter and
       Project operands.
    2. Remove the correlating condition check from the body of the rule
       and make it an optional predicate.
    3. Pass the new correlating condition predicate to the existing
       constructors (retaining the same functionality for the generic
       INSTANCE rule)
    
    Note: Classes using the protected constructor may break if they rely
    on the fact that the Filter is not pushed when it contains correlating
    conditions.
    
    Add tests for each variant (Julian Hyde)
    
    Close apache/calcite#887

49	17	core/src/main/java/org/apache/calcite/rel/rules/FilterProjectTransposeRule.java
49	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelOptTestBase.java
66	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 4b51b5ab2fe4dfaeffb22adf0e84477ba918aad5
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-09-27 22:51:29 -0400

    Cosmetic
    
    In HTML5 <tt> is deprecated, so use <code> instead.

6	5	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
4	3	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
5	3	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
2	2	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
18	23	core/src/test/java/org/apache/calcite/test/BookstoreSchema.java
2	4	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
1	1	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderDynamic.java
1	2	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchMethod.java
2	2	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
4	3	geode/src/test/java/org/apache/calcite/adapter/geode/rel/AbstractGeodeTest.java
1	2	linq4j/src/main/java/org/apache/calcite/linq4j/tree/BlockBuilder.java
1	1	site/_data/contributors.yml
55	55	site/_docs/adapter.md
19	19	site/_docs/model.md
6	6	site/_docs/reference.md
1	1	site/downloads/index.md

commit 0d31de796e3120e63c48f5459f7be3c1164f57d3
Author: yuzhao.cyz <yuzhao.cyz@alibaba-inc.com>
Date:   2018-10-24 14:12:22 +0800

    [CALCITE-2638] Constant reducer should not treat as constant an RexInputRef that points to a call to a dynamic or non-deterministic function (Danny Chan)
    
    ReducibleExprLocator was not treating a reference to a constant that
    is a function call the same as if it were an inline function call.
    
    Close apache/calcite#892

7	2	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
67	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
44	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit c5ff67031ccec02d4577fbc37ce4af2b2a24f4b7
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-10-25 13:58:05 -0700

    [CALCITE-2642] Checkstyle complains that maven-wrapper.properties is missing a header

1	0	.mvn/wrapper/maven-wrapper.properties
3	3	core/src/main/resources/org/apache/calcite/runtime/CalciteResource.properties
1	2	pom.xml
10	1	src/main/config/checkstyle/checker.xml
0	0	src/main/config/checkstyle/{header.txt => header.java.txt}
14	0	src/main/config/checkstyle/header.properties.txt
17	0	src/main/config/checkstyle/header.xml.txt
1	5	src/main/config/checkstyle/suppressions.xml

commit 7a079229a9d4d42c9249ba95544e235db5b6eb1f
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-10-24 12:42:02 -0700

    [CALCITE-2631] General improvements in case simplification
    [CALCITE-2639] FilterReduceExpressionsRule causes ArithmeticException at execution time
    
    Close apache/calcite#893

74	50	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
11	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
22	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
16	0	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml

commit 29046930dd747d986dc9583db3d1e5e6c1f64e43
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-10-19 11:13:19 -0700

    Following [CALCITE-2622] intern sets of SqlKind

48	6	core/src/main/java/org/apache/calcite/rex/RexFieldCollation.java

commit afee2a80e44623c533fcfe20f1c782919af8f38e
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-10-08 17:14:41 -0700

    Ensure that tests are not calling checkSimplify3 with expected, expectedFalse, expectedTrue all the same
    
    RexSimplify in paranoid mode now checks that an expression that is always
    TRUE (RexNode.isAlwaysTrue()) does not simplify to FALSE, and vice versa.
    This would have caught [CALCITE-2438].

10	0	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
63	55	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 784372debb2b51c3041c0d5b420a6f93a2457a16
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-10-16 18:47:44 -0700

    [CALCITE-2628] JDBC adapter throws NullPointerException while generating GROUP BY query for MySQL
    
    Also, refactor RelToSqlConverterTest a little.

17	15	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
74	22	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit ae63f9c28c69bad135f4ebbe0086e4f09b6f58ab
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-09-26 17:38:53 +0300

    [CALCITE-2404] Implement access to structured-types in enumerable runtime (Stamatis Zampetakis)
    
    1. Eliminate DOT operator(which currently does not have an implementation equivalent in RexImpTable) from the relational algebra, replacing it with RexFieldAccess expressions. Forbid its use in relational expressions.
    
    2. Translate expressions referencing fields (RexFieldAccess) into calls to the SqlFunctions.structAccess method.
    
    3. Allow RelStructuredTypeFlattener to handle interleaved RexFieldAccess and RexCall expressions. Remove special handling of cast and new operator from visitFieldAccess method. Cast is handled better in visitCall method and handling of new is wrong in the general case.
    
    4. Add new schema for tests (i.e., BookstoreSchema) with various combinations of struct and array fields.
    
    5. Add unit tests with queries performing access to fields of struct types.
    
    closes #762

2	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
21	11	core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java
34	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
5	0	core/src/main/java/org/apache/calcite/sql/fun/SqlDotOperator.java
9	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
19	12	core/src/main/java/org/apache/calcite/sql2rel/RelStructuredTypeFlattener.java
2	2	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
2	1	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
151	0	core/src/test/java/org/apache/calcite/test/BookstoreSchema.java
5	1	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
86	0	core/src/test/java/org/apache/calcite/test/ReflectiveSchemaTest.java
1	1	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 5b16e23dff03e5eaed80642ae91e28ebf806e6b0
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-10-11 16:30:14 +0800

    [CALCITE-2620] Simplify "coalesce(null,x)" to "x" (pengzhiwei)
    
    Close apache/calcite#882

2	1	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
6	2	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit b470a0cd4572c9f6c4c0e9b51926b97c5af58d3f
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-10-11 16:41:20 +0200

    [CALCITE-1413] Enhance boolean case statement simplifications (Zoltan Haindrich)
    
    Enables the simplification of case branch conditionals and values.
    Adds a new case statement rewrite logic which could rewrite any case statement returning booleans
    into and/or expressions.
    
    Close apache/calcite#886

293	112	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
1	1	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
3	3	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
88	23	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
17	17	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
9	10	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
7	6	core/src/test/resources/sql/blank.iq
1	1	core/src/test/resources/sql/some.iq
44	43	core/src/test/resources/sql/sub-query.iq

commit 064974d543874e47a9da8ea0595824dde398bee1
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-10-08 23:17:10 +0200

    [CALCITE-2615] When simplifying NOT-AND-OR, RexSimplify incorrectly applies predicates deduced for operands to the same operands (Zoltan Haindrich)
    
    Close apache/calcite#880

1	1	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
14	2	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit fb7914ec61fc57c8348d9da144e2fbd608c00c61
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-10-11 13:57:00 -0700

    [CALCITE-2622] RexFieldCollation toString method is not deterministic

2	1	core/src/main/java/org/apache/calcite/rex/RexFieldCollation.java

commit dfd012cf082adf50688c2cc57c7e857f6d702f72
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-10-08 17:41:02 +0200

    [CALCITE-2611] Linq4j code generation failure if one side of an OR contains unknown (Zoltan Haindrich)
    
    Close apache/calcite#879

10	0	core/src/test/java/org/apache/calcite/test/ReflectiveSchemaTest.java
2	2	linq4j/src/main/java/org/apache/calcite/linq4j/tree/OptimizeShuttle.java
16	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/BlockBuilderTest.java

commit 6b3844c0634792263a5073b8ea93565fb3415f41
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-09-27 21:34:22 -0400

    [CALCITE-2604] When simplifying an expression, say whether an UNKNOWN value will be interpreted as is, or as TRUE or FALSE
    
    Add class RexUnknownAs to describe policy, and make it an argument to
    internal methods; public methods such as RexSimplify.simplify(RexNode)
    and RexSimplify.simplifyAnds(Iterable) use UNKNOWN. (The RexSimplify
    constructor that allows a different policy than UNKNOWN is deprecated,
    and even if you use the deprecated constructor, that policy only
    applies to the top-level expression, not arguments to it.)
    
    Add RexSimplify.simplify(RexNode, RexUnknownAs) (mainly for internal
    use), and RexSimplify.simplifyUnknownAsFalse(RexNode) (for public use).
    
    Add variant of RexUtil.composeConjunction that never returns null,
    with @Nonnull annotation.

1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCalc.java
1	2	core/src/main/java/org/apache/calcite/interpreter/TableScanNode.java
9	11	core/src/main/java/org/apache/calcite/plan/RelOptUtil.java
14	13	core/src/main/java/org/apache/calcite/plan/SubstitutionVisitor.java
16	19	core/src/main/java/org/apache/calcite/rel/metadata/RelMdPredicates.java
49	54	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
3	2	core/src/main/java/org/apache/calcite/rel/rules/DateRangeRules.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/FilterJoinRule.java
3	3	core/src/main/java/org/apache/calcite/rel/rules/JoinAssociateRule.java
4	4	core/src/main/java/org/apache/calcite/rel/rules/JoinPushThroughJoinRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/JoinToMultiJoinRule.java
2	3	core/src/main/java/org/apache/calcite/rel/rules/MultiJoinOptimizeBushyRule.java
16	12	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
1	1	core/src/main/java/org/apache/calcite/rex/RexProgram.java
2	3	core/src/main/java/org/apache/calcite/rex/RexProgramBuilder.java
218	115	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
99	0	core/src/main/java/org/apache/calcite/rex/RexUnknownAs.java
83	49	core/src/main/java/org/apache/calcite/rex/RexUtil.java
1	2	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
5	6	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
1	1	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
2	5	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
5	4	core/src/test/java/org/apache/calcite/test/MaterializationTest.java
6	5	core/src/test/java/org/apache/calcite/test/RexImplicationCheckerTest.java
1	1	core/src/test/java/org/apache/calcite/test/RexProgramBuilderBase.java
132	57	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
2	2	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderSimple.java
45	14	core/src/test/java/org/apache/calcite/test/fuzzer/RexProgramFuzzyTest.java
7	6	druid/src/main/java/org/apache/calcite/adapter/druid/DruidRules.java

commit be1769bcc260e0b84380d16bd3cbda834e071209
Author: zhiwei.pzw <zhiwei.pzw@alibaba-inc.com>
Date:   2018-08-07 11:49:27 -0700

    [CALCITE-2438] Fix wrong results for IS NOT FALSE(false) (zhiwei.pzw) (Zoltan Haindrich)
    
    closes #778
    closes #875

5	3	core/src/main/java/org/apache/calcite/rex/RexCall.java
69	1	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
0	1	core/src/test/java/org/apache/calcite/test/fuzzer/RexProgramFuzzyTest.java

commit c39bfaa02a06ac91575076a6e74f29863923f5eb
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2018-10-01 16:13:58 -0400

    Add geospatial category to DOAP file

1	0	site/doap_calcite.rdf

commit 999716535b53f8541907fa3269de11e3e6e374e8
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-10-01 15:17:42 +0800

    [CALCITE-2506] RexSimplify: coalesce(unaryPlus(nullInt), unaryPlus(vInt())) results in AssertionError: result mismatch (pengzhiwei)
    
    fixes #873

1	1	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
15	19	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 3a4fba828f3d9e48749fadd22f134891612b7072
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-09-26 18:18:12 -0400

    Removed unnecessary try/final block in RefCountPolicy (geode tests)
    
    Close apache/calcite#870

3	7	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeEmbeddedPolicy.java

commit 1306040bd3149d84d8b36f1b442fa5dc42afb73a
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-26 17:38:53 +0300

    Add license to TestKtTest and add apache-rat:check to Travis CI

3	2	.travis.yml
16	0	core/src/test/kotlin/org/apache/calcite/TestKtTest.kt
1	1	pom.xml

commit d86f3722885ea4fb8a13ef1f86976c0941576630
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-25 14:46:55 -0400

    [CALCITE-2595] Add Maven wrapper to Avatica
    
    Close apache/calcite-avatica#75
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

2	0	.gitignore
15	0	.mvn/wrapper/maven-wrapper.properties
286	0	mvnw
161	0	mvnw.cmd
1	1	site/README.md
12	12	site/_docs/howto.md
3	3	site/develop/avatica.md

commit d92d9964f23b2a258cd7b1a43a94a084f72de38a
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-26 09:40:36 -0400

    [CALCITE-2112] - Add Apache license header to maven-wrapper.properties
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

14	0	.mvn/wrapper/maven-wrapper.properties

commit ed424ed81d0de66fcfd6a5352f00fb99cc514882
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-09-13 11:37:20 -0400

    [CALCITE-2588] Run Geode Adapter tests with an Embedded Instance
    
    Part of the effort to increase test coverage for adapters. Enables execution of all Geode adapter tests during CI build (instead of manual run).
    
    Create special JUnit Rule (`GeodeEmbeddedPolicy`) which starts / stops embedded Geode instance once for all the tests.
    
    Modify GeodeSchema and GeodeTable to accept exising geode instance in the constructor instance of connection parameters.
    
    Ignore two tests which currently fail for both embedded and external instance(s). These bugs will be addressed separately
    
    Local test dataset is taken from `calcite-test-dataset` project (the one which is used for integration testing). Re-use `zips-mini.json` from mongo/elastic adapters.
    
    Closes apache/calcite#857

5	0	geode/pom.xml
5	12	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeAggregate.java
2	2	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeFilter.java
2	3	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeProject.java
6	2	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeRel.java
4	3	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeRules.java
17	30	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeSchema.java
3	2	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeSchemaFactory.java
3	6	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeSort.java
35	33	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeTable.java
1	1	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeTableScan.java
7	6	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeToEnumerableConverter.java
3	6	geode/src/main/java/org/apache/calcite/adapter/geode/simple/GeodeSimpleSchema.java
53	7	geode/src/main/java/org/apache/calcite/adapter/geode/util/GeodeUtils.java
16	18	geode/src/test/{resources/model.json => java/org/apache/calcite/adapter/geode/rel/AbstractGeodeTest.java}
0	159	geode/src/test/java/org/apache/calcite/adapter/geode/rel/BaseGeodeAdapterIT.java
0	99	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeAdapterIT.java
27	18	geode/src/test/{resources/model-bookshop-all.json => java/org/apache/calcite/adapter/geode/rel/GeodeAssertions.java}
195	181	geode/src/test/java/org/apache/calcite/adapter/geode/rel/{GeodeAdapterBookshopIT.java => GeodeBookstoreTest.java}
154	0	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeEmbeddedPolicy.java
0	200	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeZipsIT.java
191	0	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeZipsTest.java
91	0	geode/src/test/java/org/apache/calcite/adapter/geode/rel/JsonLoader.java
3	0	geode/src/test/resources/book_customer.json
3	0	geode/src/test/resources/book_master.json
26	0	geode/src/test/resources/log4j.properties
0	35	geode/src/test/resources/model-bookshop.json
0	54	geode/src/test/resources/model-geode-pg-federation.json
0	39	geode/src/test/resources/model-with-classes.json
0	47	geode/src/test/resources/model-zips.json
0	35	geode/src/test/resources/model2.json
149	0	geode/src/test/resources/zips-mini.json

commit 8db4bc171f20bf5a0270f1989d5ea8684f2cb2e7
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-25 12:38:32 -0400

    [CALCITE-2594] Ensure forbiddenapis and maven-compiler use the correct JDK version
    
    Close apache/calcite-avatica#74
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

7	2	pom.xml

commit 9ba9bdc1d84804573c8370605e021e6b3fbab3de
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-25 12:41:41 -0400

    [CALCITE-2594] Ensure forbiddenapis and maven-compiler use the correct JDK version
    
    Close apache/calcite#867
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

7	2	pom.xml

commit a5d4a8b53cebbf781f0c457bdccc576ec1a9d036
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-09-25 18:55:47 +0800

    [CALCITE-2580] RexSimplify: coalesce(null > null, true) produces wrong result filter expressions (pengzhiwei)
    
    fixes #865

2	1	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
2	1	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit b31da22465e355cf7a6f3c5f9de9bf9ff0190a4b
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-24 19:33:59 +0300

    Canonize simple cases for composite traits in trait factory
    
    This avoids creating distinct subsets for cases like "empty collation trait"

4	18	core/src/main/java/org/apache/calcite/plan/RelCompositeTrait.java
62	0	core/src/test/java/org/apache/calcite/plan/RelTraitTest.java
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
1	1	core/src/test/java/org/apache/calcite/test/MaterializationTest.java
3	0	core/src/test/java/org/apache/calcite/test/QuidemTest.java
1	1	core/src/test/resources/sql/misc.iq

commit c3215241e21fcf49d7cb7fac809300dbea9ceac2
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-25 01:13:53 +0300

    Commons:commons-pool2 is used in tests only, so use scope=test for it

1	0	core/pom.xml
1	0	pom.xml

commit 9464dd30ae7a57c9e9c410b61940a94ac5cd615f
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-25 01:11:26 +0300

    Make findbugs:jsr305 dependency optional
    
    It is not required at runtime, so the dependency should not be transitive

1	0	core/pom.xml
1	0	druid/pom.xml
1	0	pom.xml

commit 55d86646fe598d215bd53dbeac2bbbf32a9506f9
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-09 22:20:38 +0300

    [CALCITE-2458] Add Kotlin as a test dependency

50	0	core/pom.xml
2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
13	0	core/src/test/kotlin/org/apache/calcite/TestKtTest.kt
63	0	pom.xml

commit 6770e2b2115b0691a68f99366057776307e5920e
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-25 00:21:11 +0300

    Make build scripts Maven 3.3 compatible
    
    javadoc-plugin / configuration / additionalOptions is String[], so nested tag should be used

5	2	pom.xml

commit b9da74ee3baed9ef6bd16472cf4a34515e3e29ab
Author: Enrico Olivelli <eolivelli@apache.org>
Date:   2018-09-23 15:19:05 +0200

    [CALCITE-2591] EnumerableDefaults#mergeJoin should throw error and not return incorrect results when inputs are not ordered (Enrico Olivelli)
    
    fixes #859

18	4	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java

commit b78dd4a7e33607357ef530d0adb358e9741d9941
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-09-24 15:57:34 +0800

    [CALCITE-2586] RexSimplify: case with repeated branches results in assertion error (pengzhiwei)
    
    closes #860

3	3	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
3	1	core/src/main/java/org/apache/calcite/rex/RexUtil.java
6	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 9d6899c919113dc58707b2337297205ed1d7194f
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-24 20:51:31 +0300

    Fix JavaDoc warnings for Java 9+, and check JavaDoc in Travis CI
    
    Travis verifies JavaDocs for Java 8 and 11 only to save build time.

4	3	.travis.yml
6	7	core/src/main/java/org/apache/calcite/{rel/jdbc/package-info.java => adapter/Java9Workaround.java}
28	24	pom.xml

commit 72f36a8830afe7f903d8cb32cf547ea484e49fef
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-23 21:05:56 +0300

    Unwrap invocation target exception from QuidemTest#test

10	1	core/src/test/java/org/apache/calcite/test/QuidemTest.java

commit af2fded68ea137cbd8009f039d6aa0f88ff1aa6e
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-22 22:16:03 -0400

    [CALCITE-2587] Regenerate protobuf files for 3.6.1
    
    * Removes the checkStaleness config from protobuf-maven-plugin
    * Regenerates protobuf files for 3.6.1 using the protobuf-maven-plugin
    * Removes old documentation about generating protobuf prior to introduction of protobuf-maven-plugin
    * Enforce deprecation checks on build
    
    Close apache/calcite-avatica#73
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

775	219	core/src/main/java/org/apache/calcite/avatica/proto/Common.java
1106	313	core/src/main/java/org/apache/calcite/avatica/proto/Requests.java
846	232	core/src/main/java/org/apache/calcite/avatica/proto/Responses.java
11	4	pom.xml
0	31	site/_docs/howto.md

commit 8f14945461b3c20cba3f2d794a6ac950b7687da9
Author: Andrew Pilloud <apilloud@google.com>
Date:   2018-09-19 09:21:04 -0700

    [CALCITE-2571] TRIM function now trims more than one character (Andrew Pilloud)
    
    If strict SQL conformance, still just trims one character, per SQL standard.
    
    Make SQL conformance available to RexToLixTranslator (Julian Hyde).
    
    Close apache/calcite#840
    
    A previous PR: Close apache/calcite#820

2	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableAggregate.java
7	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableCalc.java
7	0	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRelImplementor.java
2	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableFunctionScan.java
2	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableThetaJoin.java
8	7	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableWindow.java
3	1	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
43	61	core/src/main/java/org/apache/calcite/adapter/enumerable/RexToLixTranslator.java
6	1	core/src/main/java/org/apache/calcite/interpreter/AggregateNode.java
6	2	core/src/main/java/org/apache/calcite/interpreter/JaninoRexCompiler.java
0	1	core/src/main/java/org/apache/calcite/jdbc/CalciteConnectionImpl.java
3	0	core/src/main/java/org/apache/calcite/plan/RelImplementor.java
2	0	core/src/main/java/org/apache/calcite/prepare/CalcitePrepareImpl.java
4	0	core/src/main/java/org/apache/calcite/rel/type/RelDataTypeSystemImpl.java
6	2	core/src/main/java/org/apache/calcite/rex/RexExecutorImpl.java
12	9	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
4	0	core/src/main/java/org/apache/calcite/sql/validate/SqlAbstractConformance.java
21	0	core/src/main/java/org/apache/calcite/sql/validate/SqlConformance.java
13	0	core/src/main/java/org/apache/calcite/sql/validate/SqlConformanceEnum.java
1	1	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
23	23	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
7	0	core/src/test/java/org/apache/calcite/sql/test/SqlTestFactory.java
2	2	core/src/test/java/org/apache/calcite/test/JdbcTest.java
5	1	spark/src/main/java/org/apache/calcite/adapter/spark/SparkRules.java
5	0	spark/src/main/java/org/apache/calcite/adapter/spark/SparkToEnumerableConverter.java

commit a5f09f5a57c6d0231036f49cb567abd535b00112
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-23 22:34:47 +0300

    Test case for [CALCITE-2592] EnumerableMergeJoin is never taken
    
    It turns out EnumerableMergeJoin cannot be planned

43	0	core/src/test/java/org/apache/calcite/plan/volcano/VolcanoPlannerTest.java

commit 464785fb2ff78f8001cbeb6129f7977767443901
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-09-23 17:20:10 +0800

    [CALCITE-2526] Add test for OR with nullable comparisons (pengzhiwei)
    
    closes #858

6	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 98f932c94d584b474187d995c96950d8d3e5ecd7
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-23 00:06:51 +0300

    [CALCITE-2590] Remove redundant CAST when operand has exactly the same type as it is casted to

3	0	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
1	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
13	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
5	5	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
1	1	core/src/test/resources/sql/misc.iq
1	1	core/src/test/resources/sql/sub-query.iq

commit d624a56ef987fbe79aa9a9076d68e7eb5bda0afb
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-19 22:17:18 +0300

    [CALCITE-2518] Add failOnWarnings to maven-javadoc-plugin configuration
    
    Missing tags like @param, @return are excluded from warnings list.

1	1	core/src/main/java/org/apache/calcite/plan/volcano/RuleQueue.java
0	7	core/src/main/java/org/apache/calcite/util/Bug.java
4	0	pom.xml

commit 146d310f99ba94909ca93fa9c0c2ebb593fc5591
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-22 22:29:18 -0400

    Update usage of JCommander after upgrading to 1.72
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

2	1	standalone-server/src/main/java/org/apache/calcite/avatica/standalone/StandaloneServer.java
2	1	tck/src/main/java/org/apache/calcite/avatica/tck/TestRunner.java

commit 00c36467d0a90290f6085f88debec71b217fe43f
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-22 17:55:50 +0300

    [CALCITE-2413] Use raw signatures for classes with generics when producing Java code

1	1	linq4j/src/main/java/org/apache/calcite/linq4j/tree/MethodCallExpression.java
33	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/BlockBuilderTest.java

commit b98a8e7af6504dc813a4c31c601a7003c9716775
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-22 00:32:10 +0300

    Implement fuzzy generator for CASE expressions

5	1	core/src/test/java/org/apache/calcite/test/RexProgramBuilderBase.java
43	6	core/src/test/java/org/apache/calcite/test/fuzzer/RexFuzzer.java
3	3	core/src/test/java/org/apache/calcite/test/fuzzer/RexProgramFuzzyTest.java
1	0	core/src/test/java/org/apache/calcite/test/fuzzer/RexToTestCodeShuttle.java

commit b40562bf6ae9fc36606907d4f4c9e7217bacc9b6
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-09-22 12:07:03 +0800

    [CALCITE-2556] Simplify not(true/false) to false/true (pengzhiwei)
    
    closes #853

5	0	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
29	6	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 2ab83e468d282a9428e533853aea5253816889fb
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-09-21 20:08:38 -0400

    Remove Redundant null check in CompoundQueryExpression

0	3	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/PredicateAnalyzer.java

commit 2cba817320268f16a707f945d1390d9917188178
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-09-21 11:14:24 -0400

    [CALCITE-2585] Support NOT Operator in ElasticSearch Adapter
    
    Fix boolean conditions with negation (NOT). The following queries are now supported:
    ```sql
    select * from elastic where not foo = 1
    select * from elastic where not foo in (1, 2, 3)
    ```
    
    Extend existing Expression interface with `not()` method.
    
    Closes apache/calcite#851

51	6	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/PredicateAnalyzer.java
31	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/BooleanLogicTest.java
28	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java

commit 17e0a054259f10079ce9c95fa01f447e41a84577
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-21 23:07:54 +0300

    [CALCITE-2562] Remove dead code in StandardConvertletTable#convertDatetimeMinus

0	15	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java

commit ef822607649ad157568f868086923b2c62a316dc
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-21 18:47:29 +0300

    Avoid NullPointerException when FlatList contains null elements

42	42	core/src/main/java/org/apache/calcite/runtime/FlatLists.java
6	0	core/src/test/java/org/apache/calcite/util/UtilTest.java

commit 3183f2cae6db91f0c2bb0fc99ff6121da56652b8
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-21 18:29:07 +0300

    Silence Pig, Spark, and Elasticsearch logs in tests

1	0	elasticsearch/src/test/resources/log4j2.xml
28	0	pig/src/test/resources/log4j.properties
27	0	spark/src/test/resources/log4j.properties

commit 56def3946d7e30706b2845464f7fc575c66e4694
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-09-21 16:15:58 +0800

    [CALCITE-2581] Avoid errors in simplifying "null and not (null or ...)" (pengzhiwei)
    
    closes #849

5	2	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
18	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit bc8530e651e9ab5a98de5c043a087ba2d7db2093
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-20 19:33:52 -0400

    Move spotbugs-filter.xml to src/main/config/spotbugs/
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	1	pom.xml
0	0	spotbugs-filter.xml => src/main/config/spotbugs/spotbugs-filter.xml

commit 3cfafde9f5f0f1fc3ddc60b5a4db19762c73b96b
Author: Kevin Risden <krisden@apache.org>
Date:   2018-04-19 21:51:45 -0500

    [CALCITE-1006] Enable spotbugs-maven-plugin
    
    Close apache/calcite-avatica#39
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	1	core/src/main/java/org/apache/calcite/avatica/AvaticaConnection.java
6	6	core/src/main/java/org/apache/calcite/avatica/DriverVersion.java
1	1	core/src/main/java/org/apache/calcite/avatica/util/DateTimeUtils.java
40	0	pom.xml
39	0	spotbugs-filter.xml

commit 6afbfd52a78966a12d837a3cfe9c49ef216944fe
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-20 14:11:07 -0400

    [CALCITE-2583] Upgrade dropwizard metrics to 4.0.3
    
    This changes the following:
    * package name: `metrics-dropwizardmetrics3` -> `metrics-dropwizardmetrics`
    * class name: `o.a.c.a.metrics.dropwizard3` -> `o.a.c.a.metrics.dropwizard`
    
    Close apache/calcite-avatica#72
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

4	4	{metrics-dropwizardmetrics3 => metrics-dropwizardmetrics}/pom.xml
1	1	{metrics-dropwizardmetrics3/src/main/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/main/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardCounter.java
1	1	{metrics-dropwizardmetrics3/src/main/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/main/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardGauge.java
1	1	{metrics-dropwizardmetrics3/src/main/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/main/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardHistogram.java
1	1	{metrics-dropwizardmetrics3/src/main/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/main/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardMeter.java
1	1	{metrics-dropwizardmetrics3/src/main/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/main/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardMetricsSystem.java
1	1	{metrics-dropwizardmetrics3/src/main/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/main/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardMetricsSystemConfiguration.java
1	1	{metrics-dropwizardmetrics3/src/main/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/main/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardMetricsSystemFactory.java
1	1	{metrics-dropwizardmetrics3/src/main/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/main/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardTimer.java
1	1	{metrics-dropwizardmetrics3/src/main/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/main/java/org/apache/calcite/avatica/metrics/dropwizard}/package-info.java
2	0	metrics-dropwizardmetrics/src/main/resources/META-INF/services/org.apache.calcite.avatica.metrics.MetricsSystemFactory
1	1	{metrics-dropwizardmetrics3/src/test/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/test/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardCounterTest.java
1	1	{metrics-dropwizardmetrics3/src/test/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/test/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardGaugeTest.java
1	1	{metrics-dropwizardmetrics3/src/test/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/test/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardHistogramTest.java
1	1	{metrics-dropwizardmetrics3/src/test/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/test/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardMeterTest.java
1	1	{metrics-dropwizardmetrics3/src/test/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/test/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardMetricsSystemFactoryTest.java
1	1	{metrics-dropwizardmetrics3/src/test/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/test/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardMetricsSystemTest.java
2	2	{metrics-dropwizardmetrics3/src/test/java/org/apache/calcite/avatica/metrics/dropwizard3 => metrics-dropwizardmetrics/src/test/java/org/apache/calcite/avatica/metrics/dropwizard}/DropwizardTimerTest.java
0	2	metrics-dropwizardmetrics3/src/main/resources/META-INF/services/org.apache.calcite.avatica.metrics.MetricsSystemFactory
2	2	pom.xml

commit bba9ba7732e1c3fd82527f433b98473ca874ed26
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-20 11:54:54 -0400

    [CALCITE-2486] Upgrade Apache parent POM to version 21
    
    Also upgrade
    bouncycastle to 1.60,
    commons-lang3 to 3.8,
    docker-maven-plugin to 1.1.1,
    groovy-maven-plugin to 2.1,
    h2 to 1.4.197,
    httpclient to 4.5.6,
    httpcore to 4.4.10,
    javax-servlet-api to 4.0.1,
    jcommander to 1.72,
    maven-assembly-plugin to 3.1.0,
    maven-enforcer-plugin to 3.0.0-M2,
    maven-scm-provider-plugin to 1.11.1,
    mockito to 2.22.0,
    os-maven-plugin to 1.6.0,
    owasp-dependency-check to 3.3.2,
    protobuf to 3.6.1,
    protobug-maven-plugin to 0.5.1,
    slf4j to 1.7.25
    
    Close apache/calcite-avatica#71
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

42	50	pom.xml

commit 40503ff658b7a02d43841f9df7cc655dcbe5de79
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-09-20 00:02:19 -0400

    [CALCITE-2578] Support ANY_VALUE Aggregate Function in ElasticSearch adapter
    
    Allow queries of type `SELECT foo, ANY_VALUE(bar) FROM elastic GROUP BY foo` in Elastic. They're
    implemented as Terms aggregations with size 1.
    
    Intermediate JSON operations in stored in implementor are now valid JSONs. Before they were missing leading and
    trailing curly brackets ({ and }) and manually concatenated in ElasticsearchTable.
    
    Closes apache/calcite#848

9	4	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchAggregate.java
1	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchFilter.java
26	10	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJson.java
1	1	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchProject.java
7	8	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
26	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/AggregationTest.java

commit 52eda6d911f06a542e1d681de294c77e8246e354
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-09-20 13:48:40 +0800

    [CALCITE-2527] Simplify (c IS NULL) OR (c IS ...) might result in AssertionError: result mismatch (pengzhiwei)
    
    fixes #846

0	2	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
7	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 32630d1a2cc4f231968bec458cee5380abbbeb51
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-19 22:57:01 +0300

    Display random failure of Rex fuzzer in build logs to inspire further fixes
    
    fixes #844

5	0	core/src/main/java/org/apache/calcite/rex/RexInterpreter.java
44	13	core/src/test/java/org/apache/calcite/test/fuzzer/RexProgramFuzzyTest.java

commit 59b76701d9c805f51b0929577ca604fdbfe00b0b
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-16 21:48:22 +0300

    [CALCITE-2561] Remove dead code in Lattice constructor

0	4	core/src/main/java/org/apache/calcite/materialize/Lattice.java

commit 295ab13e8338bdd0e0c29e051907371c9b2929aa
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-16 15:24:07 +0300

    Apply small refactorings to Calcite codebase (Java 5, Java 7, Java 8)
    
    Use Objects.equals when possible
    Replace for with foreach in Mappings
    Use Java 7 diamond operator to reduce code verbosity
    Collapse identical catch blocks to multi-catch
    Use Double/Float/Long/Boolean hashCode from Java 8
    Remove unnecessary substring call arguments
    Fix sqlTypeName -> SqlTypeName typo
    Make floorKey/ceilingKey non-static so their use in NameMap makes more sense
    NameMap uses COMPARATOR.floorKey(name) which is a bit weird when floorKey is static
    Add @SafeVarargs to methods that are obviously safe
    Replace anonymous types with Java 8 lambdas
    Use Collection#removeIf when possible
    Use Integer.compare when possible
    Suppress AssertWithSideEffects warnings
    Add missing check to Permutation#isValid
    Permutation#isValid had occurCount[target] != 0 check, however the array was never updated, so the check was useless.
    Remove duplicate keys from Strong#MAP
    Replace remove+add with set in ReduceExpressionsRule
    Remove redundant initializers
    Move dead code inside if (false) branch in org.apache.calcite.plan.volcano.RelSubset#add
    Revert removal of UtilTest#testHash
    
    closes #834

4	4	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraFilter.java
1	1	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraProject.java
3	3	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraRel.java
1	1	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraRules.java
1	1	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraSort.java
1	1	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraToEnumerableConverter.java
1	1	core/src/main/java/org/apache/calcite/Demo.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRelImplementor.java
1	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableTableModify.java
2	2	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableValues.java
5	7	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableWindow.java
3	3	core/src/main/java/org/apache/calcite/adapter/enumerable/NestedBlockBuilderImpl.java
1	1	core/src/main/java/org/apache/calcite/adapter/jdbc/JdbcToEnumerableConverter.java
1	1	core/src/main/java/org/apache/calcite/interpreter/Interpreter.java
1	3	core/src/main/java/org/apache/calcite/interpreter/JaninoRexCompiler.java
1	1	core/src/main/java/org/apache/calcite/plan/MulticastRelOptListener.java
3	3	core/src/main/java/org/apache/calcite/plan/RelCompositeTrait.java
1	1	core/src/main/java/org/apache/calcite/plan/RelOptCluster.java
1	3	core/src/main/java/org/apache/calcite/plan/RelOptCostImpl.java
1	1	core/src/main/java/org/apache/calcite/plan/RelOptQuery.java
1	2	core/src/main/java/org/apache/calcite/plan/RelTraitSet.java
0	4	core/src/main/java/org/apache/calcite/plan/Strong.java
2	2	core/src/main/java/org/apache/calcite/plan/TableAccessMap.java
1	1	core/src/main/java/org/apache/calcite/plan/hep/HepInstruction.java
1	2	core/src/main/java/org/apache/calcite/plan/hep/HepProgramBuilder.java
1	1	core/src/main/java/org/apache/calcite/plan/hep/HepRuleCall.java
2	2	core/src/main/java/org/apache/calcite/plan/volcano/RelSubset.java
3	7	core/src/main/java/org/apache/calcite/plan/volcano/RuleQueue.java
4	9	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
4	4	core/src/main/java/org/apache/calcite/prepare/LixToRelTranslator.java
3	3	core/src/main/java/org/apache/calcite/rel/core/JoinInfo.java
1	1	core/src/main/java/org/apache/calcite/rel/core/SetOp.java
6	16	core/src/main/java/org/apache/calcite/rel/externalize/RelJson.java
1	1	core/src/main/java/org/apache/calcite/rel/externalize/RelXmlWriter.java
1	1	core/src/main/java/org/apache/calcite/rel/metadata/JaninoRelMetadataProvider.java
1	1	core/src/main/java/org/apache/calcite/rel/metadata/RelMdExpressionLineage.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/FilterTableFunctionTransposeRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/JoinUnionTransposeRule.java
4	4	core/src/main/java/org/apache/calcite/rel/rules/MultiJoin.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/PushProjector.java
3	3	core/src/main/java/org/apache/calcite/rel/rules/ReduceDecimalsRule.java
1	2	core/src/main/java/org/apache/calcite/rel/rules/ReduceExpressionsRule.java
1	1	core/src/main/java/org/apache/calcite/rel/rules/SemiJoinJoinTransposeRule.java
1	1	core/src/main/java/org/apache/calcite/rex/RexLiteral.java
1	0	core/src/main/java/org/apache/calcite/rex/RexProgramBuilder.java
1	1	core/src/main/java/org/apache/calcite/rex/RexSqlReflectiveConvertletTable.java
1	1	core/src/main/java/org/apache/calcite/rex/RexSqlStandardConvertletTable.java
2	3	core/src/main/java/org/apache/calcite/rex/RexTransformer.java
11	11	core/src/main/java/org/apache/calcite/runtime/FlatLists.java
4	4	core/src/main/java/org/apache/calcite/runtime/ResultSetEnumerable.java
2	2	core/src/main/java/org/apache/calcite/runtime/SortedMultiMap.java
2	2	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
23	21	core/src/main/java/org/apache/calcite/runtime/Utilities.java
2	2	core/src/main/java/org/apache/calcite/schema/impl/StarTable.java
5	7	core/src/main/java/org/apache/calcite/sql/advise/SqlAdvisor.java
8	9	core/src/main/java/org/apache/calcite/sql/advise/SqlSimpleParser.java
3	3	core/src/main/java/org/apache/calcite/sql/fun/SqlCaseOperator.java
10	14	core/src/main/java/org/apache/calcite/sql/fun/SqlTimestampDiffFunction.java
7	7	core/src/main/java/org/apache/calcite/sql/parser/SqlAbstractParserImpl.java
1	1	core/src/main/java/org/apache/calcite/sql/parser/SqlParseException.java
4	4	core/src/main/java/org/apache/calcite/sql/type/SqlTypeUtil.java
4	4	core/src/main/java/org/apache/calcite/sql/type/TableFunctionReturnTypeInference.java
1	1	core/src/main/java/org/apache/calcite/sql/util/ListSqlOperatorTable.java
1	1	core/src/main/java/org/apache/calcite/sql/util/SqlShuttle.java
2	2	core/src/main/java/org/apache/calcite/sql/validate/AliasNamespace.java
1	1	core/src/main/java/org/apache/calcite/sql/validate/SqlNameMatchers.java
1	1	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
2	0	core/src/main/java/org/apache/calcite/sql2rel/RelDecorrelator.java
2	2	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
2	4	core/src/main/java/org/apache/calcite/util/BarfingInvocationHandler.java
1	1	core/src/main/java/org/apache/calcite/util/Benchmark.java
4	4	core/src/main/java/org/apache/calcite/util/CaseInsensitiveComparator.java
1	1	core/src/main/java/org/apache/calcite/util/CompositeList.java
4	5	core/src/main/java/org/apache/calcite/util/CompositeMap.java
1	1	core/src/main/java/org/apache/calcite/util/CompoundClosableAllocation.java
1	3	core/src/main/java/org/apache/calcite/util/DelegatingInvocationHandler.java
1	1	core/src/main/java/org/apache/calcite/util/Holder.java
4	4	core/src/main/java/org/apache/calcite/util/ImmutableNullableList.java
2	2	core/src/main/java/org/apache/calcite/util/JsonBuilder.java
1	0	core/src/main/java/org/apache/calcite/util/Permutation.java
1	1	core/src/main/java/org/apache/calcite/util/UnmodifiableArrayList.java
1	1	core/src/main/java/org/apache/calcite/util/Util.java
3	3	core/src/main/java/org/apache/calcite/util/XmlOutput.java
4	4	core/src/main/java/org/apache/calcite/util/graph/BreadthFirstIterator.java
1	1	core/src/main/java/org/apache/calcite/util/graph/CycleDetector.java
8	15	core/src/main/java/org/apache/calcite/util/graph/DefaultDirectedGraph.java
1	1	core/src/main/java/org/apache/calcite/util/graph/DepthFirstIterator.java
1	1	core/src/main/java/org/apache/calcite/util/graph/Graphs.java
3	3	core/src/main/java/org/apache/calcite/util/graph/TopologicalOrderIterator.java
1	2	core/src/main/java/org/apache/calcite/util/javac/JaninoCompiler.java
3	3	core/src/main/java/org/apache/calcite/util/javac/JavaCompilerArgs.java
5	5	core/src/main/java/org/apache/calcite/util/mapping/Mappings.java
1	0	core/src/test/java/org/apache/calcite/util/UtilTest.java
1	1	druid/src/main/java/org/apache/calcite/adapter/druid/DruidSqlCastConverter.java
1	1	druid/src/main/java/org/apache/calcite/adapter/druid/DruidTable.java
1	1	druid/src/main/java/org/apache/calcite/adapter/druid/DruidTableFactory.java
10	20	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchEnumerators.java
2	12	example/csv/src/main/java/org/apache/calcite/adapter/csv/CsvEnumerator.java
1	7	example/csv/src/main/java/org/apache/calcite/adapter/csv/CsvFilterableTable.java
2	2	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeFilter.java
1	1	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeSort.java
1	1	linq4j/src/main/java/org/apache/calcite/linq4j/AbstractEnumerable2.java
1	4	linq4j/src/main/java/org/apache/calcite/linq4j/DefaultEnumerable.java
10	19	linq4j/src/main/java/org/apache/calcite/linq4j/EnumerableDefaults.java
3	4	linq4j/src/main/java/org/apache/calcite/linq4j/Linq4j.java
2	2	linq4j/src/main/java/org/apache/calcite/linq4j/LookupImpl.java
2	2	linq4j/src/main/java/org/apache/calcite/linq4j/QueryProviderImpl.java
3	3	linq4j/src/main/java/org/apache/calcite/linq4j/QueryableDefaults.java
2	9	linq4j/src/main/java/org/apache/calcite/linq4j/tree/ClassDeclarationFinder.java
2	3	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Evaluator.java
13	15	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Expressions.java
5	5	linq4j/src/main/java/org/apache/calcite/linq4j/tree/FunctionExpression.java
2	2	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Types.java
3	3	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoAggregate.java
2	2	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoFilter.java
1	1	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoProject.java
1	2	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoRel.java
2	2	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoRules.java
1	1	mongodb/src/main/java/org/apache/calcite/adapter/mongodb/MongoSort.java
1	2	pig/src/main/java/org/apache/calcite/adapter/pig/PigJoin.java
1	1	plus/src/main/java/org/apache/calcite/adapter/os/VmstatTableFunction.java
1	1	spark/src/main/java/org/apache/calcite/adapter/spark/JdbcToSparkConverter.java
1	2	spark/src/main/java/org/apache/calcite/adapter/spark/SparkMethod.java
2	2	spark/src/main/java/org/apache/calcite/adapter/spark/SparkRules.java
3	5	splunk/src/main/java/org/apache/calcite/adapter/splunk/SplunkPushDownRule.java
1	1	splunk/src/main/java/org/apache/calcite/adapter/splunk/SplunkQuery.java
2	2	splunk/src/main/java/org/apache/calcite/adapter/splunk/SplunkTable.java
4	4	splunk/src/main/java/org/apache/calcite/adapter/splunk/search/SplunkConnectionImpl.java
2	2	splunk/src/main/java/org/apache/calcite/adapter/splunk/util/StringUtils.java

commit 8f202e9189a6c1d0abbd8da09d7643b9efd4ad40
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-20 11:25:13 +0300

    Avoid simplification of cast(null as integer) to false in filter expressions broken by [CALCITE-2555]

2	1	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
7	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
25	4	core/src/test/java/org/apache/calcite/test/fuzzer/RexProgramFuzzyTest.java

commit 4f1b5eff9dbed20ecd8b327ada7c6db1bfd8d78d
Author: Andrew Pilloud <apilloud@google.com>
Date:   2018-09-19 10:57:55 -0700

    [CALCITE-2572] SQL standard semantics for SUBSTRING function (Andrew Pilloud)
    
    Close apache/calcite#842

34	8	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
52	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java

commit 19826da5bae2b390ea0cdbb060d2d3f1e28c07ac
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-09-18 11:16:19 +0200

    Fix Windows tests broken by [CALCITE-2444] Handle IN expressions when converting SqlNode to SQL (Zoltan Haindrich)
    
    Close apache/calcite#837

4	4	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit 88076d718de32fdc7d837e6b2164460f6a13488c
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-09-19 18:07:14 -0700

    Site: Links on Go Client downloads page should reference go_history.html, not history.html

1	1	site/downloads/avatica-go.md

commit 8654c9f7cff1b6eea184b281870bcd3e35f914bd
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-09-20 09:49:15 +1000

    [CALCITE-2577] Update links on download page to HTTPS

6	6	site/downloads/index.md

commit a6c9ce355a8b232867b52b95e0f020e88a63395a
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-09-20 09:48:04 +1000

    [CALCITE-2577] Update links on download page to HTTPS

4	4	site/downloads/avatica-go.md
4	4	site/downloads/avatica.md

commit d3b02ae2cb9dce786270d6657b8e758ce3aa55f1
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-09-20 09:37:09 +1000

    [CALCITE-2574] Update download page to include instructions for verifying
    a downloaded artifact

31	7	site/downloads/index.md

commit f67cc136c70f220b06d102d19c418a93417a4ee4
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-09-20 09:23:15 +1000

    [CALCITE-2574] Update download pages to include instructions for verifying
    a downloaded artifact

30	6	site/downloads/avatica-go.md
34	10	site/downloads/avatica.md

commit d262c860ac42da453a592b0a4c22426e17f82776
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-19 21:22:45 +0300

    Remove dead code: Compatible, CompatibleGuava11
    
    closes #841

5	6	core/src/main/java/org/apache/calcite/jdbc/CalciteSchema.java
0	131	core/src/main/java/org/apache/calcite/util/Compatible.java
0	499	core/src/main/java/org/apache/calcite/util/CompatibleGuava11.java
1	1	core/src/main/java/org/apache/calcite/util/ReflectUtil.java
0	13	core/src/test/java/org/apache/calcite/util/UtilTest.java
2	2	druid/src/main/java/org/apache/calcite/adapter/druid/DruidSchema.java

commit 92b425aaae021232fa2380e7d94d4d877a03a33b
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-19 10:24:48 -0400

    [CALCITE-2570] Upgrade forbiddenapis to 2.6 for JDK 11 support
    
    Close apache/calcite#838
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	1	pom.xml

commit 4be1f15cdd431f70dac4140a4d5693e059684647
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-19 17:11:17 +0300

    Remove "Now, do something with table " from standard output when implementing sequences
    
    SequenceImplementor was a dead code.
    
    closes #839

2	29	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java

commit 6ce0d519c783bfff3c559483be9c503f274ba1d8
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-19 10:09:37 -0400

    [CALCITE-1183] Bump Kerby dependency version and reenable AvaticaSpnegoTest
    
    Close apache/calcite-avatica#69
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	1	pom.xml
1	2	server/src/test/java/org/apache/calcite/avatica/AvaticaSpnegoTest.java

commit 2f7b787a29addb79ead310dee35fb0a30f487988
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-19 10:23:25 -0400

    [CALCITE-2570] Upgrade forbiddenapis to 2.6 for JDK 11 support
    
    Close apache/calcite-avatica#70
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

1	1	pom.xml

commit 1420e4da8240d44a6a0f80b42d37a9e6fd836af7
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-09-19 17:46:51 +0800

    [CALCITE-2567] Simplify IS NULL(null) to true (pengzhiwei)
    
    fixes #835

3	0	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
2	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
22	22	core/src/test/resources/sql/sub-query.iq

commit ac1b63d182dc1871b5215eb9dde7052ab771c284
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-09-17 12:32:55 +0800

    [CALCITE-2555] RexSimplify: >=(..., null) could be simplified to null (pengzhiwei)
    
    fixes #831

2	3	core/src/main/java/org/apache/calcite/plan/Strong.java
9	0	core/src/main/java/org/apache/calcite/rex/RexInterpreter.java
12	2	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
1	1	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
8	0	core/src/test/java/org/apache/calcite/test/RexProgramBuilderBase.java
18	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
1	2	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
38	66	core/src/test/resources/sql/sub-query.iq

commit 79af1c9ba735286653697deed3ff849b7c921fe4
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-09-18 22:53:24 -0400

    [CALCITE-2528] Support Aggregates in ElasticSearch adapter (Andrei Sereda)
    
    Aggregate functions (count/sum/min/max/avg) are pushed down to ES.
    
    Add ElasticsearchAggregate relational expression to convert SQL into native Elastic aggregations (value_count, min, max etc.).
    Enhance ElasticsearchTable to prepare correct aggregate ES JSON query.
    
    Create special classes to parse recursively elastic aggregation response or buckets (located in ElasticJson). They're inspired from existing Elastic high-level client source.
    
    For tests, make Json input more human friendly. Single quotes are accepted and fields can be unquoted (unless
    they contain special characters). Also field with dots 'a.b.c' are automatically auto-expanded. This reduces JSON noise.
    
    Fix single projections which previously returned map (see [CALCITE-2485])
    
    Close apache/calcite#801
    Close apache/calcite#822

6	0	elasticsearch/pom.xml
0	150	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/AbstractElasticsearchTable.java
165	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchAggregate.java
0	9	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchConstants.java
26	18	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchEnumerators.java
3	14	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchFilter.java
614	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJson.java
11	2	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchMethod.java
1	5	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchProject.java
63	3	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchRel.java
36	2	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchRules.java
23	7	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchSchema.java
6	35	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchSort.java
296	17	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTable.java
3	3	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchTableScan.java
24	22	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchToEnumerableConverter.java
10	0	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/PredicateAnalyzer.java
86	20	elasticsearch/src/main/java/org/apache/calcite/adapter/elasticsearch/QueryBuilders.java
235	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/AggregationTest.java
1	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/BooleanLogicTest.java
228	81	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java
183	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticsearchJsonTest.java
33	8	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/EmbeddedElasticsearchPolicy.java
107	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/Projection2Test.java
32	5	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ProjectionTest.java
63	0	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/QueryBuildersTest.java
85	5	elasticsearch/src/test/java/org/apache/calcite/test/ElasticsearchChecker.java

commit ce0514690d65c00c0a57c3f942c41050108a395b
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-18 11:25:58 +0300

    [CALCITE-1894] CsvTest.testCsvStream failing often: add @Ignore since the test is known to fail

1	0	example/csv/src/test/java/org/apache/calcite/test/CsvTest.java

commit a02590f2fe99cc3d14a42f7b3e62d162d530f2b5
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-18 11:21:09 +0300

    Update build status badges in README.md

2	1	README.md

commit 865a71e700b7e0d50e62a6e575a0750bbacbc02f
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-07 11:03:49 +0300

    [CALCITE-2504] Add randomized test for better code coverage of rex node create and simplification

2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
216	0	core/src/test/java/org/apache/calcite/test/fuzzer/RexFuzzer.java
342	0	core/src/test/java/org/apache/calcite/test/fuzzer/RexProgramFuzzyTest.java
148	0	core/src/test/java/org/apache/calcite/test/fuzzer/RexToTestCodeShuttle.java
46	0	core/src/test/java/org/apache/calcite/test/fuzzer/SimplifyTask.java

commit af4cf8a17dd71dbb51106c28d4f47f72cbbb13e9
Author: Kevin Risden <krisden@apache.org>
Date:   2018-09-17 13:37:43 -0400

    [CALCITE-2568] Ensure that IBM JDK TLS cipher list matches Oracle/OpenJDK for Travis CI
    
    Close apache/calcite-avatica#68
    
    Signed-off-by: Kevin Risden <krisden@apache.org>

2	1	.travis.yml

commit 37a6f9f4f85d59185225e8883df74ffa8ca94c1b
Author: Zoltan Haindrich <kirk@rxd.hu>
Date:   2018-08-28 09:30:07 +0200

    [CALCITE-2444] Handle IN expressions when converting SqlNode to SQL (Zoltan Haindrich)
    
    Previously RelToSqlConverter could not handle IN expressions because
    it never saw them: SqlToRelConverter had converted them to OR, and if
    an IN expression had been created internally - say via RelBuilder -
    RelToSqlConverter would throw a ClassCastException.
    
    Now we convert IN expressions to "IN" SQL, as you would expect.
    
    Close apache/calcite#805

17	9	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
73	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit a5378a3210760ff94933755b716b676b50992db3
Author: Laurent Goujon <laurent@apache.org>
Date:   2018-09-05 21:42:25 -0700

    [CALCITE-2537] Use litmus for VolcanoPlanner#validate
    
    VolcanoPlanner#validate() throws exception if validation fail, but this
    only happens if the logger level is debug or finer. As changing log level
    should not have control side effects, this might throw users off.
    
    This change changes `void VolcanoPlanner#validate()` into
    `boolean VolcanoPlanner#isValid(Litmus)` and this method is only called
    if assertions are enabled.

10	13	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java

commit c69e1bcb13000adf9ae4bd433e2f8c75baba1501
Author: hongzezhang <hongzezhang@tencent.com>
Date:   2018-09-12 20:34:34 +0800

    [CALCITE-2535] Enable SqlTester.checkFails (previously it was a no-op) (Hongze Zhang)
    
    Close apache/calcite#823

5	0	core/src/main/java/org/apache/calcite/util/Bug.java
41	29	core/src/test/java/org/apache/calcite/sql/test/{SqlTesterImpl.java => AbstractSqlTester.java}
1	1	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
208	164	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
88	0	core/src/test/java/org/apache/calcite/sql/test/SqlRuntimeTester.java
220	4	core/src/test/java/org/apache/calcite/sql/test/SqlTests.java
35	0	core/src/test/java/org/apache/calcite/sql/test/SqlValidatorTester.java
4	3	core/src/test/java/org/apache/calcite/sql/validate/SqlValidatorUtilTest.java
2	2	core/src/test/java/org/apache/calcite/test/SqlTestGen.java
2	2	core/src/test/java/org/apache/calcite/test/SqlValidatorDynamicTest.java
2	2	core/src/test/java/org/apache/calcite/test/SqlValidatorFeatureTest.java
16	194	core/src/test/java/org/apache/calcite/test/SqlValidatorTestCase.java
3	0	core/src/test/resources/sql/misc.iq
2	0	core/src/test/resources/sql/spatial.iq

commit 337f247975d92b826e159f6dd50b228bacf5056d
Author: Alisha Prabhu <Alisha.Prabhu@ibm.com>
Date:   2018-09-12 06:14:20 +0000

    [CALCITE-2546] Reduce precision of Profiler's surprise and cardinality attributes to avoid FP discrepancies (Alisha Prabhu)
    
    Until this change, running ProfilerTest on PowerPC gave different
    results due to different floating point implementation.
    
    Close apache/calcite#829

13	3	core/src/main/java/org/apache/calcite/profile/Profiler.java
164	164	core/src/test/java/org/apache/calcite/profile/ProfilerTest.java

commit 5f8c06f03be9bd9daa55a6c1e96d762423604bdd
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-09-16 11:25:11 -0700

    [CALCITE-2563] Materialized view rewriting may swap columns in equivalent classes incorrectly

3	2	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java

commit 4b4d8037c5073e4eb5702b12bc4ecade31476616
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-16 13:12:25 +0300

    [CALCITE-2559] Update Checkstyle to 7.8.2
    
    It catches violations better and it caches validation results, so repeated validations are faster

0	1	cassandra/src/test/java/org/apache/calcite/test/CassandraAdapterTest.java
0	1	core/src/main/java/org/apache/calcite/jdbc/CalcitePrepare.java
0	1	core/src/main/java/org/apache/calcite/model/ModelHandler.java
7	0	core/src/main/java/org/apache/calcite/plan/RelOptCostImpl.java
7	0	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoCost.java
0	1	core/src/main/java/org/apache/calcite/rel/core/Calc.java
1	1	core/src/main/java/org/apache/calcite/runtime/HttpUtils.java
0	1	core/src/main/java/org/apache/calcite/sql/SqlDialectFactoryImpl.java
0	1	core/src/main/java/org/apache/calcite/util/BuiltInMethod.java
0	1	core/src/main/java/org/apache/calcite/util/Static.java
0	1	core/src/test/java/org/apache/calcite/plan/volcano/VolcanoPlannerTest.java
12	12	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
3	3	core/src/test/java/org/apache/calcite/test/CoreQuidemTest.java
1	1	core/src/test/java/org/apache/calcite/test/DiffTestCase.java
0	1	core/src/test/java/org/apache/calcite/test/JdbcAdapterTest.java
11	12	core/src/test/java/org/apache/calcite/test/JdbcTest.java
12	12	core/src/test/java/org/apache/calcite/test/MaterializationTest.java
3	3	core/src/test/java/org/apache/calcite/test/QuidemTest.java
2	2	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java
1	1	core/src/test/java/org/apache/calcite/test/RelOptTestBase.java
1	1	core/src/test/java/org/apache/calcite/test/ScannableTableTest.java
0	1	core/src/test/java/org/apache/calcite/test/SqlLineTest.java
1	1	core/src/test/java/org/apache/calcite/test/concurrent/ConcurrentTestCommandScript.java
0	1	core/src/test/java/org/apache/calcite/tools/PlannerTest.java
2	2	core/src/test/java/org/apache/calcite/util/UtilTest.java
0	1	druid/src/main/java/org/apache/calcite/adapter/druid/CeilOperatorConversion.java
3	3	druid/src/main/java/org/apache/calcite/adapter/druid/DruidConnectionImpl.java
0	1	druid/src/main/java/org/apache/calcite/adapter/druid/DruidDateTimeUtils.java
0	1	druid/src/main/java/org/apache/calcite/adapter/druid/DruidQuery.java
1	1	druid/src/main/java/org/apache/calcite/adapter/druid/DruidRules.java
0	1	druid/src/main/java/org/apache/calcite/adapter/druid/ExtractionDimensionSpec.java
0	1	druid/src/main/java/org/apache/calcite/adapter/druid/FloorOperatorConversion.java
0	1	druid/src/main/java/org/apache/calcite/adapter/druid/NaryOperatorConverter.java
0	2	druid/src/main/java/org/apache/calcite/adapter/druid/TimeExtractionFunction.java
0	1	elasticsearch/src/test/java/org/apache/calcite/adapter/elasticsearch/ElasticSearchAdapterTest.java
4	4	example/csv/src/test/java/org/apache/calcite/test/CsvTest.java
0	1	file/src/test/java/org/apache/calcite/adapter/file/FileReaderTest.java
0	1	file/src/test/java/org/apache/calcite/adapter/file/FileSuite.java
0	1	geode/src/main/java/org/apache/calcite/adapter/geode/util/GeodeUtils.java
1	2	linq4j/src/main/java/org/apache/calcite/linq4j/tree/ExpressionWriter.java
0	1	linq4j/src/test/java/org/apache/calcite/linq4j/test/Linq4jTest.java
1	1	linq4j/src/test/java/org/apache/calcite/linq4j/test/PrimitiveTest.java
1	1	piglet/src/test/java/org/apache/calcite/test/CalciteHandler.java
1	1	plus/src/main/java/org/apache/calcite/adapter/os/SqlShell.java
0	1	plus/src/main/java/org/apache/calcite/adapter/tpcds/TpcdsSchema.java
0	2	plus/src/main/java/org/apache/calcite/chinook/CalciteConnectionProvider.java
6	0	pom.xml

commit 79a1752710f0592b2f370aef6cfdb786973a35bc
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-15 20:56:30 +0300

    [CALCITE-2558] Improve re-compilation times by skipping parser.java update on each build
    
    fmpp-maven-plugin updated SqlParserImpl.java on each build even in case
    the file was not modified. It causes maven-compiler-plugin to re-compile everything
    
    New behavior is update SqlParserImpl.java only in case it is modified,
    and it significantly improves repeated compilations.

18	37	babel/pom.xml
30	45	core/pom.xml
5	5	pom.xml
18	37	server/pom.xml

commit 001a8fd377854ac7ee7bc13c81502621777894d8
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-09-11 19:04:19 +0800

    [CALCITE-2551] SqlToRelConverter gives ClassCastException while handling 'IN' inside 'WHERE NOT CASE' (pengzhiwei)
    
    Close apache/calcite#827

85	68	core/src/main/java/org/apache/calcite/sql2rel/SqlToRelConverter.java
18	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
39	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 60bb40077634a356818ac7c15d4a80641c453257
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-09-13 11:44:55 -0400

    Site: Add Andrei Sereda as committer

6	0	site/_data/contributors.yml

commit ee5b2f75032aa166e4923a9c90f302811cf23bab
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-13 10:00:24 +0300

    Remove redundant 'new' expression in constant array creation

1	1	core/src/test/java/org/apache/calcite/adapter/clone/ArrayTableTest.java
5	5	core/src/test/java/org/apache/calcite/test/ReflectiveSchemaTest.java
1	1	core/src/test/java/org/apache/calcite/test/StreamTest.java
2	2	linq4j/src/test/java/org/apache/calcite/linq4j/test/Linq4jTest.java

commit eb85242e109edae1a55b4e1e2c4758841b424f67
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-12 12:53:46 +0300

    Increase timeout for Cassandra daemon startup for CassandraAdapterTest

10	1	cassandra/src/test/java/org/apache/calcite/test/CassandraAdapterTest.java

commit 453441cfd6f10683ebf0d64dfba771588c532911
Author: Haisheng Yuan <h.yuan@alibaba-inc.com>
Date:   2018-09-11 20:39:02 -0700

    [CALCITE-2505] Fix assertion error when simplifying is [not] distinct expressions (Haisheng Yuan)
    
    Sample expression that caused failure: isFalse(isNotDistinctFrom(vBool(0), vBool(1)))
    
    closes #828

12	2	core/src/main/java/org/apache/calcite/rex/RexInterpreter.java
1	1	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
2	2	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 9362ee57859d8a52c4c3de575739c9d8e3ac476d
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-09-11 19:36:19 +1000

    [CALCITE-2550] Update download links for avatica-go to link to
    apache-calcite-avatica-go-x.x.x-src.tar.gz for releases 3.2.0 onwards

7	0	site/downloads/avatica-go.md

commit 945399019d707654cf2305af51a0c77f49d53b42
Author: snuyanzin <snuyanzin@gmail.com>
Date:   2018-09-10 18:30:02 +0300

    [CALCITE-2412] Add Windows CI via AppVeyor (Sergey Nuyanzin)
    
    fixes #757

42	0	appveyor.yml

commit d2f0f091374d6f13d14138f277e674dfd2a6fa6b
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-09-10 11:22:47 +1000

    Fix download link to release history in news item

2	2	site/_includes/news_item.html

commit eb14ea6d69ad245dff641f71d90a7a8728a03556
Author: Francis Chuang <francischuang@apache.org>
Date:   2018-09-10 10:24:41 +1000

    Fix download links for avatica-go

8	7	site/downloads/avatica-go.md

commit 8f43b3b8a592792e51feb75f2371582eb5013a70
Author: Ratandeep S. Ratti <rdsr.me@gmail.com>
Date:   2017-12-27 21:19:53 -0800

    [CALCITE-2112] Add Maven wrapper for Calcite (Ratandeep S. Ratti)
    
    Update doc, remove maven jar; add jar to .gitignore (Julian Hyde)
    
    Use TLS 1.2 on windows (Sergey Nuyanzin)

2	0	.gitignore
1	0	.mvn/wrapper/maven-wrapper.properties
286	0	mvnw
161	0	mvnw.cmd
28	23	site/_docs/howto.md
2	2	site/_docs/tutorial.md

commit c6ad15e239b34b5d228611790b5105edf27623aa
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-09-09 13:16:56 -0700

    [CALCITE-2543] Upgrade SQLLine to 1.5.0

1	1	pom.xml

commit e4c1a0426692b52aac488d7e1e5bcb90934e1a17
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   2018-09-07 16:31:56 -0700

    CALCITE-2503 AvaticaCommonsHttpClientImpl client needs to set user-token on HttpClientContext before sending the request
    
    Closes #67
    
    Signed-off-by: Josh Elser <elserj@apache.org>

6	0	core/src/main/java/org/apache/calcite/avatica/remote/AvaticaCommonsHttpClientImpl.java

commit 88f125541a2875f693a02dbbd12ad5184124bafa
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-06 18:53:47 +0300

    Reduce HepPlannerTest#testRuleApplyCount complexity

2	84	core/src/test/java/org/apache/calcite/test/HepPlannerTest.java

commit 3df638c9d34cd83eeb381dd288be786e97ec4c39
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-05 22:51:39 +0300

    [CALCITE-2523] Guard PartiallyOrderedSetTest#testPosetBitsLarge with CalciteAssert.ENABLE_SLOW

3	0	core/src/test/java/org/apache/calcite/util/PartiallyOrderedSetTest.java

commit fa7b48267195053da7029988e013e6e9cd5151b9
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-05 22:49:41 +0300

    [CALCITE-2521] Guard RelMetadataTest#testMetadataHandlerCacheLimit with CalciteAssert.ENABLE_SLOW
    
    The test does not reproduce the original bug, and it is very slow to execute.

2	0	core/src/test/java/org/apache/calcite/test/RelMetadataTest.java

commit 0af6e4133d859a7dfd7498f141950a995d248f4c
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-05 22:44:52 +0300

    [CALCITE-2484] Add SqlValidatorDynamicTest to CalciteSuite

1	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java

commit 23eb11eb3b59e496cdc865926537a76fff53c165
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-05 22:42:05 +0300

    [CALCITE-2484] Move dynamic tests to a separate class like SqlValidatorDynamicTest, and  avoid reuse of MockCatalogReaderDynamic

0	1	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
2	2	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
1	2	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
13	46	core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java
150	0	core/src/test/java/org/apache/calcite/test/SqlValidatorDynamicTest.java
0	38	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
74	0	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderDynamic.java
0	14	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderSimple.java

commit c2ae9f0d5b518ea702b4000958b0460e8ef167e1
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-19 18:48:16 +0300

    [CALCITE-2479] SqlAdvisor: automatically quote identifiers that look like SQL keywords

28	2	core/src/main/java/org/apache/calcite/sql/advise/SqlAdvisor.java
7	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java

commit 67923a27e64439305e113e0db9fcbe44a8c965ec
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-19 18:33:07 +0300

    [CALCITE-2478] SqlAdvisor: purge from_clause when _suggest_ token is located in one of the from sub-queries

5	0	core/src/main/java/org/apache/calcite/sql/advise/SqlSimpleParser.java
14	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java

commit 9f6c067256dde19d1b43b4ee978ce443e73797a4
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-19 18:26:50 +0300

    [CALCITE-2477] SqlAdvisor: scalar sub-query support

3	4	core/src/main/java/org/apache/calcite/sql/advise/SqlSimpleParser.java
25	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java

commit 77b8c4dbf4f42c8cbbbb0e41ef9d49f0c2d9ba39
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-19 18:20:00 +0300

    [CALCITE-2476] SqlAdvisor: produce hints when sub-query with * is present in query
    
    simplifySql produced 0 AS "*", and it caused the SQL to fail validation.
    The fix is to disable transformation of expressions to "0 as ...", so it keeps select * as is.

4	1	core/src/main/java/org/apache/calcite/sql/advise/SqlSimpleParser.java
14	8	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java

commit 4afea52a7d50a188cd7b740deea6545013796690
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-19 18:02:02 +0300

    [CALCITE-2475] SqlAdvisor: support MINUS

3	1	core/src/main/java/org/apache/calcite/sql/advise/SqlSimpleParser.java
9	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java

commit 14a98e93949d016bb4a4d105e42414410803c8e4
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-19 14:01:37 +0300

    [CALCITE-2474] SqlAdvisor: avoid NPE in lookupFromHints where FROM is empty

4	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
7	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java

commit 1c913e1b0499e85b5bfcb6495e478d68ad34d280
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-18 23:52:49 +0300

    [CALCITE-2473] SqlAdvisor: support -- comments

13	1	core/src/main/java/org/apache/calcite/sql/advise/SqlSimpleParser.java
12	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java

commit 1ed6b75717d154b046f0ba3df30e88f91811536c
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-02 15:17:04 +0300

    [CALCITE-2434] SqlAdvisor: support hints for nested tables/schemas

11	1	core/src/main/java/org/apache/calcite/jdbc/CalciteConnectionImpl.java
117	26	core/src/main/java/org/apache/calcite/sql/advise/SqlAdvisor.java
120	0	core/src/main/java/org/apache/calcite/sql/advise/SqlAdvisorGetHintsFunction2.java
40	0	core/src/main/java/org/apache/calcite/sql/advise/SqlAdvisorHint2.java
23	0	core/src/main/java/org/apache/calcite/util/Util.java
233	22	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
1	0	core/src/test/java/org/apache/calcite/sql/test/SqlTestFactory.java
1	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java
0	104	core/src/test/java/org/apache/calcite/test/JdbcTest.java
172	0	core/src/test/java/org/apache/calcite/test/SqlAdvisorJdbcTest.java

commit 89e22e3ff8082790a3160d0a95cf3546e65a77d1
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-01 13:55:44 +0300

    [CALCITE-2433] SqlAdvisor: support configurable quoting characters

29	6	core/src/main/java/org/apache/calcite/sql/advise/SqlAdvisor.java
53	30	core/src/main/java/org/apache/calcite/sql/advise/SqlSimpleParser.java
74	8	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
5	1	core/src/test/java/org/apache/calcite/sql/test/SqlTestFactory.java
30	0	core/src/test/java/org/apache/calcite/test/SqlValidatorTestCase.java
35	0	core/src/test/java/org/apache/calcite/test/WithLex.java

commit 76a8cfd18acb70b6053b983ba99bbf0ccf967e12
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-07-17 16:03:45 -0700

    [CALCITE-2418] Remove matchRecognize field of SqlSelect

0	9	core/src/main/java/org/apache/calcite/sql/SqlSelect.java

commit 86993bdedea758916deefcabbfd38eaa1c14eca7
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-08-31 11:33:07 -0700

    Following [CALCITE-2469] simplify "f(x, y) IS NULL" to "x IS NULL OR y IS NULL" if "f" is strong
    
    Previously we did not use OR, which was wrong.

5	7	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
16	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit d12549530c0aeeedbd6b03f5473c15029d93566f
Author: Arina Ielchiieva <arina.yelchiyeva@gmail.com>
Date:   2018-08-31 14:57:15 +0300

    [CALCITE-2514] Add SqlIdentifier conversion to ITEM operator for dynamic tables in ExtendedExpander (Arina Ielchiieva)
    
    Close #814

22	19	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
15	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
15	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 5e765bd1ab13397d46baaa42db655bd52f5a9ffa
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-02 09:30:41 +0300

    [CALCITE-2522] Remove e.printStackTrace() from CalciteAssert#returns

0	1	core/src/test/java/org/apache/calcite/test/CalciteAssert.java

commit 9589a360656a752be73fb27ce285cd32b22bc0e0
Author: Andrei Sereda <25229979+asereda-gs@users.noreply.github.com>
Date:   2018-08-28 18:08:09 -0400

    [CALCITE-2498] fix bug when geode adapter quotes booleans as strings (Andrei Sereda)
    
    GeodeFilter was incorrectly quoting boolean literals as SQL strings ('true' instead of true)
    
    fixes #809

2	1	geode/src/main/java/org/apache/calcite/adapter/geode/rel/GeodeFilter.java

commit 2817bda61dc8d7dd4249f32f250228f5f0797e24
Author: snuyanzin <snuyanzin@gmail.com>
Date:   2018-08-31 12:05:35 +0300

    [CALCITE-2512] Move StreamTest#ROW_GENERATOR to Table.scan().iterator to make it not shared between threads (Sergey Nuyanzin)
    
    fixes #813

6	14	core/src/test/java/org/apache/calcite/test/StreamTest.java

commit 0a330e79ff1c120cf7e53af1787be913d83f73ca
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-31 21:40:28 +0300

    [CALCITE-2491] Refactor NameSet, NameMap, and NameMultimap
    
    Collections are thread-safe when used in read-only scenarios.
    Name*.immutableCopyOf are always thread-safe as writes are prohibited :)
    
    fixes #815

10	9	core/src/main/java/org/apache/calcite/jdbc/CalciteSchema.java
78	0	core/src/main/java/org/apache/calcite/util/CaseInsensitiveComparator.java
0	197	core/src/main/java/org/apache/calcite/util/NameHelper.java
10	8	core/src/main/java/org/apache/calcite/util/NameMap.java
16	28	core/src/main/java/org/apache/calcite/util/NameMultimap.java
14	51	core/src/main/java/org/apache/calcite/util/NameSet.java
2	0	core/src/test/java/org/apache/calcite/util/UtilTest.java

commit b1789ba18e924e533dbeaea8d0849524197136f7
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-01 04:45:44 +0300

    Skip second Checkstyle execution during Travis CI build
    
    Checkstyle is validated during mvn install part, so there's no need to repeat that

1	1	.travis.yml

commit d74027c989ac8b5cd6cd38c04bbabf9ab0e844d6
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-31 22:57:40 +0300

    [CALCITE-2519] Silence ERROR logs from CalciteException, SqlValidatorException during tests
    
    Use threadCount=1/perCoreThreadCount=false to disable parallel test execution at Travis
    
    Previous option -Dsurefire.parallel= made JUnit to log just CalciteSuite details,
    thus the test looked like a stuck one
    
    fixes #816

1	1	.travis.yml
5	0	core/src/test/resources/log4j.properties
4	2	pom.xml

commit 0c0f61e963497070a62ccdfc50c84b2826ca2d5f
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-09-01 04:38:07 +0300

    [CALCITE-2520] Make SparkHandlerImpl#compile silent by default, print code in calcite.debug=true mode only

6	0	core/src/main/java/org/apache/calcite/util/javac/JaninoCompiler.java
4	3	spark/src/main/java/org/apache/calcite/adapter/spark/SparkHandlerImpl.java

commit 4e9064fa94a419987a5d654f0e41899dde60df54
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-31 23:58:02 +0300

    [CALCITE-1026] Remove unused import

0	1	core/src/test/java/org/apache/calcite/test/ModelTest.java

commit 29a925a62ed4a2b5855dd1d8ba296455433d32ad
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-31 23:56:20 +0300

    [CALCITE-1026] Fix ModelTest#testYamlFileDetection when source folder has spaces

1	1	core/src/test/java/org/apache/calcite/test/ModelTest.java

commit 370e95ab8557946023ce209e975e1c321765559e
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-08-16 01:26:13 -0700

    [CALCITE-2470] In RelBuilder, project method should combine expressions if the underlying node is a Project
    
    Add RelBuilder.shouldMergeProject() to allow sub-classes to disable
    merging.
    
    Improve the message given by CompositeMatcher when match fails.
    
    When RelStructuredTypeFlattener rewrites a RexInputRef be sure to use
    the field's new type. (It might have strengthened from say INTEGER to
    INTEGER NOT NULL.)
    
    Add a test case inspired by Drill (it passes in Calcite, but I gather
    it fails in Drill).

2	0	core/src/main/java/org/apache/calcite/rel/logical/LogicalFilter.java
2	2	core/src/main/java/org/apache/calcite/runtime/Hook.java
44	29	core/src/main/java/org/apache/calcite/sql2rel/RelStructuredTypeFlattener.java
119	47	core/src/main/java/org/apache/calcite/tools/RelBuilder.java
2	2	core/src/test/java/org/apache/calcite/test/JdbcFrontLinqBackTest.java
5	0	core/src/test/java/org/apache/calcite/test/Matchers.java
1	1	core/src/test/java/org/apache/calcite/test/MaterializationTest.java
73	9	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java
2	2	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
5	6	core/src/test/java/org/apache/calcite/test/StreamTest.java
3	4	core/src/test/java/org/apache/calcite/tools/PlannerTest.java
2	3	core/src/test/resources/org/apache/calcite/test/HepPlannerTest.xml
244	332	core/src/test/resources/org/apache/calcite/test/RelOptRulesTest.xml
286	378	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml
3	3	core/src/test/resources/sql/agg.iq
13	6	core/src/test/resources/sql/misc.iq
22	22	core/src/test/resources/sql/sub-query.iq
2	2	core/src/test/resources/sql/winagg.iq
5	5	mongodb/src/test/java/org/apache/calcite/adapter/mongodb/MongoAdapterTest.java
1	1	server/src/test/java/org/apache/calcite/test/ServerTest.java
1	1	server/src/test/resources/sql/table.iq
1	0	site/_docs/algebra.md

commit d0e3089c39744843ce25cdca2b646b094adb22cb
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-08-29 19:25:46 -0700

    [CALCITE-2486] Upgrade Apache parent POM to version 21
    
    Also upgrade
    commons-dbcp2 to 2.5.0,
    commons-lang3 to 3.8,
    commons-pool to 2.6.0,
    esri-geometry-api to 2.2.0,
    h2 to 1.4.197,
    hsqldb to 2.4.1,
    httpclient to 2.5.6,
    httpcore to 4.4.10,
    java-diff to 1.1.2,
    jsoup to 1.11.3,
    maven-dependency-plugin to 3.1.1,
    maven-enforcer-plugin to 3.0.0-M2,
    mockito to 2.21.0.

5	0	elasticsearch/pom.xml
5	0	example/csv/pom.xml
6	0	geode/pom.xml
5	0	mongodb/pom.xml
15	25	pom.xml

commit fbb0b8286e7c7bf6ee4680a7b27e2afef39ea5e9
Author: snuyanzin <snuyanzin@gmail.com>
Date:   2018-07-31 20:17:01 +0300

    [CALCITE-1026] Allow models in YAML format
    
    Make JSON/YAML mappers static final.
    
    Add tests to check model inline: json and yaml and to check model uri
    to hson/yaml files.
    
    Close apache/calcite#791

4	0	core/pom.xml
20	7	core/src/main/java/org/apache/calcite/model/ModelHandler.java
30	1	core/src/test/java/org/apache/calcite/test/ModelTest.java
20	0	core/src/test/resources/empty-model.yaml
24	0	example/csv/src/test/resources/bug.yaml
29	0	example/csv/src/test/resources/filterable-model.yaml
29	0	example/csv/src/test/resources/model-stream-table.yaml
27	0	example/csv/src/test/resources/model-with-custom-table.yaml
30	0	example/csv/src/test/resources/model-with-view.yaml
26	0	example/csv/src/test/resources/model.yaml
33	0	example/csv/src/test/resources/order-stream-table.yaml
34	0	example/csv/src/test/resources/smart.yaml
30	0	example/function/src/test/resources/model.yaml
5	0	pom.xml
1	1	site/_docs/adapter.md
183	3	site/_docs/model.md

commit 90f49be639b9a569e3dc4d8369c08e2db64ea301
Author: pengzhiwei <pengzhiwei2015@icloud.com>
Date:   2018-08-17 14:15:13 +0800

    [CALCITE-2469] RexSimplify should optimize '(NOT x) IS NULL' to 'x IS NULL' (pengzhiwei)
    
    Previously it optimized '(NOT x) IS NULL' to 'x IS NOT NULL', which is
    wrong.
    
    Generalize the above, to simplify 'f(x) IS NULL' to 'x IS NULL' for any
    operator 'f' that is known to be strong. (Julian Hyde)
    
    Close apache/calcite#796

38	3	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
5	0	core/src/main/java/org/apache/calcite/sql/SqlKind.java
8	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java
4	4	core/src/test/resources/sql/sub-query.iq

commit 0d707e4e4e5840776670d57b1b7d61ca6d963e13
Author: hongzezhang <hongzezhang@tencent.com>
Date:   2018-08-22 15:50:37 +0800

    [CALCITE-2483] Druid adapter, when querying Druid segment metadata, throws when row number is larger than Integer.MAX_VALUE (Hongze Zhang)
    
    Close apache/calcite#799

2	2	druid/src/main/java/org/apache/calcite/adapter/druid/DruidConnectionImpl.java

commit 1c30edca1bd7b60e3e8c0368a4c736c4775125d4
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-30 00:16:03 +0300

    [CALCITE-2506] Add ignored test for fail in RexSimplify with coalesce
    
    coalesce(unaryPlus(nullInt), unaryPlus(vInt())) fails with
    result mismatch: when applied to {?0.int0=-1}, COALESCE(+(null), +(?0.int0)) yielded -1, and +(null) yielded NULL

8	0	core/src/test/java/org/apache/calcite/test/RexProgramBuilderBase.java
10	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 80c04cb6028f307a599350fda32411fc19733b3c
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-29 23:49:46 +0300

    [CALCITE-2505] Add ignored test for fail in RexSimplify with IS DISTINCT FROM
    
    Simplification of isFalse(isNotDistinctFrom(vBool(0), vBool(1))) causes AssertionError: wrong operand count 1 for IS DISTINCT FROM

12	0	core/src/test/java/org/apache/calcite/test/RexProgramBuilderBase.java
8	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 6a22cc25f9f7d083f30ff361d8c907f4d6173737
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-29 22:52:44 +0300

    Support AND, OR, COALESCE, IS...DISTINCT in RexUtil#op

10	0	core/src/main/java/org/apache/calcite/rex/RexUtil.java

commit ca3780302463ab2b8ea3180f894f9ea6801f75d0
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-29 14:28:13 +0300

    MockCatalogReader is used in testing, so cache should be disabled there to avoid thread conflicts and/or stale results

1	1	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReader.java

commit 2f33a0c57b7b7e77b8193d0fff1e3531119aee0a
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-28 14:45:51 +0300

    [CALCITE-2495] Support encoded URLs in calcite.util.Source, and use it for URL->File conversion in tests
    
    For the record:
    1) URL.getPath() produces %20, so it is added to forbidden signatures
    2) Paths.get(url.toURI()).toFile() almost works, however it fails with URL is not hierarchical for new URL("file:test.java")
    3) new File(URL.toURI() is worse than #2
    4) URLDecoder must not be used to decode %20, since it will convert + to spaces as well, thus it will corrupt test.c++ filenames
    5) It looks like url.toURI().getSchemeSpecificPart()) properly handles "opaque" URIs (which are relative file:test.java kind of URLs)
    6) file:/test is relative for Windows, and absolute would be like file:c:/test

4	2	cassandra/src/test/java/org/apache/calcite/test/CassandraAdapterTest.java
50	15	core/src/main/java/org/apache/calcite/util/Sources.java
11	10	core/src/test/java/org/apache/calcite/sql/parser/SqlParserTest.java
7	0	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
4	1	core/src/test/java/org/apache/calcite/test/DiffRepository.java
7	22	core/src/test/java/org/apache/calcite/test/QuidemTest.java
88	9	core/src/test/java/org/apache/calcite/util/SourceTest.java
16	17	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT.java
7	8	druid/src/test/java/org/apache/calcite/test/DruidAdapterIT2.java
2	14	example/csv/src/test/java/org/apache/calcite/test/CsvTest.java
2	1	file/src/main/java/org/apache/calcite/adapter/file/FileReader.java
7	6	file/src/test/java/org/apache/calcite/adapter/file/FileReaderTest.java
2	7	geode/src/test/java/org/apache/calcite/adapter/geode/rel/BaseGeodeAdapterIT.java
3	2	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeAdapterBookshopIT.java
3	2	geode/src/test/java/org/apache/calcite/adapter/geode/rel/GeodeZipsIT.java
2	7	pig/src/test/java/org/apache/calcite/test/AbstractPigTest.java
4	12	pig/src/test/java/org/apache/calcite/test/PigAdapterTest.java
3	1	plus/src/test/java/org/apache/calcite/adapter/os/OsAdapterTest.java
3	0	src/main/config/forbidden-apis/signatures.txt

commit 02794e2b9d55b2ff91e78e21eff105791921ea43
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   2018-08-28 21:50:30 +0300

    [CALCITE-2497] Update Janino version to 3.0.9

1	6	core/src/main/java/org/apache/calcite/schema/SchemaPlus.java
1	1	pom.xml

commit c8e91ea1db1e519d9d73bbb8b08ee27f710cb1d4
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-28 15:04:31 +0300

    [CALCITE-2327] RexSimplify: AND(x, y, NOT(y)) ==> AND(x, null, IS NULL(y))

13	9	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
20	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 6b2b9ffd7e620696e7e7cf34e38641d1817f0fd9
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-28 12:29:18 +0300

    [CALCITE-2494] RexFieldAccess should implement equals/hashCode

19	0	core/src/main/java/org/apache/calcite/rex/RexFieldAccess.java
13	0	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 9f7e565ffcadd161e8a92906a493f551b9c02f2b
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-28 12:53:46 +0300

    [CALCITE-311] Added a test-case for filter after window aggregate
    
    Filters should not be pushed through window aggregate since it might impact results.

16	0	core/src/test/resources/sql/winagg.iq

commit 141781bf4d591d973812c73ea9f03d715b5406cb
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-28 10:36:40 +0300

    [CALCITE-2327] Avoid simplification of x AND NOT(x) to false for nullable x
    
    x AND NOT(x) ==> FALSE AND x IS NULL
    
    closes #707

21	1	core/src/main/java/org/apache/calcite/rex/RexSimplify.java
1	3	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit af3e35d64a7c29dfaa451c4ab4880424a8fe8cee
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-26 13:28:31 +0300

    [CALCITE-2271] Join of two views with window aggregates produces incorrect results or NPE
    
    Avoid NPE in BlockBuilder.append when empty variable initializer is used
    
    closes #673

0	1	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableRelImplementor.java
2	3	core/src/main/java/org/apache/calcite/adapter/enumerable/EnumerableWindow.java
55	2	core/src/test/resources/sql/winagg.iq
28	9	linq4j/src/main/java/org/apache/calcite/linq4j/tree/BlockBuilder.java
3	0	linq4j/src/main/java/org/apache/calcite/linq4j/tree/Expressions.java
46	0	linq4j/src/test/java/org/apache/calcite/linq4j/test/BlockBuilderTest.java
2	1	linq4j/src/test/java/org/apache/calcite/linq4j/test/ExpressionTest.java

commit 6cad2ee13e50e9444f80a744409d4e6ca483a30c
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-08-23 18:04:41 -0700

    [CALCITE-2481] NameSet assumes lower-case characters have greater codes, which does not hold for certain characters
    
    Includes EquivalenceSet, a nice general-purpose class to compute
    reflexive, symmetric, transitive closure.

142	0	core/src/main/java/org/apache/calcite/util/EquivalenceSet.java
197	0	core/src/main/java/org/apache/calcite/util/NameHelper.java
2	3	core/src/main/java/org/apache/calcite/util/NameMap.java
2	12	core/src/main/java/org/apache/calcite/util/NameMultimap.java
2	2	core/src/main/java/org/apache/calcite/util/NameSet.java
175	0	core/src/test/java/org/apache/calcite/util/UtilTest.java

commit 8d475f769a4cc01644826cedea818f503cfd7660
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-08-15 11:09:54 -0700

    [CALCITE-2467] Upgrade owasp-dependency-check maven plugin to 3.3.1

3	3	pom.xml

commit 6d6421c8a4e0c578bfff736c4690c1c6f47572dd
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-08-19 11:13:48 -0700

    [CALCITE-2480] NameSet.contains wrongly returns false when element in set is upper-case and seek is lower-case
    
    Implement toString, hashCode and equals for NameSet, NameMap and
    NameMultimap; and add tests.
    
    Fix some cosmetic issues in other code, such as missing newline at end
    of file.

3	1	cassandra/src/test/resources/cassandra.yaml
1	1	cassandra/src/test/resources/logback-test.xml
14	0	core/src/main/java/org/apache/calcite/util/NameMap.java
14	0	core/src/main/java/org/apache/calcite/util/NameMultimap.java
23	3	core/src/main/java/org/apache/calcite/util/NameSet.java
1	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterStructsTest.java
0	1	core/src/test/java/org/apache/calcite/test/HepPlannerTest.java
5	3	core/src/test/java/org/apache/calcite/test/RexProgramBuilderBase.java
1	1	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
58	7	core/src/test/java/org/apache/calcite/util/UtilTest.java
3	3	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit 5c592b7ed7e71a613d3ddeadcd67300c9ea6b5e8
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-08-19 11:19:46 -0700

    Site: Update Julian Hyde's affiliation

1	1	site/_data/contributors.yml

commit 23d25d3b03fa19ef96f1f88fc788bf91faf0c78d
Author: Michael Mior <mmior@cs.rit.edu>
Date:   2018-08-17 16:53:55 -0400

    Update Michael Mior's affiliation

2	2	site/_data/contributors.yml

commit d1c2e894a852aeaf07550679c2b1a9b091c2d6fa
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-17 11:30:55 +0300

    [CALCITE-2462] RexProgramTest: replace nullLiteral->nullInt, unknownLiteral->nullBool for brevity

0	15	core/src/test/java/org/apache/calcite/test/RexProgramBuilderBase.java
33	33	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit 431e803bbedb97dd16b9ee80d8f3907fa0b49b51
Author: Stamatis Zampetakis <zabetak@gmail.com>
Date:   2018-08-12 13:55:07 +0300

    Site: Add instructions for updating PRs based on the discussion in the dev list (Stamatis Zampetakis)
    
    The complete discussion can be found at https://mail-archives.apache.org/mod_mbox/calcite-dev/201808.mbox/%3CCA%2BEpF8tsJBXEawKTaXNsQ1dqcDBymxey1FdRWHuAtwWj1pHKWw%40mail.gmail.com%3E
    
    Close apache/calcite#790

24	2	site/develop/index.md

commit 45782ed3e071695a6f8dd6947b323906cdd5c300
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-16 10:58:47 +0300

    [CALCITE-2462] RexProgramTest: move "rex building" methods to base class
    
    This simplifies creating Rex-based input data for tests
    
    fixes #788

555	0	core/src/test/java/org/apache/calcite/test/RexProgramBuilderBase.java
71	157	core/src/test/java/org/apache/calcite/test/RexProgramTest.java

commit f0bce98597868d7176ed4d8ead47372367f88900
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-08-14 20:59:37 -0700

    [CALCITE-2467] Upgrade owasp-dependency-check maven plugin to 3.3.1
    
    Upgrade protobuf-java to 3.5.1, jackson to 2.9.6, jetty to 9.4.11.v20180605.
    
    Close apache/calcite-avatica#66

35	3	pom.xml
3	1	server/src/main/java/org/apache/calcite/avatica/server/PropertyBasedSpnegoLoginService.java
2	0	site/_docs/howto.md
32	0	src/main/config/dependency-check/suppressions.xml

commit 62a0de58d38abb2c1fe85172ff9945fb39da7696
Author: Jesus Camacho Rodriguez <jcamacho@apache.org>
Date:   2018-08-13 19:20:56 -0700

    [CALCITE-2465] Enable use of materialized views for any planner
    
    Includes change to HepPlanner to check whether a transformation already produced a reference to an existing
    vertex based on existing graph vertices.

4	0	core/src/main/java/org/apache/calcite/plan/AbstractRelOptPlanner.java
5	0	core/src/main/java/org/apache/calcite/plan/RelOptPlanner.java
14	1	core/src/main/java/org/apache/calcite/plan/hep/HepPlanner.java
1	1	core/src/main/java/org/apache/calcite/plan/volcano/VolcanoPlanner.java
1	4	core/src/main/java/org/apache/calcite/rel/rules/AbstractMaterializedViewRule.java
3	8	core/src/main/java/org/apache/calcite/rel/rules/MaterializedViewFilterScanRule.java
18	0	core/src/test/java/org/apache/calcite/test/HepPlannerTest.java

commit ca858dd725dea6bf9b4a9059cf1c3ba98bd82f26
Author: snuyanzin <snuyanzin@gmail.com>
Date:   2018-06-29 11:41:24 +0300

    [CALCITE-2402] Implement regr functions: COVAR_POP, COVAR_SAMP, REGR_COUNT, REGR_SXX, REGR_SYY
    
    Use filters in case of AggregateReduceFunctionsRule expansions.
    
    Close apache/calcite#779

1	0	core/src/main/codegen/templates/Parser.jj
3	0	core/src/main/java/org/apache/calcite/adapter/enumerable/RexImpTable.java
253	6	core/src/main/java/org/apache/calcite/rel/rules/AggregateReduceFunctionsRule.java
16	7	core/src/main/java/org/apache/calcite/sql/SqlKind.java
6	4	core/src/main/java/org/apache/calcite/sql/fun/SqlCountAggFunction.java
3	5	core/src/main/java/org/apache/calcite/sql/fun/SqlCovarAggFunction.java
37	0	core/src/main/java/org/apache/calcite/sql/fun/SqlRegrCountAggFunction.java
6	0	core/src/main/java/org/apache/calcite/sql/fun/SqlStdOperatorTable.java
1	1	core/src/main/java/org/apache/calcite/sql/type/ReturnTypes.java
203	47	core/src/main/java/org/apache/calcite/sql2rel/StandardConvertletTable.java
1	0	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
97	0	core/src/test/resources/sql/agg.iq
133	0	core/src/test/resources/sql/winagg.iq
1	1	site/_docs/reference.md

commit 5574873844a440d2ed14dfdc7b0e40a0dae91355
Author: Piotr Bojko <ptr.bojko@gmail.com>
Date:   2018-08-03 16:35:19 +0200

    [CALCITE-2446] Lateral joins do not work when saved as custom views (Piotr Bojko)
    
    When expanding views, Calcite had one additional step in which
    expanded sqlnode tree was validated and thus rewritten. During this
    step - information about lateral join was lost.
    
    This change removes validation step from view expansion algorithms.
    
    Also, added bug reproduction in form of unit tests.
    
    Close apache/calcite#780

1	2	core/src/main/java/org/apache/calcite/prepare/CalcitePrepareImpl.java
1	2	core/src/main/java/org/apache/calcite/prepare/PlannerImpl.java
33	1	core/src/test/java/org/apache/calcite/test/CalciteAssert.java
30	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java
7	0	core/src/test/java/org/apache/calcite/util/Smalls.java
66	0	plus/src/main/java/org/apache/calcite/chinook/CodesFunction.java
38	7	plus/src/main/resources/chinook/chinook.json
55	0	plus/src/test/resources/sql/cross-join-lateral.iq

commit ac33200faf62d2667c2fa075fc3423d602131d9d
Author: snuyanzin <snuyanzin@gmail.com>
Date:   2018-08-03 19:04:19 +0300

    [CALCITE-2447] POWER, ATAN2 functions fail with NoSuchMethodException
    
    To remedy, add power, atan2 methods with arguments
    "(BigDecimal b0, long b1)"  in SqlFunctions.
    
    Close apache/calcite#777

9	0	core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java
22	0	core/src/test/resources/sql/misc.iq

commit eb496c702cb2b8998836d02cde28a53861fc39aa
Author: Andrei Sereda <andrei@nospam.com>
Date:   2018-08-03 00:39:25 -0400

    Test case (disabled) for [CALCITE-2441] Relational algebra doesn't work with SQL views (Andrei Sereda)
    
    RelBuilder doesn't work with SQL views. expandView() method is not
    implemented and fails with UnsupportedOperationException.
    
    Close apache/calcite#774

50	0	core/src/test/java/org/apache/calcite/test/RelBuilderTest.java

commit 3c6b5ec759caadabb67f09d7a4963cc7d9386d0c
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-09 22:19:27 +0300

    tests: add TestUtilTest to CalciteSuite

2	0	core/src/test/java/org/apache/calcite/test/CalciteSuite.java

commit 0e6733bf85a32e018f3541761a3e17565c82d5d3
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-09 19:58:31 +0300

    test: update test name current -> javaMajorVersionExceeds6

4	2	core/src/test/java/org/apache/calcite/util/TestUtilTest.java

commit 7088dc7261d294b7c6d5c9f4463435e95f0b9c15
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-02 13:10:52 +0300

    SqlTestFactory: use lazy initialization of objects
    
    This avoids creating catalogReader objects when several with(key, value)
    methods are called in sequence

17	16	core/src/test/java/org/apache/calcite/sql/test/SqlTestFactory.java

commit 96b28f7ba11de22a68d984de6b6b88311cc2c57e
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-08-01 13:40:56 +0300

    [CALCITE-2435] tests: refactor SqlTestFactory
    
    closes #771

0	159	core/src/test/java/org/apache/calcite/sql/test/DefaultSqlTestFactory.java
0	73	core/src/test/java/org/apache/calcite/sql/test/DelegatingSqlTestFactory.java
7	41	core/src/test/java/org/apache/calcite/sql/test/SqlAdvisorTest.java
3	11	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java
169	12	core/src/test/java/org/apache/calcite/sql/test/SqlTestFactory.java
4	12	core/src/test/java/org/apache/calcite/sql/test/SqlTesterImpl.java
2	2	core/src/test/java/org/apache/calcite/sql/validate/SqlValidatorUtilTest.java
1	0	core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java
8	12	core/src/test/java/org/apache/calcite/test/SqlTestGen.java
2	1	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
3	1	core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java
2	26	core/src/test/java/org/apache/calcite/test/SqlValidatorFeatureTest.java
6	5	core/src/test/java/org/apache/calcite/test/SqlValidatorTest.java
3	10	core/src/test/java/org/apache/calcite/test/SqlValidatorTestCase.java
39	0	core/src/test/java/org/apache/calcite/test/catalog/CompoundNameColumn.java
150	0	core/src/test/java/org/apache/calcite/test/catalog/CompoundNameColumnResolver.java
82	0	core/src/test/java/org/apache/calcite/test/catalog/CountingFactory.java
64	0	core/src/test/java/org/apache/calcite/test/catalog/EmpInitializerExpressionFactory.java
125	0	core/src/test/java/org/apache/calcite/test/catalog/Fixture.java
7	751	core/src/test/java/org/apache/calcite/test/{ => catalog}/MockCatalogReader.java
120	0	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderExtended.java
422	0	core/src/test/java/org/apache/calcite/test/catalog/MockCatalogReaderSimple.java

commit c11376590aa13a51c41883f74a86ce5cc03df2a4
Author: Dylan <chenzl25@mail2.sysu.edu.cn>
Date:   2018-07-09 17:39:18 +0800

    fix typo in HepPlanner trace message (Dylan)
    
    closes #754

1	1	core/src/main/java/org/apache/calcite/plan/hep/HepPlanner.java

commit 0bb92498900a6314e93805c5d2238a5179577e61
Author: Alina Ipatina <ipatinaa@gmail.com>
Date:   2018-07-19 19:02:34 +0300

    [CALCITE-2416] Assertion error when determining monotonicity (Alina Ipatina)
    
    closes #766

3	1	core/src/main/java/org/apache/calcite/sql/SqlLiteral.java
4	2	core/src/main/java/org/apache/calcite/sql/fun/SqlMonotonicBinaryOperator.java
15	0	core/src/test/java/org/apache/calcite/sql/test/SqlOperatorBaseTest.java

commit a0983768d28e48ddd6ebd0488834f80ab54b85d7
Author: Andrei Sereda <andrei@nospam.com>
Date:   2018-07-30 12:07:23 -0400

    [CALCITE-2428] Cassandra unit test fails to parse JDK version string (Andrei Sereda)
    
    Previous version failed to parse correctly versions like: 9, 10-ea, 11-pre etc.
    Change method TestUtil.getJavaMajorVersion() to use regex to detect major JDK version from
    a string (usually 'java.version' system property). At some point migrate to
    Runtime.version() (which is available 9+)
    
    closes #770

4	4	cassandra/src/test/java/org/apache/calcite/test/CassandraAdapterTest.java
34	10	core/src/test/java/org/apache/calcite/util/TestUtil.java
92	0	core/src/test/java/org/apache/calcite/util/TestUtilTest.java

commit 8b09736870de922b5c0b0b149732ebeacd990437
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-07-30 23:26:13 +0300

    Java 8: use computeIfAbsent when possible

1	3	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
1	5	core/src/main/java/org/apache/calcite/util/NameMultimap.java
2	5	core/src/test/java/org/apache/calcite/test/MockCatalogReader.java
1	5	core/src/test/java/org/apache/calcite/test/concurrent/ConcurrentTestCommandGenerator.java

commit 466b3279dcc7a274349ecbbde94b562eb50a043b
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-07-30 23:25:17 +0300

    [CALCITE-2431] AssertionError: SqlUtil.getAncestry when providing completion hints for sub-schema

1	2	core/src/main/java/org/apache/calcite/sql/advise/SqlAdvisor.java
12	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java

commit 1a94885aa46216a1ab564afcf3e7968ecb54dbf9
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-07-30 23:23:50 +0300

    [CALCITE-2430] AssertionError: RelDataTypeImpl.getFieldList when SQL Advisor inspects non-struct field

7	5	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
8	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java

commit a18a380095c9f0bb3da9912748a5b368e547134f
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2018-07-30 23:21:07 +0300

    [CALCITE-2429] NPE: SqlValidatorImpl.lookupFieldNamespace when SQL Advisor observes non-existing field

3	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
8	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java

commit 6496cb76301e71911bdbe537bfa7af64b346c243
Author: Vladimir Sitnikov <sitnikov.vladimir@gmail.com>
Date:   2017-10-06 21:11:50 +0300

    test: add testSqlAdvisorTableInSchema
    
    The test validates that SQL Advisor suggets table names in autocomplete

12	0	core/src/test/java/org/apache/calcite/test/JdbcTest.java

commit 41a06771876374474d46ef8d3a14886d742c66e9
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   2018-07-26 15:44:44 +0300

    [CALCITE-2422] Query with unnest of column from nested subquery fails when dynamic table is used
    
    Close apache/calcite#768

11	0	core/src/main/java/org/apache/calcite/sql/validate/SqlValidatorImpl.java
8	0	core/src/test/java/org/apache/calcite/test/SqlToRelConverterTest.java
18	0	core/src/test/resources/org/apache/calcite/test/SqlToRelConverterTest.xml

commit bd0e140026c409aa932cebf0e1fe223ab3a5319a
Author: Michael Mior <mmior@uwaterloo.ca>
Date:   2018-07-18 10:27:02 -0400

    [CALCITE-2419] Use embedded Cassandra for tests
    
    Leverage cassandra-unit library to start a cassandra mini cluster. Database is being populated from
    local twissandra.cql file. All other configuration files are also located in test classpath.
    
    Contratry to default project settings (for failsafe and surefire plugins), enforce tests to run sequentially
    (using @NotThreadSafe annotation). Some static variables (eg. Hook(s)) are being shared causing
    non-deterministic failures (due to concurrent access). It is done to avoid flaky tests.
    This limitation should be addressed in future.
    
    Disable adapter test on JDK11 which is not supported by Cassandra 3.x (4.x is still in development).
    
    Close apache/calcite#764
    Close apache/calcite#769

12	2	cassandra/pom.xml
34	3	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraSchema.java
7	1	cassandra/src/main/java/org/apache/calcite/adapter/cassandra/CassandraSchemaFactory.java
80	31	cassandra/src/test/java/org/apache/calcite/test/{CassandraAdapterIT.java => CassandraAdapterTest.java}
600	0	cassandra/src/test/resources/cassandra.yaml
32	0	cassandra/src/test/resources/logback-test.xml
1	0	cassandra/src/test/resources/model.json
663	0	cassandra/src/test/resources/twissandra.cql
13	0	pom.xml
1	1	src/main/config/checkstyle/suppressions.xml

commit 3c40d866a43f8a74f35a6b31fadf145c4d1d9f94
Author: Benoit Hanotte <b.hanotte@criteo.com>
Date:   2018-07-17 14:25:05 +0200

    [CALCITE-2417] Fix ClassCastException in RelToSqlConverter with structs (Benoit Hanotte)
    
    Trying to convert the pysical plan of a select * query on a table with a
    nested struct throws ClassCastException as RexInputRef cannot be cast to
    RexCorrelVariable.
    This is due to the cast to RexCorrelVariable not being done on the
    referenced expression of RexInputRef accessible through
    RexFieldAccess.getReferenceExpr()
    
    Close apache/calcite#761

28	5	core/src/main/java/org/apache/calcite/rel/rel2sql/SqlImplementor.java
206	0	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterStructsTest.java
20	9	core/src/test/java/org/apache/calcite/rel/rel2sql/RelToSqlConverterTest.java

commit dc69a4515198b5b0f980f6a77ca9c3d25a85c4f6
Author: Julian Hyde <jhyde@apache.org>
Date:   2018-07-20 16:11:17 -0700

    Site: Add committer Sergey Nuyanzin

5	0	site/_data/contributors.yml

commit 8a32357df0f350e44ac7ffe19eeaee5d4c21ccdc
Author: Volodymyr Vysotskyi <vvovyk@gmail.com>
Date:   2018-07-20 12:00:14 +0300

    Site: News item for release 1.17.0

40	0	site/_posts/2018-07-20-release-1.17.0.md
