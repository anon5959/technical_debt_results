commit 55e33e36995dbcaea6f370f331f0e72d63441f2e
Author: Oliver Woodman <olly@google.com>
Date:   2020-04-07 21:43:09 +0100

    Fix missing subtitle addition

1	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit c84ac809e409056cd57be93fb2ee7a2e9b88dd46
Author: olly <olly@google.com>
Date:   2020-04-07 17:37:00 +0100

    Update release notes for 2.11.4
    
    PiperOrigin-RevId: 305276107

4	43	RELEASENOTES.md

commit 8f24db73f1cd0ba39714242dc207d98d6b39bfc6
Author: bachinger <bachinger@google.com>
Date:   2020-04-07 16:46:37 +0100

    rename Playlist to MediaSourceList
    
    This CL is a renaming only. It's mostly about finding a decent naming for the internal Playlist class. The plan is to have a public Playlist class in the converged Player API, so we need to rename the internal one.
    
    PiperOrigin-RevId: 305266196

12	11	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
62	60	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
12	11	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
11	11	library/core/src/main/java/com/google/android/exoplayer2/{Playlist.java => MediaSourceList.java}
7	7	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
112	105	library/core/src/test/java/com/google/android/exoplayer2/{PlaylistTest.java => MediaSourceListTest.java}

commit 74a9d8f680995f2096c59fde6cd1ef6e85bb4d55
Author: olly <olly@google.com>
Date:   2020-04-07 16:02:54 +0100

    Clean up manifest MIME type and codec parsing
    
    PiperOrigin-RevId: 305258836

42	13	library/common/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java
26	0	library/common/src/test/java/com/google/android/exoplayer2/util/MimeTypesTest.java
8	9	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
11	48	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit f9679a2cfbf651f460cc3b26a504a45d85cced9a
Author: ibaker <ibaker@google.com>
Date:   2020-04-07 14:11:44 +0100

    Reformat releasenotes.md
    
    PiperOrigin-RevId: 305242260

2172	2116	RELEASENOTES.md

commit f696a56b56e924a16a494e8e9788ed9178f203f1
Author: olly <olly@google.com>
Date:   2020-04-07 12:45:18 +0100

    Audio focus: Restore full volume if focus is abandoned when ducked
    
    If we're in the ducked state and updateAudioFocus is called with a
    new state for which focus is no longer required, we should restore
    the player back to full volume.
    
    Issue: #7182
    PiperOrigin-RevId: 305232155

7	5	RELEASENOTES.md
50	52	library/core/src/main/java/com/google/android/exoplayer2/AudioFocusManager.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
73	3	library/core/src/test/java/com/google/android/exoplayer2/AudioFocusManagerTest.java

commit 49858b82f24ea67373024c2ac71213ee44e2552b
Author: Oliver Woodman <olly@google.com>
Date:   2020-04-07 13:38:53 +0100

    Merge pull request #7184 from TiVo:p-subtitle-format-from-codecs
    
    PiperOrigin-RevId: 305137114

2	0	RELEASENOTES.md
22	13	library/core/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java
4	0	library/core/src/test/java/com/google/android/exoplayer2/util/MimeTypesTest.java
30	10	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
25	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit cc29798d9b7dec65785c1a93a2a186352c92ff6f
Author: olly <olly@google.com>
Date:   2020-04-06 21:47:12 +0100

    Audio focus: Re-request audio focus if in a transient loss state
    
    This avoids cases where audio focus is never successfully acquired
    because another app is holding on to transient audio focus indefinitely.
    
    Issue: #7182
    PiperOrigin-RevId: 305108528

3	0	RELEASENOTES.md
2	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
14	26	library/core/src/main/java/com/google/android/exoplayer2/AudioFocusManager.java
27	7	library/core/src/test/java/com/google/android/exoplayer2/AudioFocusManagerTest.java

commit 3c0e617837d84cf7647db37afdbc0c2b9d47af65
Author: tonihei <tonihei@google.com>
Date:   2020-03-09 13:14:02 +0000

    Merge AudioFocusManager methods to simplify control flow.
    
    handlePrepare/Stop/SetPlayReady can be merged together as they all
    handle changes to the desires state of the player.
    
    Also, simplify parts of the control flow by not mixing code that
    determines if audio focus needs to be handled with code that actually
    acquires or abandons the focus.
    
    PiperOrigin-RevId: 299824857

22	67	library/core/src/main/java/com/google/android/exoplayer2/AudioFocusManager.java
7	7	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
143	177	library/core/src/test/java/com/google/android/exoplayer2/AudioFocusManagerTest.java

commit 07cbfb65e576e09805cec1b2dc0051ba6c0d0bc2
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-04-06 19:46:21 +0100

    Fix stuck ad playbacks with DRM-protected content
    
    When ClippingMediaPeriod first tried to read a buffer, if its end
    position was before the end of the stream and it was buffered to its end
    position, it would sometimes erroneously signal end-of-stream for
    protected content because the sample queue might be waiting for DRM keys
    at this point.
    
    Work around the issue temporarily by signaling this specific case back
    to ClippingMediaPeriod via the DecoderInputBuffer.
    
    There will likely be a cleaner fix as a result of adding support for
    dynamic clip end points in the future, at which point this can be
    reverted.
    
    issue:#7188
    PiperOrigin-RevId: 305081757

59	57	RELEASENOTES.md
9	0	library/core/src/main/java/com/google/android/exoplayer2/decoder/DecoderInputBuffer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaPeriod.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
2	0	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit d4d7907193385efae1f48e980b1f14c38c217283
Author: Oliver Woodman <olly@google.com>
Date:   2020-04-07 13:43:28 +0100

    Revert "Remove duplicate SCTE-35 format and add sample to TsExtractorTest"
    
    This reverts commit 8591e69b6a40162ffc801a1569549ca826606cc5.

2	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SpliceInfoSectionReader.java

commit 07f059116b27711371f50e95660aab35a65d37b6
Author: olly <olly@google.com>
Date:   2020-04-07 13:17:46 +0100

    Clean up AudioFocusManagerTest
    
    PiperOrigin-RevId: 305235961

42	90	library/core/src/test/java/com/google/android/exoplayer2/AudioFocusManagerTest.java

commit 20cadd6e0406fa079bed90b7f220022902db20be
Author: olly <olly@google.com>
Date:   2020-04-07 12:45:18 +0100

    Audio focus: Restore full volume if focus is abandoned when ducked
    
    If we're in the ducked state and updateAudioFocus is called with a
    new state for which focus is no longer required, we should restore
    the player back to full volume.
    
    Issue: #7182
    PiperOrigin-RevId: 305232155

7	5	RELEASENOTES.md
50	52	library/core/src/main/java/com/google/android/exoplayer2/AudioFocusManager.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
73	3	library/core/src/test/java/com/google/android/exoplayer2/AudioFocusManagerTest.java

commit 5a7dbae18c90d68b757f2f9296aff114e1570d75
Author: ibaker <ibaker@google.com>
Date:   2020-04-07 10:31:00 +0100

    Use Android's Color.argb() and Color.rgb() methods in ColorParser
    
    PiperOrigin-RevId: 305216138

7	10	library/core/src/main/java/com/google/android/exoplayer2/util/ColorParser.java

commit 8df6a4b30147fdbdb314470b26b9dbe1a532ce8b
Author: ibaker <ibaker@google.com>
Date:   2020-04-07 10:07:51 +0100

    Remove nullness warning suppressions from Matcher.group
    
    These were introduced in https://github.com/google/ExoPlayer/commit/c7164a30a067e5ddf5f0c706d6861652d39fd967
    
    In each case I checked that the groups are not optional,
    so if they match they must be non-null.
    
    PiperOrigin-RevId: 305213293

3	3	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
2	3	library/common/src/main/java/com/google/android/exoplayer2/util/Util.java
11	9	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
4	8	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaStyle.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/CssParser.java
7	9	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
7	17	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpan.java
9	12	library/core/src/main/java/com/google/android/exoplayer2/util/ColorParser.java
8	7	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java
4	9	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit d87fc72378399d2a61a3c9065b56a41382efb951
Author: olly <olly@google.com>
Date:   2020-04-07 00:17:10 +0100

    Add DASH text representation parsing tests
    
    PiperOrigin-RevId: 305140826

41	10	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParserTest.java
25	0	testdata/src/test/assets/mpd/sample_mpd_text

commit 2b44ff3c710c78d61ef02479e60b73d66030169e
Merge: 8d2bc7d18 fbd97ad8d
Author: Oliver Woodman <olly@google.com>
Date:   2020-04-07 13:38:53 +0100

    Merge pull request #7184 from TiVo:p-subtitle-format-from-codecs
    
    PiperOrigin-RevId: 305137114

commit 8d2bc7d18290f1cb01ce9626d6411510f0f2e3d7
Author: olly <olly@google.com>
Date:   2020-04-06 21:47:12 +0100

    Audio focus: Re-request audio focus if in a transient loss state
    
    This avoids cases where audio focus is never successfully acquired
    because another app is holding on to transient audio focus indefinitely.
    
    Issue: #7182
    PiperOrigin-RevId: 305108528

41	0	RELEASENOTES.md
2	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
14	26	library/core/src/main/java/com/google/android/exoplayer2/AudioFocusManager.java
27	7	library/core/src/test/java/com/google/android/exoplayer2/AudioFocusManagerTest.java

commit dc813eca413393322f9ca6642ca2a8304b82aed1
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-04-06 19:46:21 +0100

    Fix stuck ad playbacks with DRM-protected content
    
    When ClippingMediaPeriod first tried to read a buffer, if its end
    position was before the end of the stream and it was buffered to its end
    position, it would sometimes erroneously signal end-of-stream for
    protected content because the sample queue might be waiting for DRM keys
    at this point.
    
    Work around the issue temporarily by signaling this specific case back
    to ClippingMediaPeriod via the DecoderInputBuffer.
    
    There will likely be a cleaner fix as a result of adding support for
    dynamic clip end points in the future, at which point this can be
    reverted.
    
    issue:#7188
    PiperOrigin-RevId: 305081757

98	95	RELEASENOTES.md
9	0	library/common/src/main/java/com/google/android/exoplayer2/decoder/DecoderInputBuffer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaPeriod.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
2	0	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit 1f544b08566f9fc18a33665d99e7cef165366832
Author: olly <olly@google.com>
Date:   2020-04-06 16:47:29 +0100

    Update release notes for 2.11.4
    
    PiperOrigin-RevId: 305037428

6	3	RELEASENOTES.md

commit b6dad8450c4b9237d6608ab33aa2c4716b23054b
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2020-04-07 12:06:52 +0100

    Add design doc for masking seek state changes.

2	0	design-documents.md

commit 1f8482ab8ea0b5f1c2e5563d1d9162ce2bb7e39b
Author: kim-vde <54320150+kim-vde@users.noreply.github.com>
Date:   2020-04-07 11:20:36 +0100

    Update design-documents.md

2	0	design-documents.md

commit 8991586c3b9b17a71214dfdeeaf679c66565a591
Merge: c13f41af0 48592071a
Author: Oliver Woodman <olly@google.com>
Date:   2020-04-06 13:28:40 +0100

    Merge pull request #7034 from TiVo:p-exception-unreported-discontinuity
    
    PiperOrigin-RevId: 305006564

commit c13f41af0d8e8200042d992759e3146e801206aa
Author: kimvde <kimvde@google.com>
Date:   2020-04-06 10:40:08 +0100

    Remove deprecated members in DefaultTrackSelector
    
    PiperOrigin-RevId: 304986313

1	0	RELEASENOTES.md
0	102	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
4	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackSelector.java

commit fc785871b37f26c16a81a6bf27abbc2828124e04
Author: bachinger <bachinger@google.com>
Date:   2020-04-04 16:48:45 +0100

    add start and end position to media item
    
    PiperOrigin-RevId: 304795753

137	0	library/core/src/main/java/com/google/android/exoplayer2/MediaItem.java
21	5	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactory.java
71	0	library/core/src/test/java/com/google/android/exoplayer2/MediaItemTest.java
54	0	library/core/src/test/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactoryTest.java

commit 8583cd92c71f340436d3769f96e55e920863761f
Author: olly <olly@google.com>
Date:   2020-04-04 06:19:20 +0100

    Suppress warnings in preparation for Checker Framework 3.2.0 upgrade.
    
    In particular, replace @SuppressWarnings("initialization") with
    @SuppressWarnings("nullness"); see
    https://github.com/typetools/checker-framework/issues/3212.
    
    More information: go/checker-lsc
    
    Tested:
        TAP train for global presubmit queue
        http://test/OCL:304697666:BASE:304680497:1585968008044:f0c4fd6c
    PiperOrigin-RevId: 304751415

1	1	library/core/src/main/java/com/google/android/exoplayer2/text/SimpleSubtitleDecoder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java

commit a6358dc7bedb06187dcdc0ffba59b5c6ba0a65dc
Author: ibaker <ibaker@google.com>
Date:   2020-04-03 15:34:04 +0100

    Escape the rubyText when generating HTML
    
    This should have been done before, I just missed it.
    
    PiperOrigin-RevId: 304612519

1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverter.java
17	20	library/ui/src/test/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverterTest.java

commit bdffab1200e6d5fe4b85f3642e2df3409c3d9b12
Author: ibaker <ibaker@google.com>
Date:   2020-04-03 15:30:56 +0100

    Support multiple <rt> nodes inside <ruby> in WebVTT
    
    This is supported (despite what my now-deleted comment says), see the
    example here:
    https://developer.mozilla.org/en-US/docs/Web/HTML/Element/rt
    
    PiperOrigin-RevId: 304612099

33	21	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
23	0	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java

commit fb0330d4dbd60cafaa6e6b59a13d1f4f7d3d0c42
Author: olly <olly@google.com>
Date:   2020-04-02 17:50:33 +0100

    Propagate playback position through LoadControl shouldContinueLoading.
    
    PiperOrigin-RevId: 304420177

1	0	RELEASENOTES.md
9	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
15	1	library/core/src/main/java/com/google/android/exoplayer2/LoadControl.java

commit 6438e1cdbc4f6532f2fb2d155b33a8b2d5527dfa
Author: ibaker <ibaker@google.com>
Date:   2020-04-02 14:23:51 +0100

    Add support for tate-chu-yoko to SpannedToHtmlConverter
    
    PiperOrigin-RevId: 304386857

5	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverter.java
18	0	library/ui/src/test/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverterTest.java

commit fe013979c247d37a85cb810b20f277fc80564e5c
Author: bachinger <bachinger@google.com>
Date:   2020-04-02 10:18:22 +0100

    use an unmodifiable map with a copy of the license request headers
    
    PiperOrigin-RevId: 304356504

2	2	library/core/src/main/java/com/google/android/exoplayer2/MediaItem.java

commit 205adb7f8db24173d5e43051770d1c5614bd7e0e
Author: ibaker <ibaker@google.com>
Date:   2020-04-02 10:14:36 +0100

    Rewrite the vertical text support in SubtitleWebView
    
    The attempt in <unknown commit> was hacky and incomplete.
    
    PiperOrigin-RevId: 304356038

70	46	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleWebView.java

commit 7323b5351af4d15fc30aa6e9834344f2dceb719b
Author: ibaker <ibaker@google.com>
Date:   2020-04-02 10:11:33 +0100

    Add support for multi-line strings to SpannedToHtmlConverter
    
    PiperOrigin-RevId: 304355717

12	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverter.java
21	0	library/ui/src/test/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverterTest.java

commit f3c7c88d7c4fd4ad5edca62c75a3193477617aa0
Author: ibaker <ibaker@google.com>
Date:   2020-04-02 10:00:33 +0100

    Tweak Cue.line javadoc again to reflect WebVTT spec
    
    It's interesting WebVTT explicitly handles line & position differently
    in horizontal-rl/lr and vertical-lr/rl contexts. position is always
    measured from the left of the viewport, even for rtl text, but line in
    vertical-rl is measured from the right of the viewport.
    
    We don't have to make Cue match WebVTT (I can go change the WebVTT
    decoding instead) but it seems a reasonable 'default' to follow.
    
    PiperOrigin-RevId: 304353900

4	3	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit dc4118da7b9f9ca5967e8a28e7a6e1a4b5793584
Author: bachinger <bachinger@google.com>
Date:   2020-04-02 09:38:48 +0100

    add clearTrackTypes and playClearContentWithoutKey to DrmConfiguration
    
    With these additional properties, we can declare the behaviour for clear tracks and clear content on a media item level.
    
    PiperOrigin-RevId: 304351716

2	4	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
18	0	library/common/src/main/java/com/google/android/exoplayer2/util/Util.java
15	0	library/common/src/test/java/com/google/android/exoplayer2/util/UtilTest.java
76	6	library/core/src/main/java/com/google/android/exoplayer2/MediaItem.java
6	38	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactory.java
22	0	library/core/src/test/java/com/google/android/exoplayer2/MediaItemTest.java

commit fbd97ad8de9f5cb2d752a0deb000203da3d34ca4
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-04-05 13:23:03 -0700

    Fix merge mistake, wrong track type.
    
    Fix mistake from the backport merge, should get TEXT track type for subtitles.  Also update testcase to match pattern in `dev-v2` branch.

1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 4ad4a826ab49e94d84493b57ba49d3ed26e48416
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-04-04 16:59:33 -0700

    Cleanup to use getCodecsOfType()
    
    Use the `Util.getCodecsOfType()` method rather than hard coded codec strings

6	7	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit 232820d3e12c0486944bd3062e509ff5434dac6c
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-04-02 09:50:22 -0700

    Add HLS support for "stpp.*" codec support for SMPTE-TT fmp4 subtitle tracks
    
    ExoPlayer needs a codec to decide among WEBVTT and TTML decoder mimeType.
    Apple describes IMSC1 in MP4 in
    [RFC-8216 Section 3.6](https://tools.ietf.org/html/draft-pantos-hls-rfc8216bis-04#section-3.6).
    
    The DASH manifest specifies the SMPTE-TT captions in the codecs in the manifest
    (from W3C [TTML Profiles for Internet Media Subtitles and Captions 1.1](https://www.w3.org/TR/ttml-imsc1.1/#general-0).
    DASH just doesn't require the rendition linking, but HLS does.
    
    Apple implies the CODECS attribute of the variant needs to be do this.  That is
    with SHOULD and MAY language to imply the codec to use for it in the
    [Authoring Guidelines](https://developer.apple.com/documentation/http_live_streaming/hls_authoring_specification_for_apple_devices)
    
    This change defaults to WebVTT if no codec is specifed (same as current behavior) otherwise it picks it from the variants
    referencing the media.

2	0	library/common/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java
24	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
29	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 29118f45869d1f9e61122943c4e06c9a0a8d7cb1
Author: Oliver Woodman <olly@google.com>
Date:   2020-04-04 00:21:20 +0100

    Tweak release note

5	2	RELEASENOTES.md

commit f14c028078d8b2aa62cf8d5b3a45d398869193b5
Author: Oliver Woodman <olly@google.com>
Date:   2020-04-03 22:57:06 +0100

    Fix dump files for release

41	7	library/core/src/test/assets/ts/sample_with_id3.adts.0.dump
41	7	library/core/src/test/assets/ts/sample_with_id3.adts.unknown_length.dump

commit b8e6e98430917cd6c10b44810262bd7311aab958
Author: samrobinson <samrobinson@google.com>
Date:   2020-03-09 13:47:01 +0000

    Simplify `WakeLockManager` and `WifiLockManager` logic.
    
    Disabling reference counting allows some checks to be removed.
    
    This is a no-op.
    
    PiperOrigin-RevId: 299829600

3	4	library/core/src/main/java/com/google/android/exoplayer2/WakeLockManager.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/WifiLockManager.java

commit 83c2ca59025604d7940806a3d26bf4614a4a2041
Author: samrobinson <samrobinson@google.com>
Date:   2020-02-27 16:06:22 +0000

    Add `WifiLock` management to `SimpleExoPlayer`.
    
    Issue:#6914
    PiperOrigin-RevId: 297598910

3	1	RELEASENOTES.md
31	0	library/core/src/main/java/com/google/android/exoplayer2/C.java
59	11	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
15	13	library/core/src/main/java/com/google/android/exoplayer2/WakeLockManager.java
95	0	library/core/src/main/java/com/google/android/exoplayer2/WifiLockManager.java

commit e4e56fac094c4924d702b3e0b75cca293135bdb0
Author: samrobinson <samrobinson@google.com>
Date:   2019-12-09 15:55:05 +0000

    Clean `WakeLockManager.updateWakeLock` logic.
    
    PiperOrigin-RevId: 284552723

2	4	library/core/src/main/java/com/google/android/exoplayer2/WakeLockManager.java

commit a5420a0b65169521e8f0491b1ac28edc236d7e10
Author: olly <olly@google.com>
Date:   2020-04-01 17:03:44 +0100

    Fix release notes
    
    PiperOrigin-RevId: 304196424

3	5	RELEASENOTES.md

commit d921491e7d8c8d0772324a60938e345517251479
Author: kimvde <kimvde@google.com>
Date:   2020-04-01 16:33:27 +0100

    Remove thread checks in player constructor
    
    SimpleExoPlayer instances don't have to be created from the application
    thread.
    
    PiperOrigin-RevId: 304190901

2	2	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 38f282800c42591dfc5390491347a9a88a90fd38
Author: olly <olly@google.com>
Date:   2020-04-01 15:57:01 +0100

    Fix ADTS extraction with mid-stream ID3
    
    PiperOrigin-RevId: 304184650

3	0	RELEASENOTES.md
53	25	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsReader.java
-	-	library/core/src/test/assets/ts/sample_with_id3.adts
607	0	library/core/src/test/assets/ts/sample_with_id3.adts.0.dump
607	0	library/core/src/test/assets/ts/sample_with_id3.adts.unknown_length.dump
5	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorTest.java

commit d466b8c5d59893b13a3ddc50310d3fb3fcaac84e
Author: ibaker <ibaker@google.com>
Date:   2020-04-01 09:31:17 +0100

    Make javadoc links point to Android docs for java.* classes
    
    Before:
    https://docs.oracle.com/javase/7/docs/api/index.html?java/lang/String.html
    
    After:
    https://developer.android.com/reference/java/lang/String.html
    PiperOrigin-RevId: 304137011

1	2	javadoc_combined.gradle
1	3	javadoc_library.gradle
0	7	javadoc_util.gradle

commit a9c4d2f9cff42d8a231ea12ff3379533ff0f75d1
Author: ibaker <ibaker@google.com>
Date:   2020-04-01 09:29:56 +0100

    Ensure javadoc fix applies to Android links with anchors
    
    This means is-external=true is removed and target=_top is
    set on the <a> tag.
    
    Without this, javadoc links to framework docs with anchors are
    currently broken when viewed in the "frame view" on
    exoplayer.dev/doc/reference/
    
    Before this change:
    https://developer.android.com/reference/android/media/MediaDrm.html?is-external=true#getKeyRequest-byte:A-byte:A-java.lang.String-int-java.util.HashMap-
    
    With this change:
    https://developer.android.com/reference/android/media/MediaDrm.html#getKeyRequest-byte:A-byte:A-java.lang.String-int-java.util.HashMap-
    
    PiperOrigin-RevId: 304136858

2	2	javadoc_util.gradle

commit c75f3f77ffc9d5cf8c2973fa02d1c43071ede76e
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-31 12:35:44 +0100

    Merge pull request #7099 from matamegger:feature/fix_pssh_v1_on_firetv
    
    PiperOrigin-RevId: 303937576

7	3	RELEASENOTES.md
10	4	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit dbea614ccaa237f30be9fed1d6b051ed1c391da9
Author: olly <olly@google.com>
Date:   2020-04-01 17:03:44 +0100

    Fix release notes
    
    PiperOrigin-RevId: 304196424

3	5	RELEASENOTES.md

commit c9a89bee1cfccf29b6be000d166aff5a250d9f8c
Author: kimvde <kimvde@google.com>
Date:   2020-04-01 16:33:27 +0100

    Remove thread checks in player constructor
    
    SimpleExoPlayer instances don't have to be created from the application
    thread.
    
    PiperOrigin-RevId: 304190901

2	2	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 262f19aa631fb7fe80366a3c7d4afdc164e930c4
Author: ibaker <ibaker@google.com>
Date:   2020-04-01 16:06:47 +0100

    Add vertical text support to SubtitleWebView
    
    PiperOrigin-RevId: 304186326

27	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleWebView.java

commit eb65f5e20a106c3e7a781bcf540416be5000ecac
Author: olly <olly@google.com>
Date:   2020-04-01 15:57:01 +0100

    Fix ADTS extraction with mid-stream ID3
    
    PiperOrigin-RevId: 304184650

3	0	RELEASENOTES.md
53	25	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsReader.java
5	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorTest.java
-	-	testdata/src/test/assets/ts/sample_with_id3.adts
607	0	testdata/src/test/assets/ts/sample_with_id3.adts.0.dump
607	0	testdata/src/test/assets/ts/sample_with_id3.adts.unknown_length.dump

commit 8cb7907e71990e0597eb981db4c46a706542662a
Author: ibaker <ibaker@google.com>
Date:   2020-04-01 13:21:31 +0100

    Expand Cue.line and Cue.position javadoc to cover vertical text
    
    PiperOrigin-RevId: 304164078

23	9	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit 76358d983f363fc440175741bf791cbfe4159c32
Author: ibaker <ibaker@google.com>
Date:   2020-04-01 13:18:29 +0100

    Base64 encode the subtitle HTML before passing to WebView.loadData
    
    Without this, URL-encoding is assumed, which means ampersand-codes are
    not carried through to the underlying web page correctly.
    
    PiperOrigin-RevId: 304163733

8	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleWebView.java

commit 5392a2f4bca978013c74ca070e0041ab03e834ac
Author: ibaker <ibaker@google.com>
Date:   2020-04-01 13:18:11 +0100

    Add non-ascii characters to SpannedToHtmlConverterTest
    
    These are handled by converting to ampersand codes - add a test to show
    that's explicit & deliberate.
    
    PiperOrigin-RevId: 304163712

10	0	library/ui/src/test/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverterTest.java

commit 6570d12c3cf5fc7d36a466b8fa762345cc3b7e05
Author: olly <olly@google.com>
Date:   2020-04-01 09:54:24 +0100

    Remove re-entrancy from HlsMediaChunk initialization
    
    HlsSampleStreamWrapper currently calls HlsMediaChunk.init, which calls back
    to HlsSampleStraemWrapper.init. This re-entrancy seems a bit confusing.
    
    PiperOrigin-RevId: 304139462

3	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
14	15	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit cd5ecd5c90972211c72eb064d638b387b7bfc2bb
Author: ibaker <ibaker@google.com>
Date:   2020-04-01 09:31:17 +0100

    Make javadoc links point to Android docs for java.* classes
    
    Before:
    https://docs.oracle.com/javase/7/docs/api/index.html?java/lang/String.html
    
    After:
    https://developer.android.com/reference/java/lang/String.html
    PiperOrigin-RevId: 304137011

1	2	javadoc_combined.gradle
1	3	javadoc_library.gradle
0	7	javadoc_util.gradle

commit 45186ac37777596ed4a7eed865c8ee5c9f8189c5
Author: ibaker <ibaker@google.com>
Date:   2020-04-01 09:29:56 +0100

    Ensure javadoc fix applies to Android links with anchors
    
    This means is-external=true is removed and target=_top is
    set on the <a> tag.
    
    Without this, javadoc links to framework docs with anchors are
    currently broken when viewed in the "frame view" on
    exoplayer.dev/doc/reference/
    
    Before this change:
    https://developer.android.com/reference/android/media/MediaDrm.html?is-external=true#getKeyRequest-byte:A-byte:A-java.lang.String-int-java.util.HashMap-
    
    With this change:
    https://developer.android.com/reference/android/media/MediaDrm.html#getKeyRequest-byte:A-byte:A-java.lang.String-int-java.util.HashMap-
    
    PiperOrigin-RevId: 304136858

2	2	javadoc_util.gradle

commit 41853169a7ff44826266e6cd24c72885b5bd078d
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-04-01 00:11:10 +0100

    Remove loadTaskId to Loader.Callback
    
    Partial rollback of https://github.com/google/ExoPlayer/commit/ca799716b8dab5ddf05d7deaf219ce4c645aab9f. We'll have to plumb
    the id manually, like the rest of the LoadEventInfo
    members.
    
    PiperOrigin-RevId: 304067761

2	7	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
2	7	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
2	8	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
14	24	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java
2	8	library/core/src/main/java/com/google/android/exoplayer2/util/SntpClient.java
3	9	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
2	12	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	8	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
2	12	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
1	6	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 802d71a5cbbda8ba6da501dfee61094b99afb12e
Author: ibaker <ibaker@google.com>
Date:   2020-03-31 18:46:51 +0100

    Add cue positioning to SubtitleWebView
    
    PiperOrigin-RevId: 303998690

110	10	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleWebView.java

commit 78c103e7ea0e31400d4f7e3375b7a7fdbdd1c143
Author: krocard <krocard@google.com>
Date:   2020-03-31 15:55:40 +0100

    Remove passthrough from MediaCodecInfo
    
    Selection of a passthrough codec will rarely (if ever) need to be customized, so
    remove this capability from MediaCodecInfo.
    
    Applications can still customize whether passthrough is used by overriding
    MediaCodecAudioRenderer.usePassthrough, which now also checks for a passthrough
    codec.
    
    #exo-offload
    
    PiperOrigin-RevId: 303964682

12	14	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
7	34	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
1	26	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecSelector.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 918172cca7b1731cd90517a3a88a2994b0310b8c
Merge: 823666587 8017118ef
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-31 12:35:44 +0100

    Merge pull request #7099 from matamegger:feature/fix_pssh_v1_on_firetv
    
    PiperOrigin-RevId: 303937576

commit 823666587b1826b11900c1f21e4c7b4ea4a7fbe8
Author: ibaker <ibaker@google.com>
Date:   2020-03-31 11:42:59 +0100

    Replace CachedContentIndex usage of Random with SecureRandom
    
    This is used to generate the initialization vector for encrypting the
    cache contents.
    
    Startblock:
       <unknown commit> is submitted
       and then
       3w have passed
    PiperOrigin-RevId: 303932151

2	0	RELEASENOTES.md
3	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java

commit 3aac5b58b8ed05c9edbe192cc6307c1f1406a8bb
Author: ibaker <ibaker@google.com>
Date:   2020-03-31 11:24:53 +0100

    Fix up some duplicate javadoc on Cue
    
    This was messed up by me in https://github.com/google/ExoPlayer/commit/a035c2e20a4ce25bd86774a870b5960bcfa6f0df
    
    PiperOrigin-RevId: 303930392

2	6	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit b6ebd48506e6cda2b9390a98a253cad1f91f2680
Author: olly <olly@google.com>
Date:   2020-03-30 22:59:04 +0100

    Remaining thread name cleanup
    
    PiperOrigin-RevId: 303829900

1	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleDecoder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/PlayerMessageTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapterTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.java
1	1	testutils/src/test/java/com/google/android/exoplayer2/testutil/FakeClockTest.java

commit 48592071a3bc8f250663fe6362455ade81fff07f
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-03-30 14:40:02 -0700

    Move back to `UnexpectedDiscontinuityException` extending a `RuntimeException`
    
    This avoids massive changes to method signatures to add throws.  Also, took suggestion to make it an `IllegalStateException`.
    
    Move the catch outside of the finally that sets `nextLoadPosition` (this allows for possible recovery by reseting the `Extractor` and `TimestampAdjuster`).
    
    Lastly, took the suggestion to make a minimum value for the tolerance (especially usefull for very short i-Frame only segments).

1	1	library/core/src/main/java/com/google/android/exoplayer2/source/UnexpectedDiscontinuityException.java
3	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
10	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 1f44a4db4b4a5f8d4f797d9dff7cc16966b21711
Author: olly <olly@google.com>
Date:   2020-03-30 18:57:24 +0100

    Bump version to 2.11.4
    
    PiperOrigin-RevId: 303776645

5	5	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 151b75d831261046a1bd1a82ce1486252d1370d5
Author: olly <olly@google.com>
Date:   2020-03-30 18:57:24 +0100

    Bump version to 2.11.4
    
    PiperOrigin-RevId: 303776645

32	29	RELEASENOTES.md
2	2	constants.gradle
3	3	library/common/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 685bb77297f7526fbc9d54f1e06064c7c9847e7d
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-30 18:03:47 +0100

    Move PlaybackStatsListener to non-deprecated state events
    
    PiperOrigin-RevId: 303764399

40	21	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
6	12	library/core/src/test/java/com/google/android/exoplayer2/analytics/PlaybackStatsListenerTest.java

commit 378593f551300bf7db79b5a25ec7b713d2b732e7
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-30 17:45:45 +0100

    Add some playback tests for the IMA extension
    
    These are about 5% flaky, so for now they are excluded from
    continuous testing.
    
    PiperOrigin-RevId: 303760340

12	0	extensions/ima/build.gradle
38	0	extensions/ima/src/androidTest/AndroidManifest.xml
231	0	extensions/ima/src/androidTest/java/com/google/android/exoplayer2/ext/ima/ImaPlaybackTest.java

commit fea0acd41a111cfa96d844bf6f183717b13c0c40
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-30 16:38:15 +0100

    Fix PlaybackStatsListener behavior when not keeping history
    
    issue:#7160
    PiperOrigin-RevId: 303747338

2	0	RELEASENOTES.md
4	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
74	0	library/core/src/test/java/com/google/android/exoplayer2/analytics/PlaybackStatsListenerTest.java

commit 94ca84ff296813d6c1cdebd78a5a24ae2f578de5
Author: jaewan <jaewan@google.com>
Date:   2020-03-30 14:59:57 +0100

    Allow developers to specify CharSequence for Notification strings
    
    CharSequence is used by Notification builders and allows to set Spannable text.
    It's the base interface of the String class, so apps wouldn't be break after
    the update.
    
    PiperOrigin-RevId: 303731890

3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit f0e734d33e3ac693de9664393215739b96390747
Author: olly <olly@google.com>
Date:   2020-03-27 18:01:16 +0000

    Workaround C2 AAC decoder flush problem on Android 10
    
    Issue: #6671
    PiperOrigin-RevId: 303364788

2	0	RELEASENOTES.md
22	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 69ca534935d60d7b7e8661627633240df0858070
Author: olly <olly@google.com>
Date:   2020-03-27 17:15:49 +0000

    Parse opus gain correctly as a signed value
    
    Issue: #7046
    PiperOrigin-RevId: 303354941

2	0	RELEASENOTES.md
-	-	extensions/opus/src/androidTest/assets/bear-opus-negative-gain.mka
-	-	extensions/opus/src/androidTest/assets/{bear-opus.webm => bear-opus.mka}
8	1	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
7	3	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusDecoder.java

commit a9cbbf91c3e5104741845284a4fa9e6b5103f2c4
Author: olly <olly@google.com>
Date:   2020-03-27 16:45:09 +0000

    Skip aliases of other codecs
    
    - They are always listed with their canonical names
    - Considering aliases means that blacklisting a decoder can end up
      not actually blacklisting it, since it may still be accessible
      via an alias. It also means that our decoder fallback logic can
      end up falling back to a decoder that we've already tried!
    
    PiperOrigin-RevId: 303348297

19	8	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 0a5a3cbf463cd7cd4eb310e8048f66979426065a
Author: olly <olly@google.com>
Date:   2020-03-27 15:28:36 +0000

    Handle orientation changes in GL demo
    
    Issue: #7141
    PiperOrigin-RevId: 303334072

1	0	demos/gl/src/main/AndroidManifest.xml

commit 3fd7d214cded8fc7fdad73d41791db452f330502
Author: olly <olly@google.com>
Date:   2020-03-27 13:27:06 +0000

    Consistency fixes for FFmpeg extension instructions
    
    PiperOrigin-RevId: 303316976

7	7	extensions/ffmpeg/README.md
1	1	extensions/ffmpeg/src/main/jni/build_ffmpeg.sh

commit c9f28086db2ce93db78e62159c49248621cbd40a
Author: ibaker <ibaker@google.com>
Date:   2020-03-26 18:17:57 +0000

    Make milliseconds optional in SubRip (SRT) subtitles
    
    issue:#7122
    PiperOrigin-RevId: 303154493

3	3	RELEASENOTES.md
6	3	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
1	1	library/core/src/test/assets/subrip/{typical_no_hours => typical_no_hours_and_millis}
6	4	library/core/src/test/java/com/google/android/exoplayer2/text/subrip/SubripDecoderTest.java

commit a038346ecc6f3d8a30b0a955fb25f8092919adad
Author: olly <olly@google.com>
Date:   2020-03-25 12:50:03 +0000

    Resample float audio to 16-bit by default to enable audio processing
    
    This is less confusing than having audio processing functionality (e.g., playback
    speed adjustment) just "not work" for some pieces of media.
    
    If this change is merged, I will update #6749 to also track making DefaultAudioSink
    intelligently enable/disable float output depending on how the audio processors are
    configured.
    
    Issue: #7134
    PiperOrigin-RevId: 302871568

11	5	RELEASENOTES.md
20	25	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
44	26	library/core/src/main/java/com/google/android/exoplayer2/audio/FloatResamplingAudioProcessor.java
6	4	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit ddc98334e03ec8ee97d21ca48cab3cf094ee0de8
Author: olly <olly@google.com>
Date:   2020-03-24 15:49:34 +0000

    DefaultAudioSink: Fix issue if last processor is not active
    
    It's incorrect to use an AudioFormat returned from AudioProcessor.configure
    unless the AudioProcessor is active.
    
    Issue: #7134
    PiperOrigin-RevId: 302674132

8	9	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 54c608481b5abf2a5ff27ef3fa7b4528c4824793
Author: olly <olly@google.com>
Date:   2020-03-24 15:32:52 +0000

    Support 32-bit FP to 16-bit Int audio resampling
    
    This is a no-op for DefaultAudioSink for now, because DefaultAudioSink
    currently disables processing anyway if the input uses ENCODING_PCM_FLOAT.
    
    Issue: #7134
    PiperOrigin-RevId: 302670534

23	5	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java

commit 2094c7491b81554fa8c638cdecff2c978cfaffbb
Author: olly <olly@google.com>
Date:   2020-03-24 14:24:36 +0000

    WAV: Don't read past data end position
    
    Issue: #7129
    PiperOrigin-RevId: 302660343

2	0	RELEASENOTES.md
4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
-	-	library/core/src/test/assets/wav/sample_with_trailing_bytes.wav
2	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/wav/WavExtractorTest.java

commit 1d6bd0de15378c04c2fa624cb3d4c5c37f912ee1
Author: olly <olly@google.com>
Date:   2020-03-24 11:31:19 +0000

    MP4 edit lists: Use floor rather than ceil to find first sample
    
    If the start time of the edit falls within a sample, start from that
    sample rather than the next one. This ensures playback can start from
    the correct point if the sample is a keyframe, rather than having to
    start from the next one.
    
    Issue: #7133
    PiperOrigin-RevId: 302639115

8	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit d18292c9c9a998157ca38b8730fa22fb936ecbb8
Author: ibaker <ibaker@google.com>
Date:   2020-03-23 18:03:04 +0000

    Allow missing hours in SubRip (.srt) subtitle timecodes
    
    Add a test for this case, and extend the existing tests to ensure the
    hour is parsed when it's present.
    
    issue:#7122
    PiperOrigin-RevId: 302472213

6	3	RELEASENOTES.md
4	1	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
1	1	library/core/src/test/assets/subrip/typical
1	1	library/core/src/test/assets/subrip/typical_extra_blank_line
1	1	library/core/src/test/assets/subrip/typical_missing_sequence
3	3	library/core/src/test/assets/subrip/typical_missing_timecode
1	1	library/core/src/test/assets/subrip/typical_negative_timestamps
12	0	library/core/src/test/assets/subrip/typical_no_hours
1	1	library/core/src/test/assets/subrip/typical_with_byte_order_mark
26	5	library/core/src/test/java/com/google/android/exoplayer2/text/subrip/SubripDecoderTest.java

commit cac36be6ebf3af8bff9d8060413fb07159d8a46e
Author: krocard <krocard@google.com>
Date:   2020-03-23 11:09:19 +0000

    Conserve ByteOrder when growingDecoderInputBuffer
    
    #exo-offload
    
    PiperOrigin-RevId: 302403507

1	0	library/core/src/main/java/com/google/android/exoplayer2/decoder/DecoderInputBuffer.java

commit b67d79d77585738939cc82020d50641fbe08d88a
Author: olly <olly@google.com>
Date:   2020-03-23 02:16:49 +0000

    Request storage permission if missing
    
    PiperOrigin-RevId: 302345647

35	3	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java

commit a39715d3235f406bbb044ed87ba00b0818f0e40f
Author: olly <olly@google.com>
Date:   2020-03-20 12:17:32 +0000

    Improve logging
    
    - Make sure logging of UnknownHostException indicates the failure reason
    - Indent stack traces inside event blocks in EventLogger
    - Don't log media URLs
    
    PiperOrigin-RevId: 302007601

1	1	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
25	16	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
51	25	library/core/src/main/java/com/google/android/exoplayer2/util/Log.java

commit dd4a732303dafc9b5fb8a3bb3e6c67bd6a6b403b
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-20 12:49:00 +0000

    Merge pull request #7098 from matamegger:feature/webvtt_negative_media_timestamp
    
    PiperOrigin-RevId: 301996778

1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java

commit 4750785f5abe64a3f7c71ca88a4db24a65765c15
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-13 09:04:00 +0000

    Add option for sensor rotation in 360 playbacks
    
    Issue: #6761
    PiperOrigin-RevId: 300715682

3	0	RELEASENOTES.md
27	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
28	7	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SphericalGLSurfaceView.java
1	1	library/ui/src/main/res/values/attrs.xml

commit ce297d40b1fe7bdf04dad194ad7e8d554c653b95
Author: olly <olly@google.com>
Date:   2020-03-30 17:33:51 +0100

    Fix external build
    
    PiperOrigin-RevId: 303757995

1	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java

commit 315ba6f324b03ef651773a3bdb43386dcb1281ca
Author: bachinger <bachinger@google.com>
Date:   2020-03-30 17:10:36 +0100

    add subtitle to the media item
    
    PiperOrigin-RevId: 303753642

17	30	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
103	7	library/core/src/main/java/com/google/android/exoplayer2/MediaItem.java
27	1	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactory.java
19	0	library/core/src/test/java/com/google/android/exoplayer2/MediaItemTest.java
42	0	library/core/src/test/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactoryTest.java

commit 0782c5f2479502396118b576078c95777ad9fcfe
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-30 16:38:15 +0100

    Fix PlaybackStatsListener behavior when not keeping history
    
    issue:#7160
    PiperOrigin-RevId: 303747338

2	0	RELEASENOTES.md
4	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
74	0	library/core/src/test/java/com/google/android/exoplayer2/analytics/PlaybackStatsListenerTest.java

commit a2896c6cba7d86a5a228d5eb6bb9338c4da9e6b5
Author: jaewan <jaewan@google.com>
Date:   2020-03-30 14:59:57 +0100

    Allow developers to specify CharSequence for Notification strings
    
    CharSequence is used by Notification builders and allows to set Spannable text.
    It's the base interface of the String class, so apps wouldn't be break after
    the update.
    
    PiperOrigin-RevId: 303731890

3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 2fdbe0fc568c6a5d44da38deac831e7413af608c
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-30 13:31:07 +0100

    Fix misc typos
    
    PiperOrigin-RevId: 303719911

3	6	RELEASENOTES.md
0	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashWidevineOfflineTest.java

commit f500110ccfaaae6607ce2cf7cbf1742fa92ea6fe
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-03-30 13:11:15 +0100

    Use MediaLoadData and LoadEventInfo in LoadErrorInfo
    
    PiperOrigin-RevId: 303717642

17	14	library/core/src/main/java/com/google/android/exoplayer2/upstream/LoadErrorHandlingPolicy.java

commit c7164a30a067e5ddf5f0c706d6861652d39fd967
Author: ibaker <ibaker@google.com>
Date:   2020-03-30 12:00:35 +0100

    Suppress go/nullness warnings caused by Matcher#group(String) and Matcher#group(int)
    
    This is required to align google3's stub (currently marked non-null) with Checker Framework's.
    
    More information: go/matcher-nullness-lsc
    
    Tested:
        TAP train for global presubmit queue
        http://test/OCL:303344687:BASE:303326748:1585344475427:29edc250
    PiperOrigin-RevId: 303709053

2	0	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
7	2	library/common/src/main/java/com/google/android/exoplayer2/util/Util.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
8	1	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaStyle.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/CssParser.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
10	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpan.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/util/ColorParser.java
4	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java
6	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit fd03949f85f2b53ce8d34befb2ac804a712a3e21
Author: gyumin <gyumin@google.com>
Date:   2020-03-30 03:26:46 +0100

    Add DeviceComponent to Player interface
    
    PiperOrigin-RevId: 303655497

7	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
48	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
79	0	library/core/src/main/java/com/google/android/exoplayer2/device/DeviceInfo.java
28	0	library/core/src/main/java/com/google/android/exoplayer2/device/DeviceListener.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/device/package-info.java
5	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit ca799716b8dab5ddf05d7deaf219ce4c645aab9f
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-03-28 01:47:18 +0000

    Add loadTaskId to Loader.Callback
    
    PiperOrigin-RevId: 303447837

9	0	library/core/src/main/java/com/google/android/exoplayer2/source/LoadEventInfo.java
9	4	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
8	3	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
8	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
24	14	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java
8	2	library/core/src/main/java/com/google/android/exoplayer2/util/SntpClient.java
9	3	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
23	7	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
8	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
12	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
11	3	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit b2849fde3d6cab091fcf10608ef93a26870fc45e
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-11 16:27:36 +0000

    Merge pull request #7057 from Chimerapps:dash_assetidentifier
    
    PiperOrigin-RevId: 300313753

4	2	RELEASENOTES.md
14	6	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
21	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/Period.java

commit dca68b2198066da57633947c05e1ad7915cba3fa
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-11 16:27:47 +0000

    Merge pull request #7064 from davibe:enhancement/6907
    
    PiperOrigin-RevId: 300330109

2	0	RELEASENOTES.md
12	9	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit 40d5db04607e8a91449608a08c8c25fa6ee3eedb
Author: krocard <krocard@google.com>
Date:   2020-03-09 16:43:38 +0000

    Add support for x86_64 for the ffmpeg extension
    
    Requested by https://github.com/google/ExoPlayer/issues/7058.
    Additionally move one of the common option in COMMON_OPTIONS.
    
    PiperOrigin-RevId: 299862479

1	0	RELEASENOTES.md
13	3	extensions/ffmpeg/src/main/jni/build_ffmpeg.sh

commit 4e6383aeae900fb7504035610020b38dfe3c33ab
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-10 10:20:37 +0000

    Merge pull request #7051 from Cizor:dev-v2
    
    PiperOrigin-RevId: 299357049

1	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit e2a6775ea44935c8fe78fc49f6698989e29c5454
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-10 10:17:13 +0000

    Merge pull request #6999 from xufuji456:dev-v2
    
    PiperOrigin-RevId: 298544278

1	1	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.java
1	6	extensions/ffmpeg/src/main/jni/Android.mk
1	1	extensions/ffmpeg/src/main/jni/build_ffmpeg.sh
14	15	extensions/ffmpeg/src/main/jni/ffmpeg_jni.cc

commit c3f9f0e5fec9735d36dcc83afc8faf03325121d7
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-25 21:24:27 +0000

    Merge pull request #7010 from dbrain:fix_nullability
    
    PiperOrigin-RevId: 297187116

13	13	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
8	4	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 265670cf93fa9d688df4db55a296214ad9630501
Author: vigneshv <vigneshv@google.com>
Date:   2020-02-20 20:52:37 +0000

    Add ReleaseInputBuffer callback
    
    The release_input_buffer callback will be called when the library
    is done consuming an "input buffer". The buffer passed into
    EnqueueFrame must be kept valid until this callback is called. If
    frame parallel is false, then this callback can be nullptr (in
    this case the buffer has to be kept valid until the next call to
    DequeueFrame). If frame parallel is true, this callback cannot be
    nullptr.
    
    PiperOrigin-RevId: 296276083

2	1	extensions/av1/src/main/jni/gav1_jni.cc

commit 8591e69b6a40162ffc801a1569549ca826606cc5
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-30 13:46:24 +0100

    Remove duplicate SCTE-35 format and add sample to TsExtractorTest
    
    It's not clear why we're currently outputting the format in both init()
    and consume() - it seems likely that this was accidentally introduced
    in <unknown commit>
    when we started outputting the format in consume() but didn't remove it
    from init().

0	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SpliceInfoSectionReader.java

commit 908a76e8515073c721eeffb1205b5799af9f2efa
Author: olly <olly@google.com>
Date:   2020-02-19 16:09:10 +0000

    Change libgav1's frame buffer callback API.
    
    1. Have frame buffer callbacks return Libgav1StatusCode instead of int.
    The 0 (success), -1 (failure) return value convention is less obvious.
    Note: The callers of frame buffer callbacks,
    BufferPool::OnFrameBufferSizeChanged() and YuvBuffer::Realloc(),
    currently return bool, so more work is needed to propagate the frame
    buffer callbacks' Libgav1StatusCode return value to the Decoder API.
    
    2. Allow the FrameBufferSizeChangedCallback to be omitted if the frame
    buffer size information is not useful to the application.
    
    3. Remove the old (version 1) frame buffer callback API. Remove the
    frame buffer callback adaptor.
    
    frame_buffer2.h is renamed frame_buffer.h.
    Libgav1FrameBuffer2 is renamed Libgav1FrameBuffer.
    GetFrameBufferCallback2 and ReleaseFrameBufferCallback2 are renamed
    GetFrameBufferCallback and ReleaseFrameBufferCallback.
    
    PiperOrigin-RevId: 295971183

11	27	extensions/av1/src/main/jni/gav1_jni.cc

commit 75bd4ebc1800e5960e8badfc0e7e18d1e97821a3
Author: olly <olly@google.com>
Date:   2020-02-17 11:22:38 +0000

    Use &id_ as buffer_private_data for libgav1.
    
    This avoids the issue of whether it is defined behaviour to cast an
    arbitrary int (or even intptr_t) value to a void* pointer. This is the
    original approach used before commit 0915998add5918214fa0282a69b50a159168a6d5.
    
    PiperOrigin-RevId: 295552115

17	17	extensions/av1/src/main/jni/gav1_jni.cc

commit 766b383d274ebbf9ebe387b0abe8df9dc323f8eb
Author: olly <olly@google.com>
Date:   2020-02-17 11:00:56 +0000

    Use libgav1 frame buffer callback helper functions
    
    Libgav1 recently added the ComputeFrameBufferInfo() and SetFrameBuffer()
    helper functions for writing frame buffer callbacks. Using them
    simplifies the Libgav1GetFrameBuffer() function.
    
    Also resurrect the AlignTo16() function.
    
    PiperOrigin-RevId: 295548330

18	93	extensions/av1/src/main/jni/gav1_jni.cc

commit b73f6b6ef06bd2c2af6e490bf3a47cf2cebab864
Author: olly <olly@google.com>
Date:   2020-02-14 21:16:57 +0000

    gav1_jni: fix pointer->int conversion warnings
    
    fixes:
    gav1_jni.cc:446:25: error: cast from pointer to smaller type 'int' loses information
      const int buffer_id = reinterpret_cast<int>(buffer_private_data);
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    gav1_jni.cc:730:9: error: cast from pointer to smaller type 'int' loses information
            reinterpret_cast<int>(decoder_buffer->buffer_private_data);
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    after https://github.com/google/ExoPlayer/commit/0915998add5918214fa0282a69b50a159168a6d5
    
    PiperOrigin-RevId: 295211245

13	7	extensions/av1/src/main/jni/gav1_jni.cc

commit 0acc95cfbbb9c164c7321d7be98d425430245907
Author: olly <olly@google.com>
Date:   2020-02-07 15:51:27 +0000

    Cast void* to JniContext* using static_cast.
    
    static_cast is more appropriate than reinrerpret_cast for casting from
    void* to JniContext*. See Section 7.2.1 (page 173) in The C++
    Programming Language, 4th Edition and
    https://stackoverflow.com/questions/310451/should-i-use-static-cast-or-reinterpret-cast-when-casting-a-void-to-whatever
    
    PiperOrigin-RevId: 293812940

2	4	extensions/av1/src/main/jni/gav1_jni.cc

commit 11635191a63e5ba1e1c0bf5b046faeb1b6cfb9a6
Author: olly <olly@google.com>
Date:   2020-02-07 00:57:15 +0000

    Switch to new libgav1 frame buffer callback API.
    
    The new code in Libgav1GetFrameBuffer is copied from
    libgav1/src/frame_buffer_callback_adaptor.cc. It may become libgav1
    utility functions available to libgav1 clients in the future.
    
    The Libgav1FrameBuffer struct in the old frame buffer callback API is
    defined as follows:
    
      typedef struct Libgav1FrameBuffer {
        uint8_t* data[3];
        size_t size[3];
        void* private_data;
      } Libgav1FrameBuffer;
    
    Copy these three fields to the JniFrameBuffer class as private data
    members and add the RawBuffer() and Id() getter methods.
    
    The existing AlignTo16 function is replaced by the copied Align template
    function.
    
    PiperOrigin-RevId: 293709205

146	36	extensions/av1/src/main/jni/gav1_jni.cc

commit 1818921a20b673f1d45f70659e8f27d4b0dc885b
Author: ibaker <ibaker@google.com>
Date:   2020-02-19 11:09:53 +0000

    Catch-and-log all subtitle decode errors
    
    issue:#6885
    PiperOrigin-RevId: 295931197

6	0	RELEASENOTES.md
5	2	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleDecoder.java
29	11	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java

commit ed1eade980677008eb8710b338bb1549a37df137
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-18 17:00:38 +0000

    Update stale comment in TrimmingAudioProcessor
    
    The part about leaving the pending trim start byte count unmodified
    if the processor was just configured is not correct.
    
    PiperOrigin-RevId: 295745371

6	5	library/core/src/main/java/com/google/android/exoplayer2/audio/TrimmingAudioProcessor.java

commit 23e4236227bc3b85a8422ef43f2158152452097a
Author: olly <olly@google.com>
Date:   2020-02-18 10:29:19 +0000

    Add missing IntDef to switch
    
    PiperOrigin-RevId: 295692163

1	0	library/core/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java

commit 1c11febf3fa92ff6df7196510b19c7f6d717f062
Author: olly <olly@google.com>
Date:   2020-03-27 18:01:16 +0000

    Workaround C2 AAC decoder flush problem on Android 10
    
    Issue: #6671
    PiperOrigin-RevId: 303364788

2	0	RELEASENOTES.md
24	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit db61af23b91e7b266aa2a0d71f20d83af0912d0c
Author: olly <olly@google.com>
Date:   2020-03-27 17:15:49 +0000

    Parse opus gain correctly as a signed value
    
    Issue: #7046
    PiperOrigin-RevId: 303354941

2	0	RELEASENOTES.md
8	1	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
7	3	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusDecoder.java
-	-	testdata/src/test/assets/mka/bear-opus-negative-gain.mka
-	-	testdata/src/test/assets/{ogg/bear-opus.webm => mka/bear-opus.mka}

commit 46a40c60268857283756c8ac794ebc85a389337e
Author: olly <olly@google.com>
Date:   2020-03-27 16:45:09 +0000

    Skip aliases of other codecs
    
    - They are always listed with their canonical names
    - Considering aliases means that blacklisting a decoder can end up
      not actually blacklisting it, since it may still be accessible
      via an alias. It also means that our decoder fallback logic can
      end up falling back to a decoder that we've already tried!
    
    PiperOrigin-RevId: 303348297

18	8	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit e90fdf36fb13a64b8407ac73519e8081f7153d7a
Author: olly <olly@google.com>
Date:   2020-03-27 15:28:36 +0000

    Handle orientation changes in GL demo
    
    Issue: #7141
    PiperOrigin-RevId: 303334072

1	0	demos/gl/src/main/AndroidManifest.xml

commit 750396c90f9048c7a830b302a53569d8d7a068ad
Merge: 2209947ac d24f37cdd
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-27 23:32:48 +0000

    Merge pull request #7153 from friederbluemle:fix-gradle-ext
    
    PiperOrigin-RevId: 303319078

commit 2209947acb915200c725da30b228e9ab63054af1
Author: olly <olly@google.com>
Date:   2020-03-27 13:31:06 +0000

    Add decoder instantiation tracing
    
    This is just for consistency with our other renderers
    
    PiperOrigin-RevId: 303317443

3	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
3	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegVideoRenderer.java
3	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
3	0	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java

commit 25e0d3076086167e1d789dfc4b482a335320e72b
Author: olly <olly@google.com>
Date:   2020-03-27 13:27:06 +0000

    Consistency fixes for FFmpeg extension instructions
    
    PiperOrigin-RevId: 303316976

7	7	extensions/ffmpeg/README.md
1	1	extensions/ffmpeg/src/main/jni/build_ffmpeg.sh

commit c4a93b6420a7348e22d94e6546b3a101b80e9d72
Author: tonihei <tonihei@google.com>
Date:   2020-03-27 10:47:52 +0000

    Simplify/avoid usages of onSeekProcessed in ExoPlayer code.
    
    This callback will be deprecated, so moving all usages to better callbacks.
    Some usages are still remaining that are less straight-forward to update.
    
    PiperOrigin-RevId: 303298834

6	6	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
0	5	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java

commit 9be4c08459a5cdd80f02e5d2041e56450cf64806
Author: olly <olly@google.com>
Date:   2020-03-27 10:47:33 +0000

    FFmpeg extension cleanup
    
    PiperOrigin-RevId: 303298804

13	13	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioDecoder.java
20	18	extensions/ffmpeg/src/main/jni/ffmpeg_jni.cc

commit af05ceac6116323e5827ae882f0df0c0b5676fec
Author: tonihei <tonihei@google.com>
Date:   2020-03-27 10:28:01 +0000

    Call onSeekProcessed immediately after seek command.
    
    OnSeekProcessed is documented to be called as soon as all neccessary state changes
    as a result of the seek have been made. As we now mask the state changes directly
    when calling seekTo, we can also call this callback immediately without changing
    the semantics of the method.
    
    Our tests often use this callback as a way to wait for the internal player
    to receive all pending commands and then report back. This is a special test
    requirement for cases where we want to make sure no further updates happen as
    a result of the player handling commands. To facilitate that, a new action is
    added with a more descriptive name that achieves the same goal.
    
    PiperOrigin-RevId: 303296210

2	6	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
63	118	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	2	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
12	12	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
7	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java

commit 09be441e3dd3105ffca46e3bae7514b28d1381cd
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-27 09:14:43 +0000

    Add canned VAST/VMAP ad responses for testing
    
    PiperOrigin-RevId: 303286872

95	0	testdata/src/test/assets/ad-responses/midroll.xml
26	0	testdata/src/test/assets/ad-responses/preroll.xml
-	-	testdata/src/test/assets/mp4/midroll-5s.mp4
-	-	testdata/src/test/assets/mp4/postroll-5s.mp4
-	-	testdata/src/test/assets/mp4/preroll-5s.mp4

commit 4454520e93b26b17cfdb492033b25650fd3f8f55
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-27 08:41:58 +0000

    Add overlay FrameLayout to hosted tests
    
    PiperOrigin-RevId: 303283147

5	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
9	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
10	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/HostActivity.java
4	0	testutils/src/main/res/layout/exo_testutils_host_activity.xml

commit 25d9f76a07b07569ddaf7d93b020f914a800b8d0
Author: bachinger <bachinger@google.com>
Date:   2020-03-26 23:28:21 +0000

    deprecate createMediaSource with uri argument
    
    PiperOrigin-RevId: 303217607

3	6	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
3	7	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceFactory.java
3	6	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
3	6	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
3	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
3	6	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 777d99da8aa589230cc43e4aaa64ca271a10155c
Author: bachinger <bachinger@google.com>
Date:   2020-03-26 19:28:30 +0000

    simplify PlayerManager
    
    PiperOrigin-RevId: 303170259

16	46	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java

commit 2842eb3eb4202c66d57cce9f5c0583c9536f79fd
Author: ibaker <ibaker@google.com>
Date:   2020-03-26 18:17:57 +0000

    Make milliseconds optional in SubRip (SRT) subtitles
    
    issue:#7122
    PiperOrigin-RevId: 303154493

1	1	RELEASENOTES.md
6	3	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
6	4	library/core/src/test/java/com/google/android/exoplayer2/text/subrip/SubripDecoderTest.java
1	1	testdata/src/test/assets/subrip/{typical_no_hours => typical_no_hours_and_millis}

commit 47d5dd911cbc67b1663ae67f6572c3126d3436ae
Author: ibaker <ibaker@google.com>
Date:   2020-03-26 13:58:04 +0000

    Document ExoMediaDrm listener methods as optional
    
    Also document FrameworkMediaDrm overrides as dependent on API level.
    
    These two methods call through to equivalent methods on MediaDrm that
    were added in 23:
    https://developer.android.com/reference/android/media/MediaDrm#setOnExpirationUpdateListener(java.util.concurrent.Executor,%20android.media.MediaDrm.OnExpirationUpdateListener)
    
    PiperOrigin-RevId: 303102370

30	3	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
14	0	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit b314da5f02960f55390a462f67bfe01efee06dba
Author: olly <olly@google.com>
Date:   2020-03-26 09:16:14 +0000

    Rename FfmpegDecoder to FfmpegAudioDecoder
    
    It looks like the video path will use a separate FfmpegVideoDecoder
    
    Issue: #2159
    PiperOrigin-RevId: 303068617

4	6	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/{FfmpegDecoder.java => FfmpegAudioDecoder.java}
3	3	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
26	25	extensions/ffmpeg/src/main/jni/ffmpeg_jni.cc

commit dd54259d47a395a125adbe6f545f130b6f93d5d8
Author: olly <olly@google.com>
Date:   2020-03-25 19:31:08 +0000

    [ExoV2 + Ambisonic] Adds ambisonic audio support to ExoV2.
    
    Defines a new no_native_gvr build rule in ExoPlayerV2 that doesn't depend on the shared object in the VR sdk.
    
    PiperOrigin-RevId: 302945930

1	1	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.java

commit d0fc83ed8a83749f4931555a9a90281d682d45cd
Author: bachinger <bachinger@google.com>
Date:   2020-03-25 18:54:22 +0000

    Playlist API: move media item based API to Player
    
    This moves the playlist API methods to the Player interface. Implementation is moved from ExoPlayerImpl to BasePlayer where possible.
    
    Further the CastPlayer is changed to implement the Player interface. Proper migration of the Playermanager to not use the ConcatenatingMediaSource anymore follows in a separate, future CL.
    
    PiperOrigin-RevId: 302937779

3	0	RELEASENOTES.md
14	24	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
169	70	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
296	0	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastPlayerTest.java
50	0	library/core/src/main/java/com/google/android/exoplayer2/BasePlayer.java
0	128	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
0	46	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
129	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java

commit 4ff04696c4eda06e294da18e1c0db76b94b811ba
Author: ibaker <ibaker@google.com>
Date:   2020-03-25 17:15:32 +0000

    Remove unneeded unchecked warning suppressions
    
    Most of these are no longer needed since https://github.com/google/ExoPlayer/commit/aa9eb5abc9b2b121db52d436215f40805928599c
    
    Cleanup change automatically generated by error-prone refactoring
    //java/com/google/devtools/staticanalysis/errorprone:UnnecessaryJavacSuppressWarnings_refactoring on targets third_party/java_src/android_libs/exoplayer/v2/... java/com/google/android/libraries/exoplayer/v2/...
    
    PiperOrigin-RevId: 302916092

0	1	library/core/src/main/java/com/google/android/exoplayer2/audio/DecoderAudioRenderer.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/video/DecoderVideoRenderer.java
0	3	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit 92494ce44b731048b3ffc0df9e20a0eec0d02637
Author: ibaker <ibaker@google.com>
Date:   2020-03-25 16:38:43 +0000

    Document that overlapping spans aren't rendered to HTML correctly
    
    Add some mitigation about why this is probably on OK limitation.
    
    PiperOrigin-RevId: 302907940

11	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverter.java
19	0	library/ui/src/test/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverterTest.java

commit d24f37cdd7f13fa84ad8d22559dd036d2fffb8c0
Author: Frieder Bluemle <frieder.bluemle@gmail.com>
Date:   2020-03-27 00:53:01 -0700

    Check if exoplayerModulePrefix is set

6	2	library/core/build.gradle

commit 2555fb36b41eeca511676982a6da5a34c425c61a
Author: olly <olly@google.com>
Date:   2020-03-25 12:50:03 +0000

    Resample float audio to 16-bit by default to enable audio processing
    
    This is less confusing than having audio processing functionality (e.g., playback
    speed adjustment) just "not work" for some pieces of media.
    
    If this change is merged, I will update #6749 to also track making DefaultAudioSink
    intelligently enable/disable float output depending on how the audio processors are
    configured.
    
    Issue: #7134
    PiperOrigin-RevId: 302871568

6	0	RELEASENOTES.md
6	4	library/common/src/main/java/com/google/android/exoplayer2/util/Util.java
20	25	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
44	26	library/core/src/main/java/com/google/android/exoplayer2/audio/FloatResamplingAudioProcessor.java

commit f794a798520ef8cb0029666ee310af12e335b757
Author: bachinger <bachinger@google.com>
Date:   2020-03-25 10:41:29 +0000

    add release notes item for playbackSpeed and skipSilenceEnabled
    
    PiperOrigin-RevId: 302856370

4	0	RELEASENOTES.md

commit 46a10ec01a0a38ed0335e9fab08064a01e3ea376
Author: tonihei <tonihei@google.com>
Date:   2020-03-25 09:13:04 +0000

    Fix some EventListener logic in ExoPlayerImpl
    
    We currently have multiple places in ExoPlayerImpl that assign PlaybackInfo
    instances and then inform listeners of all current changes. This is not ideal
    because it causes multiple issues:
     1. Some changes may easily be forgotten, e.g. there are clearly some checks
        missing to see if isPlaying changed (e.g. in seekTo or setMediaSources)
     2. Some callbacks didn't check if the value actually changed before sending
        the callback (e.g. for the timeline change in setMediaSources - if the
        timeline is still the same, we shouldn't send a onTimelineChanged event).
     3. Having multiple callbacks in a single Runnable changes the order of
        listener invocations slightly: Currently all events for one listener will
        be send first before moving to the next listener. It should however send
        a single event to all listeners first before moving to the next event.
    
    All these issues can be solved by always using updatePlaybackInfo and never
    assigning playbackInfo directly in another place.
    
    Some tests needed to be updated as well because of issues (2) and (3). Also
    added a new test to cover issue (1).
    
    PiperOrigin-RevId: 302844981

75	89	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
105	25	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit c3cbccbbf8f1e81a282c966627e6050bbcffa79c
Author: olly <olly@google.com>
Date:   2020-03-24 21:37:24 +0000

    Update Activity and fragment libraries from aosp-androidx-master-dev with build id #6325864(2020-03-23) to google3
    
    LSC doc: go/android-sdk-lsc , go/androidx-lsc
    
    Global presubmit: https://tap.corp.google.com/ui#id=OCL:300623192:BASE:302596264:1585028366422:76f628fd
    
    PiperOrigin-RevId: 302749181

4	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
9	6	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java

commit 7addc23ed44f59092e3f0ca595c6462900ecccba
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-24 16:42:02 +0000

    Remove unused field in ImaAdsLoader
    
    PiperOrigin-RevId: 302684221

0	2	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit 3a6a0375200f15336be8e4d1d963d15e9aab5cb2
Author: olly <olly@google.com>
Date:   2020-03-24 15:49:34 +0000

    DefaultAudioSink: Fix issue if last processor is not active
    
    It's incorrect to use an AudioFormat returned from AudioProcessor.configure
    unless the AudioProcessor is active.
    
    Issue: #7134
    PiperOrigin-RevId: 302674132

8	9	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 9ed471651efff7fe7c0b59b45057d95e37fe0689
Author: olly <olly@google.com>
Date:   2020-03-24 15:32:52 +0000

    Support 32-bit FP to 16-bit Int audio resampling
    
    This is a no-op for DefaultAudioSink for now, because DefaultAudioSink
    currently disables processing anyway if the input uses ENCODING_PCM_FLOAT.
    
    Issue: #7134
    PiperOrigin-RevId: 302670534

23	5	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java

commit 05fb211121812b5bdf27bcaec0dbc95ed46ebaf7
Author: olly <olly@google.com>
Date:   2020-03-24 14:24:36 +0000

    WAV: Don't read past data end position
    
    Issue: #7129
    PiperOrigin-RevId: 302660343

2	0	RELEASENOTES.md
4	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
11	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/wav/WavExtractorTest.java
-	-	testdata/src/test/assets/wav/sample_with_trailing_bytes.wav

commit 134df9fb713b25faba2ed45f91eb59d5772ab464
Author: olly <olly@google.com>
Date:   2020-03-24 14:15:43 +0000

    Add common prefix to thread names
    
    PiperOrigin-RevId: 302659142

1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecBufferEnqueuer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapter.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/DummySurface.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoFrameReleaseTimeHelper.java

commit d47ceae165838eb8bf85b7ef173426fb83461c40
Author: tonihei <tonihei@google.com>
Date:   2020-03-24 12:35:53 +0000

    Add some missing TAG values to ExoPlayerTest
    
    PiperOrigin-RevId: 302646400

21	42	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit aa987fdb7933f6784da814dc1f915a403a921e2c
Author: tonihei <tonihei@google.com>
Date:   2020-03-24 12:29:55 +0000

    Add state masking for seeking.
    
    The playback state will be immediately set to the most likely final state.
    
    PiperOrigin-RevId: 302645852

16	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit 4e5b2c692f44d354dfc5e6c0e078d6f9a1ebaa47
Author: olly <olly@google.com>
Date:   2020-03-24 11:50:31 +0000

    Exclude transitive dependency on core for androidTest
    
    androidTest of core already has the dependency on its main. Without this
    exclude, gradle complains about type duplication when merging dex saying
    "Type X is defined multiple times".
    
    PiperOrigin-RevId: 302641585

3	1	library/core/build.gradle

commit eebe990d2059a04c645cf1c0fd254764ddb4c0bc
Author: olly <olly@google.com>
Date:   2020-03-24 11:31:19 +0000

    MP4 edit lists: Use floor rather than ceil to find first sample
    
    If the start time of the edit falls within a sample, start from that
    sample rather than the next one. This ensures playback can start from
    the correct point if the sample is a keyframe, rather than having to
    start from the next one.
    
    Issue: #7133
    PiperOrigin-RevId: 302639115

8	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit c2e9c8e89a360aed92dbc754b18e6886568f0e08
Author: olly <olly@google.com>
Date:   2020-03-24 08:47:51 +0000

    Add jacoco.exec to .hgignore
    
    PiperOrigin-RevId: 302619179

1	0	.hgignore

commit 2cbf98bb68222cb0bd9404d4ab1e22e00bfed016
Author: ibaker <ibaker@google.com>
Date:   2020-03-23 18:14:44 +0000

    Suppress 'unused' warning on largeBuffer local in ExoPlayerTest
    
    PiperOrigin-RevId: 302474924

1	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 0c20462b4808122b3d9148464494c2b02131c5ff
Author: ibaker <ibaker@google.com>
Date:   2020-03-23 18:03:04 +0000

    Allow missing hours in SubRip (.srt) subtitle timecodes
    
    Add a test for this case, and extend the existing tests to ensure the
    hour is parsed when it's present.
    
    issue:#7122
    PiperOrigin-RevId: 302472213

2	0	RELEASENOTES.md
4	1	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
26	5	library/core/src/test/java/com/google/android/exoplayer2/text/subrip/SubripDecoderTest.java
1	1	testdata/src/test/assets/subrip/typical
1	1	testdata/src/test/assets/subrip/typical_extra_blank_line
1	1	testdata/src/test/assets/subrip/typical_missing_sequence
3	3	testdata/src/test/assets/subrip/typical_missing_timecode
1	1	testdata/src/test/assets/subrip/typical_negative_timestamps
12	0	testdata/src/test/assets/subrip/typical_no_hours
1	1	testdata/src/test/assets/subrip/typical_with_byte_order_mark

commit 92c4088ac51d4ca3b6c2011523b258630086d537
Author: olly <olly@google.com>
Date:   2020-03-23 16:06:42 +0000

    Remove dependency to self for testutils
    
    PiperOrigin-RevId: 302446077

0	1	testutils/build.gradle

commit dc33c0bdfb0fd4208b2932108edd1ae31a5de0ee
Author: olly <olly@google.com>
Date:   2020-03-23 13:35:31 +0000

    Improve logging II
    
    - Show renderers with no tracks in EventLogger track logging
    - Log renderer names in EventLogger track logging
    - Add useful message to ExoPlaybackException instances (including
      renderer name for renderer errors)
    
    PiperOrigin-RevId: 302421616

6	0	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
7	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
7	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegVideoRenderer.java
6	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
6	0	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
7	0	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
75	15	library/core/src/main/java/com/google/android/exoplayer2/ExoPlaybackException.java
5	19	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
8	0	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/RendererCapabilities.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
18	0	library/core/src/main/java/com/google/android/exoplayer2/trackselection/MappingTrackSelector.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java
5	0	library/core/src/test/java/com/google/android/exoplayer2/audio/DecoderAudioRendererTest.java
11	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
6	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/MappingTrackSelectorTest.java
5	0	library/core/src/test/java/com/google/android/exoplayer2/video/DecoderVideoRendererTest.java
6	0	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DebugRenderersFactory.java
7	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeRenderer.java

commit adae53c787cad14ed538b2324b00f325ea2b648c
Author: ibaker <ibaker@google.com>
Date:   2020-03-23 12:13:28 +0000

    Use MediaSourceEventDispatcher in DefaultDrmSession(Manager)
    
    Remove add/removeEventListener methods & associated listener plumbing.
    
    Part of issue:#6765
    
    PiperOrigin-RevId: 302411347

30	11	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
5	24	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java

commit 1fa9dbc31ee75a305e470ca65e5d01deeb78f4ee
Author: krocard <krocard@google.com>
Date:   2020-03-23 11:09:19 +0000

    Conserve ByteOrder when growingDecoderInputBuffer
    
    #exo-offload
    
    PiperOrigin-RevId: 302403507

1	0	library/common/src/main/java/com/google/android/exoplayer2/decoder/DecoderInputBuffer.java

commit d38c6c84a6f66d79e84622c0ab7fe488fe95929f
Author: tonihei <tonihei@google.com>
Date:   2020-03-23 08:46:48 +0000

    Fix bug in MaskingMediaSource caused by removed periods.
    
    If MaskingMediaSource masks a multi-window media source, it may be that a period
    is removed while we are using an initial unprepared masking MediaPeriod. That
    means it's not guaranteed that a timeline update still contains our
    unpreparedMaskingMediaPeriod and we should ignore timeline updates where the
    period is no longer present because the it will be removed anyway.
    
    PiperOrigin-RevId: 302383787

9	1	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
34	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit af00d91f7958eede2d7498f20c61a9d515dd1e28
Author: olly <olly@google.com>
Date:   2020-03-23 02:16:49 +0000

    Request storage permission if missing
    
    PiperOrigin-RevId: 302345647

34	3	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java

commit 6927192a9d0043d05c29db91ded0a82f0c33b001
Author: tonihei <tonihei@google.com>
Date:   2020-03-20 16:48:24 +0000

    Add missing indirect build dependency.
    
    Gradle produces build warnings without this dependency.
    
    PiperOrigin-RevId: 302045675

1	0	library/core/build.gradle

commit 429bdfb974c67279137543b78aa333c483460c70
Author: olly <olly@google.com>
Date:   2020-03-20 12:17:32 +0000

    Improve logging
    
    - Make sure logging of UnknownHostException indicates the failure reason
    - Indent stack traces inside event blocks in EventLogger
    - Don't log media URLs
    
    PiperOrigin-RevId: 302007601

1	1	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
51	25	library/common/src/main/java/com/google/android/exoplayer2/util/Log.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
25	16	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java

commit c0d632936aedb43325dcfd1840aaf1943e08dfaf
Author: ibaker <ibaker@google.com>
Date:   2020-03-20 12:16:22 +0000

    Add @Nullable to ExoMediaDrm's setListener methods
    
    These methods document themselves only by referencing the Android's
    MediaDrm, which explicitly accepts null [1]. The implementation in
    FrameworkMediaDrm also handles nulls.
    
    [1] https://developer.android.com/reference/android/media/MediaDrm#setOnEventListener(android.media.MediaDrm.OnEventListener)
    
    PiperOrigin-RevId: 302007441

3	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DummyExoMediaDrm.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit c251eac54581461cccc2d7f0877e4d29420758aa
Merge: aa9eb5abc 2f2fc8ca0
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-20 12:49:00 +0000

    Merge pull request #7098 from matamegger:feature/webvtt_negative_media_timestamp
    
    PiperOrigin-RevId: 301996778

commit aa9eb5abc9b2b121db52d436215f40805928599c
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-03-19 13:09:15 +0000

    Remove generics from DRM components
    
    PiperOrigin-RevId: 301798563

1	0	RELEASENOTES.md
1	2	demos/gl/src/main/java/com/google/android/exoplayer2/gldemo/MainActivity.java
1	2	demos/surface/src/main/java/com/google/android/exoplayer2/surfacedemo/MainActivity.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/FormatHolder.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/audio/DecoderAudioRenderer.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
13	13	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
34	40	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
7	9	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java
10	12	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
8	9	library/core/src/main/java/com/google/android/exoplayer2/drm/DummyExoMediaDrm.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/ErrorStateDrmSession.java
22	31	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
6	9	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java
13	14	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/drm/WidevineUtil.java
63	40	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
5	6	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceFactory.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/video/DecoderVideoRenderer.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
6	10	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
4	4	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
4	4	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
4	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
3	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
3	3	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java
4	4	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java
4	6	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
1	2	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashWidevineOfflineTest.java
3	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java

commit 077e7932bf22d781bcaa74245fa4848f960338e3
Author: ibaker <ibaker@google.com>
Date:   2020-03-19 12:51:56 +0000

    Add some more DRM event plumbing to Playlist
    
    This was missed in https://github.com/google/ExoPlayer/commit/f08eed4145613527c0a4907e035ba483db6df253
    
    Part of issue:#6765
    
    PiperOrigin-RevId: 301796232

2	1	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java

commit 181177a24568a141cbda480f2ee6a02e58d40547
Author: ibaker <ibaker@google.com>
Date:   2020-03-19 12:50:45 +0000

    Clarify docs around listener hierarchies in MediaSourceEventDispatcher
    
    Also add a couple of tests to enforce the documentation.
    
    PiperOrigin-RevId: 301796102

5	0	library/core/src/main/java/com/google/android/exoplayer2/util/MediaSourceEventDispatcher.java
34	0	library/core/src/test/java/com/google/android/exoplayer2/util/MediaSourceEventDispatcherTest.java

commit 8c4d31a9df7b9ca102d77f6c5ea8fa936625d462
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-03-19 17:12:16 -0700

    Address the minor issues from pull request review
    
    Address the minor issues raised in @AquilesCanta's review of pull request 6270.  Also remove unused variable (`hasIFrameVariants`)

2	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
4	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java

commit 818925d4a7ce2c244b0013f257354c3fa27a88bc
Author: olly <olly@google.com>
Date:   2020-03-19 00:38:32 +0000

    Add shell for FfmpegVideoRenderer
    
    Issue: #2159
    PiperOrigin-RevId: 301705371

4	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
1	1	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.java
106	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegVideoRenderer.java
4	0	library/core/proguard-rules.txt
28	0	library/core/src/main/java/com/google/android/exoplayer2/DefaultRenderersFactory.java

commit 0a274946ac12e2a941e9be34423c5032f1bfd8cc
Author: olly <olly@google.com>
Date:   2020-03-19 00:19:33 +0000

    Simplify extension video renderers
    
    - This change also adds support for VideoFrameMetadataListener in the
      AV1 renderer
    - This is a preliminary step prior to adding FfmpegVideoDecoder
    
    Issue: #2159
    PiperOrigin-RevId: 301702460

5	39	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
9	52	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
39	1	library/core/src/main/java/com/google/android/exoplayer2/video/DecoderVideoRenderer.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/video/VideoFrameMetadataListener.java

commit ee6afe5eb9576da19dd188b3da7dc5abded5b1fa
Author: olly <olly@google.com>
Date:   2020-03-18 23:56:24 +0000

    Merge AudioDecoderException and VideoDecoderException
    
    This is a necessary step for Decoder implementations to support
    audio and video. MediaCodecRenderer.DecoderException is renamed
    MediaCodecDecoderException and extends the new DecoderException
    
    Issue: #2159
    PiperOrigin-RevId: 301698238

2	2	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Gav1DecoderException.java
3	6	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
3	5	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegDecoderException.java
3	5	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderException.java
3	5	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusDecoderException.java
4	7	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
2	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoderException.java
14	12	library/core/src/main/java/com/google/android/exoplayer2/audio/DecoderAudioRenderer.java
5	6	library/core/src/main/java/com/google/android/exoplayer2/{audio/AudioDecoderException.java => decoder/DecoderException.java}
47	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecDecoderException.java
2	26	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
14	18	library/core/src/main/java/com/google/android/exoplayer2/video/DecoderVideoRenderer.java
39	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoDecoderException.java
3	19	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
0	40	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderException.java
7	6	library/core/src/test/java/com/google/android/exoplayer2/audio/DecoderAudioRendererTest.java
6	5	library/core/src/test/java/com/google/android/exoplayer2/video/DecoderVideoRendererTest.java

commit 395a7031acc9e1f278c357e60e2ce208f00cc8bd
Author: tonihei <tonihei@google.com>
Date:   2020-03-18 14:33:36 +0000

    Add tests to cover two OOM scenarios.
    
    We have two known scenarios where the app could create an OOM error and
    we want to handle it gracefully:
     1. The app continues to allocate memory but doesn't make any progress
        in the buffered position. OOM should be prevented by the default
        load control and it should eventually throw an exception.
     2. An extractor tries to allocate a large amount of memory on the
        Loader thread based on information it read in faulty media files.
        In this case we should attempt to play remaining media and then
        throw an exception.
    
    Both cases are already handled correctly, but we don't have any tests
    ensuring that we don't introduce regressions.
    
    PiperOrigin-RevId: 301585700

161	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit 99667a6dc16f3445524c1d1dc6e0f955c690a29e
Author: tonihei <tonihei@google.com>
Date:   2020-03-18 14:22:31 +0000

    Detect stuck-buffering cases in the player.
    
    This removes a workaround that always continues buffering and instead
    detects if the LoadControl returns false even though we don't have
    any buffer. If enabled by a flag, this condition throws an exception.
    
    PiperOrigin-RevId: 301584239

6	0	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
18	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
10	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
14	7	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
17	10	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 2e5444b49be03faddb832f67dd51bf378a883336
Author: tonihei <tonihei@google.com>
Date:   2020-03-18 12:43:32 +0000

    Add option to use  a custom DrmSessionManager into OfflineLicenseHelper
    
    This allows to customize the DrmSessionManager, e.g. with a
    LoadErrorHandlingPolicy.
    
    Issue:issue:#7078
    PiperOrigin-RevId: 301571783

3	0	RELEASENOTES.md
6	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
41	42	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
3	2	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashWidevineOfflineTest.java

commit 14aa56d62bc8f961bf878ff6e73917e9046d7cac
Author: bachinger <bachinger@google.com>
Date:   2020-03-17 21:44:22 +0000

    correct the javadoc of onRenderedFirstFrame in VideoListener
    
    Issue: #7097
    PiperOrigin-RevId: 301456951

1	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoListener.java

commit cbe99ec4755264508ca6d448a7f90d9a79938497
Author: olly <olly@google.com>
Date:   2020-03-17 18:12:29 +0000

    Make SimpleDecoderXRenderers work with any Decoder implementation
    
    The restriction that these classes only work with SimpleDecoders
    is unnecessary. An FfmpegVideoRenderer will not be able to use a
    SimpleDecoder, because the SimpleDecoder assumption that each input
    buffer can be decoded immediately into a corresponding output is
    not true for all video codecs that Ffmpeg supports (e.g., H264 does
    not have this property). Generalizing SimpleDecoderVideoRenderer to
    DecoderVideoRenderer will allow FfmpegVideoRenderer to still use
    the base class, without having to use a SimpleDecoder.
    
    This is a preliminary change toward being able to merge a version
    of https://github.com/google/ExoPlayer/pull/7079.
    
    Issue: #2159
    PiperOrigin-RevId: 301412344

3	0	RELEASENOTES.md
2	2	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
3	5	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
1	1	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegDecoder.java
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
2	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
2	2	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
1	1	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusDecoder.java
2	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
1	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
11	12	library/core/src/main/java/com/google/android/exoplayer2/audio/{SimpleDecoderAudioRenderer.java => DecoderAudioRenderer.java}
11	1	library/core/src/main/java/com/google/android/exoplayer2/decoder/OutputBuffer.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleDecoder.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleOutputBuffer.java
1	6	library/core/src/main/java/com/google/android/exoplayer2/text/SimpleSubtitleDecoder.java
3	5	library/core/src/main/java/com/google/android/exoplayer2/text/SimpleSubtitleOutputBuffer.java
0	3	library/core/src/main/java/com/google/android/exoplayer2/text/SubtitleOutputBuffer.java
10	3	library/core/src/main/java/com/google/android/exoplayer2/text/cea/CeaDecoder.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/video/{SimpleDecoderVideoRenderer.java => DecoderVideoRenderer.java}
2	13	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/audio/{SimpleDecoderAudioRendererTest.java => DecoderAudioRendererTest.java}
4	4	library/core/src/test/java/com/google/android/exoplayer2/video/{SimpleDecoderVideoRendererTest.java => DecoderVideoRendererTest.java}

commit a3a3b5be0b421a03d35ef4e8b7f20d38f2081200
Author: tonihei <tonihei@google.com>
Date:   2020-03-17 17:45:55 +0000

    Add comment to clarify usage of constant.
    
    PiperOrigin-RevId: 301406108

4	1	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java

commit 5c4d4762d1fc7c58349089deb67d44188f873d57
Author: olly <olly@google.com>
Date:   2020-03-17 17:08:09 +0000

    Remove unused dependency
    
    PiperOrigin-RevId: 301397420

0	1	library/core/build.gradle

commit 9d5319d6ac92fce07e735aae18594d18019c0b3a
Author: tonihei <tonihei@google.com>
Date:   2020-03-17 16:34:47 +0000

    Fix flaky test by slightly changing its setup.
    
    The test is flkay (2/1000 runs) because the decoder initialization
    before and after the seek are not perfectly deterministic. I couldn't
    find a way to make them deterministic, so slightly chaning the test
    setup instead. The test setup change doesn't affect the scenario being
    tested.
    
    PiperOrigin-RevId: 301390491

19	7	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit 363b4224b9a269663973100aa9ded9cac9a90893
Author: tonihei <tonihei@google.com>
Date:   2020-03-17 15:03:06 +0000

    Fix stuck buffering problem caused by target buffer size of 0.
    
    When no tracks are selected (or only tracks of unknown type), the
    target buffer size is calculated to be 0. This means the player
    won't request to buffer more data, nor can it start playback and
    will be stuck forever.
    
    PiperOrigin-RevId: 301374229

6	3	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
12	0	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java

commit 71eec8ead1572dedcca01f635793ae0f31f3f7b2
Author: tonihei <tonihei@google.com>
Date:   2020-03-17 14:39:56 +0000

    Fix unrealistic FakeSampleStream.isReady
    
    The FakeSampleStream is currently always ready even if it doesn't
    have any samples to read. Fix that by checking for the conditions
    under which read() will be successful.
    
    PiperOrigin-RevId: 301371031

1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit cb414e8743393e908c49c812c5d0421c1e939e15
Author: ibaker <ibaker@google.com>
Date:   2020-03-17 12:18:41 +0000

    Change FakeRenderer to take a track type instead of a list of formats
    
    The assertion about the expected formats doesn't really belong in a
    fake, the assertions should be closer to the test method.
    
    This gets in the way when I try and write a new test in
    AnalyticsCollectorTest that doesn't use the expected, constant Format
    (because i want to specify drmInitData) - but changing the expected
    Format is tricky because it's hard-coded into the FakeVideoRenderer
    inner class.
    
    I replaced the assertion in FakeRenderer with assertions in test
    methods that used to assert on the format count.
    
    PiperOrigin-RevId: 301353072

1	0	library/core/src/test/java/com/google/android/exoplayer2/DefaultMediaClockTest.java
35	34	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
12	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
2	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaClockRenderer.java
29	14	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeRenderer.java

commit 13ffb9c684086e72e0d7714ffa5e1219d08ae142
Author: ibaker <ibaker@google.com>
Date:   2020-03-17 12:14:18 +0000

    Add a comment explaining the null check in DefaultMediaItemConverter
    
    Follow-up to https://github.com/google/ExoPlayer/commit/42b8fe2681758b60f2d1e6df79d0727ce4a953d4
    
    PiperOrigin-RevId: 301352557

1	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultMediaItemConverter.java

commit e962a478b9934b1161f94f2677cdd91d1eb84359
Author: kimvde <kimvde@google.com>
Date:   2020-03-17 12:13:36 +0000

    Document missing messages in audio renderers
    
    PiperOrigin-RevId: 301352482

5	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java

commit b7a5ace4beda7242b71ebea939019360f1a64176
Author: olly <olly@google.com>
Date:   2020-03-17 12:05:17 +0000

    Make FfmpegLibrary H264/HEVC aware
    
    Issue: #2159
    PiperOrigin-RevId: 301351495

4	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.java

commit 235c63113659fb65706facf889fad582124a300e
Author: olly <olly@google.com>
Date:   2020-03-17 11:11:43 +0000

    FfmpegAudioRenderer should use UNSUPPORTED_TYPE for non-audio formats
    
    Issue: #2159
    PiperOrigin-RevId: 301345559

3	3	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java

commit 42b8fe2681758b60f2d1e6df79d0727ce4a953d4
Author: ibaker <ibaker@google.com>
Date:   2020-03-17 10:00:27 +0000

    Fix null-check failure in DefaultMediaItemConverter
    
    PiperOrigin-RevId: 301336818

1	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultMediaItemConverter.java

commit 510f5edd1d8828d8bda7d8205a1d7ac264ffbcca
Author: bachinger <bachinger@google.com>
Date:   2020-03-16 20:18:15 +0000

    Remove cast media item
    
    PiperOrigin-RevId: 301224632

26	33	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DemoUtil.java
7	4	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/MainActivity.java
5	73	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
37	27	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultMediaItemConverter.java
0	175	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/MediaItem.java
1	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/MediaItemConverter.java
11	10	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/DefaultMediaItemConverterTest.java
0	86	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/MediaItemTest.java
25	14	library/core/src/main/java/com/google/android/exoplayer2/MediaItem.java
65	0	library/core/src/main/java/com/google/android/exoplayer2/MediaMetadata.java
11	0	library/core/src/test/java/com/google/android/exoplayer2/MediaItemTest.java
43	0	library/core/src/test/java/com/google/android/exoplayer2/MediaMetadataTest.java

commit 5f8cc71d1b5910fe1bf294644ee57285901ab04b
Author: ibaker <ibaker@google.com>
Date:   2020-03-16 17:50:59 +0000

    Use reference-counting for listeners from MediaSourceEventDispatcher
    
    Previously calling removeListener would remove all instances of that
    listener. Now it only removes a single instance.
    
    This probably should have been part of introducing the Multiset:
    https://github.com/google/ExoPlayer/commit/2bd4d61b9b8c838fb7dc81e7d6f513c4a4e00c76
    
    PiperOrigin-RevId: 301191940

5	0	library/core/src/main/java/com/google/android/exoplayer2/util/MediaSourceEventDispatcher.java
21	0	library/core/src/test/java/com/google/android/exoplayer2/util/MediaSourceEventDispatcherTest.java

commit aec6fe7e655c08c125589d080f1428806afc66fe
Author: kimvde <kimvde@google.com>
Date:   2020-03-16 17:31:04 +0000

    Notify listeners when audio session ID is set
    
    PiperOrigin-RevId: 301187369

20	10	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 354d5aea094ec34fc4ea39d782559df1d6df33ff
Author: ibaker <ibaker@google.com>
Date:   2020-03-16 16:06:36 +0000

    Add the listener type to MediaSourceEventDispatcher.add/removeListener
    
    Without this change there's confusing behaviour if you pass e.g.
    AnalyticsCollector (which implements both DrmSessionEventListener and
    MediaSourceEventListener) to MediaSource.addEventListener: It will
    receive DRM events too, even though you never passed it to
    MediaSource.addDrmEventListener.
    
    Also add some tests for MediaSourceEventDispatcher.
    
    PiperOrigin-RevId: 301169915

2	2	library/core/src/main/java/com/google/android/exoplayer2/source/BaseMediaSource.java
30	3	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceEventListener.java
43	24	library/core/src/main/java/com/google/android/exoplayer2/util/MediaSourceEventDispatcher.java
167	0	library/core/src/test/java/com/google/android/exoplayer2/util/MediaSourceEventDispatcherTest.java

commit c294e0cb896f5ca293274dd99dea2d9b2a292c56
Author: olly <olly@google.com>
Date:   2020-03-13 12:36:19 +0000

    Clarify DataSpec.httpRequestHeaders documentation
    
    Issue: #7069
    PiperOrigin-RevId: 300738492

25	1	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java

commit 3acc85c2dfdaa9cfc257b1b1f00575bfad0814de
Author: olly <olly@google.com>
Date:   2020-03-13 11:44:15 +0000

    Re-split ExoHostedTest.onTestFinished into logMetrics and assertPassed
    
    This is a partial revert of <unknown commit>. The split and the order is important. For
    example, as things are currently, if playback fails for a test that makes additional
    assertions in onTestFinished, the visible reason the test failed is quite likely to
    be one of the additional assertions, rather than the error that actually caused the
    playback to fail. I think we probably also don't want to log metrics if playback
    fails.
    
    PiperOrigin-RevId: 300733109

4	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
9	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java

commit 4a582b2361b77d9b8a5f5dc57fcd322e57ad5b83
Author: samrobinson <samrobinson@google.com>
Date:   2020-03-13 10:53:50 +0000

    Unit tests for `WakeLockManager`.
    
    PiperOrigin-RevId: 300727785

68	0	library/core/src/test/java/com/google/android/exoplayer2/WakeLockManagerTest.java

commit c16d0f6c5df57b12091c6da1dcbc3ed7c23a3d20
Author: tonihei <tonihei@google.com>
Date:   2020-03-13 09:46:01 +0000

    Default prioritizeTimeOverSizeThresholds to false.
    
    This prevents OOM errors for high bitrate streams that attempt to fill
    the buffer regardless of the memory usage.
    
    Also change the max buffer sizes to ensure this is a no-op for video
    streams < 20Mbps and audio streams < 260kbps.
    
    Issue:#6647
    Issue:#7006
    PiperOrigin-RevId: 300720299

3	0	RELEASENOTES.md
3	3	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
4	3	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java

commit 26a27944c57385e67cf677c9150c892ed7ccd732
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-13 09:04:00 +0000

    Add option for sensor rotation in 360 playbacks
    
    Issue: #6761
    PiperOrigin-RevId: 300715682

3	0	RELEASENOTES.md
27	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
28	7	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SphericalGLSurfaceView.java
1	1	library/ui/src/main/res/values/attrs.xml

commit 2028fdd75609acd7a84fafd9b96706e2e2fab2ff
Author: bachinger <bachinger@google.com>
Date:   2020-03-12 17:29:47 +0000

    add media item based playlist methods
    
    After this change users of ExoPlayerImpl and SimpleExoPlayer can use the media item base playlist API which converts the media item to a media source.
    
    It adds the media item based methods to the ExoPlayer instead of the Player interface. This avoids a big change in the CastPlayer which requires migrating the cast extension to the MediaItem of the core module (follow up CLs).
    
    PiperOrigin-RevId: 300575567

113	4	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
73	9	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
91	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
52	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit 1e387601a6e5b4772d5ef9b8e282a754c678c459
Author: bachinger <bachinger@google.com>
Date:   2020-03-12 15:34:58 +0000

    update ExoPlayerTest to use get/setPlaybackSpeed
    
    PiperOrigin-RevId: 300554337

16	25	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
10	12	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
6	7	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java

commit 920117b08101c89b265cff6dd11aa123dcef9eea
Author: olly <olly@google.com>
Date:   2020-03-12 14:52:54 +0000

    Drop prefix test- from test methods under v2/library
    
    This CL removes the prefixes to the tests added after https://github.com/google/ExoPlayer/commit/a6d0caaa3c95746beb4e82c1005c06cbb14b6f6c.
    
    This CL is generated by following command
    $ find -name '*Test.java' | xargs -I{} sed -i 's/^\ \ public\ void\ test\([A-Z]\)\(.*\)$/  public void \L\1\E\2/' {}
    
    PiperOrigin-RevId: 300547504

3	3	library/common/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoderTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/Ac3ExtractorTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/DefaultMediaSourceFactoryTest.java
1	1	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultMediaSourceFactoryTest.java

commit f08eed4145613527c0a4907e035ba483db6df253
Author: ibaker <ibaker@google.com>
Date:   2020-03-12 13:55:11 +0000

    Add DRM event plumbing to Playlist and CompositeMediaSource
    
    Related to issue:#6765
    
    PiperOrigin-RevId: 300539527

51	2	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
51	2	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java

commit beab272a8c333f459d72bfccccfaa4f6d2368adc
Author: olly <olly@google.com>
Date:   2020-03-12 13:37:17 +0000

    Drop prefix test- from test methods under v2/playbacktests
    
    This is one step toward following the google3's test naming convention.
    See go/java-testing/getting_started#basic-test-template for details
    why prefix test isn't necessary.
    
    This CL is generated by following command
    $ find -name '*Test.java' | xargs -I{} sed -i 's/^\ \ public\ void\ test\([A-Z]\)\(.*\)$/  public void \L\1\E\2/' {}
    
    PiperOrigin-RevId: 300537212

4	4	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/CommonEncryptionDrmTest.java
1	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashDownloadTest.java
30	30	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashStreamingTest.java
4	4	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashWidevineOfflineTest.java
1	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/EnumerateDecodersTest.java

commit 2f91c12f56d60125373ababdf9959d2c4e7ca675
Author: olly <olly@google.com>
Date:   2020-03-12 12:46:43 +0000

    Drop prefix test- from test methods under v2/extensions
    
    This is one step toward following the google3's test naming convention.
    See go/java-testing/getting_started#basic-test-template for details
    why prefix test isn't necessary.
    
    This CL is generated by following command
    $ find -name '*Test.java' | xargs -I{} sed -i 's/^\ \ public\ void\ test\([A-Z]\)\(.*\)$/  public void \L\1\E\2/' {}
    
    PiperOrigin-RevId: 300530329

7	7	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastPlayerTest.java
1	1	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastTimelineTrackerTest.java
4	4	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/ByteArrayUploadDataProviderTest.java
47	48	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceTest.java
10	10	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorTest.java
8	8	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
1	1	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
3	3	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java

commit 2bd4d61b9b8c838fb7dc81e7d6f513c4a4e00c76
Author: ibaker <ibaker@google.com>
Date:   2020-03-12 12:41:08 +0000

    Use a Multiset for reference counting in MediaSourceEventDispatcher
    
    This avoids duplicate events being dispatched to object foo if
    addListener(foo) is called more than once.
    
    Part of issue:#6765
    
    PiperOrigin-RevId: 300529733

139	0	library/common/src/main/java/com/google/android/exoplayer2/util/CopyOnWriteMultiset.java
110	0	library/common/src/test/java/com/google/android/exoplayer2/util/CopyOnWriteMultisetTest.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceEventListener.java
24	5	library/core/src/main/java/com/google/android/exoplayer2/util/MediaSourceEventDispatcher.java

commit 4d4e2cdd2a51287ce41d3fb4e13c16db5ed849b7
Author: tonihei <tonihei@google.com>
Date:   2020-03-12 12:16:47 +0000

    Reorder renderer enabling/disabling
    
    We currently have the following logic to update renderers during
    period transitions:
     1. Wait for the currently reading period to finish reading all its
        streams.
            a. Advance reading period.
            b. Set all streams that can't be replaced to final.
            c. If streams can be replaced, replace them now.
     2. Wait until playback position reaches the transition point
            a. Disable all unneeded renderers (or those that need
               re-enabling).
            b. Advance playing period.
            c. Enable all new renderers (i.e. all except the ones where
               we replaced streams directly in step 1c.
    
    This logic causes delays because steps 2a and 2c can easily happen
    before 2b. Doing this allows a smooth transition for cases where
    renderers change or where they need to be re-enabled.
    
    The new order after this change is:
     1. Wait for currently reading period to finish reading.
            a. Advance reading period.
            b. Set all streams that can't be replaced to final.
     2. Update reading renderers iteratively.
            a. If streams can be replaced, replace them asap.
            b. If renderes need to be disabled, do so as soon as the
               respective renderer ended.
            c. Once step b is fully finished, enable or re-enable all new
               renderers.
     3. Wait unril playback position reaches the transition point AND
        all tasks in step 2 are done (i.e. all renderers are set up for the
        playing period).
            a. Advance playing period.
    
    As a nice side effect, decoder enabled and disabled events are now
    always reported for the reading period, which is more consistent with
    other renderer callbacks.
    
    PiperOrigin-RevId: 300526983

77	73	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
22	11	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
9	3	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
21	16	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit 1f202f0aee198fe9fae4290a5707f497e2ce7ac0
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-03-12 11:47:47 +0000

    Make DataSource extend DataReader and upcast uses
    
    This means DataSource.read now may throw InterruptedException.
    
    PiperOrigin-RevId: 300523430

5	0	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataReader.java
2	22	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataSource.java
6	4	library/core/src/main/java/com/google/android/exoplayer2/source/BundledExtractorsAdapter.java
6	4	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaExtractor.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
16	18	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorInput.java

commit 93e203f970e38f0dc5ba5aaaeb65e6d088f22f46
Author: ibaker <ibaker@google.com>
Date:   2020-03-12 11:13:46 +0000

    Tweak the assertions in MediaSourceTestRunner to give clearer failures
    
    PiperOrigin-RevId: 300519989

5	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.java

commit 16e6ea6e40de35676a03d09b2c1b9807eae9b6bc
Author: olly <olly@google.com>
Date:   2020-03-12 10:22:53 +0000

    Fix spurious reset of PreparedState boolean flags
    
    PiperOrigin-RevId: 300513930

46	41	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit c85e5137f06e7eb31d4c27705684603a8e990fe7
Author: tonihei <tonihei@google.com>
Date:   2020-03-12 10:21:39 +0000

    No-op change removing bookkeeping for enabled renderers.
    
    This list was meant to simplify some usages where we only want to
    make operations on enabled renderers. However, keeping this list
    up-to-date is slightly error-prone (because renderers aren't added
    and removed from this list next to the corresponding enable and disable
    calls) and it makes it hard to do more fine-grained changes that only
    enable or disabled a single renderer at a time.
    
    PiperOrigin-RevId: 300513788

71	76	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 82599960c2db5f865cd05d0b473ed5b01d222438
Author: tonihei <tonihei@google.com>
Date:   2020-03-12 10:19:19 +0000

    Add public API for pauseAtEndOfMediaItem
    
    Also adds tests covering the internal implementation.
    
    Issue:#5660
    PiperOrigin-RevId: 300513548

3	0	RELEASENOTES.md
19	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
15	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
8	4	library/core/src/main/java/com/google/android/exoplayer2/Player.java
12	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
79	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
19	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
10	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit 527563da31e9d1b4abcdb38591d02d9fc51f7b93
Author: bachinger <bachinger@google.com>
Date:   2020-03-11 23:45:11 +0000

    remove deprecated usage of PlaybackParameter
    
    Removes usage of PlaybackParameters where it seems to be trivial.
    
    PiperOrigin-RevId: 300435199

5	6	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
1	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 072720270d5090bf159fc3760c44c12e36995edd
Author: bachinger <bachinger@google.com>
Date:   2020-03-11 23:12:01 +0000

    remove PlaybackParameter dependency from MediaClock
    
    After this change MediaClocks and ExoPlayerImplInternal don't depend on the deprecated PlaybackParameter anymore but only know about playbackSpeed.
    
    PiperOrigin-RevId: 300428791

24	27	library/core/src/main/java/com/google/android/exoplayer2/DefaultMediaClock.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
26	36	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
4	5	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
4	5	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
6	11	library/core/src/main/java/com/google/android/exoplayer2/util/MediaClock.java
17	9	library/core/src/main/java/com/google/android/exoplayer2/util/StandaloneMediaClock.java
71	74	library/core/src/test/java/com/google/android/exoplayer2/DefaultMediaClockTest.java
6	6	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 683cb0260eec01fa358c3ac2189c33c511cd8be3
Author: bachinger <bachinger@google.com>
Date:   2020-03-11 22:31:57 +0000

    add get/setPlaybackSpeed and listener callback
    
    This change deprecates the PlaybackParameters and remove the skipSilenceField from the PlaybackParameters. This implies that enabling and disabling skipping silences needs to be done on the Player.AudioComponent after this change.
    
    After submission of the change, all Player API changes are done which are required to bring playbackSpeed and skipSilenceEnabled in the converged Player API state.
    
    PiperOrigin-RevId: 300420843

16	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
46	22	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
6	23	library/core/src/main/java/com/google/android/exoplayer2/PlaybackParameters.java
40	16	library/core/src/main/java/com/google/android/exoplayer2/Player.java
27	18	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
14	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
12	4	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioSink.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/audio/ForwardingAudioSink.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
4	5	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
1	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
16	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit 1f11233ba022e00367ed32904092070d8c42f5ee
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-03-17 13:56:00 -0700

    Support implicit i-Frame initialization segment.
    
    In the HLS Spec (https://tools.ietf.org/html/draft-pantos-hls-rfc8216bis-04#section-4.4.3.6), specifically this or condition of this statement:
    
    "... defined by the EXT-X-MAP tag, or is located between the start of the resource
        and the offset of the first I-frame segment in that resource."
    
    Change adds code to add this "implicit" Media Initialization Segment if no EXT-X-MAP defines one explicitly.

34	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit 64cd4383adceab12a5467869b78059f0935610d4
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-08-07 11:04:50 -0700

    Default to not select iFrame oly tracks.
    
    Pull in change to default to not use i-Frames for base AdaptiveTrackSelection.
    The expectation is a subclases, that support transitioning to iFrame, will select these tracks.

2	8	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java

commit 33667ebc8ccad80e85cdd4c6a0815909698996ff
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-08-06 16:51:43 -0700

    Add basic unit test for parsing.

26	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit f9151dfe23622a41aaa046bdce09f7592ee481df
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-07-31 17:01:14 -0700

    Update to include iframe Variants in same TrackGroup
    
    This was a change suggested by @ojw28 to allow adpative track selection to work with IFrame only `Variant` as any other adaptive seleted `Track` in the `TrackGroup`.  This actually works quite well with the exceptions that:
    
    1. IFrame only tracks do not contain the same Rendition Group references as other non-iframe only varaints (so track selection should disable these tracks even in other non-video renderers.
    2. Adapting to iFrame tracks only based on bandwidth might not be so good (as often larger spacial resolution iFrame track might have higher bitrate then lower spacial resolution non-iframe only track).
    
    This change includes one proposed workaround in the AdaptiveTrackSelection class (only use iFrame for higher playback speeds).

4	0	library/common/src/main/java/com/google/android/exoplayer2/C.java
11	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
14	59	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
32	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
59	35	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit f076a5ebd6347b3e915267dc47de424f1211d009
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-07-17 16:39:24 -0700

    IFrame only exposed as a video track.Plays correctly

50	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
5	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java

commit 8017118ef1fa5d688447c2744baaedd0d235fd75
Author: Matthias Tamegger <matthias.tamegger@bitmovin.com>
Date:   2020-03-17 12:33:16 +0100

    Extend FrameworkMediaDrm to support PSSHv1 on Amazon FireTV Gen1/Gen2/Stick Gen1/Stick Gen2

5	3	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit 2f2fc8ca0112cdce1734ff9ec9d24c824b6f0a2c
Author: Matthias Tamegger <matthias.tamegger@bitmovin.com>
Date:   2020-03-17 11:28:58 +0100

    Update media timestamp regex to allow negative values

1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java

commit ccf2ba3e1bb8cc8bec5ca9a94c3b99750096189f
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-03-16 13:51:22 -0700

    Move HlsSampleQueue to be static inner-class
    
    Backout making the original `FormatAdjustingSampleQueue` an outer class and combining the new timestamp checking logic.  This way the diff from `HlsSampleStreamWrapper` to dev-v2 are easier to see.

0	159	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleQueue.java
130	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 0d46e24f944e41c838b826dc05e9e2ee47c75d68
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-03-16 11:53:49 -0700

    Update comments for DASH
    
    Update the comment to indicate the DASH equivalent use case for the exception.

3	1	library/core/src/main/java/com/google/android/exoplayer2/source/UnexpectedDiscontinuityException.java

commit e690979d92e05e90ed8971e9bf733a7ec97e5245
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-03-13 09:59:27 -0700

    Update with first round of code review suggestions
    
    Update with code review suggestions:
    1. rename to HlsCheckedSampleQueue to HlsSampleQueue and combine with format adjusting class.
    2. Copywrite in added classes
    3. Capture additional items useful for recovery and reporting in the exception class
    4. Remove extraneous logging
    5. eliminate magic number (50 seconds) and use percentage of duration
    
    WIP:
     - eliminate null check for chunk (chunkless prepare starts load before sampleQueue are created)
     - work out recovery strategy

68	0	library/core/src/main/java/com/google/android/exoplayer2/source/UnexpectedDiscontinuityException.java
0	26	library/core/src/main/java/com/google/android/exoplayer2/source/UnreportedDiscontinuityException.java
0	65	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsCheckedSampleQueue.java
4	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
159	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleQueue.java
5	81	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit f78cbd2c9e348db5818136c0b74fea1c97d34a56
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2020-03-09 13:30:06 -0700

    Add HlsCheckedSampleQueue to check timstamp range
    
    Add a SampleQueue subclass that checks the timestamp range of media samples queued to it and reports an exception on load if the timestamp is outside of spec bounds.
    (Smashed to a single commit prior to rebase)

1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
26	0	library/core/src/main/java/com/google/android/exoplayer2/source/UnreportedDiscontinuityException.java
65	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsCheckedSampleQueue.java
8	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
5	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 7b82a3c8892a2b90fa1121dc6bfad7817ae03944
Author: tonihei <tonihei@google.com>
Date:   2020-03-11 15:30:20 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/5485133e5c7965f98d71da3cb92033b35f596c61
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/949bbcfb2e98c5cb76ebb35d68fc9f0da4706f16
    
    *** Original commit ***
    
    Add masking for playWhenReady.
    
    Masking is needed as soon as updates to a value can happen both in EPI
    and EPII. PlayWhenReady is currently not masked because all updates
    happen in EPI only. As soon as we allow pausing at certain times
    (e.g. end of a stream), playWhenReady c...
    
    ***
    
    PiperOrigin-RevId: 300330307

101	75	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
71	41	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
52	0	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
51	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
2	0	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
27	4	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit b46f64ab70ced874ad215707057505da913d5ae0
Merge: 0175dd444 8908cc85e
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-11 16:27:47 +0000

    Merge pull request #7064 from davibe:enhancement/6907
    
    PiperOrigin-RevId: 300330109

commit 0175dd4441748a315c2e4bf40166a4941b8046a6
Merge: 5485133e5 170fc852c
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-11 16:27:36 +0000

    Merge pull request #7057 from Chimerapps:dash_assetidentifier
    
    PiperOrigin-RevId: 300313753

commit 5485133e5c7965f98d71da3cb92033b35f596c61
Author: tonihei <tonihei@google.com>
Date:   2020-03-11 12:23:45 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/949bbcfb2e98c5cb76ebb35d68fc9f0da4706f16
    
    *** Original commit ***
    
    Add masking for playWhenReady.
    
    Masking is needed as soon as updates to a value can happen both in EPI
    and EPII. PlayWhenReady is currently not masked because all updates
    happen in EPI only. As soon as we allow pausing at certain times
    (e.g. end of a stream), playWhenReady changes may be triggered by EPII
    as well and that's why we need masking.
    
    To know when the value actually changed, we also need to update the
    internal state to include whether playback is supppressed.
    
    ***
    
    PiperOrigin-RevId: 300303307

71	91	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
41	71	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
0	52	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
0	2	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
0	2	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
4	27	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit 949bbcfb2e98c5cb76ebb35d68fc9f0da4706f16
Author: tonihei <tonihei@google.com>
Date:   2020-03-11 09:57:50 +0000

    Add masking for playWhenReady.
    
    Masking is needed as soon as updates to a value can happen both in EPI
    and EPII. PlayWhenReady is currently not masked because all updates
    happen in EPI only. As soon as we allow pausing at certain times
    (e.g. end of a stream), playWhenReady changes may be triggered by EPII
    as well and that's why we need masking.
    
    To know when the value actually changed, we also need to update the
    internal state to include whether playback is supppressed.
    
    PiperOrigin-RevId: 300284613

91	71	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
71	41	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
52	0	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
2	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
2	0	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
27	4	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit f82bc244eaefb0b7d7f24357cd694c65fad3b44b
Author: olly <olly@google.com>
Date:   2020-03-11 05:01:42 +0000

    Add show/hideScrubber to DefaultTimeBar
    
    PiperOrigin-RevId: 300249371

1	0	RELEASENOTES.md
51	14	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit c6e8e24adac6b5c061909a461f956a8f49761ed1
Author: tonihei <tonihei@google.com>
Date:   2020-03-10 18:11:21 +0000

    Ensure seek and prepare positions never exceed period duration.
    
    Exceeding the period duration may mean that that playback transitions
    to another item even if the player is currently paused.
    
    PiperOrigin-RevId: 300133655

12	5	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
8	0	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
4	10	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
7	2	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaPeriod.java
20	1	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
64	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
10	12	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
10	3	library/core/src/test/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRendererTest.java

commit bb33d568cad6cd897db050c5e74b79747a2ec015
Author: tonihei <tonihei@google.com>
Date:   2020-03-10 16:49:05 +0000

    Remove test-specific ActionSchedule tags
    
    There is no need for that, updating them is often forgotten and
    takes up too much line space. Replace by a single TAG per test class.
    
    PiperOrigin-RevId: 300113072

106	112	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
11	9	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit 0d230d517aaf0c99ee11b10cadc9d648f02b17b6
Author: olly <olly@google.com>
Date:   2020-03-10 12:20:56 +0000

    Miscellaneous cleanup related to recent changes
    
    PiperOrigin-RevId: 300067561

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java
25	25	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
10	12	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java

commit b83041a6f569f2959a96d2681ebfe428645c176b
Author: olly <olly@google.com>
Date:   2020-03-10 12:20:29 +0000

    Fix SubtitleView.ViewType IntDef
    
    PiperOrigin-RevId: 300067502

15	10	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java

commit a5f0eb1e1033c218ca16c1ab1b33be599eb5c85c
Author: bachinger <bachinger@google.com>
Date:   2020-03-10 11:11:48 +0000

    replace extension with mime type
    
    This change uses mime types in a functionally equivalent way to how we used the extension hint so far.
    
    Using a mimeType instead of the extension has some advantages. Most importantly mimeTypes are used by the cast SDK with which we want to achieve interoperability in the cast extension.
    
    Using a mimeType instead of the extension hint further appears to be a bit more clear (which might be opinionated). Further mime types are a well known and widely used concept to identify file type on the internet and it provides asterix based generalizations (audio/*, */*) which could express the media type OTHER that ExoPlayer is using internally (no usage of asterix required so far though).
    
    PiperOrigin-RevId: 300058945

1	3	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
26	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/Sample.java
17	16	library/core/src/main/java/com/google/android/exoplayer2/MediaItem.java
27	8	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactory.java
9	5	library/core/src/test/java/com/google/android/exoplayer2/MediaItemTest.java
2	3	library/core/src/test/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactoryTest.java
11	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DefaultMediaSourceFactoryTest.java
11	3	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/DefaultMediaSourceFactoryTest.java
11	3	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultMediaSourceFactoryTest.java

commit 87405cb1c0883691c8e9faa1a2ae5a23862c2ae8
Author: bachinger <bachinger@google.com>
Date:   2020-03-09 22:00:54 +0000

    remove DefaultMediaSourceFactory.Delegate
    
    PiperOrigin-RevId: 299943596

15	29	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactory.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
10	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
2	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit fdf35776f87d1f72c9f28522942892c92e8efe0d
Author: krocard <krocard@google.com>
Date:   2020-03-09 16:43:38 +0000

    Add support for x86_64 for the ffmpeg extension
    
    Requested by https://github.com/google/ExoPlayer/issues/7058.
    Additionally move one of the common option in COMMON_OPTIONS.
    
    PiperOrigin-RevId: 299862479

1	0	RELEASENOTES.md
13	3	extensions/ffmpeg/src/main/jni/build_ffmpeg.sh

commit c976d16a74bc8380c0c2f471df75dae25badb503
Author: samrobinson <samrobinson@google.com>
Date:   2020-03-09 13:47:01 +0000

    Simplify `WakeLockManager` and `WifiLockManager` logic.
    
    Disabling reference counting allows some checks to be removed.
    
    This is a no-op.
    
    PiperOrigin-RevId: 299829600

3	4	library/core/src/main/java/com/google/android/exoplayer2/WakeLockManager.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/WifiLockManager.java

commit 1c03226fb3f5262db1ec60ac7d55865f08288369
Author: tonihei <tonihei@google.com>
Date:   2020-03-09 13:14:02 +0000

    Merge AudioFocusManager methods to simplify control flow.
    
    handlePrepare/Stop/SetPlayReady can be merged together as they all
    handle changes to the desires state of the player.
    
    Also, simplify parts of the control flow by not mixing code that
    determines if audio focus needs to be handled with code that actually
    acquires or abandons the focus.
    
    PiperOrigin-RevId: 299824857

22	67	library/core/src/main/java/com/google/android/exoplayer2/AudioFocusManager.java
7	12	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
143	177	library/core/src/test/java/com/google/android/exoplayer2/AudioFocusManagerTest.java

commit 1ac7d377a6caca4d8e5a21f908ada0c230392a1b
Author: olly <olly@google.com>
Date:   2020-03-09 12:36:41 +0000

    Fix proguard comment for DefaultMediaSourceFactory
    
    PiperOrigin-RevId: 299819656

1	1	library/core/proguard-rules.txt

commit 0a89d0e8c3b0fa1a5e211e72ef95d35a1c69b5b3
Author: tonihei <tonihei@google.com>
Date:   2020-03-09 12:20:02 +0000

    Add option to MergingMediaSource to adjust for period time diffs
    
    Without this option it's impossible to merge periods covering
    different timestamps (at least not without playback issues).
    
    Issue:issue:#6103
    PiperOrigin-RevId: 299817540

3	0	RELEASENOTES.md
216	16	library/core/src/main/java/com/google/android/exoplayer2/source/MergingMediaPeriod.java
59	19	library/core/src/main/java/com/google/android/exoplayer2/source/MergingMediaSource.java
204	0	library/core/src/test/java/com/google/android/exoplayer2/source/MergingMediaPeriodTest.java

commit 041a0696b7eca80e2ca6461b8153e8e0e7909963
Author: bachinger <bachinger@google.com>
Date:   2020-03-06 16:23:19 +0000

    remove UriBundle
    
    PiperOrigin-RevId: 299361095

10	8	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
32	93	library/core/src/main/java/com/google/android/exoplayer2/MediaItem.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactory.java
9	3	library/core/src/test/java/com/google/android/exoplayer2/MediaItemTest.java

commit 26d3914e43bac7491f0caa1f9ffbce1ebd6b5924
Merge: c982f4c4a ebc765c3e
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-10 10:20:37 +0000

    Merge pull request #7051 from Cizor:dev-v2
    
    PiperOrigin-RevId: 299357049

commit c982f4c4a07c146db7ea19cfee432ae2909af72e
Author: kimvde <kimvde@google.com>
Date:   2020-03-06 12:44:36 +0000

    Add possibility to set the audio session id
    
    Issue: #6975
    PiperOrigin-RevId: 299328798

2	0	RELEASENOTES.md
13	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
15	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java

commit ab21f710bb6e1c1ed56bfa9154722a56315cb912
Author: ibaker <ibaker@google.com>
Date:   2020-03-06 11:52:04 +0000

    Add MediaSource.{add,remove}DrmEventListener
    
    Pre-work for issue:#6765
    
    PiperOrigin-RevId: 299322086

11	0	library/core/src/main/java/com/google/android/exoplayer2/source/BaseMediaSource.java
18	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java

commit c6bf6aae2a2617dfa84d6a49e60fc5a5a94d4ce3
Author: ibaker <ibaker@google.com>
Date:   2020-03-06 11:29:34 +0000

    Rename DefaultDrmSessionEventListener to DrmSessionEventListener
    
    Part of issue:#6765
    
    PiperOrigin-RevId: 299319146

2	2	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
7	7	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/{DefaultDrmSessionEventListener.java => DrmSessionEventListener.java}
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java

commit eeab811301aeda54a05a1e8fb240e4a210f86125
Author: ibaker <ibaker@google.com>
Date:   2020-03-06 10:55:01 +0000

    Add EventDispatcher to DrmSession(Manager) acquire & release calls
    
    This is passed in but not currently used. I'll use it in follow-up
    changes.
    
    Pre-work for issue:#6765
    
    PiperOrigin-RevId: 299314341

4	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
10	6	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
18	7	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java
12	4	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/drm/ErrorStateDrmSession.java
36	14	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
12	4	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
3	1	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
10	6	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
6	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java
5	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
4	2	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashWidevineOfflineTest.java

commit 1f4156ce6d9231a78b3d69b720ec6a7cf3c5820e
Author: krocard <krocard@google.com>
Date:   2020-03-05 16:30:16 +0000

    Restore the demo list position on start
    
    It's quite anoying to have to search in the list
    the last item played everytime the demo is restarted.
    
    Fix that by saving and restoring it.
    
    PiperOrigin-RevId: 299109261

1	0	RELEASENOTES.md
27	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java

commit 47b62e8c0202f75c1871635fe554e84ac40a1ab9
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-03-05 14:50:30 +0000

    DataReader: replace InterruptedException with InterruptedIOException
    
    PiperOrigin-RevId: 299092243

14	20	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorSeekTest.java
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
2	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
8	13	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
4	5	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
1	2	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataReader.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/BundledExtractorsAdapter.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaExtractor.java
7	2	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkExtractorWrapper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/DataChunk.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/InitializationChunk.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/SingleSampleMediaChunk.java
1	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java
10	13	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashUtil.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java
3	5	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/BinarySearchSeeker.java
18	21	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorInput.java
1	2	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/DummyTrackOutput.java
7	10	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/Extractor.java
17	28	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
1	2	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ExtractorUtil.java
2	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
10	27	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
1	2	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/Id3Peeker.java
1	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/TrackOutput.java
7	9	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/amr/AmrExtractor.java
2	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacBinarySearchSeeker.java
8	9	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
7	13	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/flv/FlvExtractor.java
5	13	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mkv/DefaultEbmlReader.java
7	10	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mkv/EbmlProcessor.java
1	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mkv/EbmlReader.java
11	17	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
4	8	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mkv/Sniffer.java
14	11	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mkv/VarintReader.java
10	18	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
6	8	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
12	16	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java
3	7	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/Sniffer.java
1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/TrackFragment.java
6	13	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
3	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggExtractor.java
1	2	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggPacket.java
1	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeader.java
5	7	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggSeeker.java
6	10	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java
5	7	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractor.java
2	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Extractor.java
2	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac4Extractor.java
4	6	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java
1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/PsBinarySearchSeeker.java
3	5	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/PsDurationReader.java
2	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/PsExtractor.java
1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/TsBinarySearchSeeker.java
3	5	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/TsDurationReader.java
3	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/TsExtractor.java
5	10	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
3	7	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java
1	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/FlacFrameReaderTest.java
3	4	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/Id3PeekerTest.java
10	14	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/amr/AmrExtractorSeekTest.java
8	14	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/amr/AmrExtractorTest.java
14	20	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorSeekTest.java
12	14	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mkv/DefaultEbmlReaderTest.java
10	8	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mkv/VarintReaderTest.java
9	11	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/ConstantBitrateSeekerTest.java
3	4	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/IndexSeekerTest.java
4	5	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
1	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggExtractorTest.java
4	5	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPacketTest.java
2	3	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisReaderTest.java
6	11	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorSeekTest.java
2	3	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/PsDurationReaderTest.java
11	15	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/PsExtractorSeekTest.java
1	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsDurationReaderTest.java
9	15	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorSeekTest.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java
1	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.java
15	12	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
2	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java
6	6	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/WebvttExtractorTest.java
1	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashWidevineOfflineTest.java
19	25	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java
3	6	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit fbf865726c656b756c5d4d333dbd9c0d0d57f1d4
Author: christosts <christosts@google.com>
Date:   2020-03-05 10:51:32 +0000

    Fix flaky AsynchronousMediaCodecAdapterTest
    
    PiperOrigin-RevId: 299057572

9	6	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapterTest.java

commit 4517829610bb4505fb1adfadae2afb2a16e2401f
Author: bachinger <bachinger@google.com>
Date:   2020-03-04 18:13:48 +0000

    add DefaultMediaSourceFactory and use it in PlayerActivity
    
    PiperOrigin-RevId: 298879027

44	107	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
329	0	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
92	0	library/core/src/test/java/com/google/android/exoplayer2/source/DefaultMediaSourceFactoryTest.java
4	4	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
95	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DefaultMediaSourceFactoryTest.java
4	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
95	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/DefaultMediaSourceFactoryTest.java
4	4	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java
106	0	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultMediaSourceFactoryTest.java

commit b5976a55ffec7983d4391368a1e54705981c1dd9
Author: tonihei <tonihei@google.com>
Date:   2020-03-04 16:21:57 +0000

    Upgrade Kotlin annotations and fix gradle warnings
    
    The new version fixes some warnings in Gradle builds. Also
    add missing indirect compileOnly dependencies to fix some more warnings
    
    Issue:issue:#7007
    PiperOrigin-RevId: 298855510

1	1	constants.gradle
1	0	extensions/av1/build.gradle
1	0	extensions/cast/build.gradle
1	0	extensions/cronet/build.gradle
1	0	extensions/ffmpeg/build.gradle
1	0	extensions/flac/build.gradle
1	0	extensions/gvr/build.gradle
1	0	extensions/ima/build.gradle
1	0	extensions/jobdispatcher/build.gradle
1	0	extensions/leanback/build.gradle
1	0	extensions/mediasession/build.gradle
1	0	extensions/okhttp/build.gradle
1	0	extensions/opus/build.gradle
1	0	extensions/rtmp/build.gradle
1	0	extensions/vp9/build.gradle
1	0	extensions/workmanager/build.gradle
2	0	library/core/build.gradle
1	0	library/dash/build.gradle
1	0	library/extractor/build.gradle
1	0	library/hls/build.gradle
1	0	library/smoothstreaming/build.gradle
1	0	library/ui/build.gradle
1	0	testutils/build.gradle

commit 05443d1e9ef2f82765dc2e934a9cfb93f1ae3c52
Author: tonihei <tonihei@google.com>
Date:   2020-03-04 15:21:42 +0000

    Upgrade gradle plugin to 3.6.0
    
    PiperOrigin-RevId: 298844826

0	1	gradle.properties
2	2	gradle/wrapper/gradle-wrapper.properties

commit 0339a334306e34e5d3514ce1c3a7fcb9e0292238
Author: tonihei <tonihei@google.com>
Date:   2020-03-04 14:18:37 +0000

    Rename EPII.copyWithNewPosition to handlePositionDiscontinuity
    
    The new name better reflects the purpose of the method.
    
    PiperOrigin-RevId: 298835578

10	8	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 8b9f7c562803c55f728db1b2de422c814b5e7825
Author: tonihei <tonihei@google.com>
Date:   2020-03-04 14:06:34 +0000

    Add test to ensure AdsLoader is initialized.
    
    This tests explicitly that initialization happens even if the Timeline
    is a placeholder.
    
    No other change is needed. While the Timeline is still a placeholder
    ImaAdsLoader.getCurrentPeriodPosition will return 0 and trigger
    pre-rolls (intended behaviour) and it doesn't matter whether the
    actual initial period position may be somewhere else.
    
    PiperOrigin-RevId: 298833867

24	13	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
0	72	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/SingletonImaFactory.java

commit 2b88961bc1c75943071d8646be985b0596eb79f8
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-03-04 13:15:14 +0000

    Add ExoMediaDrm.OnExpirationUpdateListener
    
    Which mirrors MediaDrm.OnExpirationUpdateListener.
    
    PiperOrigin-RevId: 298826713

5	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DummyExoMediaDrm.java
21	3	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
19	3	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit 61935e14bf221537056732f390064fea1649a2e4
Author: tonihei <tonihei@google.com>
Date:   2020-03-04 13:01:49 +0000

    Add option to pause at end of stream to ExoPlayerImplInternal
    
    This option marks streams as final such that renderers play them out
    completely, then waits until this happened, and then sets the player
    to paused. After that, the player can continue to read the next period
    to quickly resume playback if needed.
    
    PiperOrigin-RevId: 298824745

48	8	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit e88e889c957c34188590b890548b02224aa5201f
Author: ibaker <ibaker@google.com>
Date:   2020-03-04 12:08:53 +0000

    Extract MediaSourceEventDispatcher from MediaSourceEventListener
    
    Update it to allow any listener class to be registered (and thus
    require the caller of dispatch() to provide the type of listener
    to call).
    
    Maintain MediaSourceEventListener.EventDispatcher as a sub-class
    for now so that all existing references continue to work. This
    avoids creating a huge diff in one CL. The intention is to in-line
    these incrementally.
    
    This is pre-work for issue:#6765
    
    PiperOrigin-RevId: 298818198

48	171	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceEventListener.java
155	0	library/core/src/main/java/com/google/android/exoplayer2/util/MediaSourceEventDispatcher.java

commit f204e4df7d98fda4e67cf69b5dc85a4280b60003
Author: kimvde <kimvde@google.com>
Date:   2020-03-04 11:59:38 +0000

    Add setCoreFlacExtractorFlags on DefaultExtractory
    
    PiperOrigin-RevId: 298816694

23	9	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java

commit 470ec9e5d18a319a72e831b30967ad12dbb33fc3
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-04 11:44:32 +0000

    Init the ads manager for placeholder timelines
    
    It looks like loading ad cue points would cause a source info refresh
    causing the content media period load to be canceled, meaning we would
    never get a non-placeholder timeline.
    
    This changes ensures that the ads manager will still be initialized,
    avoiding playback getting stuck when playing a ProgressiveMediaPeriod
    with a preroll ad.
    
    PiperOrigin-RevId: 298814758

0	4	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit d8ea1f60af210ac9ae65351f9bc7c57127e3034f
Author: olly <olly@google.com>
Date:   2020-03-04 11:04:39 +0000

    Annotate tests to use Robolectric's LEGACY LooperMode.
    
    The default Robolectric Looper simulation mode is changing to PAUSED from LEGACY.
    The following tests fail in this new mode, and are thus being defaulted to LEGACY.
    
    For more details see go/robolectric-legacy-looper-mode-lsc
    
    Cleanup change automatically generated by error-prone refactoring
    //third_party/android/androidx_test/tools/errorprone/java/androidx/test/tools/errorprone:LegacyLooperModeConverter_refactoring
    
    Tested:
        TAP train for global presubmit queue
        http://test/OCL:297627974:BASE:298600828:1583273401491:7d94dbaa
    PiperOrigin-RevId: 298809656

3	0	library/core/src/test/java/com/google/android/exoplayer2/AudioFocusManagerTest.java
3	0	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
3	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapterTest.java
3	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapterTest.java
3	0	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest2.java

commit 63256a48d44b797d781b9f32b7e653138066d4c9
Author: ibaker <ibaker@google.com>
Date:   2020-03-03 15:52:46 +0000

    Disable text selection in SubtitleWebView
    
    PiperOrigin-RevId: 298605366

1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleWebView.java

commit 58f42e9f8b8ce100358d8c27243c860c6018d1b6
Author: krocard <krocard@google.com>
Date:   2020-03-03 12:16:58 +0000

    Annotate render's read source result
    
    So that swich case has a warning if all case are not
    covered.
    
    PiperOrigin-RevId: 298574013

3	3	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaPeriod.java
12	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleStream.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java
2	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeRenderer.java

commit 7bfd2b27eba6b9db854d8f71259bfc1b972dd6ca
Author: ibaker <ibaker@google.com>
Date:   2020-03-03 11:08:19 +0000

    Start generating HTML from Span-styling in SubtitleWebView
    
    PiperOrigin-RevId: 298565231

236	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverter.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleWebView.java
198	0	library/ui/src/test/java/com/google/android/exoplayer2/ui/SpannedToHtmlConverterTest.java

commit eb3ea928064cd16b90e92e2eb1f872013beb32bb
Author: bachinger <bachinger@google.com>
Date:   2020-03-03 10:22:41 +0000

    remove unnecessary null-check
    
    PiperOrigin-RevId: 298559123

1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit f248a106276d481633913d0c6a9d7e5bead77fa1
Author: olly <olly@google.com>
Date:   2020-03-03 09:17:08 +0000

    [AVOD] Added if empty checks for streamKeys.
    
    DashMediaSource is created with Manifest data and streamKeys can be empty given that streamKeys are only created out of MediaItem inside DashMediaSource, and this particular implementation don't extract them out of MediaItem properties.
    
    Tested=Verified playback works.
    PiperOrigin-RevId: 298550021

1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit aeea17dd0f9eeef4dbe1a2e13c6691676e39d0ba
Merge: d1bbd3507 6d14c168e
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-10 10:17:13 +0000

    Merge pull request #6999 from xufuji456:dev-v2
    
    PiperOrigin-RevId: 298544278

commit d1bbd3507a818e14be965c300938f9d51f8b7836
Author: bachinger <bachinger@google.com>
Date:   2020-03-02 15:56:44 +0000

    add media item to create media sources
    
    This change adds the createMediaSource(MediaItem mediaItem) method to the MediaSourceFactory interface. It doesn't deprecate createMediaSource(Uri uri) to keep the cl smaller. Deprecation and removing calls to the deprecated method from within the library and extension follow in a separate CL.
    
    PiperOrigin-RevId: 298352442

7	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
448	0	library/core/src/main/java/com/google/android/exoplayer2/MediaItem.java
20	9	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
20	13	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceFactory.java
21	9	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
137	0	library/core/src/test/java/com/google/android/exoplayer2/MediaItemTest.java
36	13	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
37	12	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
38	14	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 9c1c74ecc432013e93130c8bec8fa296e3bc6998
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-02 13:59:26 +0000

    Rename .unklen.dump -> .unknown_length.dump
    
    PiperOrigin-RevId: 298334502

0	0	testdata/src/test/assets/amr/{sample_nb.amr.unklen.dump => sample_nb.amr.unknown_length.dump}
0	0	testdata/src/test/assets/amr/{sample_nb_cbr.amr.unklen.dump => sample_nb_cbr.amr.unknown_length.dump}
0	0	testdata/src/test/assets/amr/{sample_wb.amr.unklen.dump => sample_wb.amr.unknown_length.dump}
0	0	testdata/src/test/assets/amr/{sample_wb_cbr.amr.unklen.dump => sample_wb_cbr.amr.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_flac.unklen.dump => bear_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_flac.unklen.dump => bear_no_min_max_frame_size_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_raw.unklen.dump => bear_no_min_max_frame_size_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_no_num_samples_flac.unklen.dump => bear_no_num_samples_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_no_num_samples_raw.unklen.dump => bear_no_num_samples_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_no_seek_table_no_num_samples_flac.unklen.dump => bear_no_seek_table_no_num_samples_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_no_seek_table_no_num_samples_raw.unklen.dump => bear_no_seek_table_no_num_samples_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_flac.unklen.dump => bear_one_metadata_block_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_raw.unklen.dump => bear_one_metadata_block_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_raw.unklen.dump => bear_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_flac.unklen.dump => bear_uncommon_sample_rate_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_raw.unklen.dump => bear_uncommon_sample_rate_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_flac.unklen.dump => bear_with_id3_disabled_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_raw.unklen.dump => bear_with_id3_disabled_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_flac.unklen.dump => bear_with_id3_enabled_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_raw.unklen.dump => bear_with_id3_enabled_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_flac.unklen.dump => bear_with_picture_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_raw.unklen.dump => bear_with_picture_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_flac.unklen.dump => bear_with_vorbis_comments_flac.unknown_length.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_raw.unklen.dump => bear_with_vorbis_comments_raw.unknown_length.dump}
0	0	testdata/src/test/assets/flv/{sample.flv.unklen.dump => sample.flv.unknown_length.dump}
0	0	testdata/src/test/assets/mkv/{full_blocks.mkv.unklen.dump => full_blocks.mkv.unknown_length.dump}
0	0	testdata/src/test/assets/mkv/{sample.mkv.unklen.dump => sample.mkv.unknown_length.dump}
0	0	testdata/src/test/assets/mkv/{subsample_encrypted_altref.webm.unklen.dump => subsample_encrypted_altref.webm.unknown_length.dump}
0	0	testdata/src/test/assets/mkv/{subsample_encrypted_noaltref.webm.unklen.dump => subsample_encrypted_noaltref.webm.unknown_length.dump}
0	0	testdata/src/test/assets/mp3/{bear-cbr-variable-frame-size-no-seek-table.mp3.unklen.dump => bear-cbr-variable-frame-size-no-seek-table.mp3.unknown_length.dump}
0	0	testdata/src/test/assets/mp3/{bear-vbr-no-seek-table.mp3.unklen.dump => bear-vbr-no-seek-table.mp3.unknown_length.dump}
0	0	testdata/src/test/assets/mp3/{bear-vbr-xing-header.mp3.unklen.dump => bear-vbr-xing-header.mp3.unknown_length.dump}
0	0	testdata/src/test/assets/mp3/{play-trimmed.mp3.unklen.dump => play-trimmed.mp3.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample.mp4.unklen.dump => sample.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_ac3.mp4.unklen.dump => sample_ac3.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_ac3_fragmented.mp4.unklen.dump => sample_ac3_fragmented.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_ac4.mp4.unklen.dump => sample_ac4.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_ac4_fragmented.mp4.unklen.dump => sample_ac4_fragmented.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_ac4_protected.mp4.unklen.dump => sample_ac4_protected.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_android_slow_motion.mp4.unklen.dump => sample_android_slow_motion.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_eac3.mp4.unklen.dump => sample_eac3.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_eac3_fragmented.mp4.unklen.dump => sample_eac3_fragmented.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_eac3joc.mp4.unklen.dump => sample_eac3joc.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_eac3joc_fragmented.mp4.unklen.dump => sample_eac3joc_fragmented.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_fragmented.mp4.unklen.dump => sample_fragmented.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_fragmented_seekable.mp4.unklen.dump => sample_fragmented_seekable.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_fragmented_sei.mp4.unklen.dump => sample_fragmented_sei.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/mp4/{sample_mdat_too_long.mp4.unklen.dump => sample_mdat_too_long.mp4.unknown_length.dump}
0	0	testdata/src/test/assets/ogg/{bear.opus.unklen.dump => bear.opus.unknown_length.dump}
0	0	testdata/src/test/assets/ogg/{bear_flac.ogg.unklen.dump => bear_flac.ogg.unknown_length.dump}
0	0	testdata/src/test/assets/ogg/{bear_flac_noseektable.ogg.unklen.dump => bear_flac_noseektable.ogg.unknown_length.dump}
0	0	testdata/src/test/assets/ogg/{bear_vorbis.ogg.unklen.dump => bear_vorbis.ogg.unknown_length.dump}
0	0	testdata/src/test/assets/rawcc/{sample.rawcc.unklen.dump => sample.rawcc.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample.ac3.unklen.dump => sample.ac3.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample.ac4.unklen.dump => sample.ac4.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample.adts.unklen.dump => sample.adts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample.eac3.unklen.dump => sample.eac3.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample.ps.unklen.dump => sample.ps.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample.ts.unklen.dump => sample.ts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_ac3.ts.unklen.dump => sample_ac3.ts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_ac4.ts.unklen.dump => sample_ac4.ts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_ait.ts.unklen.dump => sample_ait.ts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_cbs.adts.unklen.dump => sample_cbs.adts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_cbs_truncated.adts.unklen.dump => sample_cbs_truncated.adts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_eac3.ts.unklen.dump => sample_eac3.ts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_eac3joc.ec3.unklen.dump => sample_eac3joc.ec3.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_eac3joc.ts.unklen.dump => sample_eac3joc.ts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_scte35.ts.unklen.dump => sample_scte35.ts.unknown_length.dump}
0	0	testdata/src/test/assets/ts/{sample_with_junk.unklen.dump => sample_with_junk.unknown_length.dump}
0	0	testdata/src/test/assets/wav/{sample.wav.unklen.dump => sample.wav.unknown_length.dump}
0	0	testdata/src/test/assets/wav/{sample_ima_adpcm.wav.unklen.dump => sample_ima_adpcm.wav.unknown_length.dump}
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit b095fd57e68edae3786207f54cb476832a7d4fcb
Author: tonihei <tonihei@google.com>
Date:   2020-03-02 13:59:25 +0000

    Extend test case to cover existing and potential bug conditions.
    
    PiperOrigin-RevId: 298334500

125	9	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 06e1651612e112585cb1fa11f2873f2a12c1ff4f
Merge: 2f4e88d5a 40df646a0
Author: Oliver Woodman <olly@google.com>
Date:   2020-03-10 10:16:35 +0000

    Merge pull request #7026 from DolbyLaboratories:dev-v2-test-assets
    
    PiperOrigin-RevId: 298317097

commit 2f4e88d5afc6da17a659f8bd8211ce5cf6958a98
Author: ibaker <ibaker@google.com>
Date:   2020-03-02 11:11:06 +0000

    Remove ByteBufferBackingArray suppression from metadata decoders
    
    PiperOrigin-RevId: 298312222

2	1	library/common/src/main/java/com/google/android/exoplayer2/metadata/MetadataDecoder.java
3	4	library/common/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
2	1	library/common/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Decoder.java
30	4	library/common/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoderTest.java
2	3	library/common/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoderTest.java
32	0	library/common/src/test/java/com/google/android/exoplayer2/metadata/id3/Id3DecoderTest.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/dvbsi/AppInfoTableDecoder.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/scte35/SpliceInfoDecoder.java
29	7	library/core/src/test/java/com/google/android/exoplayer2/metadata/dvbsi/AppInfoTableDecoderTest.java
26	6	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java
29	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/scte35/SpliceInfoDecoderTest.java
13	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit ea51e6ee8e93f3540eccd8450a69f7c485d1dfa5
Author: ibaker <ibaker@google.com>
Date:   2020-03-02 10:23:44 +0000

    Re-format the unreleased section of RELEASENOTES.md
    
    The auto-formatter wants it to look like this, and will reformat
    the whole list when an item is added, so let's put that diff in a
    standalone change.
    
    PiperOrigin-RevId: 298305479

87	83	RELEASENOTES.md

commit a12d72c72c74cf8b624e84c1bd10b76f1ad575bf
Author: tonihei <tonihei@google.com>
Date:   2020-03-02 09:46:29 +0000

    Fix flakiness in SimpleDecoderVideoRendererTest
    
    The test had two problems:
     1. It posts messages using a Handler and we need to idle the main looper
        to actually deliver this message.
     2. SimpleDecoder uses a background thread that is not within our control
        from the test. Ensure the decoding happens after we queue input buffers
        by using a lock.
    
    PiperOrigin-RevId: 298300175

52	0	library/core/src/test/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRendererTest.java

commit 0b946ac3178cb0d4435930690b47eda3e79edd56
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-02 08:38:59 +0000

    Move max encoded audio rates to format utils
    
    PiperOrigin-RevId: 298290511

22	0	library/common/src/main/java/com/google/android/exoplayer2/audio/AacUtil.java
7	0	library/common/src/main/java/com/google/android/exoplayer2/audio/Ac3Util.java
3	0	library/common/src/main/java/com/google/android/exoplayer2/audio/Ac4Util.java
9	0	library/common/src/main/java/com/google/android/exoplayer2/audio/DtsUtil.java
6	0	library/common/src/main/java/com/google/android/exoplayer2/audio/MpegAudioUtil.java
12	19	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 2ca363316c2610a64caf0e280fd1788230f2fb03
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-03-02 08:22:10 +0000

    Fix typo
    
    PiperOrigin-RevId: 298288236

4	5	library/common/src/main/java/com/google/android/exoplayer2/video/ColorInfo.java

commit a6d0caaa3c95746beb4e82c1005c06cbb14b6f6c
Author: olly <olly@google.com>
Date:   2020-02-29 18:40:57 +0000

    Drop prefix test- from test methods under v2/library
    
    This is one step toward following the google3's test naming convention.
    See go/java-testing/getting_started#basic-test-template for details
    why prefix test isn't necessary.
    
    This CL is generated by following command
    $ find -name '*Test.java' | xargs -I{} sed -i 's/^\ \ public\ void\ test\([A-Z]\)\(.*\)$/  public void \L\1\E\2/' {}
    
    and then manually modified following tests where test method names conflict with test target.
    - VorbisUtilTest
    - VorbisReaderTest
    - UtilTest
    - DownloadManagerDashTest
    - DefaultOggSeekerTest
    - OggPageHeaderTest
    - HlsMasterPlaylistParserTest
    
    PiperOrigin-RevId: 298074653

2	2	library/common/src/test/java/com/google/android/exoplayer2/CTest.java
2	2	library/common/src/test/java/com/google/android/exoplayer2/audio/Ac3UtilTest.java
6	6	library/common/src/test/java/com/google/android/exoplayer2/drm/DrmInitDataTest.java
1	1	library/common/src/test/java/com/google/android/exoplayer2/metadata/MetadataTest.java
1	1	library/common/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoderTest.java
3	5	library/common/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoderTest.java
1	1	library/common/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageTest.java
1	1	library/common/src/test/java/com/google/android/exoplayer2/metadata/flac/PictureFrameTest.java
1	1	library/common/src/test/java/com/google/android/exoplayer2/metadata/flac/VorbisCommentTest.java
1	1	library/common/src/test/java/com/google/android/exoplayer2/metadata/id3/ChapterFrameTest.java
1	1	library/common/src/test/java/com/google/android/exoplayer2/metadata/id3/ChapterTocFrameTest.java
8	8	library/common/src/test/java/com/google/android/exoplayer2/metadata/id3/Id3DecoderTest.java
1	1	library/common/src/test/java/com/google/android/exoplayer2/metadata/id3/MlltFrameTest.java
3	3	library/common/src/test/java/com/google/android/exoplayer2/util/MimeTypesTest.java
6	6	library/common/src/test/java/com/google/android/exoplayer2/util/NalUnitUtilTest.java
28	28	library/common/src/test/java/com/google/android/exoplayer2/util/ParsableBitArrayTest.java
32	32	library/common/src/test/java/com/google/android/exoplayer2/util/ParsableByteArrayTest.java
7	7	library/common/src/test/java/com/google/android/exoplayer2/util/ParsableNalUnitBitArrayTest.java
43	21	library/common/src/test/java/com/google/android/exoplayer2/util/UtilTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlStyleTest.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashMediaSourceTest.java
4	4	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashUtilTest.java
35	35	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/EventSampleStreamTest.java
3	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestTest.java
4	4	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/RangedUriTest.java
4	4	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/UrlTemplateTest.java
11	11	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloaderTest.java
7	7	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
3	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
13	13	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ConstantBitrateSeekMapTest.java
38	46	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorInputTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactoryTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ExtractorTest.java
2	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ExtractorUtilTest.java
3	4	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/Id3PeekerTest.java
9	9	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/VorbisBitArrayTest.java
11	9	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/VorbisUtilTest.java
12	12	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/amr/AmrExtractorSeekTest.java
12	13	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/amr/AmrExtractorTest.java
10	10	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/flv/FlvExtractorTest.java
11	11	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mkv/DefaultEbmlReaderTest.java
4	4	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractorTest.java
4	4	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mkv/VarintReaderTest.java
4	4	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/Mp3ExtractorTest.java
6	6	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/XingSeekerTest.java
4	4	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/AtomParsersTest.java
6	6	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/MdtaMetadataEntryTest.java
5	5	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/PsshAtomUtilTest.java
9	9	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
10	10	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggExtractorTest.java
7	7	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPacketTest.java
5	4	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeaderTest.java
4	3	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisReaderTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractorTest.java
2	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/Ac3ExtractorTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/Ac4ExtractorTest.java
6	7	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorSeekTest.java
3	3	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorTest.java
11	11	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsReaderTest.java
3	3	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/PsDurationReaderTest.java
7	7	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/PsExtractorSeekTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/PsExtractorTest.java
6	6	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/SectionReaderTest.java
3	3	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsDurationReaderTest.java
7	7	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorSeekTest.java
8	8	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
2	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/wav/WavExtractorTest.java
8	8	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloaderTest.java
15	14	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java
12	12	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylistParserTest.java
1	1	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParserTest.java
2	2	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestTest.java
9	9	library/ui/src/test/java/com/google/android/exoplayer2/ui/spherical/TouchTrackerTest.java

commit c1258e7e9fe3e477f80f6508159615d750189bc0
Author: bachinger <bachinger@google.com>
Date:   2020-02-29 18:00:45 +0000

    add getter/setter of skipSilenceEnable to AudioComponent
    
    PiperOrigin-RevId: 298070828

10	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
38	7	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java

commit 8908cc85ed19b5f077ede17c9a6dc4e62862506c
Author: Davide Bertola <dade@dadeb.it>
Date:   2020-03-09 16:43:55 +0100

    DASHMediaSource: avoid potentially locking twice
    
    It many happen when changing manifest uri because of http 302 and MPD.Location present.

8	13	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit ca70b10c0388525bd54b76dfcbf0baa20ae62393
Author: Davide Bertola <dade@dadeb.it>
Date:   2020-03-09 16:33:57 +0100

    DASHMediaSource: ensure MPD.Location is applied in also case of http redirect

1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit 087c6e0e0526c8cf5f1c48684c0f0ee51fb0a94b
Author: Davide Bertola <dade@dadeb.it>
Date:   2020-03-06 11:33:55 +0100

    stick to new dash manifest uri after http 302 redirection

12	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit 170fc852cab1ec5460914dcb564c465a4592935d
Author: Nicola Verbeeck <nicola@chimerapps.com>
Date:   2020-03-06 12:24:04 +0100

    DASH: Include AssetIdentifier in period
    DASH: Parse AssetIdentifier in period
    Breaking: DashManifestParser.buildPeriod signature has changed

9	4	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
19	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/Period.java
22	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParserTest.java
24	0	testdata/src/test/assets/mpd/sample_mpd_asset_identifier

commit ebc765c3e18da37413b3fe720ac54b0dc8ca0899
Author: Cizor <yourcizor@gmail.com>
Date:   2020-03-05 18:21:47 +0530

    Rendererd buffer count when tunneling enabled
    
    Increasing buffer count when tunneling enabled, for video tracks.
    Audio buffer count works fine for both modes.

1	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 67b29bbe3956ff9764921c7e71302d3ee464709d
Author: olly <olly@google.com>
Date:   2020-02-28 18:38:25 +0000

    Format.Builder: Finish migration
    
    Issue: #5978
    PiperOrigin-RevId: 297876336

10	16	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
1	0	library/common/src/main/java/com/google/android/exoplayer2/Format.java
16	24	library/common/src/main/java/com/google/android/exoplayer2/audio/Ac3Util.java
8	12	library/common/src/main/java/com/google/android/exoplayer2/audio/Ac4Util.java
9	2	library/common/src/main/java/com/google/android/exoplayer2/audio/DtsUtil.java
2	2	library/common/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
10	9	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
10	17	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
13	28	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
23	18	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
4	3	library/core/src/test/java/com/google/android/exoplayer2/source/TrackGroupArrayTest.java
3	2	library/core/src/test/java/com/google/android/exoplayer2/source/TrackGroupTest.java
6	12	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java
20	30	library/core/src/test/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRendererTest.java
8	17	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/FlacStreamMetadata.java
6	13	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/amr/AmrExtractor.java
13	17	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/flv/AudioTagPayloadReader.java
8	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/flv/VideoTagPayloadReader.java
9	16	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
34	30	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
6	12	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ogg/OpusReader.java
13	15	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ogg/VorbisReader.java
7	12	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Reader.java
7	12	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac4Reader.java
4	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsReader.java
7	9	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java
6	6	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/DvbSubtitleReader.java
9	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/H262Reader.java
14	16	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/H264Reader.java
12	7	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/H265Reader.java
5	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/Id3Reader.java
11	12	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/LatmReader.java
8	12	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/MpegAudioReader.java
8	8	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/SeiReader.java
8	8	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/UserDataReader.java
20	27	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
1	5	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
7	15	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractorTest.java
11	3	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
0	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.0.dump
0	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.1.dump
0	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.2.dump
0	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.3.dump
0	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.unklen.dump

commit 0649c7b9584bb7e0a1f24c25b846e5aa804e2e2f
Author: christosts <christosts@google.com>
Date:   2020-02-28 18:27:20 +0000

    MediaCodecRenderer: apply rendering limit on feed
    
    PiperOrigin-RevId: 297873726

6	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 4c1f0c40ce3f7b3a65df37933d99d364ebb597bb
Author: olly <olly@google.com>
Date:   2020-02-28 17:51:30 +0000

    Format.Builder: Simplify some test classes
    
    PiperOrigin-RevId: 297865356

14	68	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtilTest.java
155	436	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
7	31	library/core/src/test/java/com/google/android/exoplayer2/trackselection/MappingTrackSelectorTest.java

commit 3730639c95149a8d552b73d1016421e3d0478a07
Author: olly <olly@google.com>
Date:   2020-02-28 17:47:07 +0000

    Don't set decoded bitrate on audio/flac format
    
    PiperOrigin-RevId: 297864386

1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
24	16	library/common/src/main/java/com/google/android/exoplayer2/Format.java
3	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/FlacStreamMetadata.java
0	2	testdata/src/test/assets/flac/bear_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_flac.1.dump
0	2	testdata/src/test/assets/flac/bear_flac.2.dump
0	2	testdata/src/test/assets/flac/bear_flac.3.dump
0	2	testdata/src/test/assets/flac/bear_flac.unklen.dump
0	2	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.1.dump
0	2	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.2.dump
0	2	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.3.dump
0	2	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.unklen.dump
0	2	testdata/src/test/assets/flac/bear_no_num_samples_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_no_num_samples_flac.unklen.dump
0	2	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_flac.unklen.dump
0	2	testdata/src/test/assets/flac/bear_one_metadata_block_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_one_metadata_block_flac.1.dump
0	2	testdata/src/test/assets/flac/bear_one_metadata_block_flac.2.dump
0	2	testdata/src/test/assets/flac/bear_one_metadata_block_flac.3.dump
0	2	testdata/src/test/assets/flac/bear_one_metadata_block_flac.unklen.dump
0	2	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.1.dump
0	2	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.2.dump
0	2	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.3.dump
0	2	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.unklen.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.1.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.2.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.3.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.unklen.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.1.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.2.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.3.dump
0	2	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.unklen.dump
0	2	testdata/src/test/assets/flac/bear_with_picture_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_with_picture_flac.1.dump
0	2	testdata/src/test/assets/flac/bear_with_picture_flac.2.dump
0	2	testdata/src/test/assets/flac/bear_with_picture_flac.3.dump
0	2	testdata/src/test/assets/flac/bear_with_picture_flac.unklen.dump
0	2	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.0.dump
0	2	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.1.dump
0	2	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.2.dump
0	2	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.3.dump
0	2	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.unklen.dump
0	2	testdata/src/test/assets/ogg/bear_flac.ogg.0.dump
0	2	testdata/src/test/assets/ogg/bear_flac.ogg.1.dump
0	2	testdata/src/test/assets/ogg/bear_flac.ogg.2.dump
0	2	testdata/src/test/assets/ogg/bear_flac.ogg.3.dump
0	2	testdata/src/test/assets/ogg/bear_flac.ogg.unklen.dump
0	2	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
0	2	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
0	2	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
0	2	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
0	2	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump

commit 1ca9a061b103913e73d127a88ce3dd58607f799c
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-28 13:38:11 +0000

    Split AAC utils out of CodecSpecificDataUtil
    
    PiperOrigin-RevId: 297823929

340	0	library/common/src/main/java/com/google/android/exoplayer2/audio/AacUtil.java
1	309	library/common/src/main/java/com/google/android/exoplayer2/util/CodecSpecificDataUtil.java
4	5	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
2	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/flv/AudioTagPayloadReader.java
2	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
3	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsReader.java
2	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/LatmReader.java
2	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit ffdc5805bd2de9a9c185536a35edd4707714cfb2
Author: tonihei <tonihei@google.com>
Date:   2020-02-28 12:22:06 +0000

    Remove dependency on legacy Robolectric Looper mode
    
    The default will soon change to Looper mode PAUSED. Some parts of our code
    relies on the legacy behaviour when setting set SystemClock and expecting
    pending messages to be delivered. With the new mode, we need to explicitly
    request to idle the main looper so that pending messages can be delivered.
    
    PiperOrigin-RevId: 297814964

22	8	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceTest.java

commit 6c7a2c3cfd953ff664d61992bc2c17165d90a1a9
Author: tonihei <tonihei@google.com>
Date:   2020-02-28 12:13:58 +0000

    Ensure seeks are not ignored in ended state.
    
    We should only ignore seek to the current position if we are
    currently READY or BUFFERING. Also, pending initial seek positions
    should only be saved while we have an empty timeline, independent of
    the player state.
    
    Issue:#6886
    PiperOrigin-RevId: 297813854

7	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
37	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 68c401b53e43c4891e37a4f8a1e5ceefdfd0c288
Author: tonihei <tonihei@google.com>
Date:   2020-02-28 12:11:48 +0000

    Mark initial progressive source Timeline as placeholder
    
    This is more accurate since it's just a placeholder and none of the
    values is provided by the media.
    
    It also allows to fix a problem in ClippingMediaSource where we
    couldn't detect a clipping error because we didn't know if the
    timeline is a placeholder or not.
    
    Issue:#5924
    PiperOrigin-RevId: 297813606

3	3	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaSource.java
29	9	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
22	3	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java

commit 697165ce5661d9199a8dba07a70088e78259b576
Author: tonihei <tonihei@google.com>
Date:   2020-02-28 12:09:12 +0000

    Enable window-period offset in tests by default.
    
    This ensures all player interactions in tests automatically verify that
    timestamps calculations are done correctly.
    
    PiperOrigin-RevId: 297813324

5	2	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
6	2	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
5	2	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
28	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit 28cefe12c5747fcba1de8f757992773177edbd0e
Author: tonihei <tonihei@google.com>
Date:   2020-02-28 12:06:04 +0000

    Don't ignore first period when updating information to new Timeline.
    
    This while loop started with the second period in the queue and the
    first one was always ignored.
    
    PiperOrigin-RevId: 297812937

4	6	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 91a87b3fa0c314ec0e9929abf7673ab891c70bd4
Author: tonihei <tonihei@google.com>
Date:   2020-02-28 12:03:25 +0000

    Prevent deletion of unprepared periods.
    
    When a new Timeline arrives in the Player, we check whether we can keep
    existing MediaPeriods. This check currently involves a condition that
    checks if the MediaPeriod is already prepared. The only reason we do
    that is to avoid calling MediaPeriod.seekToUs, which is not allowed
    on an unprepared MediaPeriod.
    
    It's better to keep the MediaPeriod to prevent restarting the
    preparation process. The prepration check can move further down to the
    place right before we would call seekToUs.
    
    PiperOrigin-RevId: 297812584

9	4	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 3ef0015817a3ab2793611a99e8122c575b3bb46c
Author: tonihei <tonihei@google.com>
Date:   2020-02-28 12:01:14 +0000

    Ensure to update all existing MediaPeriodInfo to new Timeline
    
    AnalyticsCollector keeps a list of existing MediaPeriodInfo that need
    to be updated to new Timelines when they arrive. This already
    happens in all cases except that the playingMediaPeriod wasn't updated
    when it didn't change during the timeline update.
    
    PiperOrigin-RevId: 297812038

2	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java

commit 3b1b2951e46e3c181de90a0f86378da5a3aeb65e
Author: tonihei <tonihei@google.com>
Date:   2020-02-28 11:57:56 +0000

    Clarify/fix position reference points for AdPlaybackState.
    
    The positions were interchangeably used with window and period
    positions. This change more clearly ensures that all positions in the
    AdPlaybackState are based on periods and that we use the right adjustments
    for all usages.
    
    PiperOrigin-RevId: 297811633

27	10	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java
5	3	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
11	10	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
6	2	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
25	18	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdPlaybackState.java
4	5	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit 64feb97d62e9761def6aaf8eea52c5aa52cda891
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-28 11:14:47 +0000

    Add codecs string to extractor dumps
    
    PiperOrigin-RevId: 297806457

1	0	testdata/src/test/assets/flv/sample.flv.0.dump
1	0	testdata/src/test/assets/flv/sample.flv.unklen.dump
1	0	testdata/src/test/assets/mp4/sample.mp4.0.dump
1	0	testdata/src/test/assets/mp4/sample.mp4.1.dump
1	0	testdata/src/test/assets/mp4/sample.mp4.2.dump
1	0	testdata/src/test/assets/mp4/sample.mp4.3.dump
1	0	testdata/src/test/assets/mp4/sample.mp4.unklen.dump
1	0	testdata/src/test/assets/mp4/sample_fragmented.mp4.0.dump
1	0	testdata/src/test/assets/mp4/sample_fragmented.mp4.unklen.dump
1	0	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.0.dump
1	0	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.1.dump
1	0	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.2.dump
1	0	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.3.dump
1	0	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.unklen.dump
1	0	testdata/src/test/assets/mp4/sample_fragmented_sei.mp4.0.dump
1	0	testdata/src/test/assets/mp4/sample_fragmented_sei.mp4.unklen.dump
1	0	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
1	0	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
1	0	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
1	0	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
1	0	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.unklen.dump
1	0	testdata/src/test/assets/rawcc/sample.rawcc.0.dump
1	0	testdata/src/test/assets/rawcc/sample.rawcc.unklen.dump
1	0	testdata/src/test/assets/ts/sample.adts.0.dump
1	0	testdata/src/test/assets/ts/sample.adts.unklen.dump
1	0	testdata/src/test/assets/ts/sample_cbs.adts.0.dump
1	0	testdata/src/test/assets/ts/sample_cbs.adts.1.dump
1	0	testdata/src/test/assets/ts/sample_cbs.adts.2.dump
1	0	testdata/src/test/assets/ts/sample_cbs.adts.3.dump
1	0	testdata/src/test/assets/ts/sample_cbs.adts.unklen.dump
1	0	testdata/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
1	0	testdata/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
1	0	testdata/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
1	0	testdata/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
1	0	testdata/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit db97d0c37c2618aa92f4dbfe58c800ee7b56a90a
Author: olly <olly@google.com>
Date:   2020-02-27 19:28:22 +0000

    Format.Builder: Migrate MatroskaExtractor
    
    Selection flags and language tags appear to apply to all tracks
    in MKV, so I think the change in output is correct.
    
    PiperOrigin-RevId: 297646190

28	48	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
2	0	testdata/src/test/assets/mkv/sample.mkv.0.dump
2	0	testdata/src/test/assets/mkv/sample.mkv.1.dump
2	0	testdata/src/test/assets/mkv/sample.mkv.2.dump
2	0	testdata/src/test/assets/mkv/sample.mkv.3.dump
2	0	testdata/src/test/assets/mkv/sample.mkv.unklen.dump
2	0	testdata/src/test/assets/mkv/subsample_encrypted_altref.webm.0.dump
2	0	testdata/src/test/assets/mkv/subsample_encrypted_altref.webm.unklen.dump
2	0	testdata/src/test/assets/mkv/subsample_encrypted_noaltref.webm.0.dump
2	0	testdata/src/test/assets/mkv/subsample_encrypted_noaltref.webm.unklen.dump

commit 56dbe83a4c51a296d52ff495311ad931abd75ce5
Author: kimvde <kimvde@google.com>
Date:   2020-02-27 17:34:57 +0000

    Extractor tests: dump only non-default values for format
    
    This removes noisy data from the dump files and allows updating less
    dump files if a format field is added, removed or updated.
    
    PiperOrigin-RevId: 297617138

33	0	library/common/src/main/java/com/google/android/exoplayer2/util/Function.java
0	18	testdata/src/test/assets/amr/sample_nb.amr.0.dump
0	18	testdata/src/test/assets/amr/sample_nb.amr.unklen.dump
0	18	testdata/src/test/assets/amr/sample_nb_cbr.amr.0.dump
0	18	testdata/src/test/assets/amr/sample_nb_cbr.amr.1.dump
0	18	testdata/src/test/assets/amr/sample_nb_cbr.amr.2.dump
0	18	testdata/src/test/assets/amr/sample_nb_cbr.amr.3.dump
0	18	testdata/src/test/assets/amr/sample_nb_cbr.amr.unklen.dump
0	18	testdata/src/test/assets/amr/sample_wb.amr.0.dump
0	18	testdata/src/test/assets/amr/sample_wb.amr.unklen.dump
0	18	testdata/src/test/assets/amr/sample_wb_cbr.amr.0.dump
0	18	testdata/src/test/assets/amr/sample_wb_cbr.amr.1.dump
0	18	testdata/src/test/assets/amr/sample_wb_cbr.amr.2.dump
0	18	testdata/src/test/assets/amr/sample_wb_cbr.amr.3.dump
0	18	testdata/src/test/assets/amr/sample_wb_cbr.amr.unklen.dump
0	15	testdata/src/test/assets/flac/bear_flac.0.dump
0	15	testdata/src/test/assets/flac/bear_flac.1.dump
0	15	testdata/src/test/assets/flac/bear_flac.2.dump
0	15	testdata/src/test/assets/flac/bear_flac.3.dump
0	15	testdata/src/test/assets/flac/bear_flac.unklen.dump
0	16	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.0.dump
0	16	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.1.dump
0	16	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.2.dump
0	16	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.3.dump
0	16	testdata/src/test/assets/flac/bear_no_min_max_frame_size_flac.unklen.dump
0	15	testdata/src/test/assets/flac/bear_no_min_max_frame_size_raw.0.dump
0	15	testdata/src/test/assets/flac/bear_no_min_max_frame_size_raw.1.dump
0	15	testdata/src/test/assets/flac/bear_no_min_max_frame_size_raw.2.dump
0	15	testdata/src/test/assets/flac/bear_no_min_max_frame_size_raw.3.dump
0	15	testdata/src/test/assets/flac/bear_no_min_max_frame_size_raw.unklen.dump
0	15	testdata/src/test/assets/flac/bear_no_num_samples_flac.0.dump
0	15	testdata/src/test/assets/flac/bear_no_num_samples_flac.unklen.dump
0	15	testdata/src/test/assets/flac/bear_no_num_samples_raw.0.dump
0	15	testdata/src/test/assets/flac/bear_no_num_samples_raw.unklen.dump
0	15	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_flac.0.dump
0	15	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_flac.unklen.dump
0	15	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_raw.0.dump
0	15	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_raw.unklen.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_flac.0.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_flac.1.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_flac.2.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_flac.3.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_flac.unklen.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_raw.0.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_raw.1.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_raw.2.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_raw.3.dump
0	15	testdata/src/test/assets/flac/bear_one_metadata_block_raw.unklen.dump
0	15	testdata/src/test/assets/flac/bear_raw.0.dump
0	15	testdata/src/test/assets/flac/bear_raw.1.dump
0	15	testdata/src/test/assets/flac/bear_raw.2.dump
0	15	testdata/src/test/assets/flac/bear_raw.3.dump
0	15	testdata/src/test/assets/flac/bear_raw.unklen.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.0.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.1.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.2.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.3.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_flac.unklen.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_raw.0.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_raw.1.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_raw.2.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_raw.3.dump
0	15	testdata/src/test/assets/flac/bear_uncommon_sample_rate_raw.unklen.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.0.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.1.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.2.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.3.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_flac.unklen.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_raw.0.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_raw.1.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_raw.2.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_raw.3.dump
0	15	testdata/src/test/assets/flac/bear_with_id3_disabled_raw.unklen.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.0.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.1.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.2.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.3.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_flac.unklen.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_raw.0.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_raw.1.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_raw.2.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_raw.3.dump
0	14	testdata/src/test/assets/flac/bear_with_id3_enabled_raw.unklen.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_flac.0.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_flac.1.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_flac.2.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_flac.3.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_flac.unklen.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_raw.0.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_raw.1.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_raw.2.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_raw.3.dump
0	14	testdata/src/test/assets/flac/bear_with_picture_raw.unklen.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.0.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.1.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.2.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.3.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_flac.unklen.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_raw.0.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_raw.1.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_raw.2.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_raw.3.dump
0	14	testdata/src/test/assets/flac/bear_with_vorbis_comments_raw.unklen.dump
0	36	testdata/src/test/assets/flv/sample.flv.0.dump
0	36	testdata/src/test/assets/flv/sample.flv.unklen.dump
0	18	testdata/src/test/assets/mkv/full_blocks.mkv.0.dump
0	18	testdata/src/test/assets/mkv/full_blocks.mkv.1.dump
0	18	testdata/src/test/assets/mkv/full_blocks.mkv.2.dump
0	18	testdata/src/test/assets/mkv/full_blocks.mkv.3.dump
0	18	testdata/src/test/assets/mkv/full_blocks.mkv.unklen.dump
0	33	testdata/src/test/assets/mkv/sample.mkv.0.dump
0	33	testdata/src/test/assets/mkv/sample.mkv.1.dump
0	33	testdata/src/test/assets/mkv/sample.mkv.2.dump
0	33	testdata/src/test/assets/mkv/sample.mkv.3.dump
0	33	testdata/src/test/assets/mkv/sample.mkv.unklen.dump
0	17	testdata/src/test/assets/mkv/subsample_encrypted_altref.webm.0.dump
0	17	testdata/src/test/assets/mkv/subsample_encrypted_altref.webm.unklen.dump
0	17	testdata/src/test/assets/mkv/subsample_encrypted_noaltref.webm.0.dump
0	17	testdata/src/test/assets/mkv/subsample_encrypted_noaltref.webm.unklen.dump
0	18	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.0.dump
0	18	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.1.dump
0	18	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.2.dump
0	18	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.3.dump
0	18	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.unklen.dump
0	18	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.0.dump
0	18	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.1.dump
0	18	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.2.dump
0	18	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.3.dump
0	18	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.unklen.dump
0	15	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.0.dump
0	15	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.1.dump
0	15	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.2.dump
0	15	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.3.dump
0	15	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.unklen.dump
0	18	testdata/src/test/assets/mp3/play-trimmed.mp3.0.dump
0	18	testdata/src/test/assets/mp3/play-trimmed.mp3.1.dump
0	18	testdata/src/test/assets/mp3/play-trimmed.mp3.2.dump
0	18	testdata/src/test/assets/mp3/play-trimmed.mp3.3.dump
0	18	testdata/src/test/assets/mp3/play-trimmed.mp3.unklen.dump
0	29	testdata/src/test/assets/mp4/sample.mp4.0.dump
0	29	testdata/src/test/assets/mp4/sample.mp4.1.dump
0	29	testdata/src/test/assets/mp4/sample.mp4.2.dump
0	29	testdata/src/test/assets/mp4/sample.mp4.3.dump
0	29	testdata/src/test/assets/mp4/sample.mp4.unklen.dump
0	16	testdata/src/test/assets/mp4/sample_ac4.mp4.0.dump
0	16	testdata/src/test/assets/mp4/sample_ac4.mp4.1.dump
0	16	testdata/src/test/assets/mp4/sample_ac4.mp4.2.dump
0	16	testdata/src/test/assets/mp4/sample_ac4.mp4.3.dump
0	16	testdata/src/test/assets/mp4/sample_ac4.mp4.unklen.dump
0	17	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.0.dump
0	17	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.1.dump
0	17	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.2.dump
0	17	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.3.dump
0	17	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.unklen.dump
0	16	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.0.dump
0	16	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.1.dump
0	16	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.2.dump
0	16	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.3.dump
0	16	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.unklen.dump
0	14	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.0.dump
0	14	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.1.dump
0	14	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.2.dump
0	14	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.3.dump
0	14	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.unklen.dump
0	16	testdata/src/test/assets/mp4/sample_eac3.mp4.0.dump
0	16	testdata/src/test/assets/mp4/sample_eac3.mp4.1.dump
0	16	testdata/src/test/assets/mp4/sample_eac3.mp4.2.dump
0	16	testdata/src/test/assets/mp4/sample_eac3.mp4.3.dump
0	16	testdata/src/test/assets/mp4/sample_eac3.mp4.unklen.dump
0	17	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.0.dump
0	17	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.1.dump
0	17	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.2.dump
0	17	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.3.dump
0	17	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.unklen.dump
0	33	testdata/src/test/assets/mp4/sample_fragmented.mp4.0.dump
0	33	testdata/src/test/assets/mp4/sample_fragmented.mp4.unklen.dump
0	33	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.0.dump
0	33	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.1.dump
0	33	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.2.dump
0	33	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.3.dump
0	33	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.unklen.dump
0	54	testdata/src/test/assets/mp4/sample_fragmented_sei.mp4.0.dump
0	54	testdata/src/test/assets/mp4/sample_fragmented_sei.mp4.unklen.dump
0	29	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
0	29	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
0	29	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
0	29	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
0	29	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.unklen.dump
0	18	testdata/src/test/assets/ogg/bear.opus.0.dump
0	18	testdata/src/test/assets/ogg/bear.opus.1.dump
0	18	testdata/src/test/assets/ogg/bear.opus.2.dump
0	18	testdata/src/test/assets/ogg/bear.opus.3.dump
0	18	testdata/src/test/assets/ogg/bear.opus.unklen.dump
0	15	testdata/src/test/assets/ogg/bear_flac.ogg.0.dump
0	15	testdata/src/test/assets/ogg/bear_flac.ogg.1.dump
0	15	testdata/src/test/assets/ogg/bear_flac.ogg.2.dump
0	15	testdata/src/test/assets/ogg/bear_flac.ogg.3.dump
0	15	testdata/src/test/assets/ogg/bear_flac.ogg.unklen.dump
0	15	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
0	15	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
0	15	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
0	15	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
0	15	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump
0	16	testdata/src/test/assets/ogg/bear_vorbis.ogg.0.dump
0	16	testdata/src/test/assets/ogg/bear_vorbis.ogg.1.dump
0	16	testdata/src/test/assets/ogg/bear_vorbis.ogg.2.dump
0	16	testdata/src/test/assets/ogg/bear_vorbis.ogg.3.dump
0	16	testdata/src/test/assets/ogg/bear_vorbis.ogg.unklen.dump
0	21	testdata/src/test/assets/rawcc/sample.rawcc.0.dump
0	21	testdata/src/test/assets/rawcc/sample.rawcc.unklen.dump
0	18	testdata/src/test/assets/ts/sample.ac3.0.dump
0	18	testdata/src/test/assets/ts/sample.ac3.unklen.dump
0	18	testdata/src/test/assets/ts/sample.ac4.0.dump
0	18	testdata/src/test/assets/ts/sample.ac4.unklen.dump
0	37	testdata/src/test/assets/ts/sample.adts.0.dump
0	37	testdata/src/test/assets/ts/sample.adts.unklen.dump
0	18	testdata/src/test/assets/ts/sample.eac3.0.dump
0	18	testdata/src/test/assets/ts/sample.eac3.unklen.dump
0	34	testdata/src/test/assets/ts/sample.ps.0.dump
0	34	testdata/src/test/assets/ts/sample.ps.1.dump
0	34	testdata/src/test/assets/ts/sample.ps.2.dump
0	34	testdata/src/test/assets/ts/sample.ps.3.dump
0	34	testdata/src/test/assets/ts/sample.ps.unklen.dump
0	53	testdata/src/test/assets/ts/sample.ts.0.dump
0	53	testdata/src/test/assets/ts/sample.ts.1.dump
0	53	testdata/src/test/assets/ts/sample.ts.2.dump
0	53	testdata/src/test/assets/ts/sample.ts.3.dump
0	53	testdata/src/test/assets/ts/sample.ts.unklen.dump
0	18	testdata/src/test/assets/ts/sample_ac4.ts.0.dump
0	18	testdata/src/test/assets/ts/sample_ac4.ts.1.dump
0	18	testdata/src/test/assets/ts/sample_ac4.ts.2.dump
0	18	testdata/src/test/assets/ts/sample_ac4.ts.3.dump
0	18	testdata/src/test/assets/ts/sample_ac4.ts.unklen.dump
0	37	testdata/src/test/assets/ts/sample_ait.ts.0.dump
0	37	testdata/src/test/assets/ts/sample_ait.ts.unklen.dump
0	37	testdata/src/test/assets/ts/sample_cbs.adts.0.dump
0	37	testdata/src/test/assets/ts/sample_cbs.adts.1.dump
0	37	testdata/src/test/assets/ts/sample_cbs.adts.2.dump
0	37	testdata/src/test/assets/ts/sample_cbs.adts.3.dump
0	37	testdata/src/test/assets/ts/sample_cbs.adts.unklen.dump
0	37	testdata/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
0	37	testdata/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
0	37	testdata/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
0	37	testdata/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
0	37	testdata/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
0	18	testdata/src/test/assets/ts/sample_eac3.ts.0.dump
0	18	testdata/src/test/assets/ts/sample_eac3.ts.1.dump
0	18	testdata/src/test/assets/ts/sample_eac3.ts.2.dump
0	18	testdata/src/test/assets/ts/sample_eac3.ts.3.dump
0	18	testdata/src/test/assets/ts/sample_eac3.ts.unklen.dump
0	73	testdata/src/test/assets/ts/sample_scte35.ts.0.dump
0	73	testdata/src/test/assets/ts/sample_scte35.ts.1.dump
0	73	testdata/src/test/assets/ts/sample_scte35.ts.2.dump
0	73	testdata/src/test/assets/ts/sample_scte35.ts.3.dump
0	73	testdata/src/test/assets/ts/sample_scte35.ts.unklen.dump
0	53	testdata/src/test/assets/ts/sample_with_junk.0.dump
0	53	testdata/src/test/assets/ts/sample_with_junk.1.dump
0	53	testdata/src/test/assets/ts/sample_with_junk.2.dump
0	53	testdata/src/test/assets/ts/sample_with_junk.3.dump
0	53	testdata/src/test/assets/ts/sample_with_junk.unklen.dump
0	15	testdata/src/test/assets/wav/sample.wav.0.dump
0	15	testdata/src/test/assets/wav/sample.wav.1.dump
0	15	testdata/src/test/assets/wav/sample.wav.2.dump
0	15	testdata/src/test/assets/wav/sample.wav.3.dump
0	15	testdata/src/test/assets/wav/sample.wav.unklen.dump
0	15	testdata/src/test/assets/wav/sample_ima_adpcm.wav.0.dump
0	15	testdata/src/test/assets/wav/sample_ima_adpcm.wav.1.dump
0	15	testdata/src/test/assets/wav/sample_ima_adpcm.wav.2.dump
0	15	testdata/src/test/assets/wav/sample_ima_adpcm.wav.3.dump
0	15	testdata/src/test/assets/wav/sample_ima_adpcm.wav.unklen.dump
44	28	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit 40df646a077aff2f5dfc58d297ea7010efb5fca7
Author: ybai001 <ybai@dolby.com>
Date:   2020-02-28 19:32:01 +0800

    Add AC3 and EAC3-JOC Test Assets

12	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
10	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java
5	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/Ac3ExtractorTest.java
10	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
-	-	testdata/src/test/assets/mp4/sample_ac3.mp4
71	0	testdata/src/test/assets/mp4/sample_ac3.mp4.0.dump
59	0	testdata/src/test/assets/mp4/sample_ac3.mp4.1.dump
47	0	testdata/src/test/assets/mp4/sample_ac3.mp4.2.dump
39	0	testdata/src/test/assets/mp4/sample_ac3.mp4.3.dump
71	0	testdata/src/test/assets/mp4/sample_ac3.mp4.unklen.dump
-	-	testdata/src/test/assets/mp4/sample_ac3_fragmented.mp4
71	0	testdata/src/test/assets/mp4/sample_ac3_fragmented.mp4.0.dump
63	0	testdata/src/test/assets/mp4/sample_ac3_fragmented.mp4.1.dump
51	0	testdata/src/test/assets/mp4/sample_ac3_fragmented.mp4.2.dump
39	0	testdata/src/test/assets/mp4/sample_ac3_fragmented.mp4.3.dump
71	0	testdata/src/test/assets/mp4/sample_ac3_fragmented.mp4.unklen.dump
-	-	testdata/src/test/assets/mp4/sample_eac3joc.mp4
291	0	testdata/src/test/assets/mp4/sample_eac3joc.mp4.0.dump
207	0	testdata/src/test/assets/mp4/sample_eac3joc.mp4.1.dump
123	0	testdata/src/test/assets/mp4/sample_eac3joc.mp4.2.dump
39	0	testdata/src/test/assets/mp4/sample_eac3joc.mp4.3.dump
291	0	testdata/src/test/assets/mp4/sample_eac3joc.mp4.unklen.dump
-	-	testdata/src/test/assets/mp4/sample_eac3joc_fragmented.mp4
291	0	testdata/src/test/assets/mp4/sample_eac3joc_fragmented.mp4.0.dump
207	0	testdata/src/test/assets/mp4/sample_eac3joc_fragmented.mp4.1.dump
123	0	testdata/src/test/assets/mp4/sample_eac3joc_fragmented.mp4.2.dump
39	0	testdata/src/test/assets/mp4/sample_eac3joc_fragmented.mp4.3.dump
291	0	testdata/src/test/assets/mp4/sample_eac3joc_fragmented.mp4.unklen.dump
-	-	testdata/src/test/assets/ts/sample_ac3.ts
67	0	testdata/src/test/assets/ts/sample_ac3.ts.0.dump
59	0	testdata/src/test/assets/ts/sample_ac3.ts.1.dump
51	0	testdata/src/test/assets/ts/sample_ac3.ts.2.dump
35	0	testdata/src/test/assets/ts/sample_ac3.ts.3.dump
64	0	testdata/src/test/assets/ts/sample_ac3.ts.unklen.dump
-	-	testdata/src/test/assets/ts/sample_eac3joc.ec3
288	0	testdata/src/test/assets/ts/sample_eac3joc.ec3.0.dump
288	0	testdata/src/test/assets/ts/sample_eac3joc.ec3.unklen.dump
-	-	testdata/src/test/assets/ts/sample_eac3joc.ts
291	0	testdata/src/test/assets/ts/sample_eac3joc.ts.0.dump
211	0	testdata/src/test/assets/ts/sample_eac3joc.ts.1.dump
123	0	testdata/src/test/assets/ts/sample_eac3joc.ts.2.dump
43	0	testdata/src/test/assets/ts/sample_eac3joc.ts.3.dump
288	0	testdata/src/test/assets/ts/sample_eac3joc.ts.unklen.dump

commit 96d808414123b118a64b651497283f54c7d5a83e
Merge: cbffc14fa a114a0ed7
Author: ybai001 <ybai@dolby.com>
Date:   2020-02-28 16:21:11 +0800

    Merge pull request #13 from google/dev-v2
    
    Dev v2

commit a114a0ed7ffe340ccc9416c4ff75d4ccfe00697f
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-27 16:27:46 +0000

    Rename SampleDataReader to DataReader and move to common
    
    PiperOrigin-RevId: 297603312

4	4	library/{extractor/src/main/java/com/google/android/exoplayer2/extractor/SampleDataReader.java => common/src/main/java/com/google/android/exoplayer2/upstream/DataReader.java}
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkExtractorWrapper.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java
2	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/DummyTrackOutput.java
2	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
7	7	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/TrackOutput.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
2	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit 1f71830127df25c02080af435265828ccb3196bb
Author: ibaker <ibaker@google.com>
Date:   2020-02-27 16:22:11 +0000

    Remove duplicate release notes
    
    These were accidentally introduced when rebasing
    https://github.com/google/ExoPlayer/commit/6946170d3ece533655a23f8fe65936412f365a6c
    
    PiperOrigin-RevId: 297602131

1	82	RELEASENOTES.md

commit 4c0ba12c40d7ac5c5944fe95bd9b832f4c9149bd
Author: christosts <christosts@google.com>
Date:   2020-02-27 16:17:27 +0000

    Synchronize calls to queueSecureInpuffer()
    
    Parallel asynchronous calls to MediaCodec.queueSecureInputBuffer() may
    produce garbled video on some platforms. This workaround synchronizes
    calls to MediaCodec.queueSecureInputBuffer() so that only one call is
    in flight.
    
    PiperOrigin-RevId: 297601037

20	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecBufferEnqueuer.java

commit 88e356f2142b4cbde06299a58b5f3032d021cba2
Author: samrobinson <samrobinson@google.com>
Date:   2020-02-27 16:06:22 +0000

    Add `WifiLock` management to `SimpleExoPlayer`.
    
    Issue:#6914
    PiperOrigin-RevId: 297598910

2	0	RELEASENOTES.md
31	0	library/common/src/main/java/com/google/android/exoplayer2/C.java
45	4	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
15	13	library/core/src/main/java/com/google/android/exoplayer2/WakeLockManager.java
95	0	library/core/src/main/java/com/google/android/exoplayer2/WifiLockManager.java

commit 292942feb3cd1b3fee57d7569fec25284f828c8a
Merge: d69572eb6 397aafb3c
Author: kim-vde <kimvde@google.com>
Date:   2020-02-27 17:16:20 +0000

    Merge pull request #6971 from DolbyLaboratories:dev-v2-ts-assets
    
    PiperOrigin-RevId: 297591404

commit d69572eb650fca4298dfc75cc531b01979e696dd
Author: bachinger <bachinger@google.com>
Date:   2020-02-27 15:21:52 +0000

    notify AudioListener about changes of skipSilenceEnabled
    
    This change adds the callback onSkipSilenceEnabledChange to the AudioListener and calls it when changed by the user by calling setPlaybackParameters, or when changed internally by the DefaultAudioSink if the parameters are not applicable. It needs to be plumped through AudioSink, AudioRenderer to SEP which eventually calls the AudioListener.
    
    No changes to the Player interface so far. The getter of skipSilenceEnabled is added to SimpleExoPlayer for completeness, but not yet to the Player interface. The setter is not yet exposed, but implemented as a private method for implementation reasons.
    
    PiperOrigin-RevId: 297590291

30	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
8	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
8	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioListener.java
13	1	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioRendererEventListener.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioSink.java
5	12	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
15	10	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
15	10	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java

commit 7c2889c6204b3fe39c0cca328885c0596ddc1d49
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-27 14:14:16 +0000

    Add ENCODING_ constants for AAC
    
    PiperOrigin-RevId: 297579793

15	0	library/common/src/main/java/com/google/android/exoplayer2/C.java
47	1	library/common/src/main/java/com/google/android/exoplayer2/util/CodecSpecificDataUtil.java
25	0	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 6946170d3ece533655a23f8fe65936412f365a6c
Merge: bd8ee155a cfb2e9dd1
Author: kim-vde <kimvde@google.com>
Date:   2020-02-27 17:15:52 +0000

    Merge pull request #6922 from phhusson:feature/ait
    
    PiperOrigin-RevId: 297579733

commit bd8ee155af5c441fa2dd0440f94638853b9ac7ee
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-27 14:09:21 +0000

    Construct codecs string for AAC in MP4/TS/FLV
    
    PiperOrigin-RevId: 297578984

40	16	library/common/src/main/java/com/google/android/exoplayer2/util/CodecSpecificDataUtil.java
11	6	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/flv/AudioTagPayloadReader.java
19	7	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
12	7	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsReader.java
5	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/LatmReader.java

commit c6a6e0d6f3bdfe4b6536b681f6125c22e290f4b0
Author: olly <olly@google.com>
Date:   2020-02-27 12:11:25 +0000

    Migrate various call sites to Format.Builder
    
    PiperOrigin-RevId: 297562889

5	5	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
5	10	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastUtils.java
6	17	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
6	13	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
6	13	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
1	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashUtilTest.java
3	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
3	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
1	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java
15	30	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriodTest.java
5	10	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestTest.java
12	23	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
12	22	testutils/src/test/java/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSetTest.java

commit bfd8474e831b88875ed5802597795ad884c67875
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-26 16:35:24 +0000

    Remove SampleDataReader.skip
    
    In order to make DataSource extend SampleDataReader.
    
    PiperOrigin-RevId: 297368181

11	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/DummyTrackOutput.java
0	12	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/SampleDataReader.java

commit 003b3c4e0e9de25c88c68fc262d59f46d65eb1b2
Author: tonihei <tonihei@google.com>
Date:   2020-02-26 15:16:58 +0000

    Move MediaCodecVideoRendererTest to right package.
    
    PiperOrigin-RevId: 297354294

0	441	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecVideoRendererTest.java
0	18	library/core/src/test/resources/com/google/android/exoplayer2/mediacodec/robolectric.properties

commit 52825a272d5813d182f41112a9300d7d2c017b0c
Author: kimvde <kimvde@google.com>
Date:   2020-02-26 13:14:42 +0000

    Rename FLAC dump files based on output instead of language
    
    PiperOrigin-RevId: 297336461

10	10	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorTest.java
10	10	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
0	0	testdata/src/test/assets/flac/{bear_java.0.dump => bear_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_java.1.dump => bear_flac.1.dump}
0	0	testdata/src/test/assets/flac/{bear_java.2.dump => bear_flac.2.dump}
0	0	testdata/src/test/assets/flac/{bear_java.3.dump => bear_flac.3.dump}
0	0	testdata/src/test/assets/flac/{bear_java.unklen.dump => bear_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_java.0.dump => bear_no_min_max_frame_size_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_java.1.dump => bear_no_min_max_frame_size_flac.1.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_java.2.dump => bear_no_min_max_frame_size_flac.2.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_java.3.dump => bear_no_min_max_frame_size_flac.3.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_java.unklen.dump => bear_no_min_max_frame_size_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_native.0.dump => bear_no_min_max_frame_size_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_native.1.dump => bear_no_min_max_frame_size_raw.1.dump}
0	0	testdata/src/test/assets/flac/{bear_native.2.dump => bear_no_min_max_frame_size_raw.2.dump}
0	0	testdata/src/test/assets/flac/{bear_native.3.dump => bear_no_min_max_frame_size_raw.3.dump}
0	0	testdata/src/test/assets/flac/{bear_native.unklen.dump => bear_no_min_max_frame_size_raw.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_no_num_samples_java.0.dump => bear_no_num_samples_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_no_num_samples_java.unklen.dump => bear_no_num_samples_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_no_num_samples_native.0.dump => bear_no_num_samples_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_no_num_samples_native.unklen.dump => bear_no_num_samples_raw.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_no_seek_table_no_num_samples_java.0.dump => bear_no_seek_table_no_num_samples_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_no_seek_table_no_num_samples_java.unklen.dump => bear_no_seek_table_no_num_samples_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_no_seek_table_no_num_samples_native.0.dump => bear_no_seek_table_no_num_samples_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_no_seek_table_no_num_samples_native.unklen.dump => bear_no_seek_table_no_num_samples_raw.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_java.0.dump => bear_one_metadata_block_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_java.1.dump => bear_one_metadata_block_flac.1.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_java.2.dump => bear_one_metadata_block_flac.2.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_java.3.dump => bear_one_metadata_block_flac.3.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_java.unklen.dump => bear_one_metadata_block_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_native.0.dump => bear_one_metadata_block_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_native.1.dump => bear_one_metadata_block_raw.1.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_native.2.dump => bear_one_metadata_block_raw.2.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_native.3.dump => bear_one_metadata_block_raw.3.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block_native.unklen.dump => bear_one_metadata_block_raw.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_native.0.dump => bear_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_native.1.dump => bear_raw.1.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_native.2.dump => bear_raw.2.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_native.3.dump => bear_raw.3.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size_native.unklen.dump => bear_raw.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_java.0.dump => bear_uncommon_sample_rate_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_java.1.dump => bear_uncommon_sample_rate_flac.1.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_java.2.dump => bear_uncommon_sample_rate_flac.2.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_java.3.dump => bear_uncommon_sample_rate_flac.3.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_java.unklen.dump => bear_uncommon_sample_rate_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_native.0.dump => bear_uncommon_sample_rate_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_native.1.dump => bear_uncommon_sample_rate_raw.1.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_native.2.dump => bear_uncommon_sample_rate_raw.2.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_native.3.dump => bear_uncommon_sample_rate_raw.3.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate_native.unklen.dump => bear_uncommon_sample_rate_raw.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_java.0.dump => bear_with_id3_disabled_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_java.1.dump => bear_with_id3_disabled_flac.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_java.2.dump => bear_with_id3_disabled_flac.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_java.3.dump => bear_with_id3_disabled_flac.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_java.unklen.dump => bear_with_id3_disabled_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_native.0.dump => bear_with_id3_disabled_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_native.1.dump => bear_with_id3_disabled_raw.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_native.2.dump => bear_with_id3_disabled_raw.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_native.3.dump => bear_with_id3_disabled_raw.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled_native.unklen.dump => bear_with_id3_disabled_raw.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_java.0.dump => bear_with_id3_enabled_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_java.1.dump => bear_with_id3_enabled_flac.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_java.2.dump => bear_with_id3_enabled_flac.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_java.3.dump => bear_with_id3_enabled_flac.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_java.unklen.dump => bear_with_id3_enabled_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_native.0.dump => bear_with_id3_enabled_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_native.1.dump => bear_with_id3_enabled_raw.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_native.2.dump => bear_with_id3_enabled_raw.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_native.3.dump => bear_with_id3_enabled_raw.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled_native.unklen.dump => bear_with_id3_enabled_raw.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_java.0.dump => bear_with_picture_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_java.1.dump => bear_with_picture_flac.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_java.2.dump => bear_with_picture_flac.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_java.3.dump => bear_with_picture_flac.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_java.unklen.dump => bear_with_picture_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_native.0.dump => bear_with_picture_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_native.1.dump => bear_with_picture_raw.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_native.2.dump => bear_with_picture_raw.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_native.3.dump => bear_with_picture_raw.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture_native.unklen.dump => bear_with_picture_raw.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_java.0.dump => bear_with_vorbis_comments_flac.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_java.1.dump => bear_with_vorbis_comments_flac.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_java.2.dump => bear_with_vorbis_comments_flac.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_java.3.dump => bear_with_vorbis_comments_flac.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_java.unklen.dump => bear_with_vorbis_comments_flac.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_native.0.dump => bear_with_vorbis_comments_raw.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_native.1.dump => bear_with_vorbis_comments_raw.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_native.2.dump => bear_with_vorbis_comments_raw.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_native.3.dump => bear_with_vorbis_comments_raw.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments_native.unklen.dump => bear_with_vorbis_comments_raw.unklen.dump}

commit 6a0803dee00597c9b37e81da085da955cabc3ace
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-26 12:25:48 +0000

    Create the ProgresiveMediaExtractor interface
    
    - Which abstracts ProgressiveMediaPeriod from the Extraction
      implementation.
    - Will allow us to depend on MediaParser.
    
    PiperOrigin-RevId: 297330623

26	54	library/core/src/main/java/com/google/android/exoplayer2/source/{ExtractorHolder.java => BundledExtractorsAdapter.java}
77	0	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaExtractor.java
14	14	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit f34930ab0decee5b8855bc2b0a22666a28140d2c
Author: christosts <christosts@google.com>
Date:   2020-02-26 11:36:53 +0000

    Simplify DefaultLoadControl
    
    DefaultLoadControl applies the same min buffer duration to audio
    and video. By default, min buffer is set equal to max buffer (50 seconds).
    
    PiperOrigin-RevId: 297324489

3	0	RELEASENOTES.md
16	47	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
21	7	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java

commit 31f0302505a5af939c45db663b3e1f617208657e
Author: olly <olly@google.com>
Date:   2020-02-25 21:25:13 +0000

    Extractor tests: Output average and peak bitrates separately
    
    Note: The dump files will need updating again when the extractors
    are modified to only set the appropriate bitrate. Enhancing the
    test first is nice, because it means that in subsequent CLs the
    dump file updates can be used to quickly see what's changed in
    the output.
    PiperOrigin-RevId: 297188367

441	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecVideoRendererTest.java
18	0	library/core/src/test/resources/com/google/android/exoplayer2/mediacodec/robolectric.properties
2	1	testdata/src/test/assets/amr/sample_nb.amr.0.dump
2	1	testdata/src/test/assets/amr/sample_nb.amr.unklen.dump
2	1	testdata/src/test/assets/amr/sample_nb_cbr.amr.0.dump
2	1	testdata/src/test/assets/amr/sample_nb_cbr.amr.1.dump
2	1	testdata/src/test/assets/amr/sample_nb_cbr.amr.2.dump
2	1	testdata/src/test/assets/amr/sample_nb_cbr.amr.3.dump
2	1	testdata/src/test/assets/amr/sample_nb_cbr.amr.unklen.dump
2	1	testdata/src/test/assets/amr/sample_wb.amr.0.dump
2	1	testdata/src/test/assets/amr/sample_wb.amr.unklen.dump
2	1	testdata/src/test/assets/amr/sample_wb_cbr.amr.0.dump
2	1	testdata/src/test/assets/amr/sample_wb_cbr.amr.1.dump
2	1	testdata/src/test/assets/amr/sample_wb_cbr.amr.2.dump
2	1	testdata/src/test/assets/amr/sample_wb_cbr.amr.3.dump
2	1	testdata/src/test/assets/amr/sample_wb_cbr.amr.unklen.dump
2	1	testdata/src/test/assets/flac/bear_java.0.dump
2	1	testdata/src/test/assets/flac/bear_java.1.dump
2	1	testdata/src/test/assets/flac/bear_java.2.dump
2	1	testdata/src/test/assets/flac/bear_java.3.dump
2	1	testdata/src/test/assets/flac/bear_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_native.0.dump
2	1	testdata/src/test/assets/flac/bear_native.1.dump
2	1	testdata/src/test/assets/flac/bear_native.2.dump
2	1	testdata/src/test/assets/flac/bear_native.3.dump
2	1	testdata/src/test/assets/flac/bear_native.unklen.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.0.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.1.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.2.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.3.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.0.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.1.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.2.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.3.dump
2	1	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.unklen.dump
2	1	testdata/src/test/assets/flac/bear_no_num_samples_java.0.dump
2	1	testdata/src/test/assets/flac/bear_no_num_samples_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_no_num_samples_native.0.dump
2	1	testdata/src/test/assets/flac/bear_no_num_samples_native.unklen.dump
2	1	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_java.0.dump
2	1	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_native.0.dump
2	1	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_native.unklen.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_java.0.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_java.1.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_java.2.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_java.3.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_native.0.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_native.1.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_native.2.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_native.3.dump
2	1	testdata/src/test/assets/flac/bear_one_metadata_block_native.unklen.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.0.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.1.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.2.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.3.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.0.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.1.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.2.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.3.dump
2	1	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.unklen.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_java.0.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_java.1.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_java.2.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_java.3.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_native.0.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_native.1.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_native.2.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_native.3.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_disabled_native.unklen.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_java.0.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_java.1.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_java.2.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_java.3.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_native.0.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_native.1.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_native.2.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_native.3.dump
2	1	testdata/src/test/assets/flac/bear_with_id3_enabled_native.unklen.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_java.0.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_java.1.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_java.2.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_java.3.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_native.0.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_native.1.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_native.2.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_native.3.dump
2	1	testdata/src/test/assets/flac/bear_with_picture_native.unklen.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.0.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.1.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.2.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.3.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.unklen.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.0.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.1.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.2.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.3.dump
2	1	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.unklen.dump
4	2	testdata/src/test/assets/flv/sample.flv.0.dump
4	2	testdata/src/test/assets/flv/sample.flv.unklen.dump
2	1	testdata/src/test/assets/mkv/full_blocks.mkv.0.dump
2	1	testdata/src/test/assets/mkv/full_blocks.mkv.1.dump
2	1	testdata/src/test/assets/mkv/full_blocks.mkv.2.dump
2	1	testdata/src/test/assets/mkv/full_blocks.mkv.3.dump
2	1	testdata/src/test/assets/mkv/full_blocks.mkv.unklen.dump
4	2	testdata/src/test/assets/mkv/sample.mkv.0.dump
4	2	testdata/src/test/assets/mkv/sample.mkv.1.dump
4	2	testdata/src/test/assets/mkv/sample.mkv.2.dump
4	2	testdata/src/test/assets/mkv/sample.mkv.3.dump
4	2	testdata/src/test/assets/mkv/sample.mkv.unklen.dump
2	1	testdata/src/test/assets/mkv/subsample_encrypted_altref.webm.0.dump
2	1	testdata/src/test/assets/mkv/subsample_encrypted_altref.webm.unklen.dump
2	1	testdata/src/test/assets/mkv/subsample_encrypted_noaltref.webm.0.dump
2	1	testdata/src/test/assets/mkv/subsample_encrypted_noaltref.webm.unklen.dump
2	1	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.0.dump
2	1	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.1.dump
2	1	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.2.dump
2	1	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.3.dump
2	1	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.unklen.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.0.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.1.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.2.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.3.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.unklen.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.0.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.1.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.2.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.3.dump
2	1	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.unklen.dump
2	1	testdata/src/test/assets/mp3/play-trimmed.mp3.0.dump
2	1	testdata/src/test/assets/mp3/play-trimmed.mp3.1.dump
2	1	testdata/src/test/assets/mp3/play-trimmed.mp3.2.dump
2	1	testdata/src/test/assets/mp3/play-trimmed.mp3.3.dump
2	1	testdata/src/test/assets/mp3/play-trimmed.mp3.unklen.dump
4	2	testdata/src/test/assets/mp4/sample.mp4.0.dump
4	2	testdata/src/test/assets/mp4/sample.mp4.1.dump
4	2	testdata/src/test/assets/mp4/sample.mp4.2.dump
4	2	testdata/src/test/assets/mp4/sample.mp4.3.dump
4	2	testdata/src/test/assets/mp4/sample.mp4.unklen.dump
2	1	testdata/src/test/assets/mp4/sample_ac4.mp4.0.dump
2	1	testdata/src/test/assets/mp4/sample_ac4.mp4.1.dump
2	1	testdata/src/test/assets/mp4/sample_ac4.mp4.2.dump
2	1	testdata/src/test/assets/mp4/sample_ac4.mp4.3.dump
2	1	testdata/src/test/assets/mp4/sample_ac4.mp4.unklen.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.0.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.1.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.2.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.3.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.unklen.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.0.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.1.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.2.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.3.dump
2	1	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.unklen.dump
2	1	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.0.dump
2	1	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.1.dump
2	1	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.2.dump
2	1	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.3.dump
2	1	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.unklen.dump
2	1	testdata/src/test/assets/mp4/sample_eac3.mp4.0.dump
2	1	testdata/src/test/assets/mp4/sample_eac3.mp4.1.dump
2	1	testdata/src/test/assets/mp4/sample_eac3.mp4.2.dump
2	1	testdata/src/test/assets/mp4/sample_eac3.mp4.3.dump
2	1	testdata/src/test/assets/mp4/sample_eac3.mp4.unklen.dump
2	1	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.0.dump
2	1	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.1.dump
2	1	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.2.dump
2	1	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.3.dump
2	1	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.unklen.dump
4	2	testdata/src/test/assets/mp4/sample_fragmented.mp4.0.dump
4	2	testdata/src/test/assets/mp4/sample_fragmented.mp4.unklen.dump
4	2	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.0.dump
4	2	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.1.dump
4	2	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.2.dump
4	2	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.3.dump
4	2	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.unklen.dump
6	3	testdata/src/test/assets/mp4/sample_fragmented_sei.mp4.0.dump
6	3	testdata/src/test/assets/mp4/sample_fragmented_sei.mp4.unklen.dump
4	2	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
4	2	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
4	2	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
4	2	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
4	2	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.unklen.dump
2	1	testdata/src/test/assets/ogg/bear.opus.0.dump
2	1	testdata/src/test/assets/ogg/bear.opus.1.dump
2	1	testdata/src/test/assets/ogg/bear.opus.2.dump
2	1	testdata/src/test/assets/ogg/bear.opus.3.dump
2	1	testdata/src/test/assets/ogg/bear.opus.unklen.dump
2	1	testdata/src/test/assets/ogg/bear_flac.ogg.0.dump
2	1	testdata/src/test/assets/ogg/bear_flac.ogg.1.dump
2	1	testdata/src/test/assets/ogg/bear_flac.ogg.2.dump
2	1	testdata/src/test/assets/ogg/bear_flac.ogg.3.dump
2	1	testdata/src/test/assets/ogg/bear_flac.ogg.unklen.dump
2	1	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
2	1	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
2	1	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
2	1	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
2	1	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump
2	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.0.dump
2	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.1.dump
2	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.2.dump
2	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.3.dump
2	1	testdata/src/test/assets/ogg/bear_vorbis.ogg.unklen.dump
2	1	testdata/src/test/assets/rawcc/sample.rawcc.0.dump
2	1	testdata/src/test/assets/rawcc/sample.rawcc.unklen.dump
2	1	testdata/src/test/assets/ts/sample.ac3.0.dump
2	1	testdata/src/test/assets/ts/sample.ac3.unklen.dump
2	1	testdata/src/test/assets/ts/sample.ac4.0.dump
2	1	testdata/src/test/assets/ts/sample.ac4.unklen.dump
4	2	testdata/src/test/assets/ts/sample.adts.0.dump
4	2	testdata/src/test/assets/ts/sample.adts.unklen.dump
2	1	testdata/src/test/assets/ts/sample.eac3.0.dump
2	1	testdata/src/test/assets/ts/sample.eac3.unklen.dump
4	2	testdata/src/test/assets/ts/sample.ps.0.dump
4	2	testdata/src/test/assets/ts/sample.ps.1.dump
4	2	testdata/src/test/assets/ts/sample.ps.2.dump
4	2	testdata/src/test/assets/ts/sample.ps.3.dump
4	2	testdata/src/test/assets/ts/sample.ps.unklen.dump
6	3	testdata/src/test/assets/ts/sample.ts.0.dump
6	3	testdata/src/test/assets/ts/sample.ts.1.dump
6	3	testdata/src/test/assets/ts/sample.ts.2.dump
6	3	testdata/src/test/assets/ts/sample.ts.3.dump
6	3	testdata/src/test/assets/ts/sample.ts.unklen.dump
4	2	testdata/src/test/assets/ts/sample_cbs.adts.0.dump
4	2	testdata/src/test/assets/ts/sample_cbs.adts.1.dump
4	2	testdata/src/test/assets/ts/sample_cbs.adts.2.dump
4	2	testdata/src/test/assets/ts/sample_cbs.adts.3.dump
4	2	testdata/src/test/assets/ts/sample_cbs.adts.unklen.dump
4	2	testdata/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
4	2	testdata/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
4	2	testdata/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
4	2	testdata/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
4	2	testdata/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
8	4	testdata/src/test/assets/ts/sample_scte35.ts.0.dump
8	4	testdata/src/test/assets/ts/sample_scte35.ts.1.dump
8	4	testdata/src/test/assets/ts/sample_scte35.ts.2.dump
8	4	testdata/src/test/assets/ts/sample_scte35.ts.3.dump
8	4	testdata/src/test/assets/ts/sample_scte35.ts.unklen.dump
6	3	testdata/src/test/assets/ts/sample_with_junk.0.dump
6	3	testdata/src/test/assets/ts/sample_with_junk.1.dump
6	3	testdata/src/test/assets/ts/sample_with_junk.2.dump
6	3	testdata/src/test/assets/ts/sample_with_junk.3.dump
6	3	testdata/src/test/assets/ts/sample_with_junk.unklen.dump
2	1	testdata/src/test/assets/wav/sample.wav.0.dump
2	1	testdata/src/test/assets/wav/sample.wav.1.dump
2	1	testdata/src/test/assets/wav/sample.wav.2.dump
2	1	testdata/src/test/assets/wav/sample.wav.3.dump
2	1	testdata/src/test/assets/wav/sample.wav.unklen.dump
2	1	testdata/src/test/assets/wav/sample_ima_adpcm.wav.0.dump
2	1	testdata/src/test/assets/wav/sample_ima_adpcm.wav.1.dump
2	1	testdata/src/test/assets/wav/sample_ima_adpcm.wav.2.dump
2	1	testdata/src/test/assets/wav/sample_ima_adpcm.wav.3.dump
2	1	testdata/src/test/assets/wav/sample_ima_adpcm.wav.unklen.dump
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit 46ebaff9653f50abf9a13b017572013151cf3a9e
Merge: 915f66730 39f097c79
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-25 21:24:27 +0000

    Merge pull request #7010 from dbrain:fix_nullability
    
    PiperOrigin-RevId: 297187116

commit 915f66730cc1b0569647175279b3c43eb7e5c9d1
Author: tonihei <tonihei@google.com>
Date:   2020-02-25 15:28:29 +0000

    Simplify using the Builder in SimpleExoPlayer subclasses.
    
    PiperOrigin-RevId: 297111999

15	10	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit a9eb086678def53f96e08ef4f2e3754029323dea
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-24 20:07:31 +0000

    Decouple ProgressiveMediaPeriod and ExtractorHolder
    
    - Avoid having ExtractorHolder expose the underlying extractor.
    - Make ProgressiveMP inject a DataSource instead of a DefaultExtractor.
    
    This CL should introduce no functional changes.
    
    PiperOrigin-RevId: 296944788

62	12	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorHolder.java
10	16	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit af8b8125e523a6d3803eb2c272ec9cfa6ead634d
Author: ibaker <ibaker@google.com>
Date:   2020-02-24 11:31:00 +0000

    Remove BaseRenderer#getUpdatedSourceDrmSession
    
    This seems to be no longer used
    
    PiperOrigin-RevId: 296856117

0	34	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java

commit 6fc5e6b9058ba3028809387c0287767a1d5ac73e
Author: olly <olly@google.com>
Date:   2020-02-21 20:00:04 +0000

    Migrate HLS to Format.Builder
    
    Issue: #2863
    PiperOrigin-RevId: 296482726

0	33	library/common/src/main/java/com/google/android/exoplayer2/Format.java
2	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java
43	37	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
38	26	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
5	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java
1	10	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
54	101	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
28	59	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java

commit f342df204777fe2d369532205d491fb6da9be39d
Author: olly <olly@google.com>
Date:   2020-02-21 19:41:31 +0000

    Migrate DASH to Format.Builder
    
    Bitrates in the DASH manifest are peak bitrates, as per the ref'd issue.
    
    Issue: #5978
    PiperOrigin-RevId: 296478812

17	10	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
38	73	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
19	36	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashMediaPeriodTest.java
9	19	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashUtilTest.java
4	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/EventSampleStreamTest.java
1	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestTest.java

commit d6650e651410d51d9057afdddc260edeb17c8d6c
Author: olly <olly@google.com>
Date:   2020-02-21 18:51:16 +0000

    Migrate SmoothStreaming to Format.Builder
    
    Bitrates in SmoothStreaming manifests are average bitrates, as per
    the ref'd issue.
    
    Issue: #5978
    PiperOrigin-RevId: 296467667

2	1	library/common/src/main/java/com/google/android/exoplayer2/util/CodecSpecificDataUtil.java
47	77	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit bc8fd2ca12e72d8fc073db1b9aaf789f38e5bd0f
Author: bachinger <bachinger@google.com>
Date:   2020-02-21 18:03:09 +0000

    split and deprecate PlaybackParameters in AudioSink
    
    This change deprecates PlaybackParameter in AudioSink and splits it into playbackSpeed and skipSilenceEnabled. These properties are set separately in a future CL. The playback speed will be set through the MediaClock, while skipSilenceEnabled will be set by sending a message to the audio renderer.
    
    PiperOrigin-RevId: 296457043

17	7	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioSink.java
152	57	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
30	2	library/core/src/main/java/com/google/android/exoplayer2/audio/ForwardingAudioSink.java
4	7	library/core/src/test/java/com/google/android/exoplayer2/audio/DefaultAudioSinkTest.java

commit 42d4afe7b6dd0f63144da3f6893b8d6dcaa2af26
Author: olly <olly@google.com>
Date:   2020-02-21 17:35:37 +0000

    Make Format.Builder, peakBitrate and averageBitrate public
    
    - Deprecate old Format.createXXX methods
    - Deprecate most Format.copyXXX methods
    - Stop using deprecated Format.copyXXX methods in the library
    
    Note: Replacing library usages of Format.createXXX method
    will be done in follow up CLs. These changes aren't purely
    mechanical because we need to decide which out of peakBitrate
    and averageBitrate to set in each case where currently a
    single bitrate is provided.
    
    Issue: #2863
    PiperOrigin-RevId: 296450935

4	0	RELEASENOTES.md
270	408	library/common/src/main/java/com/google/android/exoplayer2/Format.java
5	1	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaPeriod.java
5	2	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkExtractorWrapper.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashUtil.java
9	13	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtil.java
6	6	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java
8	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 4c05201a3748de3e7be0a8e9169970bf2367822d
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-21 11:52:08 +0000

    Make ExtractorHolder a top-level class
    
    PiperOrigin-RevId: 296405881

94	0	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorHolder.java
0	70	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit 995682eca0d7bd04391a8ffb39ef18445a32dc79
Author: olly <olly@google.com>
Date:   2020-02-21 09:08:31 +0000

    Reflect ffwd/rew amount of time to UI
    
    PiperOrigin-RevId: 296387837

10	0	library/core/src/main/java/com/google/android/exoplayer2/DefaultControlDispatcher.java

commit ba58a5217d407727cd20d9675b334dcf72f99fc3
Author: vigneshv <vigneshv@google.com>
Date:   2020-02-20 20:52:37 +0000

    Add ReleaseInputBuffer callback
    
    The release_input_buffer callback will be called when the library
    is done consuming an "input buffer". The buffer passed into
    EnqueueFrame must be kept valid until this callback is called. If
    frame parallel is false, then this callback can be nullptr (in
    this case the buffer has to be kept valid until the next call to
    DequeueFrame). If frame parallel is true, this callback cannot be
    nullptr.
    
    PiperOrigin-RevId: 296276083

2	1	extensions/av1/src/main/jni/gav1_jni.cc

commit 75bb45e5108fdf3449c7a7d4865365881c739087
Author: olly <olly@google.com>
Date:   2020-02-20 19:19:14 +0000

    Format: Add Builder
    
    Package private for now. It will be made visible in a child CL.
    
    Issue: #2863
    PiperOrigin-RevId: 296255558

667	396	library/common/src/main/java/com/google/android/exoplayer2/Format.java
72	55	library/common/src/test/java/com/google/android/exoplayer2/FormatTest.java

commit 94315ab757505f98d0b907fa2f7d2c516356ecae
Author: ibaker <ibaker@google.com>
Date:   2020-02-20 16:37:29 +0000

    Remove duplicate SCTE-35 format and add sample to TsExtractorTest
    
    It's not clear why we're currently outputting the format in both init()
    and consume() - it seems likely that this was accidentally introduced
    in <unknown commit>
    when we started outputting the format in consume() but didn't remove it
    from init().
    
    The SCTE-35 TsExtractorTest doesn't pass with the current code because
    when it seeks back to the beginning of the file init() is not called
    again so the second pass through only sees one sample (and
    ExtractorAsserts checks that seeking back to 0 produces the same output
    as reading the file from the beginning).
    
    I generated the SCTE-35 sample using TSDuck's tsp command:
    $ tsp --add-input-stuffing 1/10 \
       -I file testdata/src/test/assets/ts/sample.ts \
       -P pmt --service 1  --add-programinfo-id 0x43554549 --add-pid 600/0x86 \
       -P spliceinject --service 1 --files scte_35.xml --wait-first-batch \
       -P filter --negate --pid 0x1FFF \
       -O file testdata/src/test/assets/ts/sample_scte35.ts
    
    This was adapted from the instructions in section 5.2.24.1 of the TSDuck
    user manual: https://tsduck.io/download/docs/tsduck.pdf
    
    PiperOrigin-RevId: 296217084

0	2	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/SpliceInfoSectionReader.java
5	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
-	-	testdata/src/test/assets/ts/sample_scte35.ts
146	0	testdata/src/test/assets/ts/sample_scte35.ts.0.dump
146	0	testdata/src/test/assets/ts/sample_scte35.ts.1.dump
146	0	testdata/src/test/assets/ts/sample_scte35.ts.2.dump
118	0	testdata/src/test/assets/ts/sample_scte35.ts.3.dump
143	0	testdata/src/test/assets/ts/sample_scte35.ts.unklen.dump

commit 113c4188849adcdc9896bbd23ef028f37b952101
Author: ibaker <ibaker@google.com>
Date:   2020-02-20 15:34:27 +0000

    Explain how to overwrite golden data in extractor test failure message
    
    This info is already in the javadoc of FakeExtractorOutput#assertOutput
    but it's not super discoverable if you just see the test failure. I was
    manually copying the dump results around before realising there was
    a mechanism to auto-update.
    
    PiperOrigin-RevId: 296204463

8	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 7a10f2bff35cdc76a03ab7f8149f6aac787105c5
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-20 14:18:18 +0000

    Remove pre-renderer-migration workarounds in SampleQueue
    
    They are no longer necessary.
    
    PiperOrigin-RevId: 296193350

0	13	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit 47133f46cb71cda93c2d7983b9f2444f7d3ea6fa
Author: olly <olly@google.com>
Date:   2020-02-20 13:43:52 +0000

    Keep method signature together when overriding
    
    Not important, but when overriding a method that can return null,
    it seems preferable to put @Override first, followed by what it's
    overriding (which includes the @Nullable).
    
    Also remove explicit @NonNull use in the core library. @NonNull is
    propagated by default, so this is redundant.
    
    PiperOrigin-RevId: 296188379

1	1	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Gav1Decoder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DummyExoMediaDrm.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecBufferEnqueuer.java
4	7	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecAsyncCallback.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapter.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/IcyDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/text/cea/CeaDecoder.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/ResolvingDataSource.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheSpan.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedRegionTracker.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeDataSource.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaSource.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.java

commit 95ba4f85b076d63ff6676256fe73b84fdad05c59
Author: olly <olly@google.com>
Date:   2020-02-20 11:13:49 +0000

    Drop prefix test- from core test methods
    
    This is one step toward following the google3's test naming convention.
    See go/java-testing/getting_started#basic-test-template for details
    why prefix test isn't necessary.
    
    This CL is generated by following command
    $ find -name '*Test.java' | xargs -I{} sed -i 's/^\ \ public\ void\ test\([A-Z]\)\(.*\)$/  public void \L\1\E\2/' {}
    
    PiperOrigin-RevId: 296169886

7	7	library/core/src/androidTest/java/com/google/android/exoplayer2/upstream/ContentDataSourceTest.java
7	7	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java
114	123	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
18	18	library/core/src/test/java/com/google/android/exoplayer2/PlaylistTest.java
7	7	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
13	13	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
9	10	library/core/src/test/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessorTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/audio/SonicAudioProcessorTest.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/drm/ClearKeyUtilTest.java
6	6	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/scte35/SpliceInfoDecoderTest.java
6	6	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileTest.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadRequestTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/StreamKeyTest.java
18	18	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java
21	21	library/core/src/test/java/com/google/android/exoplayer2/source/CompositeSequenceableLoaderTest.java
36	36	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java
7	7	library/core/src/test/java/com/google/android/exoplayer2/source/LoopingMediaSourceTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/source/MergingMediaSourceTest.java
50	50	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/source/ShuffleOrderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/SinglePeriodTimelineTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/source/TrackGroupArrayTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/source/TrackGroupTest.java
10	10	library/core/src/test/java/com/google/android/exoplayer2/source/ads/AdPlaybackStateTest.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/text/ssa/SsaDecoderTest.java
9	9	library/core/src/test/java/com/google/android/exoplayer2/text/subrip/SubripDecoderTest.java
26	27	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java
6	6	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlRenderUtilTest.java
13	13	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlStyleTest.java
11	11	library/core/src/test/java/com/google/android/exoplayer2/text/tx3g/Tx3gDecoderTest.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/CssParserTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoderTest.java
24	24	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java
13	13	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java
10	10	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitleTest.java
10	10	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java
65	78	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/AssetDataSourceTest.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/upstream/ByteArrayDataSourceTest.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSchemeDataSourceTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSourceInputStreamTest.java
23	24	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest.java
15	15	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheUtilTest.java
10	10	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndexTest.java
6	6	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedRegionTrackerTest.java
16	16	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/DefaultContentMetadataTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/LeastRecentlyUsedCacheEvictorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpanTest.java
15	15	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/crypto/AesFlushingCipherTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/util/AtomicFileTest.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/util/ColorParserTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/util/ReusableBufferedOutputStreamTest.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/util/TimedValueQueueTest.java
8	10	library/core/src/test/java/com/google/android/exoplayer2/util/UriUtilTest.java
7	7	library/core/src/test/java/com/google/android/exoplayer2/video/spherical/FrameRotationQueueTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/video/spherical/ProjectionDecoderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/video/spherical/ProjectionTest.java

commit 7e6a1418e3c7579e88a92d513b157c5d0fd7f105
Author: olly <olly@google.com>
Date:   2020-02-19 18:28:42 +0000

    Demo apps: Annotate @NonNull where necessary
    
    Because we now annotate not-null by default in ExoPlayer
    library modules, we're seeing warnings in the demo apps where
    we override a method and don't explicitly specify an equivalent
    @NotNull annotation.
    
    It's probably confusing to use not-null by default for the
    demo apps, so this change uses @NonNull where necessary to fix
    the warnings.
    
    PiperOrigin-RevId: 296000044

6	5	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/MainActivity.java
4	2	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
2	1	demos/gl/src/main/java/com/google/android/exoplayer2/gldemo/VideoProcessingGLSurfaceView.java
5	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java
7	4	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
9	5	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/Sample.java
6	6	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java
2	1	demos/surface/src/main/java/com/google/android/exoplayer2/surfacedemo/MainActivity.java

commit 72f4b964a5a40e33af467d468595caa1865d0f73
Author: tonihei <tonihei@google.com>
Date:   2020-02-19 17:25:40 +0000

    Add parameter to Renderer.enable to allow rendering of first sample.
    
    PiperOrigin-RevId: 295985916

22	13	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
8	29	library/core/src/main/java/com/google/android/exoplayer2/NoSampleRenderer.java
38	18	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
23	10	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
25	10	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
4	2	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
59	19	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
4	3	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java
300	0	library/core/src/test/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRendererTest.java

commit c95ed7d18cab0c650f66e89abe53562f83905440
Author: olly <olly@google.com>
Date:   2020-02-19 16:09:10 +0000

    Change libgav1's frame buffer callback API.
    
    1. Have frame buffer callbacks return Libgav1StatusCode instead of int.
    The 0 (success), -1 (failure) return value convention is less obvious.
    Note: The callers of frame buffer callbacks,
    BufferPool::OnFrameBufferSizeChanged() and YuvBuffer::Realloc(),
    currently return bool, so more work is needed to propagate the frame
    buffer callbacks' Libgav1StatusCode return value to the Decoder API.
    
    2. Allow the FrameBufferSizeChangedCallback to be omitted if the frame
    buffer size information is not useful to the application.
    
    3. Remove the old (version 1) frame buffer callback API. Remove the
    frame buffer callback adaptor.
    
    frame_buffer2.h is renamed frame_buffer.h.
    Libgav1FrameBuffer2 is renamed Libgav1FrameBuffer.
    GetFrameBufferCallback2 and ReleaseFrameBufferCallback2 are renamed
    GetFrameBufferCallback and ReleaseFrameBufferCallback.
    
    PiperOrigin-RevId: 295971183

11	27	extensions/av1/src/main/jni/gav1_jni.cc

commit 54283746be4a780f8922efc391c55736308bae22
Author: olly <olly@google.com>
Date:   2020-02-19 14:21:21 +0000

    Fix lint errors
    
    PiperOrigin-RevId: 295953956

1	1	constants.gradle
1	0	demos/gl/src/main/java/com/google/android/exoplayer2/gldemo/VideoProcessingGLSurfaceView.java
0	3	library/common/src/main/java/com/google/android/exoplayer2/util/Util.java
10	5	library/common/src/test/java/com/google/android/exoplayer2/util/UtilTest.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioTimestampPoller.java
13	1	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapter.java
0	3	library/core/src/main/java/com/google/android/exoplayer2/util/GlUtil.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
8	9	library/core/src/main/java/com/google/android/exoplayer2/video/VideoFrameReleaseTimeHelper.java
0	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 1f905434d2570f804329f61b1839c3b3d7d528cc
Author: christosts <christosts@google.com>
Date:   2020-02-19 13:18:35 +0000

    Add 60fps test assets in demo app
    
    PiperOrigin-RevId: 295946028

25	0	demos/main/src/main/assets/media.exolist.json

commit a6fb22c67fa266ce7872bb446d10366aba530ef1
Author: tonihei <tonihei@google.com>
Date:   2020-02-19 12:11:53 +0000

    Add missing package-info.java
    
    All packages that are not in a test directory (or a demo app) should have
    the non-null-by-default annotation. Add the remaining ones.
    
    PiperOrigin-RevId: 295938504

19	0	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/package-info.java

commit 786a1ee82f1f5ec16377f606408181b6e7e3d2e2
Author: ibaker <ibaker@google.com>
Date:   2020-02-19 11:14:47 +0000

    Add ruby support to TtmlDecoder
    
    I had to expand the info that gets passed around a bit, so I could join up the container, base & text ruby nodes.
    
    Spec: https://www.w3.org/TR/2018/REC-ttml2-20181108/#style-attribute-ruby
    PiperOrigin-RevId: 295931653

2	0	RELEASENOTES.md
30	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/DeleteTextSpan.java
37	1	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlDecoder.java
32	9	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlNode.java
86	2	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlRenderUtil.java
43	2	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlStyle.java
34	0	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java
29	0	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlStyleTest.java
78	0	testdata/src/test/assets/ttml/rubies.xml

commit 4107375c9d21136090d0071b04a498024eec6a4c
Author: ibaker <ibaker@google.com>
Date:   2020-02-19 11:09:53 +0000

    Catch-and-log all subtitle decode errors
    
    issue:#6885
    PiperOrigin-RevId: 295931197

3	0	RELEASENOTES.md
5	2	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleDecoder.java
29	11	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java

commit 0b7f5260ca213605f960369d1db414b49da41173
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-18 17:00:38 +0000

    Update stale comment in TrimmingAudioProcessor
    
    The part about leaving the pending trim start byte count unmodified
    if the processor was just configured is not correct.
    
    PiperOrigin-RevId: 295745371

6	5	library/core/src/main/java/com/google/android/exoplayer2/audio/TrimmingAudioProcessor.java

commit 47ee1f284109cefad3848b93a727774f5d9ebffe
Author: olly <olly@google.com>
Date:   2020-02-18 14:56:40 +0000

    FLAC extractor documentation tweak
    
    PiperOrigin-RevId: 295724578

4	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java

commit 3fb8ab254582efd7cd5777e06d567aaef4b80f8e
Author: christosts <christosts@google.com>
Date:   2020-02-18 12:31:57 +0000

    Async queueing: avoid extra memory allocations
    
    When copying CryptoInfo for asynchronous input buffer queueing,
    re-use the destination CryptoInfo's arrays to avoid re-allocating
    memory.
    
    PiperOrigin-RevId: 295706771

0	31	library/common/src/main/java/com/google/android/exoplayer2/decoder/CryptoInfo.java
63	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecBufferEnqueuer.java

commit 39f097c79ca246c29e6eef538570c71c46fc51b1
Author: Daniel Brain <me@danielbrain.com>
Date:   2020-02-25 15:53:03 +1100

    DownloadHelper.createMediaSource() nullable DrmSessionManager

1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit aa9b85c66e90f44914b0bf637f7a81269daf021d
Author: Daniel Brain <me@danielbrain.com>
Date:   2020-02-25 15:51:58 +1100

    DownloadService.onStartCommand() nullable Intent

1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 6d14c168e254a6fcae93ff4bf4fe6a3cffe6dcbd
Author: xufulong <839789740@qq.com>
Date:   2020-02-19 22:09:01 +0800

    use swresample instead of avresample, since avresample module has been deprecated.

14	14	extensions/ffmpeg/src/main/jni/ffmpeg_jni.cc

commit cfb2e9dd11adbe0a7cbe95261d43e3e00b41827a
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-02-18 16:10:07 +0100

    Include an AitDecoderTest
    
    Those test data are defined using tsduck xml format.
    feedInputBuffer is identical to SpliceInfoDecoderTest's, could be worth
    mutualizing

178	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/dvbsi/AitDecoderTest.java

commit 8e84fe55a146c99c128268f2a385e69ce5dd7d37
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-02-18 16:09:41 +0100

    Include a new TS sample, with ait, dsm-cc, eit

-	-	library/extractor/src/test/assets/ts/ait.ts
5	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java

commit 49910fe72579c4e55e14b47b0cf3d3ced9474219
Merge: fd24df3b2 b14d87994
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-18 15:02:33 +0000

    Merge pull request #6989 from google/dev-v2-r2.11.3
    
    r2.11.3

commit d6f8b6edf776bd0a0c283fea76ad245d7a936b32
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-18 13:24:25 +0000

    Javadoc 2.11.3

27	6	doc/reference/com/google/android/exoplayer2/decoder/CryptoInfo.html
7	1	doc/reference/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.html
3	2	doc/reference/com/google/android/exoplayer2/extractor/package-summary.html
3	3	doc/reference/constant-values.html
21	8	doc/reference/index-all.html

commit b14d8799470792c2c94f1c70c9fa244c7d353915
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-18 14:47:58 +0000

    Tweak Javadoc

4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java

commit 46e342bf3edff8e4c27248579b364f344aefa8d9
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-02-18 15:23:48 +0100

    Rename variables to match standard, Add more comments refering to standard

21	19	library/core/src/main/java/com/google/android/exoplayer2/metadata/dvbsi/AitDecoder.java

commit 90601267e6e25647b0c2eb7455ceb3381c89ced4
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-02-18 15:04:10 +0100

    Use ParsableBitArray's readString

2	6	library/core/src/main/java/com/google/android/exoplayer2/metadata/dvbsi/AitDecoder.java

commit 274743cddc3d8eb4f4ad8ed6660a01f4a6ec1ccc
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-02-18 15:03:57 +0100

    [ParsableBitArray] Add readString

14	0	library/common/src/main/java/com/google/android/exoplayer2/util/ParsableBitArray.java

commit 98de7c460b103799acdfd80b87c41a9169a8f921
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-02-18 15:00:26 +0100

    [AitDecoder] Move to ParsableBitArray

58	43	library/core/src/main/java/com/google/android/exoplayer2/metadata/dvbsi/AitDecoder.java

commit 28c5043dc113cc5e47fb6e9cedc08ce979fc58e5
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-02-18 13:45:14 +0100

    Comment SectionPassthrough

9	0	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java

commit 79bc16037374b44459550e8b2bd0e1560968cf26
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-02-18 13:45:03 +0100

    output is created at 'init', annotate it as lazyily initialized

2	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java

commit 7bf63e732de4fd5bfbeb2fa1625d0a7758bb2361
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-02-18 13:44:09 +0100

    Remove dead-code readDvbString

0	59	library/core/src/main/java/com/google/android/exoplayer2/metadata/dvbsi/AitDecoder.java

commit 5f1c6b650d12ba7c83a20c8d18b25ba7bccc3dc8
Author: olly <olly@google.com>
Date:   2020-02-17 14:55:45 +0000

    Fix SmoothStreaming
    
    Issue: #6981
    PiperOrigin-RevId: 295579872

2	0	RELEASENOTES.md
6	3	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.java

commit d93b57c0099a8231ac658006830044bd65857d2a
Author: olly <olly@google.com>
Date:   2020-02-17 14:23:06 +0000

    Zero out trailing bytes in CryptoInfo.iv
    
    CryptoInfo.iv length is always 16. When the actual initialization vector
    is shorter, zero out the trailing bytes.
    
    Issue: #6982
    PiperOrigin-RevId: 295575845

6	0	RELEASENOTES.md
16	2	library/core/src/main/java/com/google/android/exoplayer2/decoder/CryptoInfo.java
13	7	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
72	15	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit a967ff3204981ab67b774ac406af6f01f54f9531
Author: kimvde <kimvde@google.com>
Date:   2020-02-17 10:11:06 +0000

    Fix DefaultExtractorsFactory Javadoc
    
    PiperOrigin-RevId: 295540885

7	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java

commit cd0999e73333266d8ab1e7cc600d38b4bf0eea62
Author: olly <olly@google.com>
Date:   2020-02-18 10:56:25 +0000

    Bump version to 2.11.3
    
    PiperOrigin-RevId: 295695297

2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit ab21f885d42209d0c65a70fc93dee26c96af6f84
Author: olly <olly@google.com>
Date:   2020-02-18 10:56:25 +0000

    Bump version to 2.11.3
    
    PiperOrigin-RevId: 295695297

2	2	constants.gradle
3	3	library/common/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 80ae40f6f4161038bce1200b488c495ecebe3e5c
Author: olly <olly@google.com>
Date:   2020-02-18 10:29:19 +0000

    Add missing IntDef to switch
    
    PiperOrigin-RevId: 295692163

1	0	library/common/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java

commit 3d20fd59c27ce8c79d9fb5a5fb7274960172bf6c
Author: olly <olly@google.com>
Date:   2020-02-18 10:18:06 +0000

    Add ACCESS_NETWORK_STATE permission to core module
    
    When common was split from core, this permission was moved
    to common. However both modules need it.
    
    PiperOrigin-RevId: 295690886

4	1	library/core/src/main/AndroidManifest.xml

commit 43d4ee9a715259f0f4d8cd70abdf5f3f7e4dfe55
Author: olly <olly@google.com>
Date:   2020-02-18 04:33:51 +0000

    Apply playback speed selection
    
     - Add Settings UI
     - Remove unnecessary values related to Full Mode
     - Remove unnecessary hierarchy in list item layout
     - Enable to select Playback Speed in Settings
    
    Also changes:
       Keep Fullscreen UI when window focus changed in demo app
    
    PiperOrigin-RevId: 295655858

1	1	constants.gradle

commit 28575a1f312b85b26137496bc4d892e48ff33af2
Author: olly <olly@google.com>
Date:   2020-02-17 19:02:03 +0000

    Fix some TargetApi/RequiresApi annotations
    
    PiperOrigin-RevId: 295607866

1	3	library/core/src/main/java/com/google/android/exoplayer2/drm/HttpMediaDrmCallback.java

commit f0c0f6eb8f60fc1486f709de73e8942aa3ba041a
Author: krocard <krocard@google.com>
Date:   2020-02-17 18:06:36 +0000

    Merge handleBuffer and handleEncodedBuffer
    
    This was unnecessary complexity to avoid very few users
    to be broken.
    
    PiperOrigin-RevId: 295603082

3	3	RELEASENOTES.md
11	32	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioSink.java
1	15	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
3	9	library/core/src/main/java/com/google/android/exoplayer2/audio/ForwardingAudioSink.java
1	9	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
29	14	library/core/src/test/java/com/google/android/exoplayer2/audio/DefaultAudioSinkTest.java
6	22	testutils/src/main/java/com/google/android/exoplayer2/testutil/CapturingAudioSink.java

commit 1dbf2997c46d461ae60e2c9131b43bc2901b5fe8
Author: olly <olly@google.com>
Date:   2020-02-17 15:33:32 +0000

    Remove DefaultSsChunkSource from nullness blacklist
    
    Issue: #6981
    PiperOrigin-RevId: 295584705

3	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/Chunk.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.java
7	3	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.java

commit 35915623647273a5204a69de28e12f9060367d03
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-17 15:32:21 +0000

    Remove FormatHolder.includesDrmSession
    
    With the Renderer migration, this is officially unnecessary, and
    should always be true for supported encrypted content.
    
    PiperOrigin-RevId: 295584542

0	6	library/core/src/main/java/com/google/android/exoplayer2/FormatHolder.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit bd028124301c147ab0280b90e8de8d1aa628d399
Author: ibaker <ibaker@google.com>
Date:   2020-02-17 15:16:23 +0000

    Add package-info.java to text.span package
    
    PiperOrigin-RevId: 295582502

19	0	library/core/src/main/java/com/google/android/exoplayer2/text/span/package-info.java

commit 5b3ed8286cc0ffa8be3793229bf25b671fec5c47
Author: olly <olly@google.com>
Date:   2020-02-17 15:15:55 +0000

    Add non-null by default to source package (last one!)
    
    Note on UnknownNull: Where there exists a generically typed
    base class and both null and non-null types are permitted,
    we need to clear the default non-null that's otherwise
    propagated everywhere. This then lets the nullness of the
    type work properly.
    
    PiperOrigin-RevId: 295582444

32	0	library/common/src/main/java/com/google/android/exoplayer2/util/UnknownNull.java
13	11	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/source/package-info.java

commit e77ff2a3b0e5e1cb95156b2d108ea5e788545851
Author: olly <olly@google.com>
Date:   2020-02-17 14:55:45 +0000

    Fix SmoothStreaming
    
    Issue: #6981
    PiperOrigin-RevId: 295579872

2	0	RELEASENOTES.md
6	3	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.java

commit d1e4a63ae0df09c45f623edac6579b967649d5e8
Author: olly <olly@google.com>
Date:   2020-02-17 14:23:06 +0000

    Zero out trailing bytes in CryptoInfo.iv
    
    CryptoInfo.iv length is always 16. When the actual initialization vector
    is shorter, zero out the trailing bytes.
    
    Issue: #6982
    PiperOrigin-RevId: 295575845

6	0	RELEASENOTES.md
23	21	library/common/src/main/java/com/google/android/exoplayer2/decoder/CryptoInfo.java
0	31	library/common/src/test/java/com/google/android/exoplayer2/decoder/CryptoInfoTest.java
13	7	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
72	15	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit 27bd1294ec384e9fb8287480297d803d0fdf43a0
Author: krocard <krocard@google.com>
Date:   2020-02-17 14:02:25 +0000

    AudioSink: Correct access unit count logic
    
    Previously, the input buffer accessUnit count
    was passed as the output of the audio processors
    which did not make sense as the processors can
    split buffers.
    
    This patch passes the access unit count through a
    member variable.
    
    PiperOrigin-RevId: 295572577

14	19	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit e6ebd8d70ae0ff9fd69792fec3523a88e6f5c8b5
Author: ibaker <ibaker@google.com>
Date:   2020-02-17 13:57:17 +0000

    Move SpanUtil into text.span package
    
    Seems like it belongs here.
    
    PiperOrigin-RevId: 295571820

1	1	library/core/src/main/java/com/google/android/exoplayer2/text/{ => span}/SpanUtil.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlRenderUtil.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/text/{ => span}/SpanUtilTest.java

commit 5c3c8034608e6301856de8060de84bcebd53006e
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-17 13:37:17 +0000

    Remove DRM management from Renderers
    
    PiperOrigin-RevId: 295569075

5	1	RELEASENOTES.md
3	11	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
3	8	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
2	6	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
2	34	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
3	98	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
0	23	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
1	92	library/core/src/main/java/com/google/android/exoplayer2/DefaultRenderersFactory.java
9	106	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
1	6	library/core/src/main/java/com/google/android/exoplayer2/RenderersFactory.java
1	39	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
1	153	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
5	71	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
3	34	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
1	103	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
4	55	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
1	2	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
2	4	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadHelperTest.java
2	2	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/DownloadHelperTest.java
2	2	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/offline/DownloadHelperTest.java
1	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
0	10	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DebugRenderersFactory.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/DefaultRenderersFactoryAsserts.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit d3f806fdf485f243bfdac12aafc12d881c45b15f
Author: tonihei <tonihei@google.com>
Date:   2020-02-17 12:04:29 +0000

    Let FakeRenderer subclasses decide whether to render a sample.
    
    This is closer to how our actual renderers look like and allows tests
    to use a similar logic to show/suppress the first frame in follow-up changes.
    
    PiperOrigin-RevId: 295557548

8	4	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
36	18	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeRenderer.java

commit 56ec7052750d4a31c2bbc805abca75be367e346b
Author: tonihei <tonihei@google.com>
Date:   2020-02-17 11:55:01 +0000

    Copy getting-stuck-prevention into DefaultLoadControl.
    
    We will eventually remove the workaround from ExoPlayerImplInternal
    added in
    https://github.com/google/ExoPlayer/commit/b84bde025258e7307c52eaf6bbe58157d788aa06
    and replace it by an error that gets thrown if the LoadControl behaves
    badly.
    
    PiperOrigin-RevId: 295556131

17	8	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
19	1	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java

commit faff66e9dfc0a28b1099c117486493139a708b40
Author: olly <olly@google.com>
Date:   2020-02-17 11:22:38 +0000

    Use &id_ as buffer_private_data for libgav1.
    
    This avoids the issue of whether it is defined behaviour to cast an
    arbitrary int (or even intptr_t) value to a void* pointer. This is the
    original approach used before commit 0915998add5918214fa0282a69b50a159168a6d5.
    
    PiperOrigin-RevId: 295552115

17	17	extensions/av1/src/main/jni/gav1_jni.cc

commit 4e4a87f35279eaf4c0ed8878869571bf6a56905c
Merge: 2eb6e814e 987939d30
Author: Ian Baker <ibaker@google.com>
Date:   2020-02-17 17:14:28 +0000

    Merge pull request #4178 from danybony:subtitle_color_in_cue_class
    
    PiperOrigin-RevId: 295548715

commit 2eb6e814eb733efcea075dce67c3af6693a213c9
Author: olly <olly@google.com>
Date:   2020-02-17 11:00:56 +0000

    Use libgav1 frame buffer callback helper functions
    
    Libgav1 recently added the ComputeFrameBufferInfo() and SetFrameBuffer()
    helper functions for writing frame buffer callbacks. Using them
    simplifies the Libgav1GetFrameBuffer() function.
    
    Also resurrect the AlignTo16() function.
    
    PiperOrigin-RevId: 295548330

18	93	extensions/av1/src/main/jni/gav1_jni.cc

commit b1b6c8dfea461ec749c71e7b94409d652f8da78e
Author: kimvde <kimvde@google.com>
Date:   2020-02-17 10:32:55 +0000

    Add test for seek map duration correction in MP3 index seeker
    
    PiperOrigin-RevId: 295543916

22	10	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/IndexSeekerTest.java

commit 74443f47f05e023171217e480179473c7fea38f0
Author: kimvde <kimvde@google.com>
Date:   2020-02-17 10:11:06 +0000

    Fix DefaultExtractorsFactory Javadoc
    
    PiperOrigin-RevId: 295540885

7	5	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java

commit 0444e0b3383c15cdd5c4fc9d8193c7bc5d94e55a
Author: ibaker <ibaker@google.com>
Date:   2020-02-17 10:04:56 +0000

    Add Util.toHexString
    
    PiperOrigin-RevId: 295539969

16	0	library/common/src/main/java/com/google/android/exoplayer2/util/Util.java
7	0	library/common/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit ed210bca4ed86570f1f2d29de92ebd470775a3b2
Author: olly <olly@google.com>
Date:   2020-02-16 10:19:46 +0000

    Source package: Add some missing nullness annotations
    
    Plus a bit of misc warning cleanup whilst I was there
    
    PiperOrigin-RevId: 295415657

2	2	library/core/src/main/java/com/google/android/exoplayer2/source/BaseMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaPeriod.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java
11	11	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/source/EmptySampleStream.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/IcyDataSource.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceEventListener.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaSource.java

commit 0257e895d0cf85a977214fe1b695346c1300ba0f
Author: olly <olly@google.com>
Date:   2020-02-16 10:09:59 +0000

    DefaultTrackSelectorTest: Add @Test to enable test, and fix it
    
    PiperOrigin-RevId: 295414974

4	3	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit 2a012f868785aecb72b13d96d9f54c96ffaec417
Author: olly <olly@google.com>
Date:   2020-02-14 21:16:57 +0000

    gav1_jni: fix pointer->int conversion warnings
    
    fixes:
    gav1_jni.cc:446:25: error: cast from pointer to smaller type 'int' loses information
      const int buffer_id = reinterpret_cast<int>(buffer_private_data);
                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    gav1_jni.cc:730:9: error: cast from pointer to smaller type 'int' loses information
            reinterpret_cast<int>(decoder_buffer->buffer_private_data);
            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    
    after https://github.com/google/ExoPlayer/commit/0915998add5918214fa0282a69b50a159168a6d5
    
    PiperOrigin-RevId: 295211245

13	7	extensions/av1/src/main/jni/gav1_jni.cc

commit 0a612ce34aa1fff6d761f3d6900b08cf3fd80b8b
Author: christosts <christosts@google.com>
Date:   2020-02-14 15:56:21 +0000

    Video processing offset in AnalyticsListener
    
    PiperOrigin-RevId: 295146481

2	0	RELEASENOTES.md
9	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
24	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
8	16	library/core/src/main/java/com/google/android/exoplayer2/decoder/DecoderCounters.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
22	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
33	0	library/core/src/main/java/com/google/android/exoplayer2/video/VideoRendererEventListener.java
26	0	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
0	96	library/core/src/test/java/com/google/android/exoplayer2/decoder/DecoderCountersTest.java
7	6	library/ui/src/main/java/com/google/android/exoplayer2/ui/DebugTextViewHelper.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/DecoderCountersUtil.java

commit 5104548204ef1975b9907a20ae1817b1eddc4bce
Author: krocard <krocard@google.com>
Date:   2020-02-14 15:41:11 +0000

    Make explicit that Passthrough  PCM = 
    
    Previously that was implicit, it was the passthrough dance:
     - MimeTypes.getEncoding(inputFormat) did not
       implement RAW MIME, so it was returning INVALID_ENCODING for PCM
     - and allowPassthrough was returning
             MimeTypes.getEncoding() != INVALID_ENCODING
     - which was setting codecInfo.passthrough, and passthroughEnabled.
    
    Thus Util.isEncodingPcm(encoding) is the opposite of
    (MimeTypes.getEncoding(inputFormat) != C.ENCODING_INVALID)
    
    This was rather implicit and brittle as anyone
    could add support for audio/RAW in
    MimeTypes.getEncoding and break PCM playback.
    
    As a result make it explicit that allowPassthrough
    must always return false in PCM.
    
    PiperOrigin-RevId: 295144013

4	2	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit ce3f981188c4df9a88333dd16e20c7930f50f1a5
Author: krocard <krocard@google.com>
Date:   2020-02-14 15:17:06 +0000

    Cleanup: Fix comment and make member private
    
    PiperOrigin-RevId: 295140561

2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 07f66ea469fe7ba513c958fd6fab4aac86b1a3f5
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-14 12:16:19 +0000

    Fix NewApi error for DummySurface usage
    
    API level >= 17 is guaranteed by shouldUseDummySurface returning true,
    but Android Studio shows a warning anyway.
    
    PiperOrigin-RevId: 295118491

0	7	library/core/src/main/java/com/google/android/exoplayer2/video/DummySurface.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit c1e0d773890de5f458754b3bc50425f0cabd3a50
Author: olly <olly@google.com>
Date:   2020-02-13 18:17:51 +0000

    Finalize 2.11.2 release notes
    
    PiperOrigin-RevId: 294943298

8	4	RELEASENOTES.md

commit 68398b708eea921928b2be518e1f210ebf1d17a7
Author: bachinger <bachinger@google.com>
Date:   2020-02-13 17:50:03 +0000

    remove pitch field from PlaybackParameters
    
    PiperOrigin-RevId: 294936851

0	6	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
5	26	library/core/src/main/java/com/google/android/exoplayer2/PlaybackParameters.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
4	5	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
6	14	library/core/src/main/java/com/google/android/exoplayer2/audio/Sonic.java
0	30	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
0	8	library/core/src/test/java/com/google/android/exoplayer2/audio/SonicAudioProcessorTest.java
1	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java

commit 4454ebbff804e54d0a3835ea78f3f6a2cbd6f260
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-14 14:22:51 +0000

    Cleanup docs

2	2	ad-insertion.md
1	1	troubleshooting.md

commit 9ba447a304f86ddb73fafb005f1308af4018713e
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-14 10:13:25 +0000

    Fix stray stars

1	1	troubleshooting.md

commit 8a2b5705b69ad2583c60053ccc04658d5dbb5a48
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-14 10:10:36 +0000

    Fix typo

1	1	ad-insertion.md

commit 740abb60f83d049d97edb116a6ca3480ef01ef0a
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-14 10:09:51 +0000

    Clean up docs

73	32	glossary.md
1	0	troubleshooting.md

commit 4a107d1becb530dfadfd817a3023d62a683f9564
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-14 10:04:57 +0000

    Clean up docs

19	16	ad-insertion.md
36	77	glossary.md
52	37	troubleshooting.md

commit 2731c1d8660d26230f674077254eecc8a825f95d
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-13 18:59:25 +0000

    Fix link

1	1	ad-insertion.md

commit 775abbd34ff5d01a9f8131473cdf4dea3b4e06fe
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-13 18:56:05 +0000

    Update documentation

2	0	_data/navigation.yml
4	0	hello-world.md
4	0	index.md
11	1	supported-formats-progressive.md

commit a9caf6c3472aeaa4f96f5545a7262a47c76ad6a9
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-13 18:55:22 +0000

    Update documentation

113	0	ad-insertion.md

commit 9a859ca160b7886371a4741627f8a6a2f4068ace
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-13 18:16:17 +0000

    Javadoc 2.11.2

18	1	doc/reference/allclasses-frame.html
18	1	doc/reference/allclasses-noframe.html
2	1	doc/reference/com/google/android/exoplayer2/C.Encoding.html
1	2	doc/reference/com/google/android/exoplayer2/C.NetworkType.html
2	1	doc/reference/com/google/android/exoplayer2/C.PcmEncoding.html
86	49	doc/reference/com/google/android/exoplayer2/C.html
2	2	doc/reference/com/google/android/exoplayer2/ExoPlayer.html
2	4	doc/reference/com/google/android/exoplayer2/Format.html
2	1	doc/reference/com/google/android/exoplayer2/Renderer.html
5	5	doc/reference/com/google/android/exoplayer2/Timeline.Period.html
1	1	doc/reference/com/google/android/exoplayer2/Timeline.Window.html
19	19	doc/reference/com/google/android/exoplayer2/Timeline.html
1	2	doc/reference/com/google/android/exoplayer2/audio/Ac3Util.SyncFrameInfo.StreamType.html
20	37	doc/reference/com/google/android/exoplayer2/audio/Ac3Util.html
21	0	doc/reference/com/google/android/exoplayer2/audio/Ac4Util.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioSink.html
2	2	doc/reference/com/google/android/exoplayer2/audio/DtsUtil.html
824	0	doc/reference/com/google/android/exoplayer2/audio/ForwardingAudioSink.html
2	2	doc/reference/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.html
34	14	doc/reference/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.html
145	16	doc/reference/com/google/android/exoplayer2/audio/WavUtil.html
1	0	doc/reference/com/google/android/exoplayer2/audio/package-frame.html
12	6	doc/reference/com/google/android/exoplayer2/audio/package-summary.html
1	0	doc/reference/com/google/android/exoplayer2/audio/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.html
4	7	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.html
3	7	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.html
4	3	doc/reference/com/google/android/exoplayer2/ext/flac/FlacExtractor.html
53	6	doc/reference/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.html
2	0	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.CommandReceiver.html
2	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.CustomActionProvider.html
2	0	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.html
2	0	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.html
4	7	doc/reference/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.html
2	2	doc/reference/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.DefaultSeekTimestampConverter.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.SeekOperationParams.html
2	4	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.TimestampSearchResult.html
4	9	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.TimestampSeeker.html
8	20	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.html
64	28	doc/reference/com/google/android/exoplayer2/extractor/DefaultExtractorInput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/Extractor.html
68	35	doc/reference/com/google/android/exoplayer2/extractor/ExtractorInput.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ExtractorsFactory.html
277	0	doc/reference/com/google/android/exoplayer2/extractor/FlacFrameReader.SampleNumberHolder.html
382	0	doc/reference/com/google/android/exoplayer2/extractor/FlacFrameReader.html
279	0	doc/reference/com/google/android/exoplayer2/extractor/FlacMetadataReader.FlacStreamMetadataHolder.html
472	0	doc/reference/com/google/android/exoplayer2/extractor/FlacMetadataReader.html
363	0	doc/reference/com/google/android/exoplayer2/extractor/FlacSeekTableSeekMap.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/GaplessInfoHolder.html
18	2	doc/reference/com/google/android/exoplayer2/extractor/MpegAudioHeader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/SeekMap.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/TrackOutput.CryptoData.html
397	0	doc/reference/com/google/android/exoplayer2/extractor/VorbisBitArray.html
304	0	doc/reference/com/google/android/exoplayer2/extractor/VorbisUtil.CommentHeader.html
61	33	doc/reference/com/google/android/exoplayer2/extractor/{BinarySearchSeeker.OutputFrameHolder.html => VorbisUtil.Mode.html}
443	0	doc/reference/com/google/android/exoplayer2/extractor/VorbisUtil.VorbisIdHeader.html
436	0	doc/reference/com/google/android/exoplayer2/extractor/VorbisUtil.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/amr/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/amr/package-tree.html
162	0	doc/reference/com/google/android/exoplayer2/extractor/flac/FlacExtractor.Flags.html
536	0	doc/reference/com/google/android/exoplayer2/extractor/flac/FlacExtractor.html
22	0	doc/reference/com/google/android/exoplayer2/extractor/flac/package-frame.html
157	0	doc/reference/com/google/android/exoplayer2/extractor/flac/package-summary.html
137	0	doc/reference/com/google/android/exoplayer2/extractor/flac/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/flv/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/flv/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-tree.html
8	23	doc/reference/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
10	1	doc/reference/com/google/android/exoplayer2/extractor/package-frame.html
71	15	doc/reference/com/google/android/exoplayer2/extractor/package-summary.html
10	1	doc/reference/com/google/android/exoplayer2/extractor/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
15	15	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyInfo.html
47	25	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.html
55	4	doc/reference/com/google/android/exoplayer2/offline/DownloadManager.Listener.html
8	2	doc/reference/com/google/android/exoplayer2/offline/DownloadManager.html
29	26	doc/reference/com/google/android/exoplayer2/offline/DownloadService.html
24	24	doc/reference/com/google/android/exoplayer2/package-tree.html
33	4	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.Factory.html
25	1	doc/reference/com/google/android/exoplayer2/source/MediaSourceFactory.html
23	20	doc/reference/com/google/android/exoplayer2/source/ProgressiveMediaSource.Factory.html
282	258	doc/reference/com/google/android/exoplayer2/source/SampleQueue.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
2	1	doc/reference/com/google/android/exoplayer2/source/chunk/BaseMediaChunkOutput.html
3	6	doc/reference/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.html
24	1	doc/reference/com/google/android/exoplayer2/source/chunk/InitializationChunk.html
2	1	doc/reference/com/google/android/exoplayer2/source/chunk/package-summary.html
21	19	doc/reference/com/google/android/exoplayer2/source/dash/DashMediaSource.Factory.html
4	8	doc/reference/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.html
2	6	doc/reference/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.html
21	19	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.Factory.html
21	19	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.Factory.html
2	2	doc/reference/com/google/android/exoplayer2/testutil/CacheAsserts.RequestSet.html
522	0	doc/reference/com/google/android/exoplayer2/testutil/CapturingAudioSink.html
2	2	doc/reference/com/google/android/exoplayer2/testutil/DecoderCountersUtil.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Dumper.Dumpable.html
53	2	doc/reference/com/google/android/exoplayer2/testutil/ExtractorAsserts.html
64	30	doc/reference/com/google/android/exoplayer2/testutil/FakeExtractorInput.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.html
3	2	doc/reference/com/google/android/exoplayer2/testutil/TestUtil.html
1	0	doc/reference/com/google/android/exoplayer2/testutil/package-frame.html
49	43	doc/reference/com/google/android/exoplayer2/testutil/package-summary.html
5	0	doc/reference/com/google/android/exoplayer2/testutil/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.ParametersBuilder.html
0	2	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelector.html
4	5	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.MediaDescriptionAdapter.html
13	2	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.html
1	2	doc/reference/com/google/android/exoplayer2/ui/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/util/EventLogger.html
403	0	doc/reference/com/google/android/exoplayer2/util/FlacConstants.html
295	0	doc/reference/com/google/android/exoplayer2/util/FlacStreamMetadata.SeekTable.html
286	87	doc/reference/com/google/android/exoplayer2/util/FlacStreamMetadata.html
352	0	doc/reference/com/google/android/exoplayer2/util/GlUtil.Attribute.html
368	0	doc/reference/com/google/android/exoplayer2/util/GlUtil.Uniform.html
100	8	doc/reference/com/google/android/exoplayer2/util/GlUtil.html
2	2	doc/reference/com/google/android/exoplayer2/util/HandlerWrapper.html
40	12	doc/reference/com/google/android/exoplayer2/util/MimeTypes.html
77	43	doc/reference/com/google/android/exoplayer2/util/Util.html
4	0	doc/reference/com/google/android/exoplayer2/util/package-frame.html
25	1	doc/reference/com/google/android/exoplayer2/util/package-summary.html
6	2	doc/reference/com/google/android/exoplayer2/util/package-tree.html
41	18	doc/reference/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.html
213	54	doc/reference/constant-values.html
41	23	doc/reference/deprecated-list.html
704	126	doc/reference/index-all.html
1	0	doc/reference/overview-frame.html
51	47	doc/reference/overview-summary.html
69	48	doc/reference/overview-tree.html
1	0	doc/reference/package-list

commit fd24df3b262dca1bc0b429421ba334fa127af3cf
Author: olly <olly@google.com>
Date:   2020-02-11 21:09:05 +0000

    Fix demo app download notification
    
    PiperOrigin-RevId: 294503035

12	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
12	14	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java

commit 62092e664586175107a3aaac3e1b0efa3059049f
Merge: ea342a671 0740e3cc8
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-13 18:11:29 +0000

    Merge pull request #6888 from google/dev-v2-r2.11.2
    
    r2.11.2

commit 0740e3cc8e6de98def38cd09d0ceeaf49b8b4295
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-13 18:08:54 +0000

    Fix release date

1	1	RELEASENOTES.md

commit fefe4616fc8c9f83838453f04a30944d1017d336
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-10 12:27:08 +0000

    Revert accidental change in media.exolist.
    
    PiperOrigin-RevId: 294193213

3	2	demos/main/src/main/assets/media.exolist.json

commit 646e690d9f0e72b5a603438421aef322aaa0e3d4
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-06 10:36:36 +0000

    Add GL demo app
    
    Demonstrates rendering to a GLSurfaceView while applying a GL shader.
    
    Issue: #6920
    PiperOrigin-RevId: 293551724

5	1	RELEASENOTES.md
11	0	demos/gl/README.md
53	0	demos/gl/build.gradle
49	0	demos/gl/src/main/AndroidManifest.xml
35	0	demos/gl/src/main/assets/bitmap_overlay_video_processor_fragment.glsl
21	0	demos/gl/src/main/assets/bitmap_overlay_video_processor_vertex.glsl
176	0	demos/gl/src/main/java/com/google/android/exoplayer2/gldemo/BitmapOverlayVideoProcessor.java
197	0	demos/gl/src/main/java/com/google/android/exoplayer2/gldemo/MainActivity.java
290	0	demos/gl/src/main/java/com/google/android/exoplayer2/gldemo/VideoProcessingGLSurfaceView.java
30	0	demos/gl/src/main/res/layout/main_activity.xml
-	-	demos/gl/src/main/res/mipmap-hdpi/ic_launcher.png
-	-	demos/gl/src/main/res/mipmap-mdpi/ic_launcher.png
-	-	demos/gl/src/main/res/mipmap-xhdpi/ic_launcher.png
-	-	demos/gl/src/main/res/mipmap-xxhdpi/ic_launcher.png
-	-	demos/gl/src/main/res/mipmap-xxxhdpi/ic_launcher.png
22	0	demos/gl/src/main/res/values/strings.xml
251	1	library/core/src/main/java/com/google/android/exoplayer2/util/GlUtil.java
16	37	library/core/src/main/java/com/google/android/exoplayer2/video/DummySurface.java
2	0	settings.gradle

commit 987939d306f3a464bbd3629f7c1052d75c81ebd9
Author: Daniele Bonaldo <dany.bony@gmail.com>
Date:   2020-02-13 17:37:21 +0100

    Add suport for text background color classes

16	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
16	0	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java

commit fc5dbfeba4d009f720aede0ce738def842827be5
Author: Daniele Bonaldo <dany.bony@gmail.com>
Date:   2020-02-13 17:02:13 +0100

    Add default colors list in WebvttCueParser for text foreground class matching with tests
    
    TIL: papayawhip is a color

19	4	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
0	4	library/core/src/main/java/com/google/android/exoplayer2/util/ColorParser.java
16	0	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java

commit 19c8858341501232a475ea34666aea051f4ba846
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-10 11:38:27 +0000

    Prepare and release DrmSessionManager in Renderers
    
    Issue: #6951
    PiperOrigin-RevId: 294187695

2	0	RELEASENOTES.md
2	3	demos/main/src/main/assets/media.exolist.json
13	0	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
13	0	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit 67a748f47d6aa7973e5f2cb168907d55a266263b
Author: kimvde <kimvde@google.com>
Date:   2020-02-03 14:45:37 +0000

    FLAC extension: remove sample rate check
    
    This check is not needed because the FLAC specification does not
    restrict the sample rate value and because the extension reads files
    with other sample rates properly.
    
    PiperOrigin-RevId: 292909391

0	20	extensions/flac/src/main/jni/flac_parser.cc

commit a1f666cb9d202ea54aa7a53746869e934a316a06
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-13 15:39:09 +0000

    Make DrmInitData.SchemeData.uuid public
    
    To ease implementation of MediaParser.
    
    PiperOrigin-RevId: 294912244

1	1	library/common/src/main/java/com/google/android/exoplayer2/drm/DrmInitData.java

commit e606893ff84bef1de41bf19309bc22b8d997dfe3
Author: olly <olly@google.com>
Date:   2020-02-13 14:52:41 +0000

    Create a SampleDataReader interface for TrackOutput.sampleData().
    
    Modify TrackOutput.sampleData() to accept SampleDataReader instead of ExtractorInput. SampleDataReader supports only read and skip calls, which all sampleData() implementations already restrict themselves to.
    
    PiperOrigin-RevId: 294905155

2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkExtractorWrapper.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java
1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/DummyTrackOutput.java
1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
48	0	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/SampleDataReader.java
3	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/TrackOutput.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
2	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit f5025bfce4edaefc90c1981da3b64c9782e13315
Author: kimvde <kimvde@google.com>
Date:   2020-02-13 13:30:26 +0000

    Share seek tests between FLAC extractors
    
    PiperOrigin-RevId: 294893303

0	92	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
183	185	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorSeekTest.java
5	13	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorSeekTest.java

commit ebce903aaf543b5056022dc71ed5e3cce866fdbc
Author: krocard <krocard@google.com>
Date:   2020-02-13 12:35:41 +0000

    Allow writing multiple frame in a buffer
    
    Currently only one access unit can be written per
    buffer write. This has been found to be power
    inefficient in an offload situation.
    
    #exo-offload
    
    PiperOrigin-RevId: 294886188

3	0	RELEASENOTES.md
26	1	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioSink.java
38	15	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/audio/ForwardingAudioSink.java
17	4	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
3	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DebugRenderersFactory.java
21	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/CapturingAudioSink.java

commit 5949cbecc354c959182df4e48a6a60755d387884
Author: kimvde <kimvde@google.com>
Date:   2020-02-13 12:11:09 +0000

    Remove unused test methods
    
    PiperOrigin-RevId: 294883290

0	19	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java
0	9	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit 714fa477d0b285ac4b6bb2dc1ab466bdfaaa7cd0
Author: tonihei <tonihei@google.com>
Date:   2020-02-13 11:28:28 +0000

    Add isLastInTimelineWindow to MediaPeriodInfo.
    
    This information isn't easily available to the player at the moment (or it
    would need to revaluate this every time), so add it to MediaPeriodInfo similar
    to the existing isLastInTimelinePeriod.
    
    The player needs to know whether a MediaPeriod is the last in its Timeline
    window if we want to add an option to pause at the end of a window.
    
    PiperOrigin-RevId: 294877628

8	0	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodInfo.java
14	0	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
94	33	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java

commit 3d95f9a939f28ef87281df4f5cc01cb746129707
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-12 17:50:08 +0000

    Add an overview of ad insertion
    
    PiperOrigin-RevId: 294689274

2	0	extensions/ima/README.md

commit 9c58e57127dcdc03410f34db1278865fd95c7e44
Author: christosts <christosts@google.com>
Date:   2020-02-12 16:53:24 +0000

    Video frame processing offset in DecoderCounters
    
    Add fields in DecoderCounters for computing the average video frame
    processing offset.
    
    The MediaCodecVideoRenderer reports the video frame processing offset
    and the demo app presents it on the debug information.
    
    PiperOrigin-RevId: 294677878

3	0	RELEASENOTES.md
44	0	library/core/src/main/java/com/google/android/exoplayer2/decoder/DecoderCounters.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
96	0	library/core/src/test/java/com/google/android/exoplayer2/decoder/DecoderCountersTest.java
12	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/DebugTextViewHelper.java
16	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/DecoderCountersUtil.java

commit 9cf87290ec8117e917f0c3b9af488f7f1077ad14
Author: tonihei <tonihei@google.com>
Date:   2020-02-12 16:04:35 +0000

    Always use period duration for end of stream messages.
    
    The transition in EPII happens based on the duration of the periods, not
    the windows. So use this duration in case they are not the same.
    
    Also make sure to send the message at duration-1 because the playback position
    at the duration is technically already the first position in the next item.
    
    PiperOrigin-RevId: 294669335

4	14	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
10	6	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 06f4983ffb0e64115026b59a686ab34f1c3ea8be
Author: olly <olly@google.com>
Date:   2020-02-12 15:19:58 +0000

    Split bitrate into average and peak in VariantInfo
    
    Issue: #2863
    PiperOrigin-RevId: 294661214

23	9	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.java
10	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
50	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntryTest.java
12	11	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 40101094ba9c3e166af183dd446bda81b7f64914
Author: tonihei <tonihei@google.com>
Date:   2020-02-12 10:57:37 +0000

    Add option to send messages at end of stream.
    
    This simplifies sending messages to the end of a stream. This was
    already possible, but users needed to wait until the duration is known
    before sending the message. This duration resolution can happen as part of the message position resolution.
    
    PiperOrigin-RevId: 294626984

1	0	RELEASENOTES.md
56	22	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
7	3	library/core/src/main/java/com/google/android/exoplayer2/PlayerMessage.java
32	9	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 7a8ab7ce6846cac0d65b011429c391f0fb10a455
Author: kimvde <kimvde@google.com>
Date:   2020-02-12 10:15:27 +0000

    FakeTrackOutput: test all the formats sent
    
    PiperOrigin-RevId: 294621946

1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
3	3	testdata/src/test/assets/amr/sample_nb.amr.0.dump
3	3	testdata/src/test/assets/amr/sample_nb.amr.unklen.dump
3	3	testdata/src/test/assets/amr/sample_nb_cbr.amr.0.dump
3	3	testdata/src/test/assets/amr/sample_nb_cbr.amr.1.dump
3	3	testdata/src/test/assets/amr/sample_nb_cbr.amr.2.dump
3	3	testdata/src/test/assets/amr/sample_nb_cbr.amr.3.dump
3	3	testdata/src/test/assets/amr/sample_nb_cbr.amr.unklen.dump
3	3	testdata/src/test/assets/amr/sample_wb.amr.0.dump
3	3	testdata/src/test/assets/amr/sample_wb.amr.unklen.dump
3	3	testdata/src/test/assets/amr/sample_wb_cbr.amr.0.dump
3	3	testdata/src/test/assets/amr/sample_wb_cbr.amr.1.dump
3	3	testdata/src/test/assets/amr/sample_wb_cbr.amr.2.dump
3	3	testdata/src/test/assets/amr/sample_wb_cbr.amr.3.dump
3	3	testdata/src/test/assets/amr/sample_wb_cbr.amr.unklen.dump
3	3	testdata/src/test/assets/flac/bear_java.0.dump
3	3	testdata/src/test/assets/flac/bear_java.1.dump
3	3	testdata/src/test/assets/flac/bear_java.2.dump
3	3	testdata/src/test/assets/flac/bear_java.3.dump
3	3	testdata/src/test/assets/flac/bear_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_native.0.dump
3	3	testdata/src/test/assets/flac/bear_native.1.dump
3	3	testdata/src/test/assets/flac/bear_native.2.dump
3	3	testdata/src/test/assets/flac/bear_native.3.dump
3	3	testdata/src/test/assets/flac/bear_native.unklen.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.0.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.1.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.2.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.3.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.0.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.1.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.2.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.3.dump
3	3	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.unklen.dump
3	3	testdata/src/test/assets/flac/bear_no_num_samples_java.0.dump
3	3	testdata/src/test/assets/flac/bear_no_num_samples_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_no_num_samples_native.0.dump
3	3	testdata/src/test/assets/flac/bear_no_num_samples_native.unklen.dump
3	3	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_java.0.dump
3	3	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_native.0.dump
3	3	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_native.unklen.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_java.0.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_java.1.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_java.2.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_java.3.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_native.0.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_native.1.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_native.2.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_native.3.dump
3	3	testdata/src/test/assets/flac/bear_one_metadata_block_native.unklen.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.0.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.1.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.2.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.3.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.0.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.1.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.2.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.3.dump
3	3	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.unklen.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_java.0.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_java.1.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_java.2.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_java.3.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_native.0.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_native.1.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_native.2.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_native.3.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_disabled_native.unklen.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_java.0.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_java.1.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_java.2.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_java.3.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_native.0.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_native.1.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_native.2.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_native.3.dump
3	3	testdata/src/test/assets/flac/bear_with_id3_enabled_native.unklen.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_java.0.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_java.1.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_java.2.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_java.3.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_native.0.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_native.1.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_native.2.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_native.3.dump
3	3	testdata/src/test/assets/flac/bear_with_picture_native.unklen.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.0.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.1.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.2.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.3.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_java.unklen.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.0.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.1.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.2.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.3.dump
3	3	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.unklen.dump
6	6	testdata/src/test/assets/flv/sample.flv.0.dump
6	6	testdata/src/test/assets/flv/sample.flv.unklen.dump
3	3	testdata/src/test/assets/mkv/full_blocks.mkv.0.dump
3	3	testdata/src/test/assets/mkv/full_blocks.mkv.1.dump
3	3	testdata/src/test/assets/mkv/full_blocks.mkv.2.dump
3	3	testdata/src/test/assets/mkv/full_blocks.mkv.3.dump
3	3	testdata/src/test/assets/mkv/full_blocks.mkv.unklen.dump
6	6	testdata/src/test/assets/mkv/sample.mkv.0.dump
6	6	testdata/src/test/assets/mkv/sample.mkv.1.dump
6	6	testdata/src/test/assets/mkv/sample.mkv.2.dump
6	6	testdata/src/test/assets/mkv/sample.mkv.3.dump
6	6	testdata/src/test/assets/mkv/sample.mkv.unklen.dump
3	3	testdata/src/test/assets/mkv/subsample_encrypted_altref.webm.0.dump
3	3	testdata/src/test/assets/mkv/subsample_encrypted_altref.webm.unklen.dump
3	3	testdata/src/test/assets/mkv/subsample_encrypted_noaltref.webm.0.dump
3	3	testdata/src/test/assets/mkv/subsample_encrypted_noaltref.webm.unklen.dump
3	3	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.0.dump
3	3	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.1.dump
3	3	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.2.dump
3	3	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.3.dump
3	3	testdata/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.unklen.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.0.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.1.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.2.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.3.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.unklen.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.0.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.1.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.2.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.3.dump
3	3	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.unklen.dump
3	3	testdata/src/test/assets/mp3/play-trimmed.mp3.0.dump
3	3	testdata/src/test/assets/mp3/play-trimmed.mp3.1.dump
3	3	testdata/src/test/assets/mp3/play-trimmed.mp3.2.dump
3	3	testdata/src/test/assets/mp3/play-trimmed.mp3.3.dump
3	3	testdata/src/test/assets/mp3/play-trimmed.mp3.unklen.dump
6	6	testdata/src/test/assets/mp4/sample.mp4.0.dump
6	6	testdata/src/test/assets/mp4/sample.mp4.1.dump
6	6	testdata/src/test/assets/mp4/sample.mp4.2.dump
6	6	testdata/src/test/assets/mp4/sample.mp4.3.dump
6	6	testdata/src/test/assets/mp4/sample.mp4.unklen.dump
3	3	testdata/src/test/assets/mp4/sample_ac4.mp4.0.dump
3	3	testdata/src/test/assets/mp4/sample_ac4.mp4.1.dump
3	3	testdata/src/test/assets/mp4/sample_ac4.mp4.2.dump
3	3	testdata/src/test/assets/mp4/sample_ac4.mp4.3.dump
3	3	testdata/src/test/assets/mp4/sample_ac4.mp4.unklen.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.0.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.1.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.2.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.3.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.unklen.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.0.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.1.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.2.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.3.dump
3	3	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.unklen.dump
3	3	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.0.dump
3	3	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.1.dump
3	3	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.2.dump
3	3	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.3.dump
3	3	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.unklen.dump
3	3	testdata/src/test/assets/mp4/sample_eac3.mp4.0.dump
3	3	testdata/src/test/assets/mp4/sample_eac3.mp4.1.dump
3	3	testdata/src/test/assets/mp4/sample_eac3.mp4.2.dump
3	3	testdata/src/test/assets/mp4/sample_eac3.mp4.3.dump
3	3	testdata/src/test/assets/mp4/sample_eac3.mp4.unklen.dump
3	3	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.0.dump
3	3	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.1.dump
3	3	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.2.dump
3	3	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.3.dump
3	3	testdata/src/test/assets/mp4/sample_eac3_fragmented.mp4.unklen.dump
6	6	testdata/src/test/assets/mp4/sample_fragmented.mp4.0.dump
6	6	testdata/src/test/assets/mp4/sample_fragmented.mp4.unklen.dump
6	6	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.0.dump
6	6	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.1.dump
6	6	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.2.dump
6	6	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.3.dump
6	6	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.unklen.dump
9	9	testdata/src/test/assets/mp4/sample_fragmented_sei.mp4.0.dump
9	9	testdata/src/test/assets/mp4/sample_fragmented_sei.mp4.unklen.dump
6	6	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
6	6	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
6	6	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
6	6	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
6	6	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.unklen.dump
3	3	testdata/src/test/assets/ogg/bear.opus.0.dump
3	3	testdata/src/test/assets/ogg/bear.opus.1.dump
3	3	testdata/src/test/assets/ogg/bear.opus.2.dump
3	3	testdata/src/test/assets/ogg/bear.opus.3.dump
3	3	testdata/src/test/assets/ogg/bear.opus.unklen.dump
3	3	testdata/src/test/assets/ogg/bear_flac.ogg.0.dump
3	3	testdata/src/test/assets/ogg/bear_flac.ogg.1.dump
3	3	testdata/src/test/assets/ogg/bear_flac.ogg.2.dump
3	3	testdata/src/test/assets/ogg/bear_flac.ogg.3.dump
3	3	testdata/src/test/assets/ogg/bear_flac.ogg.unklen.dump
3	3	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
3	3	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
3	3	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
3	3	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
3	3	testdata/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump
3	3	testdata/src/test/assets/ogg/bear_vorbis.ogg.0.dump
3	3	testdata/src/test/assets/ogg/bear_vorbis.ogg.1.dump
3	3	testdata/src/test/assets/ogg/bear_vorbis.ogg.2.dump
3	3	testdata/src/test/assets/ogg/bear_vorbis.ogg.3.dump
3	3	testdata/src/test/assets/ogg/bear_vorbis.ogg.unklen.dump
3	3	testdata/src/test/assets/rawcc/sample.rawcc.0.dump
3	3	testdata/src/test/assets/rawcc/sample.rawcc.unklen.dump
3	3	testdata/src/test/assets/ts/sample.ac3.0.dump
3	3	testdata/src/test/assets/ts/sample.ac3.unklen.dump
3	3	testdata/src/test/assets/ts/sample.ac4.0.dump
3	3	testdata/src/test/assets/ts/sample.ac4.unklen.dump
6	6	testdata/src/test/assets/ts/sample.adts.0.dump
6	6	testdata/src/test/assets/ts/sample.adts.unklen.dump
3	3	testdata/src/test/assets/ts/sample.eac3.0.dump
3	3	testdata/src/test/assets/ts/sample.eac3.unklen.dump
6	6	testdata/src/test/assets/ts/sample.ps.0.dump
6	6	testdata/src/test/assets/ts/sample.ps.1.dump
6	6	testdata/src/test/assets/ts/sample.ps.2.dump
6	6	testdata/src/test/assets/ts/sample.ps.3.dump
6	6	testdata/src/test/assets/ts/sample.ps.unklen.dump
9	9	testdata/src/test/assets/ts/sample.ts.0.dump
9	9	testdata/src/test/assets/ts/sample.ts.1.dump
9	9	testdata/src/test/assets/ts/sample.ts.2.dump
9	9	testdata/src/test/assets/ts/sample.ts.3.dump
9	9	testdata/src/test/assets/ts/sample.ts.unklen.dump
6	6	testdata/src/test/assets/ts/sample_cbs.adts.0.dump
6	6	testdata/src/test/assets/ts/sample_cbs.adts.1.dump
6	6	testdata/src/test/assets/ts/sample_cbs.adts.2.dump
6	6	testdata/src/test/assets/ts/sample_cbs.adts.3.dump
6	6	testdata/src/test/assets/ts/sample_cbs.adts.unklen.dump
6	6	testdata/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
6	6	testdata/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
6	6	testdata/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
6	6	testdata/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
6	6	testdata/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
9	9	testdata/src/test/assets/ts/sample_with_junk.0.dump
9	9	testdata/src/test/assets/ts/sample_with_junk.1.dump
9	9	testdata/src/test/assets/ts/sample_with_junk.2.dump
9	9	testdata/src/test/assets/ts/sample_with_junk.3.dump
9	9	testdata/src/test/assets/ts/sample_with_junk.unklen.dump
3	3	testdata/src/test/assets/wav/sample.wav.0.dump
3	3	testdata/src/test/assets/wav/sample.wav.1.dump
3	3	testdata/src/test/assets/wav/sample.wav.2.dump
3	3	testdata/src/test/assets/wav/sample.wav.3.dump
3	3	testdata/src/test/assets/wav/sample.wav.unklen.dump
3	3	testdata/src/test/assets/wav/sample_ima_adpcm.wav.0.dump
3	3	testdata/src/test/assets/wav/sample_ima_adpcm.wav.1.dump
3	3	testdata/src/test/assets/wav/sample_ima_adpcm.wav.2.dump
3	3	testdata/src/test/assets/wav/sample_ima_adpcm.wav.3.dump
3	3	testdata/src/test/assets/wav/sample_ima_adpcm.wav.unklen.dump
167	65	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit 29c43b5e241f6e8cd774e2aa85e24f9472c5af95
Author: tonihei <tonihei@google.com>
Date:   2020-02-12 09:24:23 +0000

    Move common bookkeeping to MediaCodecRenderer.
    
    This is a no-op change and just moves some duplicated logic into the
    base class.
    
    PiperOrigin-RevId: 294615218

5	49	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
73	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
8	71	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit bdfd24290faaa951a56b0c66d83f366a02080a83
Author: kimvde <kimvde@google.com>
Date:   2020-02-12 09:22:25 +0000

    Share FLAC extractor tests between both extractors
    
    PiperOrigin-RevId: 294614958

1	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
1	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorSeekTest.java
81	5	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorTest.java
2	2	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
6	6	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/FlacMetadataReaderTest.java
48	12	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
0	0	testdata/src/test/assets/flac/{bear.flac.0.dump => bear_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear.flac.1.dump => bear_java.1.dump}
0	0	testdata/src/test/assets/flac/{bear.flac.2.dump => bear_java.2.dump}
0	0	testdata/src/test/assets/flac/{bear.flac.3.dump => bear_java.3.dump}
0	0	testdata/src/test/assets/flac/{bear.flac.unklen.dump => bear_java.unklen.dump}
0	0	testdata/src/test/assets/flac/{ext-bear.flac.0.dump => bear_native.0.dump}
0	0	testdata/src/test/assets/flac/{ext-bear.flac.1.dump => bear_native.1.dump}
0	0	testdata/src/test/assets/flac/{ext-bear.flac.2.dump => bear_native.2.dump}
0	0	testdata/src/test/assets/flac/{ext-bear.flac.3.dump => bear_native.3.dump}
0	0	testdata/src/test/assets/flac/{ext-bear.flac.unklen.dump => bear_native.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size.flac.0.dump => bear_no_min_max_frame_size_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size.flac.1.dump => bear_no_min_max_frame_size_java.1.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size.flac.2.dump => bear_no_min_max_frame_size_java.2.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size.flac.3.dump => bear_no_min_max_frame_size_java.3.dump}
0	0	testdata/src/test/assets/flac/{bear_no_min_max_frame_size.flac.unklen.dump => bear_no_min_max_frame_size_java.unklen.dump}
166	0	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.0.dump
126	0	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.1.dump
82	0	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.2.dump
42	0	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.3.dump
166	0	testdata/src/test/assets/flac/bear_no_min_max_frame_size_native.unklen.dump
0	0	testdata/src/test/assets/flac/{bear_no_num_samples.flac.0.dump => bear_no_num_samples_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear_no_num_samples.flac.unklen.dump => bear_no_num_samples_java.unklen.dump}
164	0	testdata/src/test/assets/flac/bear_no_num_samples_native.0.dump
164	0	testdata/src/test/assets/flac/bear_no_num_samples_native.unklen.dump
0	0	testdata/src/test/assets/flac/{bear_no_seek_table_no_num_samples.flac.0.dump => bear_no_seek_table_no_num_samples_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear_no_seek_table_no_num_samples.flac.unklen.dump => bear_no_seek_table_no_num_samples_java.unklen.dump}
163	0	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_native.0.dump
163	0	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples_native.unklen.dump
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block.flac.0.dump => bear_one_metadata_block_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block.flac.1.dump => bear_one_metadata_block_java.1.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block.flac.2.dump => bear_one_metadata_block_java.2.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block.flac.3.dump => bear_one_metadata_block_java.3.dump}
0	0	testdata/src/test/assets/flac/{bear_one_metadata_block.flac.unklen.dump => bear_one_metadata_block_java.unklen.dump}
166	0	testdata/src/test/assets/flac/bear_one_metadata_block_native.0.dump
126	0	testdata/src/test/assets/flac/bear_one_metadata_block_native.1.dump
82	0	testdata/src/test/assets/flac/bear_one_metadata_block_native.2.dump
38	0	testdata/src/test/assets/flac/bear_one_metadata_block_native.3.dump
163	0	testdata/src/test/assets/flac/bear_one_metadata_block_native.unklen.dump
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate.flac.0.dump => bear_uncommon_sample_rate_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate.flac.1.dump => bear_uncommon_sample_rate_java.1.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate.flac.2.dump => bear_uncommon_sample_rate_java.2.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate.flac.3.dump => bear_uncommon_sample_rate_java.3.dump}
0	0	testdata/src/test/assets/flac/{bear_uncommon_sample_rate.flac.unklen.dump => bear_uncommon_sample_rate_java.unklen.dump}
142	0	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.0.dump
110	0	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.1.dump
74	0	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.2.dump
42	0	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.3.dump
142	0	testdata/src/test/assets/flac/bear_uncommon_sample_rate_native.unklen.dump
-	-	testdata/src/test/assets/flac/{bear_with_id3_disabled.flac => bear_with_id3.flac}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled.flac.0.dump => bear_with_id3_disabled_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled.flac.1.dump => bear_with_id3_disabled_java.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled.flac.2.dump => bear_with_id3_disabled_java.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled.flac.3.dump => bear_with_id3_disabled_java.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_disabled.flac.unklen.dump => bear_with_id3_disabled_java.unklen.dump}
166	0	testdata/src/test/assets/flac/bear_with_id3_disabled_native.0.dump
126	0	testdata/src/test/assets/flac/bear_with_id3_disabled_native.1.dump
82	0	testdata/src/test/assets/flac/bear_with_id3_disabled_native.2.dump
42	0	testdata/src/test/assets/flac/bear_with_id3_disabled_native.3.dump
166	0	testdata/src/test/assets/flac/bear_with_id3_disabled_native.unklen.dump
-	-	testdata/src/test/assets/flac/bear_with_id3_enabled.flac
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled.flac.0.dump => bear_with_id3_enabled_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled.flac.1.dump => bear_with_id3_enabled_java.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled.flac.2.dump => bear_with_id3_enabled_java.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled.flac.3.dump => bear_with_id3_enabled_java.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_id3_enabled.flac.unklen.dump => bear_with_id3_enabled_java.unklen.dump}
0	0	testdata/src/test/assets/flac/{ext-bear_with_id3.flac.0.dump => bear_with_id3_enabled_native.0.dump}
0	0	testdata/src/test/assets/flac/{ext-bear_with_id3.flac.1.dump => bear_with_id3_enabled_native.1.dump}
0	0	testdata/src/test/assets/flac/{ext-bear_with_id3.flac.2.dump => bear_with_id3_enabled_native.2.dump}
0	0	testdata/src/test/assets/flac/{ext-bear_with_id3.flac.3.dump => bear_with_id3_enabled_native.3.dump}
0	0	testdata/src/test/assets/flac/{ext-bear_with_id3.flac.unklen.dump => bear_with_id3_enabled_native.unklen.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture.flac.0.dump => bear_with_picture_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture.flac.1.dump => bear_with_picture_java.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture.flac.2.dump => bear_with_picture_java.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture.flac.3.dump => bear_with_picture_java.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_picture.flac.unklen.dump => bear_with_picture_java.unklen.dump}
166	0	testdata/src/test/assets/flac/bear_with_picture_native.0.dump
126	0	testdata/src/test/assets/flac/bear_with_picture_native.1.dump
82	0	testdata/src/test/assets/flac/bear_with_picture_native.2.dump
42	0	testdata/src/test/assets/flac/bear_with_picture_native.3.dump
166	0	testdata/src/test/assets/flac/bear_with_picture_native.unklen.dump
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments.flac.0.dump => bear_with_vorbis_comments_java.0.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments.flac.1.dump => bear_with_vorbis_comments_java.1.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments.flac.2.dump => bear_with_vorbis_comments_java.2.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments.flac.3.dump => bear_with_vorbis_comments_java.3.dump}
0	0	testdata/src/test/assets/flac/{bear_with_vorbis_comments.flac.unklen.dump => bear_with_vorbis_comments_java.unklen.dump}
166	0	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.0.dump
126	0	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.1.dump
82	0	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.2.dump
42	0	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.3.dump
166	0	testdata/src/test/assets/flac/bear_with_vorbis_comments_native.unklen.dump
-	-	testdata/src/test/assets/flac/ext-bear.flac
-	-	testdata/src/test/assets/flac/ext-bear_no_seek.flac
-	-	testdata/src/test/assets/flac/ext-bear_with_id3.flac
-	-	testdata/src/test/assets/{flac/ext-bear-flac-16bit.mka => mka/bear-flac-16bit.mka}
0	0	testdata/src/test/assets/{flac/ext-bear-flac-16bit.mka.audiosink.dump => mka/bear-flac-16bit.mka.audiosink.dump}
-	-	testdata/src/test/assets/{flac/ext-bear-flac-24bit.mka => mka/bear-flac-24bit.mka}
0	0	testdata/src/test/assets/{flac/ext-bear-flac-24bit.mka.audiosink.dump => mka/bear-flac-24bit.mka.audiosink.dump}

commit 1c232b1bdfd1351ae926ff629b03ee8235254e38
Author: kimvde <kimvde@google.com>
Date:   2020-02-12 09:13:38 +0000

    Add possibility to write extractor dump files to device
    
    PiperOrigin-RevId: 294613898

34	11	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 1440cad5ed60cdb2d739bfff6622768ce7e7585f
Author: olly <olly@google.com>
Date:   2020-02-12 01:09:04 +0000

    Fix build warnings under exoplayer/v2/library
    
    - Removes empty <p> tag in javadoc
    - Removes incorrect parameter name warnings for var args.
    
    PiperOrigin-RevId: 294555651

1	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManagerTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
0	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java
0	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
0	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit 440468603a553b9ccb20dbdb974600e08ba9b32e
Author: olly <olly@google.com>
Date:   2020-02-11 23:11:55 +0000

    Add Format peak and average bitrate (hidden for now)
    
    Issue: #2863
    PiperOrigin-RevId: 294531127

93	28	library/common/src/main/java/com/google/android/exoplayer2/Format.java
2	1	library/common/src/test/java/com/google/android/exoplayer2/FormatTest.java

commit 1cbe3f72e62039e85385078ef9b3cb2c0ba5e727
Author: olly <olly@google.com>
Date:   2020-02-11 23:07:35 +0000

    DataSpec: Deprecate most constructors
    
    Keeping (Uri) and (Uri, position, length) to avoid needing
    Builder for the trivial case.
    
    PiperOrigin-RevId: 294530226

6	3	RELEASENOTES.md
1	1	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
32	33	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceTest.java
2	2	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorSeekTest.java
6	11	extensions/okhttp/src/test/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSourceTest.java
58	3	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
15	17	library/common/src/test/java/com/google/android/exoplayer2/upstream/DataSpecTest.java
1	1	library/core/src/androidTest/java/com/google/android/exoplayer2/upstream/ContentDataSourceTest.java
8	13	library/core/src/main/java/com/google/android/exoplayer2/drm/HttpMediaDrmCallback.java
5	6	library/core/src/main/java/com/google/android/exoplayer2/offline/ProgressiveDownloader.java
1	6	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java
8	7	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaSource.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/ParsingLoadable.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/ByteArrayDataSourceTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSchemeDataSourceTest.java
7	11	library/core/src/test/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSourceTest.java
9	12	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest.java
7	8	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest2.java
12	13	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheUtilTest.java
18	4	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashUtil.java
7	13	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/offline/DashDownloader.java
2	4	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/PsExtractorSeekTest.java
4	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java
6	9	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
1	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloader.java
1	3	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSet.java
2	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeChunkSource.java
1	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaChunkIterator.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java
5	5	testutils/src/test/java/com/google/android/exoplayer2/testutil/FakeDataSourceTest.java

commit c7b6a2e045e2c754a35c18f984d32291a67f419c
Author: olly <olly@google.com>
Date:   2020-02-11 22:27:13 +0000

    DataSpec: Add customData field.
    
    PiperOrigin-RevId: 294520836

1	1	RELEASENOTES.md
36	7	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
7	0	library/common/src/test/java/com/google/android/exoplayer2/upstream/DataSpecTest.java

commit 14d3ed09d5d6968e33209492ec3ddb931ead32a4
Author: olly <olly@google.com>
Date:   2020-02-11 22:18:05 +0000

    Add DataSpec.Builder
    
    PiperOrigin-RevId: 294518763

1	0	RELEASENOTES.md
6	10	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
164	2	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
80	3	library/common/src/test/java/com/google/android/exoplayer2/upstream/DataSpecTest.java
23	49	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java

commit 397aafb3cedd3189abae118345c42d54a83ec422
Author: ybai001 <ybai@dolby.com>
Date:   2020-02-13 09:47:18 +0800

    Add EAC3 and AC-4 test assets

10	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
-	-	testdata/src/test/assets/ts/sample_ac4.ts
110	0	testdata/src/test/assets/ts/sample_ac4.ts.0.dump
82	0	testdata/src/test/assets/ts/sample_ac4.ts.1.dump
58	0	testdata/src/test/assets/ts/sample_ac4.ts.2.dump
34	0	testdata/src/test/assets/ts/sample_ac4.ts.3.dump
107	0	testdata/src/test/assets/ts/sample_ac4.ts.unklen.dump
-	-	testdata/src/test/assets/ts/sample_eac3.ts
250	0	testdata/src/test/assets/ts/sample_eac3.ts.0.dump
202	0	testdata/src/test/assets/ts/sample_eac3.ts.1.dump
130	0	testdata/src/test/assets/ts/sample_eac3.ts.2.dump
34	0	testdata/src/test/assets/ts/sample_eac3.ts.3.dump
247	0	testdata/src/test/assets/ts/sample_eac3.ts.unklen.dump

commit 1ca47ef4db0b5527cd3209667a88d2712afba959
Merge: cbffc14fa 7a849e11f
Author: ybai001 <ybai@dolby.com>
Date:   2020-02-13 09:22:54 +0800

    Merge pull request #12 from google/dev-v2
    
    Merge from google dev-v2

commit e99a7f6cd23349a0452cac59454b401454bd6397
Merge: 117239a70 7a849e11f
Author: Daniele Bonaldo <dany.bony@gmail.com>
Date:   2020-02-12 17:07:23 +0100

    Merge branch 'dev-v2' into subtitle_color_in_cue_class
    
    # Conflicts:
    #       library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java

commit 7a849e11f7868b84e1d80ce711c3559b37b7031a
Author: olly <olly@google.com>
Date:   2020-02-11 21:09:05 +0000

    Fix demo app download notification
    
    PiperOrigin-RevId: 294503035

12	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
12	14	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java

commit 147f70bf5b5d1a730661b2e7c92514e90d1716e5
Author: olly <olly@google.com>
Date:   2020-02-11 20:54:46 +0000

    Format: Move language into common fields section
    
    Language is already applicable to image formats as well.
    It can also apply to video formats. For example when the
    video contains burnt in subtitles. Also, some animation
    studios produce multiple variants of animations, in which
    text within the scene itself (e.g., a signpost) is
    replaced to be language specific.
    
    PiperOrigin-RevId: 294500227

35	37	library/common/src/main/java/com/google/android/exoplayer2/Format.java
1	1	library/common/src/test/java/com/google/android/exoplayer2/FormatTest.java

commit 39c65c658e24b6c02480a554352413f0b2af7540
Author: olly <olly@google.com>
Date:   2020-02-11 19:56:36 +0000

    DataSpec: Make DataSpecTest more useful
    
    - Replace tests specific to HTTP request headers with tests that
      more generally test constructor correctness.
    - Add test specifically around the constructor that infers the
      HTTP method from postBody, since that's a non-trivial bit of
      constructor logic.
    
    Note: In general, I'm not sure this type of test (i.e., testing a
    bit of trivial copying through a constructor) is worth the cost
    of writing and maintaining them. That said, checking the new
    uriPositionOffset is calculated correctly is non-trivial, as is
    the HTTP method inference, so keeping them for now.
    PiperOrigin-RevId: 294488684

160	60	library/common/src/test/java/com/google/android/exoplayer2/upstream/DataSpecTest.java

commit 829282fa1220be7ce254169dc926dfdd49dac966
Author: olly <olly@google.com>
Date:   2020-02-11 19:43:03 +0000

    Replace DataSpec.absoluteStreamPosition with uriPositionOffset
    
    This is a preliminary step toward adding a DataSpec.Builder,
    which is needed for sanity when adding DataSpec.customData.
    
    The existing absoluteStreamPosition field is very error prone,
    because anyone using a Builder to adjust the request position
    will need to remember to adjust two values:
    
    dataSpec
        .buildUpon()
        .setAbsoluteStreamPosition(x)
        .setPosition(x)
        .build();
    
    Furthermore, the difference between position and
    absoluteStreamPosition is irrelevant in nearly all cases. In
    the core library, the difference is only relevant when initializing
    AES encryption/decryption to write/read cache files.
    
    Replacing absoluteStreamPosition with uriPositionOffset will
    simplify the code block above to:
    
    dataSpec
        .buildUpon()
        .setPosition(x)
        .build();
    
    PiperOrigin-RevId: 294485644

85	42	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/InitializationChunk.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSink.java
8	10	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSink.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSource.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest.java
1	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest2.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java

commit 58bc460ba31436124c1c410a1eedcdcdb39721af
Author: kimvde <kimvde@google.com>
Date:   2020-02-11 18:17:33 +0000

    Write extractor dumps to testdata
    
    PiperOrigin-RevId: 294465827

1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit fed0acc253acf885d9b0a045935ca92cfecf9134
Merge: f59755f51 35930623b
Author: kim-vde <kimvde@google.com>
Date:   2020-02-11 17:12:55 +0000

    Merge pull request #6949 from DolbyLaboratories:dev-v2-assets
    
    PiperOrigin-RevId: 294441610

commit f59755f51c762e4e762eadf7a32c7c133aae12f9
Author: christosts <christosts@google.com>
Date:   2020-02-11 11:00:08 +0000

    Fix JavaDoc
    
    Replace Thread with thread on documentation.
    
    PiperOrigin-RevId: 294401357

1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapter.java
3	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java

commit bc02643df0a1b148df62387cd00ed6e25c1d93f2
Author: christosts <christosts@google.com>
Date:   2020-02-11 10:25:30 +0000

    Async queuing on MultiLockAsyncMediaCodecAdapter
    
    Add support for asynchronous input buffer queueing in the
    MultiLockAsyncMediaCodecAdapter.
    
    PiperOrigin-RevId: 294397811

42	22	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
55	14	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapter.java
4	1	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapterTest.java

commit 12187c90489146e4699854059f7d9cfc983f0277
Author: olly <olly@google.com>
Date:   2020-02-11 05:01:55 +0000

    Apply minimal layout change according to view size
    
     - Add method to scale scrubber handle of DefaultTimeBar
    
    PiperOrigin-RevId: 294366734

15	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit 363599dd54c502ef45ec2ebfe5b4c4d57b516525
Author: kimvde <kimvde@google.com>
Date:   2020-02-10 17:51:04 +0000

    Move assets from dash to testdata module
    
    PiperOrigin-RevId: 294241169

2	0	library/dash/build.gradle
5	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParserTest.java
0	0	{library/dash/src/test/assets => testdata/src/test/assets/mpd}/sample_mpd
0	0	{library/dash/src/test/assets => testdata/src/test/assets/mpd}/sample_mpd_event_stream
0	0	{library/dash/src/test/assets => testdata/src/test/assets/mpd}/sample_mpd_labels
0	0	{library/dash/src/test/assets => testdata/src/test/assets/mpd}/sample_mpd_segment_template
0	0	{library/dash/src/test/assets => testdata/src/test/assets/mpd}/sample_mpd_unknown_mime_type

commit 22ce744095bb1bcf7285cb1873c0ccfe30db73d5
Author: kimvde <kimvde@google.com>
Date:   2020-02-10 17:43:10 +0000

    Move assets from core to testdata module
    
    PiperOrigin-RevId: 294239472

5	0	library/core/build.gradle
1	1	library/core/src/androidTest/java/com/google/android/exoplayer2/upstream/ContentDataSourceTest.java
-	-	library/core/src/test/assets/binary/1024_incrementing_bytes.mp3
-	-	library/core/src/test/assets/mp4/testvid_1022ms.mp4
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/AssetDataSourceTest.java
-	-	{library/core/src/androidTest => testdata/src/test}/assets/bitmap/image_256_256.png
-	-	{library/core/src/androidTest => testdata/src/test}/assets/bitmap/image_80_60.bmp
-	-	{library/core => testdata}/src/test/assets/download-actions/dash-download-v0
-	-	{library/core => testdata}/src/test/assets/download-actions/dash-remove-v0
-	-	{library/core => testdata}/src/test/assets/download-actions/hls-download-v0
-	-	{library/core => testdata}/src/test/assets/download-actions/hls-download-v1
-	-	{library/core => testdata}/src/test/assets/download-actions/hls-remove-v0
-	-	{library/core => testdata}/src/test/assets/download-actions/hls-remove-v1
-	-	{library/core => testdata}/src/test/assets/download-actions/progressive-download-v0
-	-	{library/core => testdata}/src/test/assets/download-actions/progressive-remove-v0
-	-	{library/core => testdata}/src/test/assets/download-actions/ss-download-v0
-	-	{library/core => testdata}/src/test/assets/download-actions/ss-download-v1
-	-	{library/core => testdata}/src/test/assets/download-actions/ss-remove-v0
-	-	{library/core => testdata}/src/test/assets/download-actions/ss-remove-v1
-	-	{library/core/src/androidTest/assets/binary => testdata/src/test/assets/mp3}/1024_incrementing_bytes.mp3
-	-	{library/core/src/androidTest => testdata/src/test}/assets/mp4/testvid_1022ms.mp4
-	-	library/core/src/androidTest/assets/mp4/video000.png => testdata/src/test/assets/mp4/testvid_1022ms_000.png
-	-	library/core/src/androidTest/assets/mp4/video014.png => testdata/src/test/assets/mp4/testvid_1022ms_014.png
-	-	library/core/src/androidTest/assets/mp4/video015.png => testdata/src/test/assets/mp4/testvid_1022ms_015.png
-	-	library/core/src/androidTest/assets/mp4/video016.png => testdata/src/test/assets/mp4/testvid_1022ms_016.png
-	-	library/core/src/androidTest/assets/mp4/video029.png => testdata/src/test/assets/mp4/testvid_1022ms_029.png
-	-	{library/core => testdata}/src/test/assets/offline/action_file_for_download_index_upgrade.exi
-	-	{library/core => testdata}/src/test/assets/offline/action_file_incomplete_header.exi
0	0	{library/core => testdata}/src/test/assets/offline/action_file_no_data.exi
-	-	{library/core => testdata}/src/test/assets/offline/action_file_one_action.exi
-	-	{library/core => testdata}/src/test/assets/offline/action_file_two_actions.exi
-	-	{library/core => testdata}/src/test/assets/offline/action_file_unsupported_version.exi
-	-	{library/core => testdata}/src/test/assets/offline/action_file_zero_actions.exi
0	0	{library/core => testdata}/src/test/assets/ssa/empty
0	0	{library/core => testdata}/src/test/assets/ssa/invalid_positioning
0	0	{library/core => testdata}/src/test/assets/ssa/invalid_timecodes
0	0	{library/core => testdata}/src/test/assets/ssa/overlapping_timecodes
0	0	{library/core => testdata}/src/test/assets/ssa/positioning
0	0	{library/core => testdata}/src/test/assets/ssa/positioning_without_playres
0	0	{library/core => testdata}/src/test/assets/ssa/typical
0	0	{library/core => testdata}/src/test/assets/ssa/typical_dialogue
0	0	{library/core => testdata}/src/test/assets/ssa/typical_format
0	0	{library/core => testdata}/src/test/assets/ssa/typical_header
0	0	{library/core => testdata}/src/test/assets/subrip/empty
0	0	{library/core => testdata}/src/test/assets/subrip/typical
0	0	{library/core => testdata}/src/test/assets/subrip/typical_extra_blank_line
0	0	{library/core => testdata}/src/test/assets/subrip/typical_missing_sequence
0	0	{library/core => testdata}/src/test/assets/subrip/typical_missing_timecode
0	0	{library/core => testdata}/src/test/assets/subrip/typical_negative_timestamps
0	0	{library/core => testdata}/src/test/assets/subrip/typical_unexpected_end
0	0	{library/core => testdata}/src/test/assets/subrip/typical_with_byte_order_mark
0	0	{library/core => testdata}/src/test/assets/subrip/typical_with_tags
0	0	{library/core => testdata}/src/test/assets/ttml/bitmap_percentage_region.xml
0	0	{library/core => testdata}/src/test/assets/ttml/bitmap_pixel_region.xml
0	0	{library/core => testdata}/src/test/assets/ttml/bitmap_unsupported_region.xml
0	0	{library/core => testdata}/src/test/assets/ttml/chain_multiple_styles.xml
0	0	{library/core => testdata}/src/test/assets/ttml/font_size.xml
0	0	{library/core => testdata}/src/test/assets/ttml/font_size_empty.xml
0	0	{library/core => testdata}/src/test/assets/ttml/font_size_invalid.xml
0	0	{library/core => testdata}/src/test/assets/ttml/font_size_no_unit.xml
0	0	{library/core => testdata}/src/test/assets/ttml/frame_rate.xml
0	0	{library/core => testdata}/src/test/assets/ttml/inherit_and_override_style.xml
0	0	{library/core => testdata}/src/test/assets/ttml/inherit_global_and_parent.xml
0	0	{library/core => testdata}/src/test/assets/ttml/inherit_multiple_styles.xml
0	0	{library/core => testdata}/src/test/assets/ttml/inherit_style.xml
0	0	{library/core => testdata}/src/test/assets/ttml/inline_style_attributes.xml
0	0	{library/core => testdata}/src/test/assets/ttml/multiple_regions.xml
0	0	{library/core => testdata}/src/test/assets/ttml/no_underline_linethrough.xml
0	0	{library/core => testdata}/src/test/assets/ttml/text_combine.xml
0	0	{library/core => testdata}/src/test/assets/ttml/vertical_text.xml
-	-	{library/core => testdata}/src/test/assets/tx3g/initialization
-	-	{library/core => testdata}/src/test/assets/tx3g/initialization_all_defaults
-	-	{library/core => testdata}/src/test/assets/tx3g/no_subtitle
-	-	{library/core => testdata}/src/test/assets/tx3g/sample_just_text
-	-	{library/core => testdata}/src/test/assets/tx3g/sample_utf16_be_no_styl
-	-	{library/core => testdata}/src/test/assets/tx3g/sample_utf16_le_no_styl
-	-	{library/core => testdata}/src/test/assets/tx3g/sample_with_multiple_styl
-	-	{library/core => testdata}/src/test/assets/tx3g/sample_with_other_extension
-	-	{library/core => testdata}/src/test/assets/tx3g/sample_with_styl
-	-	{library/core => testdata}/src/test/assets/tx3g/sample_with_styl_all_defaults
-	-	{library/core => testdata}/src/test/assets/tx3g/sample_with_tbox
0	0	{library/core => testdata}/src/test/assets/webvtt/empty
0	0	{library/core => testdata}/src/test/assets/webvtt/typical
0	0	{library/core => testdata}/src/test/assets/webvtt/typical_with_bad_timestamps
0	0	{library/core => testdata}/src/test/assets/webvtt/typical_with_comments
0	0	{library/core => testdata}/src/test/assets/webvtt/typical_with_identifiers
0	0	{library/core => testdata}/src/test/assets/webvtt/with_bad_cue_header
0	0	{library/core => testdata}/src/test/assets/webvtt/with_bom
0	0	{library/core => testdata}/src/test/assets/webvtt/with_css_complex_selectors
0	0	{library/core => testdata}/src/test/assets/webvtt/with_css_styles
0	0	{library/core => testdata}/src/test/assets/webvtt/with_css_text_combine_upright
0	0	{library/core => testdata}/src/test/assets/webvtt/with_positioning
0	0	{library/core => testdata}/src/test/assets/webvtt/with_tags
0	0	{library/core => testdata}/src/test/assets/webvtt/with_vertical

commit 66aa35f581c4f74c6fc75586126c0554530dbd34
Author: tonihei <tonihei@google.com>
Date:   2020-02-10 17:03:06 +0000

    Select adaptive audio tracks based on the best track in the group.
    
    Currently, the subset of audio tracks for adaptation is selected
    purely based on the size of the subset in the track group, completely
    ignoring the previously selected best individual track.
    
    This change ignores all tracks with a different configuration than the
    previously selected best track.
    
    PiperOrigin-RevId: 294231806

21	106	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
43	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit 0eb0267131ec378dc7ca65e8442802cad9f26424
Author: bachinger <bachinger@google.com>
Date:   2020-02-10 16:10:01 +0000

    deprecate and rename onLoadingChanged
    
    PiperOrigin-RevId: 294222083

1	0	RELEASENOTES.md
5	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
2	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java

commit 5725acb789d6803ac7160224b9ef06acddc7b598
Author: christosts <christosts@google.com>
Date:   2020-02-10 13:56:51 +0000

    Defer MediaCodec queueing to background thread
    
    The DedicatedThreadAsyncMediaCodecAdapter supports enqueueing
    input buffers in a background Thread.
    
    PiperOrigin-RevId: 294202744

66	0	library/common/src/main/java/com/google/android/exoplayer2/decoder/CryptoInfo.java
99	0	library/common/src/test/java/com/google/android/exoplayer2/decoder/CryptoInfoTest.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapter.java
274	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecBufferEnqueuer.java
37	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecAdapter.java
7	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInputBufferEnqueuer.java
15	19	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapter.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/SynchronousMediaCodecAdapter.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/SynchronousMediaCodecBufferEnqueuer.java
283	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecBufferEnqueuerTest.java
7	1	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapterTest.java

commit 278e1aff4d7eeb30326ca54832fa91d058e50968
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-10 12:27:08 +0000

    Revert accidental change in media.exolist.
    
    PiperOrigin-RevId: 294193213

3	2	demos/main/src/main/assets/media.exolist.json

commit ac8a2e80e17fd285acaa660f44fae435db4a3199
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-10 11:38:27 +0000

    Prepare and release DrmSessionManager in Renderers
    
    Issue: #6951
    PiperOrigin-RevId: 294187695

4	2	RELEASENOTES.md
2	3	demos/main/src/main/assets/media.exolist.json
13	0	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
13	0	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit 7c85ca08cfc982bb50b5c3a8ac8fbde4d23a9a57
Author: kimvde <kimvde@google.com>
Date:   2020-02-10 11:12:43 +0000

    Fix ExtractorAsserts Javadoc
    
    PiperOrigin-RevId: 294184891

3	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit 7d19a85c5936d61de0ab56cd6fd940c4aae1e23f
Author: olly <olly@google.com>
Date:   2020-02-10 11:01:23 +0000

    DataSpec: Cleanup
    
    PiperOrigin-RevId: 294183213

78	85	library/common/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java

commit 3dc9225babd5a0a79a48131fe4d53355d0446516
Author: bachinger <bachinger@google.com>
Date:   2020-02-10 10:57:56 +0000

    remove deprecated usage of onPlayerStateChanged in ui components
    
    PiperOrigin-RevId: 294182858

8	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
17	6	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit d8802df62e4ef7026cd14f1f90a173b817ad7326
Author: christosts <christosts@google.com>
Date:   2020-02-10 10:56:34 +0000

    Add interface MediaCodecInputBufferEnqueuer
    
    MediaCodecInputBufferEnqueuer wraps MediaCodec queue operations.
    
    PiperOrigin-RevId: 294182717

7	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
51	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInputBufferEnqueuer.java
57	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/SynchronousMediaCodecBufferEnqueuer.java

commit 016bacd178e7a1f2550cc06c8f29a4a4eca34551
Author: bachinger <bachinger@google.com>
Date:   2020-02-10 10:50:31 +0000

    remove deprecated usage of onPlayerStateChanged
    
    PiperOrigin-RevId: 294181886

7	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit fc24a0d52dbc93ea933a43260e0f0be4f1ebbcdc
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-10 10:34:05 +0000

    Fix API check warning
    
    PiperOrigin-RevId: 294179427

1	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit c02933ac0a891b675082a1721cbb76c667ea1a15
Author: bachinger <bachinger@google.com>
Date:   2020-02-09 12:37:48 +0000

    rename getPlaybackError
    
    PiperOrigin-RevId: 294074348

1	0	RELEASENOTES.md
7	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
1	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java
8	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
6	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit ecc04b2b6f0969544c8a413cda1bfd1b9a6c9077
Author: kimvde <kimvde@google.com>
Date:   2020-02-07 17:56:45 +0000

    ExtractorAsserts: always test against .unklen.dump files
    
    This allows the file to be created automatically when
    FakeExtractorOutput#WRITE_DUMP is true.
    
    PiperOrigin-RevId: 293834547

903	0	testdata/src/test/assets/amr/sample_nb.amr.unklen.dump
707	0	testdata/src/test/assets/amr/sample_wb.amr.unklen.dump
167	0	testdata/src/test/assets/flac/bear.flac.unklen.dump
167	0	testdata/src/test/assets/flac/bear_no_min_max_frame_size.flac.unklen.dump
165	0	testdata/src/test/assets/flac/bear_no_num_samples.flac.unklen.dump
164	0	testdata/src/test/assets/flac/bear_no_seek_table_no_num_samples.flac.unklen.dump
143	0	testdata/src/test/assets/flac/bear_uncommon_sample_rate.flac.unklen.dump
167	0	testdata/src/test/assets/flac/bear_with_id3_disabled.flac.unklen.dump
167	0	testdata/src/test/assets/flac/bear_with_id3_enabled.flac.unklen.dump
167	0	testdata/src/test/assets/flac/bear_with_picture.flac.unklen.dump
167	0	testdata/src/test/assets/flac/bear_with_vorbis_comments.flac.unklen.dump
166	0	testdata/src/test/assets/flac/ext-bear.flac.unklen.dump
166	0	testdata/src/test/assets/flac/ext-bear_with_id3.flac.unklen.dump
359	0	testdata/src/test/assets/flv/sample.flv.unklen.dump
46	0	testdata/src/test/assets/mkv/full_blocks.mkv.unklen.dump
297	0	testdata/src/test/assets/mkv/sample.mkv.unklen.dump
37	0	testdata/src/test/assets/mkv/subsample_encrypted_altref.webm.unklen.dump
37	0	testdata/src/test/assets/mkv/subsample_encrypted_noaltref.webm.unklen.dump
502	0	testdata/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.unklen.dump
502	0	testdata/src/test/assets/mp3/bear-vbr-xing-header.mp3.unklen.dump
362	0	testdata/src/test/assets/mp4/sample.mp4.unklen.dump
110	0	testdata/src/test/assets/mp4/sample_ac4.mp4.unklen.dump
110	0	testdata/src/test/assets/mp4/sample_ac4_fragmented.mp4.unklen.dump
148	0	testdata/src/test/assets/mp4/sample_ac4_protected.mp4.unklen.dump
64	0	testdata/src/test/assets/mp4/sample_android_slow_motion.mp4.unklen.dump
363	0	testdata/src/test/assets/mp4/sample_fragmented.mp4.unklen.dump
366	0	testdata/src/test/assets/mp4/sample_fragmented_seekable.mp4.unklen.dump
388	0	testdata/src/test/assets/mp4/sample_fragmented_sei.mp4.unklen.dump
362	0	testdata/src/test/assets/mp4/sample_mdat_too_long.mp4.unklen.dump
631	0	testdata/src/test/assets/rawcc/sample.rawcc.unklen.dump
63	0	testdata/src/test/assets/ts/sample.ac3.unklen.dump
107	0	testdata/src/test/assets/ts/sample.ac4.unklen.dump
633	0	testdata/src/test/assets/ts/sample.adts.unklen.dump
247	0	testdata/src/test/assets/ts/sample.eac3.unklen.dump
74	0	testdata/src/test/assets/wav/sample.wav.unklen.dump
78	0	testdata/src/test/assets/wav/sample_ima_adpcm.wav.unklen.dump
2	11	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit 2722969d0c5ffbcba29142fa0ac7ea2e6ea0f5c1
Author: olly <olly@google.com>
Date:   2020-02-07 15:51:27 +0000

    Cast void* to JniContext* using static_cast.
    
    static_cast is more appropriate than reinrerpret_cast for casting from
    void* to JniContext*. See Section 7.2.1 (page 173) in The C++
    Programming Language, 4th Edition and
    https://stackoverflow.com/questions/310451/should-i-use-static-cast-or-reinterpret-cast-when-casting-a-void-to-whatever
    
    PiperOrigin-RevId: 293812940

2	4	extensions/av1/src/main/jni/gav1_jni.cc

commit b081b6ea4a1ea80f5a3cbc7e6693a6c697d3d82e
Author: kimvde <kimvde@google.com>
Date:   2020-02-07 11:24:02 +0000

    Move assets from vp9 to testdata module
    
    PiperOrigin-RevId: 293781786

6	3	extensions/vp9/build.gradle
4	4	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
-	-	{extensions/vp9/src/androidTest/assets => testdata/src/test/assets/vp9}/bear-vp9-odd-dimensions.webm
-	-	{extensions/vp9/src/androidTest/assets => testdata/src/test/assets/vp9}/bear-vp9.webm
-	-	{extensions/vp9/src/androidTest/assets => testdata/src/test/assets/vp9}/invalid-bitstream.webm
-	-	{extensions/vp9/src/androidTest/assets => testdata/src/test/assets/vp9}/roadtrip-vp92-10bit.webm

commit bcbb7d23fab64a87b48a269ed254cff39845201d
Author: kimvde <kimvde@google.com>
Date:   2020-02-07 11:11:20 +0000

    Move assets from opus to testdata module
    
    PiperOrigin-RevId: 293780365

6	3	extensions/opus/build.gradle
1	1	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
-	-	{extensions/opus/src/androidTest/assets => testdata/src/test/assets/ogg}/bear-opus.webm

commit e4eb55a291bd4d5e623733f79365962b7e36fcd8
Author: kimvde <kimvde@google.com>
Date:   2020-02-07 10:14:48 +0000

    Move asssets from smoothstreaming to testdata module
    
    PiperOrigin-RevId: 293774012

2	0	library/smoothstreaming/build.gradle
2	2	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParserTest.java
0	0	{library/smoothstreaming/src/test/assets => testdata/src/test/assets/smooth-streaming}/sample_ismc_1
0	0	{library/smoothstreaming/src/test/assets => testdata/src/test/assets/smooth-streaming}/sample_ismc_2

commit 0915998add5918214fa0282a69b50a159168a6d5
Author: olly <olly@google.com>
Date:   2020-02-07 00:57:15 +0000

    Switch to new libgav1 frame buffer callback API.
    
    The new code in Libgav1GetFrameBuffer is copied from
    libgav1/src/frame_buffer_callback_adaptor.cc. It may become libgav1
    utility functions available to libgav1 clients in the future.
    
    The Libgav1FrameBuffer struct in the old frame buffer callback API is
    defined as follows:
    
      typedef struct Libgav1FrameBuffer {
        uint8_t* data[3];
        size_t size[3];
        void* private_data;
      } Libgav1FrameBuffer;
    
    Copy these three fields to the JniFrameBuffer class as private data
    members and add the RawBuffer() and Id() getter methods.
    
    The existing AlignTo16 function is replaced by the copied Align template
    function.
    
    PiperOrigin-RevId: 293709205

146	36	extensions/av1/src/main/jni/gav1_jni.cc

commit e8293b92d877bd6e5a00606358db610d6fb7a4d6
Author: bachinger <bachinger@google.com>
Date:   2020-02-06 17:46:10 +0000

    remove deprecated usage of onPlayerStateChanged in ImaAdsLoader
    
    PiperOrigin-RevId: 293612280

59	42	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit b69918a21e4846143c32ed7290454a7c1a6a848b
Author: kimvde <kimvde@google.com>
Date:   2020-02-06 17:28:20 +0000

    Move assets from extractor to testdata module
    
    PiperOrigin-RevId: 293608745

1	1	library/extractor/build.gradle
-	-	{library/extractor => testdata}/src/test/assets/amr/sample_nb.amr
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_nb.amr.0.dump
-	-	{library/extractor => testdata}/src/test/assets/amr/sample_nb_cbr.amr
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_nb_cbr.amr.0.dump
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_nb_cbr.amr.1.dump
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_nb_cbr.amr.2.dump
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_nb_cbr.amr.3.dump
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_nb_cbr.amr.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/amr/sample_wb.amr
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_wb.amr.0.dump
-	-	{library/extractor => testdata}/src/test/assets/amr/sample_wb_cbr.amr
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_wb_cbr.amr.0.dump
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_wb_cbr.amr.1.dump
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_wb_cbr.amr.2.dump
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_wb_cbr.amr.3.dump
0	0	{library/extractor => testdata}/src/test/assets/amr/sample_wb_cbr.amr.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/binary/ogg/vorbis_header_pages
-	-	{library/extractor => testdata}/src/test/assets/binary/vorbis/comment_header
-	-	{library/extractor => testdata}/src/test/assets/binary/vorbis/id_header
-	-	{library/extractor => testdata}/src/test/assets/binary/vorbis/setup_header
-	-	{library/extractor => testdata}/src/test/assets/flv/sample.flv
0	0	{library/extractor => testdata}/src/test/assets/flv/sample.flv.0.dump
-	-	{library/extractor => testdata}/src/test/assets/id3/apic.id3
-	-	{library/extractor => testdata}/src/test/assets/id3/comm_apic.id3
-	-	{library/extractor => testdata}/src/test/assets/mkv/full_blocks.mkv
0	0	{library/extractor => testdata}/src/test/assets/mkv/full_blocks.mkv.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mkv/full_blocks.mkv.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mkv/full_blocks.mkv.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mkv/full_blocks.mkv.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mkv/sample.mkv
0	0	{library/extractor => testdata}/src/test/assets/mkv/sample.mkv.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mkv/sample.mkv.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mkv/sample.mkv.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mkv/sample.mkv.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mkv/subsample_encrypted_altref.webm
0	0	{library/extractor => testdata}/src/test/assets/mkv/subsample_encrypted_altref.webm.0.dump
-	-	{library/extractor => testdata}/src/test/assets/mkv/subsample_encrypted_noaltref.webm
0	0	{library/extractor => testdata}/src/test/assets/mkv/subsample_encrypted_noaltref.webm.0.dump
-	-	{library/extractor => testdata}/src/test/assets/mp3/bear-cbr-constant-frame-size-no-seek-table.mp3
-	-	{library/extractor => testdata}/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.3.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-no-seek-table.mp3
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-xing-header.mp3
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-xing-header.mp3.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-xing-header.mp3.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-xing-header.mp3.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/bear-vbr-xing-header.mp3.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mp3/play-trimmed.mp3
0	0	{library/extractor => testdata}/src/test/assets/mp3/play-trimmed.mp3.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/play-trimmed.mp3.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/play-trimmed.mp3.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/play-trimmed.mp3.3.dump
0	0	{library/extractor => testdata}/src/test/assets/mp3/play-trimmed.mp3.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/mp4/sample.mp4
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample.mp4.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample.mp4.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample.mp4.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample.mp4.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4.mp4
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4.mp4.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4.mp4.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4.mp4.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4.mp4.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_fragmented.mp4
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_fragmented.mp4.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_fragmented.mp4.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_fragmented.mp4.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_fragmented.mp4.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_protected.mp4
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_protected.mp4.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_protected.mp4.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_protected.mp4.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_ac4_protected.mp4.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mp4/sample_android_slow_motion.mp4
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_android_slow_motion.mp4.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_android_slow_motion.mp4.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_android_slow_motion.mp4.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_android_slow_motion.mp4.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mp4/sample_fragmented.mp4
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_fragmented.mp4.0.dump
-	-	{library/extractor => testdata}/src/test/assets/mp4/sample_fragmented_seekable.mp4
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_fragmented_seekable.mp4.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_fragmented_seekable.mp4.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_fragmented_seekable.mp4.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_fragmented_seekable.mp4.3.dump
-	-	{library/extractor => testdata}/src/test/assets/mp4/sample_fragmented_sei.mp4
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_fragmented_sei.mp4.0.dump
-	-	{library/extractor => testdata}/src/test/assets/mp4/sample_mdat_too_long.mp4
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
0	0	{library/extractor => testdata}/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
-	-	{library/extractor => testdata}/src/test/assets/ogg/bear.opus
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear.opus.0.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear.opus.1.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear.opus.2.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear.opus.3.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear.opus.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/ogg/bear_flac.ogg
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac.ogg.0.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac.ogg.1.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac.ogg.2.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac.ogg.3.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac.ogg.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/ogg/bear_flac_noseektable.ogg
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/ogg/bear_vorbis.ogg
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_vorbis.ogg.0.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_vorbis.ogg.1.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_vorbis.ogg.2.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_vorbis.ogg.3.dump
0	0	{library/extractor => testdata}/src/test/assets/ogg/bear_vorbis.ogg.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/ogg/continued_packet_at_start
-	-	{library/extractor => testdata}/src/test/assets/ogg/continued_packet_over_four_pages
-	-	{library/extractor => testdata}/src/test/assets/ogg/continued_packet_over_two_pages
-	-	{library/extractor => testdata}/src/test/assets/ogg/eof_header
-	-	{library/extractor => testdata}/src/test/assets/ogg/flac_header
-	-	{library/extractor => testdata}/src/test/assets/ogg/four_packets_with_empty_page
-	-	{library/extractor => testdata}/src/test/assets/ogg/invalid_header
-	-	{library/extractor => testdata}/src/test/assets/ogg/invalid_ogg_header
-	-	{library/extractor => testdata}/src/test/assets/ogg/opus_header
-	-	{library/extractor => testdata}/src/test/assets/ogg/packet_with_zero_size_terminator
-	-	{library/extractor => testdata}/src/test/assets/ogg/page_header
-	-	{library/extractor => testdata}/src/test/assets/ogg/random_1000_pages
-	-	{library/extractor => testdata}/src/test/assets/ogg/three_headers
-	-	{library/extractor => testdata}/src/test/assets/ogg/vorbis_header
-	-	{library/extractor => testdata}/src/test/assets/ogg/zero_sized_packets_at_end_of_stream
-	-	{library/extractor => testdata}/src/test/assets/rawcc/sample.rawcc
0	0	{library/extractor => testdata}/src/test/assets/rawcc/sample.rawcc.0.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/bbb_2500ms.ts
-	-	{library/extractor => testdata}/src/test/assets/ts/elephants_dream.mpg
-	-	{library/extractor => testdata}/src/test/assets/ts/sample.ac3
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ac3.0.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/sample.ac4
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ac4.0.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/sample.adts
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.adts.0.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/sample.eac3
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.eac3.0.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/sample.ps
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ps.0.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ps.1.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ps.2.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ps.3.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ps.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/sample.ts
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ts.0.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ts.1.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ts.2.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ts.3.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample.ts.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/sample_cbs.adts
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs.adts.0.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs.adts.1.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs.adts.2.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs.adts.3.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs.adts.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/sample_cbs_truncated.adts
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/sample_with_junk
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_with_junk.0.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_with_junk.1.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_with_junk.2.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_with_junk.3.dump
0	0	{library/extractor => testdata}/src/test/assets/ts/sample_with_junk.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/ts/sample_with_sdt.ts
-	-	{library/extractor => testdata}/src/test/assets/wav/sample.wav
0	0	{library/extractor => testdata}/src/test/assets/wav/sample.wav.0.dump
0	0	{library/extractor => testdata}/src/test/assets/wav/sample.wav.1.dump
0	0	{library/extractor => testdata}/src/test/assets/wav/sample.wav.2.dump
0	0	{library/extractor => testdata}/src/test/assets/wav/sample.wav.3.dump
-	-	{library/extractor => testdata}/src/test/assets/wav/sample_ima_adpcm.wav
0	0	{library/extractor => testdata}/src/test/assets/wav/sample_ima_adpcm.wav.0.dump
0	0	{library/extractor => testdata}/src/test/assets/wav/sample_ima_adpcm.wav.1.dump
0	0	{library/extractor => testdata}/src/test/assets/wav/sample_ima_adpcm.wav.2.dump
0	0	{library/extractor => testdata}/src/test/assets/wav/sample_ima_adpcm.wav.3.dump

commit cbaa4a7c577ad8b39a2db49a37afc7e9f99a3e6f
Author: kimvde <kimvde@google.com>
Date:   2020-02-06 14:49:16 +0000

    Avoid sending duplicate formats in AC3 extractor
    
    PiperOrigin-RevId: 293582663

1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Reader.java

commit 9875c5d2b44cafaad5774aac3817ab433d667fe3
Author: krocard <krocard@google.com>
Date:   2020-02-06 12:26:56 +0000

    AudioCapabilities: Missing int class annotation
    
    PiperOrigin-RevId: 293565660

9	0	library/common/src/test/java/com/google/android/exoplayer2/CTest.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioCapabilities.java

commit 04af8e60baa31f235d37c90cb168ed7c89da0552
Author: kimvde <kimvde@google.com>
Date:   2020-02-06 10:56:10 +0000

    Add the possibility to specify the dump files path in ExtractorAsserts
    
    PiperOrigin-RevId: 293554489

46	28	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit 79a3bad4c36ea2a4fa3c6e85328e8d47c8d38a01
Author: kimvde <kimvde@google.com>
Date:   2020-02-06 10:48:19 +0000

    Move assets from FLAC extension to testdata
    
    PiperOrigin-RevId: 293553412

7	3	extensions/flac/build.gradle
1	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
1	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorSeekTest.java
4	2	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorTest.java
2	2	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
-	-	extensions/flac/src/androidTest/assets/bear-flac-16bit.mka => testdata/src/test/assets/flac/ext-bear-flac-16bit.mka
0	0	extensions/flac/src/androidTest/assets/bear-flac-16bit.mka.audiosink.dump => testdata/src/test/assets/flac/ext-bear-flac-16bit.mka.audiosink.dump
-	-	extensions/flac/src/androidTest/assets/bear-flac-24bit.mka => testdata/src/test/assets/flac/ext-bear-flac-24bit.mka
0	0	extensions/flac/src/androidTest/assets/bear-flac-24bit.mka.audiosink.dump => testdata/src/test/assets/flac/ext-bear-flac-24bit.mka.audiosink.dump
-	-	extensions/flac/src/androidTest/assets/bear.flac => testdata/src/test/assets/flac/ext-bear.flac
0	0	extensions/flac/src/androidTest/assets/bear.flac.0.dump => testdata/src/test/assets/flac/ext-bear.flac.0.dump
0	0	extensions/flac/src/androidTest/assets/bear.flac.1.dump => testdata/src/test/assets/flac/ext-bear.flac.1.dump
0	0	extensions/flac/src/androidTest/assets/bear.flac.2.dump => testdata/src/test/assets/flac/ext-bear.flac.2.dump
0	0	extensions/flac/src/androidTest/assets/bear.flac.3.dump => testdata/src/test/assets/flac/ext-bear.flac.3.dump
-	-	extensions/flac/src/androidTest/assets/bear_no_seek.flac => testdata/src/test/assets/flac/ext-bear_no_seek.flac
-	-	extensions/flac/src/androidTest/assets/bear_with_id3.flac => testdata/src/test/assets/flac/ext-bear_with_id3.flac
0	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.0.dump => testdata/src/test/assets/flac/ext-bear_with_id3.flac.0.dump
0	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.1.dump => testdata/src/test/assets/flac/ext-bear_with_id3.flac.1.dump
0	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.2.dump => testdata/src/test/assets/flac/ext-bear_with_id3.flac.2.dump
0	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.3.dump => testdata/src/test/assets/flac/ext-bear_with_id3.flac.3.dump

commit 011efcc522449121c83c2566a2e7df65f59616af
Author: kimvde <kimvde@google.com>
Date:   2020-02-06 10:40:39 +0000

    Move FLAC assets from extractor to testdata module
    
    PiperOrigin-RevId: 293552271

3	0	library/extractor/build.gradle
-	-	{library/extractor => testdata}/src/test/assets/flac/bear.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear.flac.0.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear.flac.1.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear.flac.2.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear.flac.3.dump
-	-	{library/extractor => testdata}/src/test/assets/flac/bear_no_min_max_frame_size.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_no_min_max_frame_size.flac.1.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_no_min_max_frame_size.flac.2.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_no_min_max_frame_size.flac.3.dump
-	-	{library/extractor => testdata}/src/test/assets/flac/bear_no_num_samples.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_no_num_samples.flac.0.dump
-	-	{library/extractor => testdata}/src/test/assets/flac/bear_no_seek_table_no_num_samples.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_no_seek_table_no_num_samples.flac.0.dump
-	-	{library/extractor => testdata}/src/test/assets/flac/bear_one_metadata_block.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_one_metadata_block.flac.1.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_one_metadata_block.flac.2.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_one_metadata_block.flac.3.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_one_metadata_block.flac.unklen.dump
-	-	{library/extractor => testdata}/src/test/assets/flac/bear_uncommon_sample_rate.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_uncommon_sample_rate.flac.1.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_uncommon_sample_rate.flac.2.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_uncommon_sample_rate.flac.3.dump
-	-	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_disabled.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_disabled.flac.0.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_disabled.flac.1.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_disabled.flac.2.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_disabled.flac.3.dump
-	-	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_enabled.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_enabled.flac.0.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_enabled.flac.1.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_enabled.flac.2.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_id3_enabled.flac.3.dump
-	-	{library/extractor => testdata}/src/test/assets/flac/bear_with_picture.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_picture.flac.0.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_picture.flac.1.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_picture.flac.2.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_picture.flac.3.dump
-	-	{library/extractor => testdata}/src/test/assets/flac/bear_with_vorbis_comments.flac
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_vorbis_comments.flac.0.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_vorbis_comments.flac.1.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_vorbis_comments.flac.2.dump
0	0	{library/extractor => testdata}/src/test/assets/flac/bear_with_vorbis_comments.flac.3.dump

commit 0dd8e6a7c15569339b23d09417d821239c27c909
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-06 10:36:36 +0000

    Add GL demo app
    
    Demonstrates rendering to a GLSurfaceView while applying a GL shader.
    
    Issue: #6920
    PiperOrigin-RevId: 293551724

4	0	RELEASENOTES.md
11	0	demos/gl/README.md
53	0	demos/gl/build.gradle
49	0	demos/gl/src/main/AndroidManifest.xml
35	0	demos/gl/src/main/assets/bitmap_overlay_video_processor_fragment.glsl
21	0	demos/gl/src/main/assets/bitmap_overlay_video_processor_vertex.glsl
176	0	demos/gl/src/main/java/com/google/android/exoplayer2/gldemo/BitmapOverlayVideoProcessor.java
200	0	demos/gl/src/main/java/com/google/android/exoplayer2/gldemo/MainActivity.java
290	0	demos/gl/src/main/java/com/google/android/exoplayer2/gldemo/VideoProcessingGLSurfaceView.java
30	0	demos/gl/src/main/res/layout/main_activity.xml
-	-	demos/gl/src/main/res/mipmap-hdpi/ic_launcher.png
-	-	demos/gl/src/main/res/mipmap-mdpi/ic_launcher.png
-	-	demos/gl/src/main/res/mipmap-xhdpi/ic_launcher.png
-	-	demos/gl/src/main/res/mipmap-xxhdpi/ic_launcher.png
-	-	demos/gl/src/main/res/mipmap-xxxhdpi/ic_launcher.png
22	0	demos/gl/src/main/res/values/strings.xml
251	1	library/core/src/main/java/com/google/android/exoplayer2/util/GlUtil.java
15	34	library/core/src/main/java/com/google/android/exoplayer2/video/DummySurface.java
2	0	settings.gradle

commit e3f43ee2cea2f8b527434693b95a068d2b2f71f6
Author: kimvde <kimvde@google.com>
Date:   2020-02-06 09:48:17 +0000

    Create testdata module
    
    This module will allow sharing sample data between modules.
    
    PiperOrigin-RevId: 293545495

2	0	core_settings.gradle
4	0	testdata/README.md
18	0	testdata/build.gradle
17	0	testdata/src/main/AndroidManifest.xml

commit f58eb173200739733f59a0fc8c6d32d2947d0015
Author: olly <olly@google.com>
Date:   2020-02-05 15:56:13 +0000

    Fix Lint.ThenChange paths
    
    PiperOrigin-RevId: 293367878

1	1	extensions/av1/src/main/jni/gav1_jni.cc
1	1	extensions/vp9/src/main/jni/vpx_jni.cc

commit b99c6e0513d7c24352cc9ff9e94135b4c1a668b3
Author: tonihei <tonihei@google.com>
Date:   2020-02-05 13:11:43 +0000

    Update message and seek positions using user intent
    
    While the window in which a message or a seek position is resolved is
    still a placeholder, we need to re-resolve the position using the
    user intent (i.e. the window position) when the timeline updates.
    
    PiperOrigin-RevId: 293346360

100	38	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit da02bc73e8083028989266434cc1d49ed7c16fbb
Author: tonihei <tonihei@google.com>
Date:   2020-02-05 13:07:05 +0000

    Add missing getPeriod call to populate period.
    
    The period in this method is most likely prepopulated correctly, but
    this assumption is very error-prone and we should populate it locally.
    
    PiperOrigin-RevId: 293345873

1	0	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java

commit 486f401736f473f61ed9bd6d6f78fb9947ee2b90
Author: tonihei <tonihei@google.com>
Date:   2020-02-05 12:53:14 +0000

    Pass in initial sample timestamp to FakeSampleStream.
    
    This allows to simulate samples in a stream more accurately
    particularly when streams are prepared at a non-zero position and
    issuing a sample with position=0 is not expected.
    
    Also makes seek more realistic by also issuing one sample again.
    
    PiperOrigin-RevId: 293344081

6	2	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
2	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java
8	9	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaPeriod.java
6	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit c9245c61dedd891cc659f293cb68c9dbcfccd7da
Author: tonihei <tonihei@google.com>
Date:   2020-02-05 12:12:28 +0000

    Fix order of timeline and prepare callback in MaskingMediaSoure
    
    Once we receive an update from a masked source, we first start the
    preparation of an already pending period, and only then notify the
    player of the new timeline. If the period prepares immediately inline,
    the MediaPeriod.onPrepared callback arrives before the
    onPlaylistUpdateRequested call in the Player. THis is the wrong order
    and causes issues when the player tries to lookup information in the
    timeline that doesn't exist yet.
    
    This change fixes preroll playbacks before live streams.
    
    PiperOrigin-RevId: 293340031

6	2	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
54	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
7	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit a9507a006404a15c444209af95e266ef88ad7e0f
Author: kimvde <kimvde@google.com>
Date:   2020-02-05 11:47:17 +0000

    Make FakeExtractorOutput dump additional seek points
    
    PiperOrigin-RevId: 293337032

3	0	extensions/flac/src/androidTest/assets/bear.flac.0.dump
3	0	extensions/flac/src/androidTest/assets/bear.flac.1.dump
3	0	extensions/flac/src/androidTest/assets/bear.flac.2.dump
3	0	extensions/flac/src/androidTest/assets/bear.flac.3.dump
3	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.0.dump
3	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.1.dump
3	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.2.dump
3	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.3.dump
3	0	library/extractor/src/test/assets/amr/sample_nb_cbr.amr.0.dump
3	0	library/extractor/src/test/assets/amr/sample_nb_cbr.amr.1.dump
3	0	library/extractor/src/test/assets/amr/sample_nb_cbr.amr.2.dump
3	0	library/extractor/src/test/assets/amr/sample_nb_cbr.amr.3.dump
3	0	library/extractor/src/test/assets/amr/sample_wb_cbr.amr.0.dump
3	0	library/extractor/src/test/assets/amr/sample_wb_cbr.amr.1.dump
3	0	library/extractor/src/test/assets/amr/sample_wb_cbr.amr.2.dump
3	0	library/extractor/src/test/assets/amr/sample_wb_cbr.amr.3.dump
3	0	library/extractor/src/test/assets/flac/bear.flac.0.dump
3	0	library/extractor/src/test/assets/flac/bear.flac.1.dump
3	0	library/extractor/src/test/assets/flac/bear.flac.2.dump
3	0	library/extractor/src/test/assets/flac/bear.flac.3.dump
3	0	library/extractor/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
3	0	library/extractor/src/test/assets/flac/bear_no_min_max_frame_size.flac.1.dump
3	0	library/extractor/src/test/assets/flac/bear_no_min_max_frame_size.flac.2.dump
3	0	library/extractor/src/test/assets/flac/bear_no_min_max_frame_size.flac.3.dump
1	0	library/extractor/src/test/assets/flac/bear_no_num_samples.flac.0.dump
3	0	library/extractor/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
3	0	library/extractor/src/test/assets/flac/bear_one_metadata_block.flac.1.dump
3	0	library/extractor/src/test/assets/flac/bear_one_metadata_block.flac.2.dump
3	0	library/extractor/src/test/assets/flac/bear_one_metadata_block.flac.3.dump
3	0	library/extractor/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
3	0	library/extractor/src/test/assets/flac/bear_uncommon_sample_rate.flac.1.dump
3	0	library/extractor/src/test/assets/flac/bear_uncommon_sample_rate.flac.2.dump
3	0	library/extractor/src/test/assets/flac/bear_uncommon_sample_rate.flac.3.dump
3	0	library/extractor/src/test/assets/flac/bear_with_id3_disabled.flac.0.dump
3	0	library/extractor/src/test/assets/flac/bear_with_id3_disabled.flac.1.dump
3	0	library/extractor/src/test/assets/flac/bear_with_id3_disabled.flac.2.dump
3	0	library/extractor/src/test/assets/flac/bear_with_id3_disabled.flac.3.dump
3	0	library/extractor/src/test/assets/flac/bear_with_id3_enabled.flac.0.dump
3	0	library/extractor/src/test/assets/flac/bear_with_id3_enabled.flac.1.dump
3	0	library/extractor/src/test/assets/flac/bear_with_id3_enabled.flac.2.dump
3	0	library/extractor/src/test/assets/flac/bear_with_id3_enabled.flac.3.dump
3	0	library/extractor/src/test/assets/flac/bear_with_picture.flac.0.dump
3	0	library/extractor/src/test/assets/flac/bear_with_picture.flac.1.dump
3	0	library/extractor/src/test/assets/flac/bear_with_picture.flac.2.dump
3	0	library/extractor/src/test/assets/flac/bear_with_picture.flac.3.dump
3	0	library/extractor/src/test/assets/flac/bear_with_vorbis_comments.flac.0.dump
3	0	library/extractor/src/test/assets/flac/bear_with_vorbis_comments.flac.1.dump
3	0	library/extractor/src/test/assets/flac/bear_with_vorbis_comments.flac.2.dump
3	0	library/extractor/src/test/assets/flac/bear_with_vorbis_comments.flac.3.dump
3	0	library/extractor/src/test/assets/mkv/full_blocks.mkv.0.dump
3	0	library/extractor/src/test/assets/mkv/full_blocks.mkv.1.dump
3	0	library/extractor/src/test/assets/mkv/full_blocks.mkv.2.dump
3	0	library/extractor/src/test/assets/mkv/full_blocks.mkv.3.dump
3	0	library/extractor/src/test/assets/mkv/sample.mkv.0.dump
3	0	library/extractor/src/test/assets/mkv/sample.mkv.1.dump
3	0	library/extractor/src/test/assets/mkv/sample.mkv.2.dump
3	0	library/extractor/src/test/assets/mkv/sample.mkv.3.dump
3	0	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.0.dump
3	0	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.1.dump
3	0	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.2.dump
3	0	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.3.dump
3	0	library/extractor/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.0.dump
3	0	library/extractor/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.1.dump
3	0	library/extractor/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.2.dump
3	0	library/extractor/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.3.dump
3	0	library/extractor/src/test/assets/mp3/bear-vbr-xing-header.mp3.0.dump
3	0	library/extractor/src/test/assets/mp3/bear-vbr-xing-header.mp3.1.dump
3	0	library/extractor/src/test/assets/mp3/bear-vbr-xing-header.mp3.2.dump
3	0	library/extractor/src/test/assets/mp3/bear-vbr-xing-header.mp3.3.dump
3	0	library/extractor/src/test/assets/mp3/play-trimmed.mp3.0.dump
3	0	library/extractor/src/test/assets/mp3/play-trimmed.mp3.1.dump
3	0	library/extractor/src/test/assets/mp3/play-trimmed.mp3.2.dump
3	0	library/extractor/src/test/assets/mp3/play-trimmed.mp3.3.dump
3	0	library/extractor/src/test/assets/mp4/sample.mp4.0.dump
3	0	library/extractor/src/test/assets/mp4/sample.mp4.1.dump
3	0	library/extractor/src/test/assets/mp4/sample.mp4.2.dump
3	0	library/extractor/src/test/assets/mp4/sample.mp4.3.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4.mp4.0.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4.mp4.1.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4.mp4.2.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4.mp4.3.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4_fragmented.mp4.0.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4_fragmented.mp4.1.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4_fragmented.mp4.2.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4_fragmented.mp4.3.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4_protected.mp4.0.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4_protected.mp4.1.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4_protected.mp4.2.dump
3	0	library/extractor/src/test/assets/mp4/sample_ac4_protected.mp4.3.dump
3	0	library/extractor/src/test/assets/mp4/sample_android_slow_motion.mp4.0.dump
3	0	library/extractor/src/test/assets/mp4/sample_android_slow_motion.mp4.1.dump
3	0	library/extractor/src/test/assets/mp4/sample_android_slow_motion.mp4.2.dump
3	0	library/extractor/src/test/assets/mp4/sample_android_slow_motion.mp4.3.dump
3	0	library/extractor/src/test/assets/mp4/sample_fragmented_seekable.mp4.0.dump
3	0	library/extractor/src/test/assets/mp4/sample_fragmented_seekable.mp4.1.dump
3	0	library/extractor/src/test/assets/mp4/sample_fragmented_seekable.mp4.2.dump
3	0	library/extractor/src/test/assets/mp4/sample_fragmented_seekable.mp4.3.dump
3	0	library/extractor/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
3	0	library/extractor/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
3	0	library/extractor/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
3	0	library/extractor/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
3	0	library/extractor/src/test/assets/ogg/bear.opus.0.dump
3	0	library/extractor/src/test/assets/ogg/bear.opus.1.dump
3	0	library/extractor/src/test/assets/ogg/bear.opus.2.dump
3	0	library/extractor/src/test/assets/ogg/bear.opus.3.dump
3	0	library/extractor/src/test/assets/ogg/bear_flac.ogg.0.dump
3	0	library/extractor/src/test/assets/ogg/bear_flac.ogg.1.dump
3	0	library/extractor/src/test/assets/ogg/bear_flac.ogg.2.dump
3	0	library/extractor/src/test/assets/ogg/bear_flac.ogg.3.dump
3	0	library/extractor/src/test/assets/ogg/bear_flac.ogg.unklen.dump
3	0	library/extractor/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
3	0	library/extractor/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
3	0	library/extractor/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
3	0	library/extractor/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
3	0	library/extractor/src/test/assets/ogg/bear_vorbis.ogg.0.dump
3	0	library/extractor/src/test/assets/ogg/bear_vorbis.ogg.1.dump
3	0	library/extractor/src/test/assets/ogg/bear_vorbis.ogg.2.dump
3	0	library/extractor/src/test/assets/ogg/bear_vorbis.ogg.3.dump
3	0	library/extractor/src/test/assets/ts/sample.ps.0.dump
3	0	library/extractor/src/test/assets/ts/sample.ps.1.dump
3	0	library/extractor/src/test/assets/ts/sample.ps.2.dump
3	0	library/extractor/src/test/assets/ts/sample.ps.3.dump
3	0	library/extractor/src/test/assets/ts/sample.ts.0.dump
3	0	library/extractor/src/test/assets/ts/sample.ts.1.dump
3	0	library/extractor/src/test/assets/ts/sample.ts.2.dump
3	0	library/extractor/src/test/assets/ts/sample.ts.3.dump
3	0	library/extractor/src/test/assets/ts/sample_cbs.adts.0.dump
3	0	library/extractor/src/test/assets/ts/sample_cbs.adts.1.dump
3	0	library/extractor/src/test/assets/ts/sample_cbs.adts.2.dump
3	0	library/extractor/src/test/assets/ts/sample_cbs.adts.3.dump
3	0	library/extractor/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
3	0	library/extractor/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
3	0	library/extractor/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
3	0	library/extractor/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
-	-	library/extractor/src/test/assets/ts/sample_with_junk
109	0	library/extractor/src/test/assets/ts/sample_with_junk.0.dump
109	0	library/extractor/src/test/assets/ts/sample_with_junk.1.dump
109	0	library/extractor/src/test/assets/ts/sample_with_junk.2.dump
93	0	library/extractor/src/test/assets/ts/sample_with_junk.3.dump
106	0	library/extractor/src/test/assets/ts/sample_with_junk.unklen.dump
3	0	library/extractor/src/test/assets/wav/sample.wav.0.dump
3	0	library/extractor/src/test/assets/wav/sample.wav.1.dump
3	0	library/extractor/src/test/assets/wav/sample.wav.2.dump
3	0	library/extractor/src/test/assets/wav/sample.wav.3.dump
3	0	library/extractor/src/test/assets/wav/sample_ima_adpcm.wav.0.dump
3	0	library/extractor/src/test/assets/wav/sample_ima_adpcm.wav.1.dump
3	0	library/extractor/src/test/assets/wav/sample_ima_adpcm.wav.2.dump
3	0	library/extractor/src/test/assets/wav/sample_ima_adpcm.wav.3.dump
2	37	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
12	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit e1c48515eb3a1cb7b345028d1d4ecb3758d739c0
Author: bachinger <bachinger@google.com>
Date:   2020-02-05 08:49:06 +0000

    add next, previous, fastForward and rewind to ControlDispatcher
    
    Issue: #6926, #6934
    PiperOrigin-RevId: 293315532

3	0	RELEASENOTES.md
20	52	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
2	26	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.java
38	0	library/core/src/main/java/com/google/android/exoplayer2/ControlDispatcher.java
124	7	library/core/src/main/java/com/google/android/exoplayer2/DefaultControlDispatcher.java
42	97	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
31	99	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java
10	11	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit 0f6bf1525d1946ef9e36798626fa260f29a1dd5b
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-02-03 17:07:15 +0000

    Remove unused test asset
    
    Unused since [Internal ref: <unknown commit>].
    
    PiperOrigin-RevId: 292932188

-	-	library/extractor/src/test/assets/webm/vorbis_codec_private

commit a6f22cd96c1f5902d681f922c9702c79a9f21684
Author: kimvde <kimvde@google.com>
Date:   2020-02-03 16:24:05 +0000

    BinarySeachSeeker: mark seek finished after reading input
    
    This allows to continue the seek in case an error is thrown when reading
    from the input.
    
    PiperOrigin-RevId: 292924295

1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/BinarySearchSeeker.java

commit 792d9b39e0db647c13a6fc0d73f21648d2293667
Author: kimvde <kimvde@google.com>
Date:   2020-02-03 16:05:58 +0000

    Flac extension: disable BinarySearchSeeker if totalSamples is unknown
    
    The ceilingTimePosition is based on the total number of samples. Binary
    search seeking is not possible if this value is unknown.
    
    PiperOrigin-RevId: 292921177

1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java

commit cfda4a58705362b0a2ae245044c12b7256819971
Author: olly <olly@google.com>
Date:   2020-02-03 16:05:52 +0000

    Add some nullness annotations to SampleQueue
    
    PiperOrigin-RevId: 292921158

1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
23	20	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
6	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit b23940dc611d47cc1a7a2021716f3463c37e0556
Author: olly <olly@google.com>
Date:   2020-02-03 16:02:10 +0000

    Clean up Vorbis header
    
    The functional change is to set the bitrate fields to Format.NO_VALUE
    in the case that they're non-positive in the header data. Else it's
    very easy to to take the fields and copy them directly into Format as
    incorrect values.
    
    Issue #2863
    
    PiperOrigin-RevId: 292920141

63	22	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/VorbisUtil.java
2	2	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ogg/VorbisReader.java
2	3	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/VorbisUtilTest.java
2	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisReaderTest.java

commit 4bb6036cf6271bb85969ed6739ed4fc8afd8bfff
Author: bachinger <bachinger@google.com>
Date:   2020-02-03 15:46:56 +0000

    add playback state changed listener
    
    This change deprecates Player.onPlayerStateChanged(boolean pwr, int state). It removes deprecation for trivial cases. I'll remove other deprecated usages (mostly in ui module) in follow-up CLs to not bloat this CL.
    
    PiperOrigin-RevId: 292917872

2	0	RELEASENOTES.md
1	1	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
6	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
4	0	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastPlayerTest.java
4	3	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
6	2	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakePlayer.java
1	1	extensions/leanback/src/main/java/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.java
4	3	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
4	3	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
10	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
11	6	library/core/src/main/java/com/google/android/exoplayer2/Player.java
24	11	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
11	5	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
35	37	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
7	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/DebugTextViewHelper.java
7	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java
5	6	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
2	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit 704dae097a2660d37a0aab4230f4d075cb708395
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-02-03 15:33:45 +0000

    Add missing @deprecated tag
    
    PiperOrigin-RevId: 292915739

1	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit ed88f4f1dd7addc9932094113f560287ea7d344e
Author: kimvde <kimvde@google.com>
Date:   2020-02-03 15:09:09 +0000

    Add possibility to update ExtractorOutput duration
    
    PiperOrigin-RevId: 292912511

15	6	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
6	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/IndexSeeker.java
25	11	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
1	1	library/extractor/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.0.dump
1	1	library/extractor/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.1.dump
1	1	library/extractor/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.2.dump
1	1	library/extractor/src/test/assets/mp3/bear-vbr-no-seek-table.mp3.3.dump

commit de3877237b22ffcc69649fd88f5069f8b6baa033
Author: olly <olly@google.com>
Date:   2020-02-03 14:53:25 +0000

    Add some missing nullness annotations
    
    PiperOrigin-RevId: 292910310

6	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 1a0afacfe1bae8d01f68e06e1d03275b78753dc9
Author: kimvde <kimvde@google.com>
Date:   2020-02-03 14:45:37 +0000

    FLAC extension: remove sample rate check
    
    This check is not needed because the FLAC specification does not
    restrict the sample rate value and because the extension reads files
    with other sample rates properly.
    
    PiperOrigin-RevId: 292909391

0	20	extensions/flac/src/main/jni/flac_parser.cc

commit ce8353e8a04907a28a34eccc707d73632f5ddb21
Author: Oliver Woodman <olly@google.com>
Date:   2020-02-11 16:54:52 +0000

    Delete unintentionally published page

0	28	ad-insertion.md

commit 35930623bd71105170323f072d652f87ece758b3
Author: ybai001 <ybai@dolby.com>
Date:   2020-02-06 09:56:46 +0800

    Add eac3 test assets and cases

-	-	library/extractor/src/test/assets/mp4/sample_eac3.mp4
247	0	library/extractor/src/test/assets/mp4/sample_eac3.mp4.0.dump
175	0	library/extractor/src/test/assets/mp4/sample_eac3.mp4.1.dump
103	0	library/extractor/src/test/assets/mp4/sample_eac3.mp4.2.dump
35	0	library/extractor/src/test/assets/mp4/sample_eac3.mp4.3.dump
-	-	library/extractor/src/test/assets/mp4/sample_eac3_fragmented.mp4
247	0	library/extractor/src/test/assets/mp4/sample_eac3_fragmented.mp4.0.dump
179	0	library/extractor/src/test/assets/mp4/sample_eac3_fragmented.mp4.1.dump
107	0	library/extractor/src/test/assets/mp4/sample_eac3_fragmented.mp4.2.dump
35	0	library/extractor/src/test/assets/mp4/sample_eac3_fragmented.mp4.3.dump
6	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
5	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java

commit 29f9cd341572eefc0cf8faf46094ebdba666441a
Merge: cbffc14fa 6d550ef2d
Author: ybai001 <ybai@dolby.com>
Date:   2020-02-06 09:44:18 +0800

    Merge pull request #11 from google/dev-v2
    
    Merge from dev-v2

commit 890fd4efb8e610ad8083188e8b869b04d35c6e2f
Author: olly <olly@google.com>
Date:   2020-02-03 14:43:34 +0000

    Don't re-init codec if DRM session is unchanged
    
    This condition is trying to detect when it might be necessary
    to switch from a non-secure to a secure codec. This is not
    possible if the DRM session is unchanged, unless a different
    codec is required for some other reason (e.g., H264 -> H265),
    which is anyway handled by canKeepCodec below.
    
    PiperOrigin-RevId: 292909126

1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 6d550ef2d690c5912c839fda56679315de55acf6
Author: olly <olly@google.com>
Date:   2020-02-03 14:43:34 +0000

    Don't re-init codec if DRM session is unchanged
    
    This condition is trying to detect when it might be necessary
    to switch from a non-secure to a secure codec. This is not
    possible if the DRM session is unchanged, unless a different
    codec is required for some other reason (e.g., H264 -> H265),
    which is anyway handled by canKeepCodec below.
    
    PiperOrigin-RevId: 292909126

1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit cda6cba5a5c0b13563722286cce15100b6383b43
Author: olly <olly@google.com>
Date:   2020-02-03 14:28:35 +0000

    More nullness fixes in testutil
    
    PiperOrigin-RevId: 292907271

20	12	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
1	2	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java
5	7	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java
120	102	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
31	22	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
7	9	testutils/src/main/java/com/google/android/exoplayer2/testutil/CacheAsserts.java
25	11	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaSource.java
4	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeChunkSource.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaPeriod.java
24	14	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaSource.java
25	15	testutils/src/main/java/com/google/android/exoplayer2/testutil/HostActivity.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.java
19	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/package-info.java

commit ad115a5ab3882539704bd8cca09b13afe51a561b
Author: ibaker <ibaker@google.com>
Date:   2020-02-03 13:12:47 +0000

    Fix some boolean logic in TtmlStyle#inherit
    
    I got confused copying the hasBackgroundColor logic in
    https://github.com/google/ExoPlayer/commit/3aa52c231720eaed88cdf27eff0f97d4bcf7625f
    
    Add tests to confirm I got it right this time
    
    PiperOrigin-RevId: 292898421

9	9	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlStyle.java
110	35	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlStyleTest.java

commit 49fa6d63f950fb3ead58f9496a4413bf6ded19bd
Author: kimvde <kimvde@google.com>
Date:   2020-02-03 12:15:33 +0000

    Remove redundant prepared flag in ProgressiveMediaPeriod
    
    PiperOrigin-RevId: 292892407

21	26	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit 8ac5698aacbf20d0e733eb032d6940429dc41289
Author: olly <olly@google.com>
Date:   2020-02-03 11:39:44 +0000

    Remove deprecated Format.createSampleFormat
    
    PiperOrigin-RevId: 292888026

0	55	library/common/src/main/java/com/google/android/exoplayer2/Format.java

commit b7c5f5cde6373ba6fff3107130d9341278a779c4
Author: olly <olly@google.com>
Date:   2020-02-03 11:04:33 +0000

    Avoid unnecessary decoder instantiations on key rotation
    
    Issue: #6903
    PiperOrigin-RevId: 292884280

48	12	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 97fbbad6a756ae51336e62e572a416a29f100092
Author: olly <olly@google.com>
Date:   2020-02-03 11:04:33 +0000

    Avoid unnecessary decoder instantiations on key rotation
    
    Issue: #6903
    PiperOrigin-RevId: 292884280

48	12	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 719b34a9f8562864b75c25904e76847ca975fb0b
Author: olly <olly@google.com>
Date:   2020-02-03 10:50:08 +0000

    Migrate static imports of org.mockito.Matchers to org.mockito.ArgumentMatchers
    
    The former is deprecated and replaced by the latter in Mockito 2.
    
    For more information see go/mockito-2-lsc
    
    Tested:
        TAP --sample ran all affected tests and none failed
        http://test/OCL:292555754:BASE:292543534:1580490509580:bfdfdd31
    PiperOrigin-RevId: 292881633

1	1	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceTest.java

commit bb8aa4f5b78fdea9f1a4d38fb660d02a8eefb50e
Author: olly <olly@google.com>
Date:   2020-02-03 10:48:56 +0000

    Update release notes for 2.11.2
    
    PiperOrigin-RevId: 292881432

2	2	RELEASENOTES.md

commit c095a9ff98402b8d157b65a0364e7e6bb3f493eb
Author: olly <olly@google.com>
Date:   2020-02-03 10:38:44 +0000

    Make SingleSampleMediaSource.Factory reusable
    
    PiperOrigin-RevId: 292879934

7	8	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaSource.java

commit b6bd57ab121dc8d9bc129f4b1eaa765b9639a89e
Author: ibaker <ibaker@google.com>
Date:   2020-02-03 10:30:40 +0000

    Replace most usages of @TargetApi with @RequiresApi
    
    We keep @TargetApi where the method is a safe no-op on
    older versions due to an in-line version check.
    
    PiperOrigin-RevId: 292878727

2	2	extensions/workmanager/src/main/java/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.java
2	2	library/common/src/main/java/com/google/android/exoplayer2/C.java
2	2	library/common/src/main/java/com/google/android/exoplayer2/decoder/CryptoInfo.java
3	3	library/common/src/main/java/com/google/android/exoplayer2/util/TraceUtil.java
5	4	library/common/src/main/java/com/google/android/exoplayer2/util/Util.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioAttributes.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioCapabilities.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioTimestampPoller.java
7	7	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
3	5	library/core/src/main/java/com/google/android/exoplayer2/drm/HttpMediaDrmCallback.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
19	19	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/text/CaptionStyleCompat.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/util/EGLSurfaceTexture.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/video/DummySurface.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/video/VideoFrameReleaseTimeHelper.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
4	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java
4	4	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
4	4	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DebugRenderersFactory.java

commit dd10d96a3fade537777738e82011144222237fe7
Author: ibaker <ibaker@google.com>
Date:   2020-02-03 10:27:09 +0000

    Tweak SpannedSubject error message when `actual` has no spans
    
    Before:
    No matching span found
    in text  : Text with combined section.
    expected : start=10     end=18  type=HorizontalTextInVerticalContextSpan        substring='combined'
    but found:
    
    After:
    No matching span found
    in text : Text with combined section.
    expected: start=10      end=18  type=HorizontalTextInVerticalContextSpan        substring='combined'
    but found no spans
    PiperOrigin-RevId: 292878264

14	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java

commit c7ea8bbf1a420db90f0f2b673f077ac82f480800
Author: ibaker <ibaker@google.com>
Date:   2020-02-03 10:22:18 +0000

    Reduce the number of allocations in SubtitlePainter.setupTextLayout
    
    PiperOrigin-RevId: 292877661

19	24	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitlePainter.java

commit 3a702cf53acad57bb9c13520633646550f086a77
Author: olly <olly@google.com>
Date:   2020-02-03 08:25:51 +0000

    Change Format.createTextSampleFormat for common uses cases
    
    PiperOrigin-RevId: 292863614

3	62	library/common/src/main/java/com/google/android/exoplayer2/Format.java
6	7	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
14	5	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
0	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
0	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java
0	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/SeiReader.java
0	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/UserDataReader.java
2	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
4	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java

commit d7551f97402cfc9615f0ae626b537a5f570ba5d6
Author: olly <olly@google.com>
Date:   2020-02-03 01:42:59 +0000

    Fixes incorrect parameter name comments in ImaAdsLoaderTest
    
    This CL fixes build warnings (incorrect parameter name comment).
    
    PiperOrigin-RevId: 292829708

2	2	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java

commit 0be3451c39302587e3d5459c3929232880efe0ce
Author: olly <olly@google.com>
Date:   2020-01-31 18:27:10 +0000

    Change Format.createImageSampleFormat for common use case
    
    PiperOrigin-RevId: 292570360

13	17	library/common/src/main/java/com/google/android/exoplayer2/Format.java
6	8	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
1	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/DvbSubtitleReader.java

commit a7c6cb4abbbe4279b17547df4f7a8720c95115be
Author: olly <olly@google.com>
Date:   2020-01-31 17:56:28 +0000

    Add some missing local @Nullable annotations
    
    PiperOrigin-RevId: 292564056

6	4	library/common/src/main/java/com/google/android/exoplayer2/Format.java
7	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 45cb55ce097e7d7140a1ae6a6e791d5a630dfdb4
Author: olly <olly@google.com>
Date:   2020-01-31 15:36:08 +0000

    Lock down SampleQueue to reasonable extension points
    
    PiperOrigin-RevId: 292542298

33	29	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit ee2ad943d78e4fbb6508c92fece43401373dc4e3
Author: bachinger <bachinger@google.com>
Date:   2020-01-30 21:44:55 +0000

    annotate nullabilty of CommandReceiver
    
    Issue: #6938
    PiperOrigin-RevId: 292415853

4	3	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
3	3	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.java
2	2	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.java

commit 0cc1eba757b31990a9cf9d6e6d4886aa67df5d35
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-30 15:53:20 +0000

    Add missing AV1 extension path to .gitignore
    
    PiperOrigin-RevId: 292347360

1	0	.gitignore

commit fd88115728c58f2eff732fab36ee2ca97ea35b98
Author: olly <olly@google.com>
Date:   2020-01-30 12:37:28 +0000

    HLS: Fix key rotation
    
    Passing EXT-X-KEY DrmInitData through the FragmentedMp4Extractor
    doesn't work for streams with key rotation, because an extractor
    instance is used for multiple segments, but is only passed the
    EXT-X-KEY DrmInitData corresponding to the first segment.
    
    This change removes passing DrmInitData through the extractor,
    and instead passes it via FormatAdjustingSampleQueue. This is
    in-line with how manifest DrmInitData is handled during DASH
    playbacks.
    
    Issue: #6903
    PiperOrigin-RevId: 292323429

2	0	RELEASENOTES.md
14	22	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
11	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
5	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
3	10	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java
0	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.java
1	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
63	9	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 850aef4f67ab3a6a5a77f49c0356f5d3dda41513
Author: olly <olly@google.com>
Date:   2020-01-30 11:14:55 +0000

    SampleQueue: Let subclasses easily invalidate format adjustment
    
    This is a nice-regardless improvement to SampleQueue, which will
    likely to used to fix the referenced issue. It makes it possible
    for SampleQueue subclasses to support dynamic changes to format
    adjustment in a non-hacky way.
    
    Issue: #6903
    PiperOrigin-RevId: 292314720

40	29	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
102	11	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
5	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 12bb35867ecbd9e4fddba5068b6e52df0e72d293
Author: olly <olly@google.com>
Date:   2020-01-28 11:20:11 +0000

    Expand dangal workaround to all API levels
    
    It doesn't seem worth keeping the cap, since the device
    will presumably stop receiving major version updates at
    some point anyway.
    
    Issue: #6899
    PiperOrigin-RevId: 291899439

8	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit d287e13d9ec895c5eef1ae4b0c40e4eebd4e3046
Author: olly <olly@google.com>
Date:   2020-01-31 17:49:17 +0000

    Add Format.createSampleFormat for common use case
    
    PiperOrigin-RevId: 292562678

16	0	library/common/src/main/java/com/google/android/exoplayer2/Format.java
2	4	library/common/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
10	10	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/source/TrackGroupArrayTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/TrackGroupTest.java
1	3	library/core/src/test/java/com/google/android/exoplayer2/trackselection/MappingTrackSelectorTest.java
3	4	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/EventSampleStreamTest.java
5	4	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestTest.java
3	2	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
1	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
2	2	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsReader.java
1	2	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/Id3Reader.java
5	4	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/SpliceInfoSectionReader.java
1	7	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
2	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 04218bdeb819046290ca829f3a856a1d7ad275d2
Author: olly <olly@google.com>
Date:   2020-01-31 16:59:16 +0000

    Remove deprecated Format constructors
    
    PiperOrigin-RevId: 292554283

0	89	library/common/src/main/java/com/google/android/exoplayer2/Format.java

commit 660cfd2863f68e687ea22f087ccd3c087ccd494c
Author: olly <olly@google.com>
Date:   2020-01-31 15:36:08 +0000

    Lock down SampleQueue to reasonable extension points
    
    PiperOrigin-RevId: 292542298

33	29	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit 3774530831a513090790178776d10235ab4ddb53
Author: olly <olly@google.com>
Date:   2020-01-31 11:53:58 +0000

    Fix annotation position
    
    PiperOrigin-RevId: 292519511

1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackSelector.java

commit 2a718c5aa69761afee7679fd4df0ff7ff985463a
Author: olly <olly@google.com>
Date:   2020-01-31 01:30:30 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/3e41c0a1d28020251a841c86255d677f3d760792
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/3c56b113e43812f188bdd9750f48897e812697ce
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/d48dc4c15933dd8354cbcc6260c48565bb850e15
    
    *** Original commit ***
    
    Move getting-stuck-prevention into DefaultLoadControl.
    
    We recently added code that prevents getting stuck if the buffer is low and
    the LoadControl refuses to continue loading (https://github.com/google/ExoPlayer/commit/b84bde025258e7307c52eaf6bbe58157d788aa06).
    
    Move this logic...
    
    ***
    
    PiperOrigin-RevId: 292457964

8	17	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
7	8	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
1	18	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java
10	15	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 2adec8d98445965efb35c96465d062c406ab3398
Author: bachinger <bachinger@google.com>
Date:   2020-01-30 21:44:55 +0000

    annotate nullabilty of CommandReceiver
    
    Issue: #6938
    PiperOrigin-RevId: 292415853

4	3	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
3	3	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.java
2	2	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.java

commit 05f4d9790da49f73f2da0770fa5036da3e6537e3
Author: kim-vde <54320150+kim-vde@users.noreply.github.com>
Date:   2020-01-31 16:19:54 +0000

    Update navigation.yml

2	0	_data/navigation.yml

commit 02cb4d5d7bc988300d608ca03784521aa72f80a3
Author: kim-vde <54320150+kim-vde@users.noreply.github.com>
Date:   2020-01-31 16:19:09 +0000

    Add files via upload

-	-	images/glossary-exoplayer-architecture.png
-	-	images/glossary-renderering-architecture.png

commit bdc1e0682ae8b9bd4d7f645d19e533a5f246d2f7
Author: kim-vde <54320150+kim-vde@users.noreply.github.com>
Date:   2020-01-31 16:16:21 +0000

    Create glossary.md

269	0	glossary.md

commit 52fb5f38a7aa7a1b8304dbbfbb569b7bb744460e
Author: samrobinson <samrobinson@google.com>
Date:   2020-01-30 16:35:15 +0000

    Adjust `FakeSampleStream` to take varargs of `FakeSampleStreamItem`.
    
    This is instead of taking a list.
    
    PiperOrigin-RevId: 292354720

3	3	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
3	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaPeriod.java
17	18	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit 3e6efe7eaf22946704310b22ba869a9d5446b1c0
Author: samrobinson <samrobinson@google.com>
Date:   2020-01-30 16:09:51 +0000

    Fix outputFormat not being assigned after position is reset.
    
    PiperOrigin-RevId: 292350437

6	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit ffabb9f6e50f6ad78435ed4ab8a6fa69496f79d1
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-30 15:53:20 +0000

    Add missing AV1 extension path to .gitignore
    
    PiperOrigin-RevId: 292347360

1	0	.gitignore

commit 7c8a54c6d0abfd998101efb0608a9117e01a6bf1
Author: olly <olly@google.com>
Date:   2020-01-30 15:05:32 +0000

    Start fixing nullness in testutil
    
    PiperOrigin-RevId: 292340530

2	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/SingleSampleMediaChunk.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/AutoAdvancingFakeClock.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/CapturingAudioSink.java
10	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/Dumper.java
3	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSet.java
9	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java
7	6	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeClock.java
21	13	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeDataSet.java
14	8	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeDataSource.java
11	7	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaChunk.java
7	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaPeriod.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeRenderer.java
1	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java
44	32	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java
2	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackSelection.java
10	6	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackSelector.java
1	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/HostActivity.java
3	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java
13	7	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java
7	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/TimelineAsserts.java

commit ff822ff9fddae946a4417f35d2b18150fb11f539
Author: olly <olly@google.com>
Date:   2020-01-30 12:37:28 +0000

    HLS: Fix key rotation
    
    Passing EXT-X-KEY DrmInitData through the FragmentedMp4Extractor
    doesn't work for streams with key rotation, because an extractor
    instance is used for multiple segments, but is only passed the
    EXT-X-KEY DrmInitData corresponding to the first segment.
    
    This change removes passing DrmInitData through the extractor,
    and instead passes it via FormatAdjustingSampleQueue. This is
    in-line with how manifest DrmInitData is handled during DASH
    playbacks.
    
    Issue: #6903
    PiperOrigin-RevId: 292323429

2	0	RELEASENOTES.md
5	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
14	22	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
11	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
3	10	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java
0	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.java
1	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
63	9	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit cf065890296ee2f06690b1098e2ef63c2903921b
Merge: d75aa97c0 1e72e1acf
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-30 19:30:48 +0000

    Merge pull request #6724 from nnoury:fix/subtitles-outline-color
    
    PiperOrigin-RevId: 292316767

commit d75aa97c0c1b667ec9d49ccfd3cedf7c4202d7b0
Author: olly <olly@google.com>
Date:   2020-01-30 11:14:55 +0000

    SampleQueue: Let subclasses easily invalidate format adjustment
    
    This is a nice-regardless improvement to SampleQueue, which will
    likely to used to fix the referenced issue. It makes it possible
    for SampleQueue subclasses to support dynamic changes to format
    adjustment in a non-hacky way.
    
    Issue: #6903
    PiperOrigin-RevId: 292314720

40	29	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
102	11	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
5	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 21fe13d3d7232ba4e71168efb7da1906d3668568
Author: bachinger <bachinger@google.com>
Date:   2020-01-29 20:25:06 +0000

    add playWhenReady changed callback with reasons
    
    PiperOrigin-RevId: 292194805

1	0	RELEASENOTES.md
21	6	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
23	0	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastPlayerTest.java
7	2	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakePlayer.java
10	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
34	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java
31	9	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
10	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
26	1	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java

commit 64244039071570539927c7c910f5706d418394dd
Author: ibaker <ibaker@google.com>
Date:   2020-01-29 17:54:29 +0000

    Add tate-chu-yoko support to TtmlDecoder
    
    PiperOrigin-RevId: 292161845

2	0	RELEASENOTES.md
13	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlDecoder.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlNode.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlRenderUtil.java
14	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlStyle.java
33	0	library/core/src/test/assets/ttml/text_combine.xml
19	0	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java

commit 6377e277c7df0a1e524ca8363647802c46b01d64
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-01-29 11:41:06 +0000

    Move DrmSession into the core module
    
    PiperOrigin-RevId: 292112214

2	3	library/common/src/main/java/com/google/android/exoplayer2/Format.java
0	0	library/{common => core}/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java

commit 427db0b5325b2c120d05ac1899dd6d65f1a8bbc4
Author: kimvde <kimvde@google.com>
Date:   2020-01-29 11:21:12 +0000

    Update mp3 test files to test more common use cases
    
    PiperOrigin-RevId: 292110291

-	-	library/extractor/src/test/assets/mp3/bear-vbr-no-seek-table.mp3
127	123	library/extractor/src/test/assets/mp3/{bear-xing-header.mp3.0.dump => bear-vbr-no-seek-table.mp3.0.dump}
5	5	library/extractor/src/test/assets/mp3/{bear-vbr.mp3.1.dump => bear-vbr-no-seek-table.mp3.1.dump}
5	5	library/extractor/src/test/assets/mp3/{bear-vbr.mp3.2.dump => bear-vbr-no-seek-table.mp3.2.dump}
5	5	library/extractor/src/test/assets/mp3/{bear-vbr.mp3.3.dump => bear-vbr-no-seek-table.mp3.3.dump}
-	-	library/extractor/src/test/assets/mp3/{bear-vbr.mp3 => bear-vbr-xing-header.mp3}
0	0	library/extractor/src/test/assets/mp3/{bear-vbr.mp3.0.dump => bear-vbr-xing-header.mp3.0.dump}
339	0	library/extractor/src/test/assets/mp3/bear-vbr-xing-header.mp3.1.dump
183	0	library/extractor/src/test/assets/mp3/bear-vbr-xing-header.mp3.2.dump
5	5	library/extractor/src/test/assets/mp3/{bear-xing-header.mp3.3.dump => bear-vbr-xing-header.mp3.3.dump}
-	-	library/extractor/src/test/assets/mp3/bear-xing-header.mp3
0	339	library/extractor/src/test/assets/mp3/bear-xing-header.mp3.1.dump
0	183	library/extractor/src/test/assets/mp3/bear-xing-header.mp3.2.dump
2	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/FlacMetadataReaderTest.java
1	1	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/IndexSeekerTest.java
3	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/Mp3ExtractorTest.java

commit 016042defab31b9c9ff2837a5eb2576d2b6f0823
Author: olly <olly@google.com>
Date:   2020-01-29 09:45:53 +0000

    Fix incorrect parameter name comment
    
    PiperOrigin-RevId: 292099759

1	1	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java

commit 5d74ebe552a76452bd60c0e1a56645b33e29f988
Author: kimvde <kimvde@google.com>
Date:   2020-01-28 17:51:51 +0000

    MP3 IndexSeeker: handle seek to non-yet-read frames
    
    Issue: #6787
    PiperOrigin-RevId: 291953855

5	0	RELEASENOTES.md
15	3	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/IndexSeeker.java
47	21	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
187	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/IndexSeekerTest.java

commit e15989ffff7bfc3c63c0ba308caa818250942b23
Author: ibaker <ibaker@google.com>
Date:   2020-01-28 16:57:35 +0000

    Add @Dimension annotation to SubtitleView size methods
    
    PiperOrigin-RevId: 291943185

2	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java

commit 658e0e17b844837f9aeb43e6a4ee5945aa686bcb
Author: ibaker <ibaker@google.com>
Date:   2020-01-28 16:56:48 +0000

    Make SubtitleWebView 'invisible' to touch  events
    
    Without this, tapping the main video playback doesn't bring up the
    controls.
    
    PiperOrigin-RevId: 291943063

17	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleWebView.java

commit 1e72e1acfffeee03971286fae720fb9eaf5b98d1
Author: Nicolas Noury <nicolas.noury@softathome.com>
Date:   2019-12-04 15:50:11 +0100

    Introduce edgeLayout to keep outline color
    
    Fix outline style subtitle
    
    When a ForegroundColorSpan changes the foreground color, it is also applied
    to the outline painter. In order to keep the correct color, one needs to
    filter out theses span. We do this with a new cue that is our text source
    for the specific edgeLayout.
    
    Take care to only apply background color once
    
    Test: Manual check - Subtitle view can show custom color subtitles from specific Subtitle
    Renderer and outline is shown correctly using user defined color.

31	6	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitlePainter.java

commit a1c1237afc12958ed4dbbdc39e8405b541fd4651
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2020-01-29 13:29:51 +0000

    Add frame-accurate pausing design doc

2	0	design-documents.md

commit 32467646eea8ebf94aa0728c55112bbb2cafcdbf
Author: kim-vde <54320150+kim-vde@users.noreply.github.com>
Date:   2020-01-29 10:39:33 +0000

    Update design-documents.md

2	0	design-documents.md

commit e92ea31fcd19800c061f790cce37128b3fd754fd
Author: krocard <krocard@google.com>
Date:   2020-01-28 16:21:50 +0000

    Do not throw on valid SubtitleView.setViewType
    
    Calling setViewType with the same view type as the
    subtitleView is using would throw InvalidArgumentException
    instead of being a noop.
    
    PiperOrigin-RevId: 291937202

9	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java

commit 2fd8cf0206175730eaa2371cd328b95e4a917322
Author: ibaker <ibaker@google.com>
Date:   2020-01-28 15:18:52 +0000

    Add SubtitleWebView
    
    PiperOrigin-RevId: 291927263

74	20	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java
149	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleWebView.java

commit b83534ee03b0a2da25e46cb1b555c36b6ea4e25a
Author: tonihei <tonihei@google.com>
Date:   2020-01-28 15:09:52 +0000

    Simplify startMediaTimeUs states.
    
    We currently have 3 states, but the NOT_SET state isn't needed
    anymore. We can therefore replace the IntDef by a simple boolean.
    
    PiperOrigin-RevId: 291926049

8	26	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 739fd5f5bb7e5ae443021439d2f2b7505acce780
Author: tonihei <tonihei@google.com>
Date:   2020-01-28 14:49:32 +0000

    Include startMediaTime in media position checkpoints.
    
    We currently apply new parameter checkpoints from an absolute media
    time and then substract the current media start time again to retrieve
    the media time offset for this playback parameter checkpoint.
    
    However, the media start time may change when unexpected discontinuities
    happen (the start time doesn't actually change, but we change it to
    correct for this discontinuity). This then invalidates the absolute
    media time in the playback parameter checkpoints (which should have been
    corrected as well).
    
    Avoid this problem by also only applying the new start position
    from the checkpoint. We don't have to save the start position anymore
    because it will cancel itself out.
    
    Also add some documentation and code clarification for improved
    readability.
    
    PiperOrigin-RevId: 291923069

96	86	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 00fe2eb4a6c858e7a4d9f505511a33c394235abf
Author: olly <olly@google.com>
Date:   2020-01-28 12:17:50 +0000

    Tweak isPlaceholder documentation
    
    PiperOrigin-RevId: 291905440

2	2	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java

commit f3157e703f9dce5b8149259a32cfc8fc2683c806
Author: ibaker <ibaker@google.com>
Date:   2020-01-28 11:58:59 +0000

    Split some of SubtitleView out into SubtitleTextView
    
    SubtitleView now becomes a ViewGroup that owns a SubtitleTextView. It
    handles some common styling defaults, but delegates the underlying
    values down into SubtitleTextView through the SubtitleView.Output
    interface.
    
    When I add a SubtitleWebView this will also be a ViewGroup containing
    a WebView and will implement SubtitleView.Output and convert Cue styling
    into HTML & CSS.
    
    PiperOrigin-RevId: 291903294

175	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleTextView.java
38	144	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java
52	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleViewUtils.java

commit 331edb4fb2fd341004c7c5c13ca735ca03964077
Author: olly <olly@google.com>
Date:   2020-01-28 11:20:11 +0000

    Expand dangal workaround to all API levels
    
    It doesn't seem worth keeping the cap, since the device
    will presumably stop receiving major version updates at
    some point anyway.
    
    Issue: #6899
    PiperOrigin-RevId: 291899439

8	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 9161fe2328383f5128e5c954c19f890a934d0ec8
Author: olly <olly@google.com>
Date:   2020-01-28 09:59:11 +0000

    Make LongArray tests a bit more concise
    
    This also makes them look more like the equivalent tests for
    the list / array cases.
    
    PiperOrigin-RevId: 291890150

40	68	library/common/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit 103bd4199c2e08d918aeefd6a5dfac7b937002ce
Author: kimvde <kimvde@google.com>
Date:   2020-01-28 09:48:00 +0000

    Add IndexSeeker to MP3 extractor
    
    This seeker is only seeking to frames that have already been read by the
    extractor for playback. Seeking to not-yet-read frames will be
    implemented in another change.
    
    Issue: #6787
    PiperOrigin-RevId: 291888899

95	0	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/IndexSeeker.java
44	7	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
-	-	library/extractor/src/test/assets/mp3/bear-vbr.mp3
499	0	library/extractor/src/test/assets/mp3/bear-vbr.mp3.0.dump
359	0	library/extractor/src/test/assets/mp3/bear-vbr.mp3.1.dump
199	0	library/extractor/src/test/assets/mp3/bear-vbr.mp3.2.dump
39	0	library/extractor/src/test/assets/mp3/bear-vbr.mp3.3.dump
6	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/Mp3ExtractorTest.java

commit bb9b3fd45e5a05ac46602d3a317cbeeaa22c27a8
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-01-27 18:30:54 +0000

    Fix some typos
    
    PiperOrigin-RevId: 291750515

3	3	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Gav1Decoder.java
3	3	library/common/src/main/java/com/google/android/exoplayer2/audio/MpegAudioUtil.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/MappingTrackSelectorTest.java

commit 1d65afdd16792fd755697596d1897f2c4495fbf6
Author: Pierre-Hugues Husson <pierre-hugues.husson@softathome.com>
Date:   2020-01-28 16:07:02 +0100

    Add minimal support of DVB AIT
    
    This is used by broadcast channels to provide interactive contents.

1	0	library/common/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataDecoderFactory.java
58	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/dvbsi/Ait.java
195	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/dvbsi/AitDecoder.java
36	0	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java
7	1	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/TsExtractor.java

commit 3e75d2a689061a55f5d0ba35833c67ed8290c9b2
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-27 19:12:02 +0000

    Fix demo app

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java

commit fbe840e880456c25de8e8cf10d710b715f3b7413
Author: olly <olly@google.com>
Date:   2020-01-27 12:04:40 +0000

    Upgrade OkHttp dependency to 3.12.8
    
    OkHttp 3.12.7 introduced a regression, which was fixed in 3.12.8.
    
    PiperOrigin-RevId: 291695577

1	1	RELEASENOTES.md
1	1	extensions/okhttp/build.gradle

commit d1703ad68c0912ffd4ff0c223ae058096c71aa8a
Author: ibaker <ibaker@google.com>
Date:   2020-01-21 20:04:08 +0000

    Ensure the demo app requests local-file permissions for subtitle files
    
    Currently we only do this for the main sample URI, not for subtitles.
    So pairing a web-based video file with a local subtitle file on a fresh
    install just throws a 'permission denied' exception.
    
    PiperOrigin-RevId: 290794091

5	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java

commit b59a1b89e349103ade8be3c78d9344e6e6a82f84
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-20 13:14:44 +0000

    Remove duplicate release note
    
    PiperOrigin-RevId: 290600248

0	2	RELEASENOTES.md

commit c79cb1bfe0b0c40eaf88fc27ed650ab5f49e7b50
Author: tonihei <tonihei@google.com>
Date:   2020-01-20 12:15:27 +0000

    Add ID3 genres added in Wimamp 5.6 (2010).
    
    All these genres are currently causing a warning and are not added to the Metadata.Entry.
    
    PiperOrigin-RevId: 290594810

3	0	RELEASENOTES.md
51	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtil.java
33	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtilTest.java

commit 7aefaa7d68eb6f0abc1b15d47ab37f2f7ea32d54
Author: olly <olly@google.com>
Date:   2020-01-17 20:16:39 +0000

    extensions/av1: use -O2 for release builds
    
    + force arm (over thumb) mode for 32-bit builds
    
    -O2 improves performance ~30-40% over the default -Oz depending on the
    resolution; this is similar to what is done for vp9 which uses -O3.
    
    PiperOrigin-RevId: 290318121

6	0	extensions/av1/src/main/jni/CMakeLists.txt

commit 8da0e27d2e71266838f8685825ff096da79bf8a2
Author: olly <olly@google.com>
Date:   2020-01-27 15:49:10 +0000

    Fix premature nullness assertions
    
    Issue: #6910
    PiperOrigin-RevId: 291721229

23	19	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/H264Reader.java

commit 4dddad831ab03e41ca6993b8757d1a3218bf9655
Author: tonihei <tonihei@google.com>
Date:   2020-01-27 13:52:28 +0000

    Keep requested content position even for content periods.
    
    We currently only keep the requested next content start position while
    we are playing ads. However, we should also keep at least before a content
    period is fully prepared to not loose the information about the user intent.
    
    PiperOrigin-RevId: 291705752

5	5	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
85	43	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
16	14	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodInfo.java
26	13	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
19	17	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
14	3	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java

commit c0a3feee00cbf201ba7c15a03d4afb3aaba241f5
Author: tonihei <tonihei@google.com>
Date:   2020-01-27 13:51:11 +0000

    Add window.isPlaceHolder flag
    
    There are existing bugs that need this flag to know whether the
    current information in the window is still a placeholder or can
    already be relied on for further calculation.
    
    This flag will probably only ever be set in DummyTimeline, so it's
    not added to the window.set method to avoid updating all clients.
    
    Issue:#5924
    PiperOrigin-RevId: 291705637

9	0	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
10	80	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
4	0	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
28	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit 5a6cffcf6fd7923d6ab3f43ee49f2242a872fc9c
Author: kimvde <kimvde@google.com>
Date:   2020-01-27 13:19:20 +0000

    Justify MP3 ConstantBitrateSeeker frame size + add tests
    
    PiperOrigin-RevId: 291702471

3	0	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/ConstantBitrateSeeker.java
-	-	library/extractor/src/test/assets/mp3/bear-cbr-constant-frame-size-no-seek-table.mp3
-	-	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3
463	0	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.0.dump
319	0	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.1.dump
175	0	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.2.dump
31	0	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.3.dump
463	0	library/extractor/src/test/assets/mp3/bear-cbr-variable-frame-size-no-seek-table.mp3.unklen.dump
-	-	library/extractor/src/test/assets/mp3/{bear.mp3 => bear-xing-header.mp3}
0	0	library/extractor/src/test/assets/mp3/{bear.mp3.0.dump => bear-xing-header.mp3.0.dump}
0	0	library/extractor/src/test/assets/mp3/{bear.mp3.1.dump => bear-xing-header.mp3.1.dump}
0	0	library/extractor/src/test/assets/mp3/{bear.mp3.2.dump => bear-xing-header.mp3.2.dump}
0	0	library/extractor/src/test/assets/mp3/{bear.mp3.3.dump => bear-xing-header.mp3.3.dump}
2	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/FlacMetadataReaderTest.java
213	0	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/ConstantBitrateSeekerTest.java
8	2	library/extractor/src/test/java/com/google/android/exoplayer2/extractor/mp3/Mp3ExtractorTest.java

commit d312b6d4c25443735f9aa95db0ac27961c2b6d19
Author: olly <olly@google.com>
Date:   2020-01-27 12:04:40 +0000

    Upgrade OkHttp dependency to 3.12.8
    
    OkHttp 3.12.7 introduced a regression, which was fixed in 3.12.8.
    
    PiperOrigin-RevId: 291695577

1	1	RELEASENOTES.md
1	1	extensions/okhttp/build.gradle

commit 2fc426214f5cfdde2e15a9f08c397a961fa0e249
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-27 11:03:44 +0000

    Fix running tests with gradle
    
    The tests for the extractor module rely on some core classes.
    
    PiperOrigin-RevId: 291688932

1	0	library/extractor/build.gradle

commit 694f9844b02a9c8afe09ce80c4b3b9ccfaaa67fc
Author: kimvde <kimvde@google.com>
Date:   2020-01-24 19:08:55 +0000

    MP3 extractor: refactor seeker initialization
    
    PiperOrigin-RevId: 291405419

26	18	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java

commit 3fc61de7f70afe3c2b2dc293d0f4945d159eb6e0
Author: olly <olly@google.com>
Date:   2020-01-24 18:50:08 +0000

    give SimpleDecoder's thread a name.
    
    PiperOrigin-RevId: 291401328

7	6	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleDecoder.java

commit accbc5bba5106d6fe7740642e7bf760667fe5eb2
Author: kimvde <kimvde@google.com>
Date:   2020-01-24 18:33:36 +0000

    Add binarySearchFloor() for LongArrays
    
    PiperOrigin-RevId: 291397882

41	0	library/common/src/main/java/com/google/android/exoplayer2/util/Util.java
490	117	library/common/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit 7b05f3384d4c3c690fce265b9b8c05e4da04f0f2
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-24 18:13:24 +0000

    Remove duplicate package-info.javas
    
    PiperOrigin-RevId: 291394101

0	19	library/core/src/main/java/com/google/android/exoplayer2/audio/package-info.java
0	19	library/core/src/main/java/com/google/android/exoplayer2/decoder/package-info.java
0	19	library/core/src/main/java/com/google/android/exoplayer2/drm/package-info.java
0	19	library/core/src/main/java/com/google/android/exoplayer2/metadata/package-info.java
0	19	library/core/src/main/java/com/google/android/exoplayer2/package-info.java
0	19	library/core/src/main/java/com/google/android/exoplayer2/upstream/package-info.java
0	17	library/core/src/main/java/com/google/android/exoplayer2/util/package-info.java
0	19	library/core/src/main/java/com/google/android/exoplayer2/video/package-info.java

commit 91517dc957cfceaa827dc8882bba0b20cc1e8da8
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-24 16:40:54 +0000

    Split out extractor and common modules
    
    PiperOrigin-RevId: 291378636

1	0	RELEASENOTES.md
4	0	core_settings.gradle
10	0	library/common/README.md
58	0	library/common/build.gradle
6	0	library/common/proguard-rules.txt
20	0	library/common/src/main/AndroidManifest.xml
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/C.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/Format.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/ParserException.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/audio/Ac3Util.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/audio/Ac4Util.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/audio/DtsUtil.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/audio/MpegAudioUtil.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java
19	0	library/common/src/main/java/com/google/android/exoplayer2/audio/package-info.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/decoder/Buffer.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/decoder/CryptoInfo.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/decoder/DecoderInputBuffer.java
19	0	library/common/src/main/java/com/google/android/exoplayer2/decoder/package-info.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/drm/DrmInitData.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/drm/ExoMediaCrypto.java
19	0	library/common/src/main/java/com/google/android/exoplayer2/drm/package-info.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/Metadata.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/MetadataDecoder.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/MetadataInputBuffer.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoder.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/emsg/package-info.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/flac/PictureFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/flac/VorbisComment.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/flac/package-info.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/ApicFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/BinaryFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/ChapterFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/ChapterTocFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/CommentFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/GeobFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Decoder.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Frame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/InternalFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/MlltFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/PrivFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/TextInformationFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/UrlLinkFrame.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/metadata/id3/package-info.java
19	0	library/common/src/main/java/com/google/android/exoplayer2/metadata/package-info.java
19	0	library/common/src/main/java/com/google/android/exoplayer2/package-info.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/upstream/DataSource.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/upstream/DataSourceException.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/upstream/HttpDataSource.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/upstream/TransferListener.java
19	0	library/common/src/main/java/com/google/android/exoplayer2/upstream/package-info.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/Assertions.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/CodecSpecificDataUtil.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/FlacConstants.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/Log.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/LongArray.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/NalUnitUtil.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/NonNullApi.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/ParsableBitArray.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/ParsableByteArray.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/ParsableNalUnitBitArray.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/Predicate.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/TimestampAdjuster.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/TraceUtil.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/util/Util.java
17	0	library/common/src/main/java/com/google/android/exoplayer2/util/package-info.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/video/AvcConfig.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/video/ColorInfo.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/video/DolbyVisionConfig.java
0	0	library/{core => common}/src/main/java/com/google/android/exoplayer2/video/HevcConfig.java
19	0	library/common/src/main/java/com/google/android/exoplayer2/video/package-info.java
1	0	library/common/src/main/proguard-rules.txt
19	0	library/common/src/test/AndroidManifest.xml
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/CTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/FormatTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/audio/Ac3UtilTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/drm/DrmInitDataTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/MetadataTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoderTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoderTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/flac/PictureFrameTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/flac/VorbisCommentTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/id3/ChapterFrameTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/id3/ChapterTocFrameTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/id3/Id3DecoderTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/metadata/id3/MlltFrameTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/upstream/DataSpecTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/util/CodecSpecificDataUtilTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/util/MimeTypesTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/util/NalUnitUtilTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/util/ParsableBitArrayTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/util/ParsableByteArrayTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/util/ParsableNalUnitBitArrayTest.java
0	0	library/{core => common}/src/test/java/com/google/android/exoplayer2/util/UtilTest.java
3	3	library/core/build.gradle
0	6	library/core/proguard-rules.txt
1	4	library/core/src/main/AndroidManifest.xml
0	19	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/package-info.java
11	0	library/extractor/README.md
57	0	library/extractor/build.gradle
12	0	library/extractor/proguard-rules.txt
17	0	library/extractor/src/main/AndroidManifest.xml
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/BinarySearchSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/CeaUtil.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ChunkIndex.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ConstantBitrateSeekMap.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorInput.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/DummyExtractorOutput.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/DummyTrackOutput.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/Extractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ExtractorOutput.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ExtractorUtil.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ExtractorsFactory.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/FlacSeekTableSeekMap.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/FlacStreamMetadata.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/GaplessInfoHolder.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/Id3Peeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/PositionHolder.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/SeekMap.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/SeekPoint.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/TrackOutput.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/VorbisBitArray.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/VorbisUtil.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/amr/AmrExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/amr/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacBinarySearchSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/flac/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/flv/AudioTagPayloadReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/flv/FlvExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/flv/ScriptTagPayloadReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/flv/TagPayloadReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/flv/VideoTagPayloadReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/flv/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mkv/DefaultEbmlReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mkv/EbmlProcessor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mkv/EbmlReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mkv/Sniffer.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mkv/VarintReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mkv/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp3/ConstantBitrateSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp3/MlltSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp3/Seeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp3/VbriSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp3/XingSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp3/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/Atom.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/DefaultSampleValues.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/FixedSampleSizeRechunker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/MdtaMetadataEntry.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtil.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/PsshAtomUtil.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/Sniffer.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/Track.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/TrackEncryptionBox.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/TrackFragment.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/TrackSampleTable.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/mp4/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggPacket.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/OpusReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/VorbisReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ogg/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/rawcc/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Extractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Reader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac4Extractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac4Reader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/DtsReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/DvbSubtitleReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/ElementaryStreamReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/H262Reader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/H264Reader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/H265Reader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/Id3Reader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/LatmReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/MpegAudioReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/NalUnitTargetBuffer.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/PesReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/PsBinarySearchSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/PsDurationReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/PsExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/SectionPayloadReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/SectionReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/SeiReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/SpliceInfoSectionReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/TsBinarySearchSeeker.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/TsDurationReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/TsExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/TsUtil.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/ts/UserDataReader.java
19	0	library/extractor/src/main/java/com/google/android/exoplayer2/extractor/ts/package-info.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/wav/WavSeekMap.java
0	0	library/{core => extractor}/src/main/java/com/google/android/exoplayer2/extractor/wav/package-info.java
1	0	library/extractor/src/main/proguard-rules.txt
19	0	library/extractor/src/test/AndroidManifest.xml
-	-	library/{core => extractor}/src/test/assets/amr/sample_nb.amr
0	0	library/{core => extractor}/src/test/assets/amr/sample_nb.amr.0.dump
-	-	library/{core => extractor}/src/test/assets/amr/sample_nb_cbr.amr
0	0	library/{core => extractor}/src/test/assets/amr/sample_nb_cbr.amr.0.dump
0	0	library/{core => extractor}/src/test/assets/amr/sample_nb_cbr.amr.1.dump
0	0	library/{core => extractor}/src/test/assets/amr/sample_nb_cbr.amr.2.dump
0	0	library/{core => extractor}/src/test/assets/amr/sample_nb_cbr.amr.3.dump
0	0	library/{core => extractor}/src/test/assets/amr/sample_nb_cbr.amr.unklen.dump
-	-	library/{core => extractor}/src/test/assets/amr/sample_wb.amr
0	0	library/{core => extractor}/src/test/assets/amr/sample_wb.amr.0.dump
-	-	library/{core => extractor}/src/test/assets/amr/sample_wb_cbr.amr
0	0	library/{core => extractor}/src/test/assets/amr/sample_wb_cbr.amr.0.dump
0	0	library/{core => extractor}/src/test/assets/amr/sample_wb_cbr.amr.1.dump
0	0	library/{core => extractor}/src/test/assets/amr/sample_wb_cbr.amr.2.dump
0	0	library/{core => extractor}/src/test/assets/amr/sample_wb_cbr.amr.3.dump
0	0	library/{core => extractor}/src/test/assets/amr/sample_wb_cbr.amr.unklen.dump
-	-	library/{core => extractor}/src/test/assets/binary/ogg/vorbis_header_pages
-	-	library/{core => extractor}/src/test/assets/binary/vorbis/comment_header
-	-	library/{core => extractor}/src/test/assets/binary/vorbis/id_header
-	-	library/{core => extractor}/src/test/assets/binary/vorbis/setup_header
-	-	library/{core => extractor}/src/test/assets/flac/bear.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear.flac.0.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear.flac.1.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear.flac.2.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear.flac.3.dump
-	-	library/{core => extractor}/src/test/assets/flac/bear_no_min_max_frame_size.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_no_min_max_frame_size.flac.1.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_no_min_max_frame_size.flac.2.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_no_min_max_frame_size.flac.3.dump
-	-	library/{core => extractor}/src/test/assets/flac/bear_no_num_samples.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear_no_num_samples.flac.0.dump
-	-	library/{core => extractor}/src/test/assets/flac/bear_no_seek_table_no_num_samples.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear_no_seek_table_no_num_samples.flac.0.dump
-	-	library/{core => extractor}/src/test/assets/flac/bear_one_metadata_block.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_one_metadata_block.flac.1.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_one_metadata_block.flac.2.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_one_metadata_block.flac.3.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_one_metadata_block.flac.unklen.dump
-	-	library/{core => extractor}/src/test/assets/flac/bear_uncommon_sample_rate.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_uncommon_sample_rate.flac.1.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_uncommon_sample_rate.flac.2.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_uncommon_sample_rate.flac.3.dump
-	-	library/{core => extractor}/src/test/assets/flac/bear_with_id3_disabled.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_id3_disabled.flac.0.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_id3_disabled.flac.1.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_id3_disabled.flac.2.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_id3_disabled.flac.3.dump
-	-	library/{core => extractor}/src/test/assets/flac/bear_with_id3_enabled.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_id3_enabled.flac.0.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_id3_enabled.flac.1.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_id3_enabled.flac.2.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_id3_enabled.flac.3.dump
-	-	library/{core => extractor}/src/test/assets/flac/bear_with_picture.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_picture.flac.0.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_picture.flac.1.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_picture.flac.2.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_picture.flac.3.dump
-	-	library/{core => extractor}/src/test/assets/flac/bear_with_vorbis_comments.flac
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_vorbis_comments.flac.0.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_vorbis_comments.flac.1.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_vorbis_comments.flac.2.dump
0	0	library/{core => extractor}/src/test/assets/flac/bear_with_vorbis_comments.flac.3.dump
-	-	library/{core => extractor}/src/test/assets/flv/sample.flv
0	0	library/{core => extractor}/src/test/assets/flv/sample.flv.0.dump
-	-	library/{core => extractor}/src/test/assets/id3/apic.id3
-	-	library/{core => extractor}/src/test/assets/id3/comm_apic.id3
-	-	library/{core => extractor}/src/test/assets/mkv/full_blocks.mkv
0	0	library/{core => extractor}/src/test/assets/mkv/full_blocks.mkv.0.dump
0	0	library/{core => extractor}/src/test/assets/mkv/full_blocks.mkv.1.dump
0	0	library/{core => extractor}/src/test/assets/mkv/full_blocks.mkv.2.dump
0	0	library/{core => extractor}/src/test/assets/mkv/full_blocks.mkv.3.dump
-	-	library/{core => extractor}/src/test/assets/mkv/sample.mkv
0	0	library/{core => extractor}/src/test/assets/mkv/sample.mkv.0.dump
0	0	library/{core => extractor}/src/test/assets/mkv/sample.mkv.1.dump
0	0	library/{core => extractor}/src/test/assets/mkv/sample.mkv.2.dump
0	0	library/{core => extractor}/src/test/assets/mkv/sample.mkv.3.dump
-	-	library/{core => extractor}/src/test/assets/mkv/subsample_encrypted_altref.webm
0	0	library/{core => extractor}/src/test/assets/mkv/subsample_encrypted_altref.webm.0.dump
-	-	library/{core => extractor}/src/test/assets/mkv/subsample_encrypted_noaltref.webm
0	0	library/{core => extractor}/src/test/assets/mkv/subsample_encrypted_noaltref.webm.0.dump
-	-	library/{core => extractor}/src/test/assets/mp3/bear.mp3
0	0	library/{core => extractor}/src/test/assets/mp3/bear.mp3.0.dump
0	0	library/{core => extractor}/src/test/assets/mp3/bear.mp3.1.dump
0	0	library/{core => extractor}/src/test/assets/mp3/bear.mp3.2.dump
0	0	library/{core => extractor}/src/test/assets/mp3/bear.mp3.3.dump
-	-	library/{core => extractor}/src/test/assets/mp3/play-trimmed.mp3
0	0	library/{core => extractor}/src/test/assets/mp3/play-trimmed.mp3.0.dump
0	0	library/{core => extractor}/src/test/assets/mp3/play-trimmed.mp3.1.dump
0	0	library/{core => extractor}/src/test/assets/mp3/play-trimmed.mp3.2.dump
0	0	library/{core => extractor}/src/test/assets/mp3/play-trimmed.mp3.3.dump
0	0	library/{core => extractor}/src/test/assets/mp3/play-trimmed.mp3.unklen.dump
-	-	library/{core => extractor}/src/test/assets/mp4/sample.mp4
0	0	library/{core => extractor}/src/test/assets/mp4/sample.mp4.0.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample.mp4.1.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample.mp4.2.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample.mp4.3.dump
-	-	library/{core => extractor}/src/test/assets/mp4/sample_ac4.mp4
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4.mp4.0.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4.mp4.1.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4.mp4.2.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4.mp4.3.dump
-	-	library/{core => extractor}/src/test/assets/mp4/sample_ac4_fragmented.mp4
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4_fragmented.mp4.0.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4_fragmented.mp4.1.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4_fragmented.mp4.2.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4_fragmented.mp4.3.dump
-	-	library/{core => extractor}/src/test/assets/mp4/sample_ac4_protected.mp4
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4_protected.mp4.0.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4_protected.mp4.1.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4_protected.mp4.2.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_ac4_protected.mp4.3.dump
-	-	library/{core => extractor}/src/test/assets/mp4/sample_android_slow_motion.mp4
0	0	library/{core => extractor}/src/test/assets/mp4/sample_android_slow_motion.mp4.0.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_android_slow_motion.mp4.1.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_android_slow_motion.mp4.2.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_android_slow_motion.mp4.3.dump
-	-	library/{core => extractor}/src/test/assets/mp4/sample_fragmented.mp4
0	0	library/{core => extractor}/src/test/assets/mp4/sample_fragmented.mp4.0.dump
-	-	library/{core => extractor}/src/test/assets/mp4/sample_fragmented_seekable.mp4
0	0	library/{core => extractor}/src/test/assets/mp4/sample_fragmented_seekable.mp4.0.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_fragmented_seekable.mp4.1.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_fragmented_seekable.mp4.2.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_fragmented_seekable.mp4.3.dump
-	-	library/{core => extractor}/src/test/assets/mp4/sample_fragmented_sei.mp4
0	0	library/{core => extractor}/src/test/assets/mp4/sample_fragmented_sei.mp4.0.dump
-	-	library/{core => extractor}/src/test/assets/mp4/sample_mdat_too_long.mp4
0	0	library/{core => extractor}/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
0	0	library/{core => extractor}/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
-	-	library/{core => extractor}/src/test/assets/ogg/bear.opus
0	0	library/{core => extractor}/src/test/assets/ogg/bear.opus.0.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear.opus.1.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear.opus.2.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear.opus.3.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear.opus.unklen.dump
-	-	library/{core => extractor}/src/test/assets/ogg/bear_flac.ogg
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac.ogg.0.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac.ogg.1.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac.ogg.2.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac.ogg.3.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac.ogg.unklen.dump
-	-	library/{core => extractor}/src/test/assets/ogg/bear_flac_noseektable.ogg
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump
-	-	library/{core => extractor}/src/test/assets/ogg/bear_vorbis.ogg
0	0	library/{core => extractor}/src/test/assets/ogg/bear_vorbis.ogg.0.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_vorbis.ogg.1.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_vorbis.ogg.2.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_vorbis.ogg.3.dump
0	0	library/{core => extractor}/src/test/assets/ogg/bear_vorbis.ogg.unklen.dump
-	-	library/{core => extractor}/src/test/assets/ogg/continued_packet_at_start
-	-	library/{core => extractor}/src/test/assets/ogg/continued_packet_over_four_pages
-	-	library/{core => extractor}/src/test/assets/ogg/continued_packet_over_two_pages
-	-	library/{core => extractor}/src/test/assets/ogg/eof_header
-	-	library/{core => extractor}/src/test/assets/ogg/flac_header
-	-	library/{core => extractor}/src/test/assets/ogg/four_packets_with_empty_page
-	-	library/{core => extractor}/src/test/assets/ogg/invalid_header
-	-	library/{core => extractor}/src/test/assets/ogg/invalid_ogg_header
-	-	library/{core => extractor}/src/test/assets/ogg/opus_header
-	-	library/{core => extractor}/src/test/assets/ogg/packet_with_zero_size_terminator
-	-	library/{core => extractor}/src/test/assets/ogg/page_header
-	-	library/{core => extractor}/src/test/assets/ogg/random_1000_pages
-	-	library/{core => extractor}/src/test/assets/ogg/three_headers
-	-	library/{core => extractor}/src/test/assets/ogg/vorbis_header
-	-	library/{core => extractor}/src/test/assets/ogg/zero_sized_packets_at_end_of_stream
-	-	library/{core => extractor}/src/test/assets/rawcc/sample.rawcc
0	0	library/{core => extractor}/src/test/assets/rawcc/sample.rawcc.0.dump
-	-	library/{core => extractor}/src/test/assets/ts/bbb_2500ms.ts
-	-	library/{core => extractor}/src/test/assets/ts/elephants_dream.mpg
-	-	library/{core => extractor}/src/test/assets/ts/sample.ac3
0	0	library/{core => extractor}/src/test/assets/ts/sample.ac3.0.dump
-	-	library/{core => extractor}/src/test/assets/ts/sample.ac4
0	0	library/{core => extractor}/src/test/assets/ts/sample.ac4.0.dump
-	-	library/{core => extractor}/src/test/assets/ts/sample.adts
0	0	library/{core => extractor}/src/test/assets/ts/sample.adts.0.dump
-	-	library/{core => extractor}/src/test/assets/ts/sample.eac3
0	0	library/{core => extractor}/src/test/assets/ts/sample.eac3.0.dump
-	-	library/{core => extractor}/src/test/assets/ts/sample.ps
0	0	library/{core => extractor}/src/test/assets/ts/sample.ps.0.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample.ps.1.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample.ps.2.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample.ps.3.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample.ps.unklen.dump
-	-	library/{core => extractor}/src/test/assets/ts/sample.ts
0	0	library/{core => extractor}/src/test/assets/ts/sample.ts.0.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample.ts.1.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample.ts.2.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample.ts.3.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample.ts.unklen.dump
-	-	library/{core => extractor}/src/test/assets/ts/sample_cbs.adts
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs.adts.0.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs.adts.1.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs.adts.2.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs.adts.3.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs.adts.unklen.dump
-	-	library/{core => extractor}/src/test/assets/ts/sample_cbs_truncated.adts
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
0	0	library/{core => extractor}/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
-	-	library/{core => extractor}/src/test/assets/ts/sample_with_sdt.ts
-	-	library/{core => extractor}/src/test/assets/wav/sample.wav
0	0	library/{core => extractor}/src/test/assets/wav/sample.wav.0.dump
0	0	library/{core => extractor}/src/test/assets/wav/sample.wav.1.dump
0	0	library/{core => extractor}/src/test/assets/wav/sample.wav.2.dump
0	0	library/{core => extractor}/src/test/assets/wav/sample.wav.3.dump
-	-	library/{core => extractor}/src/test/assets/wav/sample_ima_adpcm.wav
0	0	library/{core => extractor}/src/test/assets/wav/sample_ima_adpcm.wav.0.dump
0	0	library/{core => extractor}/src/test/assets/wav/sample_ima_adpcm.wav.1.dump
0	0	library/{core => extractor}/src/test/assets/wav/sample_ima_adpcm.wav.2.dump
0	0	library/{core => extractor}/src/test/assets/wav/sample_ima_adpcm.wav.3.dump
-	-	library/{core => extractor}/src/test/assets/webm/vorbis_codec_private
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ConstantBitrateSeekMapTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorInputTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactoryTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ExtractorUtilTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/FlacFrameReaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/FlacMetadataReaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/FlacStreamMetadataTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/Id3PeekerTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/VorbisBitArrayTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/VorbisUtilTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/amr/AmrExtractorSeekTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/amr/AmrExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorSeekTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/flv/FlvExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mkv/DefaultEbmlReaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mkv/VarintReaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mp3/Mp3ExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mp3/XingSeekerTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mp4/AtomParsersTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mp4/MdtaMetadataEntryTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtilTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/mp4/PsshAtomUtilTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPacketTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisReaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/Ac3ExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/Ac4ExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorSeekTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsReaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/PsDurationReaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/PsExtractorSeekTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/PsExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/SectionReaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/TsDurationReaderTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorSeekTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
0	0	library/{core => extractor}/src/test/java/com/google/android/exoplayer2/extractor/wav/WavExtractorTest.java

commit 7b63afb212e4c39a57235bd2d6a0c38583a277e3
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-24 15:56:18 +0000

    Move FlacSteamMetadata to extractor package
    
    It could either live in .util or .extractor, but since it's not needed
    outside the extractor package in core (and the FLAC extension), and
    FlacStreamMetadataTest uses a FLAC asset, it seems preferable to move it
    into the extractor package.
    
    PiperOrigin-RevId: 291372032

1	1	extensions/flac/proguard-rules.txt
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
1	1	extensions/flac/src/main/jni/flac_jni.cc
0	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacSeekTableSeekMap.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/{util => extractor}/FlacStreamMetadata.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacBinarySearchSeeker.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/FlacMetadataReaderTest.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/{util => extractor}/FlacStreamMetadataTest.java

commit 01bc853993930d92d5e94115ab2367aa152c6f9a
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-24 12:20:55 +0000

    Move CeaUtil to extractors package
    
    CeaUtil depends on TrackOutput so should live in the extractors package.
    
    To avoid having Cea708Decoder depend on extractors, this change also
    moves the initialization data building/parsing to CodecSpecificDataUtil.
    
    PiperOrigin-RevId: 291348317

3	28	library/core/src/main/java/com/google/android/exoplayer2/{util => extractor}/CeaUtil.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SeiReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/UserDataReader.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Decoder.java
26	1	library/core/src/main/java/com/google/android/exoplayer2/util/CodecSpecificDataUtil.java

commit e73b5429dbdfcd69885d1eac925f7196140da65f
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-01-24 11:03:17 +0000

    Fix some blaze warnings
    
    PiperOrigin-RevId: 291340508

5	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashMediaPeriodTest.java

commit e8da2f9d43125e8ace6edf8972144a6bb4bd222a
Author: kimvde <kimvde@google.com>
Date:   2020-01-24 10:43:06 +0000

    FlacMetadataReaderTest: replace @Test(expected =) by assertThrows
    
    Using @Test(expected=...) is discouraged, since the test will pass if
    any statement in the test method throws the expected exception.
    
    PiperOrigin-RevId: 291338224

11	7	library/core/src/test/java/com/google/android/exoplayer2/extractor/FlacMetadataReaderTest.java

commit 9cd49120a01aa560db56114d8b29d8ef5cc5f67b
Author: olly <olly@google.com>
Date:   2020-01-23 19:25:14 +0000

    Marks ConditionVariable as non-final so it can be mocked.
    
    PiperOrigin-RevId: 291207668

1	1	library/core/src/main/java/com/google/android/exoplayer2/util/ConditionVariable.java

commit 15a43e5c78bc2e0b4424e288d91aa390830b8454
Author: kimvde <kimvde@google.com>
Date:   2020-01-23 16:50:37 +0000

    Improve tests of binary search utility methods
    
    Improve unit tests of binary search methods by making them more
    behavior-driven.
    
    PiperOrigin-RevId: 291175304

188	80	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit 454d4add4a27fee75c2d8f97cbb802ee27c6decd
Author: tonihei <tonihei@google.com>
Date:   2020-01-23 14:23:28 +0000

    Remove unused code path
    
    The deleted path was only used if resetPosition=false and clearPlaylist=true,
    which is never the case.
    
    PiperOrigin-RevId: 291154550

1	14	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 23f316d67e2cb2f89ed2fb6a05264c6573436384
Author: tonihei <tonihei@google.com>
Date:   2020-01-23 14:04:21 +0000

    Always keep front period uid in MediaPeriodQueue.
    
    Since we have the Playlist layer on top, it's always guaranteed that a
    new playlist item has a new uid. So we can just keep the old one in all
    cases and don't have to be careful to delete it. The deletion was necessary
    previously in case multiple MediaSources use the same uids.
    
    PiperOrigin-RevId: 291152349

2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
3	10	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java

commit 0f63c501a82105e1986475efbe236deef44cc52b
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-23 10:38:40 +0000

    Tidy CEA utils
    
    Move Cea708InitializationData functionality into CeaUtil and delete the
    class.
    
    Move CeaUtil to the util package as it needs to be used both in
    extraction and decoding.
    
    PiperOrigin-RevId: 291128220

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SeiReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/UserDataReader.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Decoder.java
0	54	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708InitializationData.java
29	5	library/core/src/main/java/com/google/android/exoplayer2/{text/cea => util}/CeaUtil.java

commit 6b03d4bc40827096fc3b2af8bf620a491399d346
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-23 10:16:43 +0000

    Make resolveSeekPositionUs an instance method
    
    PiperOrigin-RevId: 291125686

36	0	library/core/src/main/java/com/google/android/exoplayer2/SeekParameters.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
0	39	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
1	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeChunkSource.java

commit a0f6bc877b811ada6d33f7c354fb9d4954aeb720
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-22 13:27:17 +0000

    Move getRendererCapabilities to DownloadHelper
    
    PiperOrigin-RevId: 290934472

29	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
0	28	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
1	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java

commit c8f0814bd07630e0eec221169226cd277d18dac3
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-22 13:10:36 +0000

    Remove references to core player classes from C
    
    Move player messages and scaling modes to Renderer.
    
    Remove @links to ExoPlayer AudioAttributes and renderers.
    
    PiperOrigin-RevId: 290932785

2	0	RELEASENOTES.md
4	4	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
5	5	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
40	113	library/core/src/main/java/com/google/android/exoplayer2/C.java
123	9	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
19	11	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
8	9	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java

commit 78fe1afa85cb2fde1d4a090420dfb8552967840c
Author: christosts <christosts@google.com>
Date:   2020-01-22 09:47:22 +0000

    Fix flaky unit tests
    
    PiperOrigin-RevId: 290910992

4	1	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapterTest.java
4	1	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapterTest.java

commit d64388a075bfb693a4f69cecea8dceb1f1723b84
Author: ibaker <ibaker@google.com>
Date:   2020-01-21 20:04:08 +0000

    Ensure the demo app requests local-file permissions for subtitle files
    
    Currently we only do this for the main sample URI, not for subtitles.
    So pairing a web-based video file with a local subtitle file on a fresh
    install just throws a 'permission denied' exception.
    
    PiperOrigin-RevId: 290794091

5	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java

commit e7cdd164074988f62a0d9c407cee22997f573c21
Author: tonihei <tonihei@google.com>
Date:   2020-01-21 16:35:03 +0000

    Remove PlaybackInfo.startPositionUs
    
    The only remaining use is to provide the initial position for the first media
    period in the queue. At this point, the value is always equivalent to
    PlaybackInfo.positionUs because they are set together to the same value in
    PlaybackInfo.copyWithNewPosition.
    
    PiperOrigin-RevId: 290749294

4	5	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
0	16	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java

commit 2564a121dc0c66bc78946163870eaa2e632c68ca
Author: tonihei <tonihei@google.com>
Date:   2020-01-21 16:34:24 +0000

    Remove pointless use of playbackInfo.startPositionUs
    
    We have a flag that gets turned on if the current playback position has been
    reset, so that messages from this reset position can be triggered. This
    mechanism isn't actually depending on the startPositionUs field because it
    should always be triggered in the first iteration with the new position.
    
    PiperOrigin-RevId: 290749201

4	5	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 5f9a585075ed5221ea59adb7ff7fe0e3c0d62310
Author: tonihei <tonihei@google.com>
Date:   2020-01-21 16:33:21 +0000

    Fix a bunch of position problems.
    
    There are a couple of problems with how positions in PlaybackInfo are set at
    the moment:
    1. PositionUs isn't allowed to be C.TIME_UNSET. This is prevented by always
    resolving to the current default position if needed.
    2. In some places a window position was used as a period position. Use correct
    position resolution procedure.
    3. When creating a placeholder position to restart playback, we used the first
    period in a window, not the one where the default position is.
    4. The start position for ads was in some cases set to 0 without checking
    the ad resume position.
    
    PiperOrigin-RevId: 290749042

2	13	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
86	101	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
5	7	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java

commit 665092e4be82ea7a3d418f20f84d226d600164f9
Author: christosts <christosts@google.com>
Date:   2020-01-21 12:41:22 +0000

    MediaCodecAdapter supports queueing input buffers
    
    Add queueInputBuffer() and queueSecureInputBuffer() in
    MediaCodecAdapter.
    
    PiperOrigin-RevId: 290720307

12	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapter.java
16	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
21	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecAdapter.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
16	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapter.java
12	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/SynchronousMediaCodecAdapter.java

commit cf3939838b34746cb885b7cd2183ddf81b590f34
Author: samrobinson <samrobinson@google.com>
Date:   2020-01-21 11:49:57 +0000

    Adjust `FakeSampleStream#readData` logic.
    
    Once EOS has been read, that will be returned every time readData is called.
    EOS needs to be an item in the items.
    
    PiperOrigin-RevId: 290715513

1	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
5	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaPeriod.java
27	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit 6923316cfabe70bc0f5114cbad7e85234cd379e9
Author: ibaker <ibaker@google.com>
Date:   2020-01-21 11:12:45 +0000

    Migrate TtmlDecoderTest to use SpannedSubject
    
    PiperOrigin-RevId: 290712014

221	328	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java

commit 4da0d0a4b543667cc1f130f6373578b97a623a41
Author: ibaker <ibaker@google.com>
Date:   2020-01-21 10:50:40 +0000

    In-line calls to SpannableStringBuilder.length() in TtmlNode
    
    This avoids keeping a redundant (and potentially out of sync) copy of
    the same info in builderLength.
    
    PiperOrigin-RevId: 290709360

8	15	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlNode.java

commit 3aa52c231720eaed88cdf27eff0f97d4bcf7625f
Author: ibaker <ibaker@google.com>
Date:   2020-01-21 10:49:56 +0000

    Add vertical text support to TtmlDecoder
    
    I needed to use Cue.Builder instead of just SpannableStringBuilder for
    the regionOutput values, so I could attach the vertical info where
    appropriate (since this is a property of the Cue, not a span).
    
    PiperOrigin-RevId: 290709294

154	5	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
15	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlDecoder.java
47	39	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlNode.java
16	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlStyle.java
17	0	library/core/src/test/assets/ttml/vertical_text.xml
21	0	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java

commit 37908dd4df577b5c27967308ac4606e51cbb81aa
Author: ibaker <ibaker@google.com>
Date:   2020-01-20 18:05:04 +0000

    Remove TTML package from null-checking blacklist
    
    PiperOrigin-RevId: 290629644

69	45	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlDecoder.java
9	7	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlNode.java
32	24	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlRenderUtil.java
13	8	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlStyle.java

commit 8a2a527129e0060a9fc1ab51da256e82d404192d
Author: tonihei <tonihei@google.com>
Date:   2020-01-20 17:03:27 +0000

    Ensure timeline and position are updated even if an error occurs
    
    If an exception is thrown between updating the timeline and updating
    the position in playbackInfo, the state may be inconsistent.
    Exceptions are expected to be thrown while updating the player state
    and we should handle such cases in a consistent way.
    
    Similar to how we handle the same situation in seekToInternal,
    the state is updated in a final block such that it gets updated to the
    latest state even if an error occurs. Moving both the timeline and
    position update together also ensures they always stay consistent.
    
    PiperOrigin-RevId: 290624020

47	52	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
70	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 21c76b012ce8a10b759cd9ce3a8f0af43afa017d
Author: tonihei <tonihei@google.com>
Date:   2020-01-20 15:52:22 +0000

    No-op restructure of playlist update handling.
    
    This restructure moves all the position resolving code to a static method and
    removes the dependency of the MediaPeriodQueue on having an up-to-date timeline.
    
    Both steps allow simplified reasoning about the code as the static method can't change
    the state of the player, and there is no risk the queue can use the wrong timeline.
    
    These propoerties allow to fix a bug causing inconsistent states in a follow-up step.
    
    PiperOrigin-RevId: 290616395

1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
307	182	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
69	38	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
1	28	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
11	6	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java

commit df41ae3f42ecc223d280587522c18cfa0390bc87
Author: samrobinson <samrobinson@google.com>
Date:   2020-01-20 15:23:20 +0000

    Add `FakeSampleStreamItem` to an existing FakeSampleStream.
    
    Allows items to be added to the queue once the sample stream has already been created.
    Means tests can simulate data not all being available at the start.
    
    PiperOrigin-RevId: 290613392

9	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit 04d325331b0740e95d80fba59a0361e5ac52202e
Author: ibaker <ibaker@google.com>
Date:   2020-01-20 14:59:58 +0000

    Add default to switch in TtmlDecoder
    
    Also de-dupe a couple of case statements
    
    PiperOrigin-RevId: 290610993

3	4	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlDecoder.java

commit 9cfc75ff8a5fc9e3a01e96c5588a7e166e56ed1a
Author: ibaker <ibaker@google.com>
Date:   2020-01-20 14:59:21 +0000

    Fix warning about adjacent overload methods in TtmlStyle
    
    PiperOrigin-RevId: 290610936

11	11	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlStyle.java

commit f7470c512604cff97e75fbf7b86a4b4249f24898
Author: ibaker <ibaker@google.com>
Date:   2020-01-20 14:52:26 +0000

    Remove CEA package from null-checking blacklist
    
    PiperOrigin-RevId: 290610312

17	10	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea608Decoder.java
15	8	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Decoder.java
17	11	library/core/src/main/java/com/google/android/exoplayer2/text/cea/CeaDecoder.java

commit de3f04b7213deadca19d43c990bfe53be9b32dfb
Author: ibaker <ibaker@google.com>
Date:   2020-01-20 13:34:07 +0000

    Delete TtmlStyle#inheritableStyle
    
    It's never assigned or accessed from outside the class.
    
    It was added in
    <unknown commit>
    then the accessor was removed in
    <unknown commit>
    
    PiperOrigin-RevId: 290601998

0	8	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlStyle.java

commit 0aa47c231c353ccbf3ebfdecf8226446e2c4b8e1
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-20 13:14:44 +0000

    Remove duplicate release note
    
    PiperOrigin-RevId: 290600248

0	2	RELEASENOTES.md

commit ea69a3dbb6db02ea00b535661f4c121c92019fa5
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-20 12:18:13 +0000

    Move MpegAudioHeader to MpegUtil
    
    This makes MPEG audio utilities similar to utilities we have for WAV,
    AC-3 etc., and moves them out of the extractor package so that an
    extractor module can be split out without needing to have a class in the
    extractor package in the common library.
    
    PiperOrigin-RevId: 290595089

1	2	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
138	154	library/core/src/main/java/com/google/android/exoplayer2/{extractor/MpegAudioHeader.java => audio/MpegAudioUtil.java}
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/ConstantBitrateSeeker.java
10	10	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
5	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/VbriSeeker.java
5	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/XingSeeker.java
17	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/MpegAudioReader.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp3/XingSeekerTest.java

commit 5e2b4117bd61e943d0f5d4a34aef69d29cb00149
Author: tonihei <tonihei@google.com>
Date:   2020-01-20 12:15:27 +0000

    Add ID3 genres added in Wimamp 5.6 (2010).
    
    All these genres are currently causing a warning and are not added to the Metadata.Entry.
    
    PiperOrigin-RevId: 290594810

3	0	RELEASENOTES.md
51	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtil.java
33	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtilTest.java

commit 747ae64196acee95ed3c81d30f4341d59446c310
Author: tonihei <tonihei@google.com>
Date:   2020-01-20 12:03:27 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/72437e44424c8b0049c21842d08e9719e529d5b0
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/ff89170b008b8b3438b7c002a156fbfb41c05174
    
    *** Original commit ***
    
    Fix some logic in AnalyticsCollector.
    
    All events issued from ExoPlayerImpl (i.e. Player.EventListener events) currently
    try to use the media period data from the playing media period as set in the
    playback thread queue. This is only correct as long as there no pending masking
    operations in ExoPlayerImpl. That's why we currently disable this whenever the timeline
    is...
    
    ***
    
    PiperOrigin-RevId: 290593700

127	61	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
9	14	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
430	17	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
10	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit d899e1fc6ef90f7810c12abc6d29f6845171bf68
Author: olly <olly@google.com>
Date:   2020-01-17 20:16:39 +0000

    extensions/av1: use -O2 for release builds
    
    + force arm (over thumb) mode for 32-bit builds
    
    -O2 improves performance ~30-40% over the default -Oz depending on the
    resolution; this is similar to what is done for vp9 which uses -O3.
    
    PiperOrigin-RevId: 290318121

6	0	extensions/av1/src/main/jni/CMakeLists.txt

commit 72437e44424c8b0049c21842d08e9719e529d5b0
Author: bachinger <bachinger@google.com>
Date:   2020-01-17 19:45:58 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/ff89170b008b8b3438b7c002a156fbfb41c05174
    
    *** Original commit ***
    
    Fix some logic in AnalyticsCollector.
    
    All events issued from ExoPlayerImpl (i.e. Player.EventListener events) currently
    try to use the media period data from the playing media period as set in the
    playback thread queue. This is only correct as long as there no pending masking
    operations in ExoPlayerImpl. That's why we currently disable this whenever the timeline
    is empty or a seek is pending. Since adding all the playlist API methods to the player,
    this is no longer the right choice. Moreover,...
    
    ***
    
    PiperOrigin-RevId: 290312118

61	127	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
14	9	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
17	420	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
1	10	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit 4cf614c639bcd2015e904b20e21c237b5dc346cb
Author: tonihei <tonihei@google.com>
Date:   2020-01-17 18:15:59 +0000

    Ensure tracks in PlaybackInfo are always in sync with position.
    
    Currently both are updated by separate setters. If an exception is thrown between
    the two setters, the state may not be consistent.
    
    Avoid this problem by always setting them together.
    
    PiperOrigin-RevId: 290293600

3	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
41	17	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
6	27	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
67	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit ff89170b008b8b3438b7c002a156fbfb41c05174
Author: tonihei <tonihei@google.com>
Date:   2020-01-17 17:30:09 +0000

    Fix some logic in AnalyticsCollector.
    
    All events issued from ExoPlayerImpl (i.e. Player.EventListener events) currently
    try to use the media period data from the playing media period as set in the
    playback thread queue. This is only correct as long as there no pending masking
    operations in ExoPlayerImpl. That's why we currently disable this whenever the timeline
    is empty or a seek is pending. Since adding all the playlist API methods to the player,
    this is no longer the right choice. Moreover, we don't have a definite API that tells
    AnalyticsCollector when a playlist API call has been handled (and we don't want to
    have one).
    
    We can fix this by always using the current Player position information as the source
    of truth (instead of the media period queue). This is definitely more correct and also
    works while a masking operation is pending. To fill in the additional information from
    the media period queue, we can look up a matching media period. This may not be the
    first one in the list if an operation is pending.
    
    The new methods are similar to the previous tryResolveWindowIndex method, but:
     1. They are always used (i.e. the current Player state is the main source of truth)
     2. They also check the correct ad playback state, that was just ignored previously.
    
    PiperOrigin-RevId: 290284916

127	61	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
9	14	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
420	17	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
10	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit ce1ec1d5dcd9620dc548acdd76f71472104dd454
Author: olly <olly@google.com>
Date:   2020-01-17 16:36:41 +0000

    Release notes: Move download segment merging out of 2.11.2
    
    PiperOrigin-RevId: 290276507

0	2	RELEASENOTES.md

commit 9a9ef4397697f52f4262a60d02132814187cdd55
Author: olly <olly@google.com>
Date:   2020-01-17 16:36:41 +0000

    Release notes: Move download segment merging out of 2.11.2
    
    PiperOrigin-RevId: 290276507

2	2	RELEASENOTES.md

commit 460449ce1ef946cf121d0f1300408e9c0db94273
Author: tonihei <tonihei@google.com>
Date:   2020-01-17 16:17:37 +0000

    Make seek in FakeMediaPeriod more realistic.
    
    Currently seeks are basically ignored. However, it's more realistic to re-queue the
    single sample if the seek is to position 0.
    
    PiperOrigin-RevId: 290273564

2	3	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
8	9	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java
40	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaPeriod.java
13	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit 3e41c0a1d28020251a841c86255d677f3d760792
Author: tonihei <tonihei@google.com>
Date:   2020-01-17 16:15:28 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/3c56b113e43812f188bdd9750f48897e812697ce
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/d48dc4c15933dd8354cbcc6260c48565bb850e15
    
    *** Original commit ***
    
    Move getting-stuck-prevention into DefaultLoadControl.
    
    We recently added code that prevents getting stuck if the buffer is low and
    the LoadControl refuses to continue loading (https://github.com/google/ExoPlayer/commit/b84bde025258e7307c52eaf6bbe58157d788aa06).
    
    Move this logic into DefaultLoadControl to keep the workaround, and also apply the
    maximum buffer size check in bytes if enabled. ExoPlayerImplInternal will now
    throw if a...
    
    ***
    
    PiperOrigin-RevId: 290273295

17	8	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
8	7	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
18	1	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java
15	10	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit b137cfbd998aafad28c54f7024a579b22769cf67
Author: olly <olly@google.com>
Date:   2020-01-17 15:58:25 +0000

    Tidy up DownloadService restart. Final change for #6798.
    
    - Add additional Listener methods to DownloadManager, to inform of
      changes to whether the downloads are paused or waiting for requirements.
    
    - Only schedule the Scheduler if we really are waiting for requirements.
    
    - Only restart the service if we're no longer waiting for requirements,
      and if there are queued downloads that will now be restarted.
      Previously the service would be restarted whenever the requirements
      were met, regardless of whether there was any work to do.
    
    - Restart service if it might be stopping, as well as if it's already
      stopped. Also restart service if there's a download state change to a
      state for which the service should be started, if.
    
    Issue: #6798
    PiperOrigin-RevId: 290270547

95	34	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
51	31	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 0a2373c300560c99e20c141c550fd6eff5d88f87
Author: olly <olly@google.com>
Date:   2020-01-17 15:47:36 +0000

    2.11.2 release notes and version bump
    
    PiperOrigin-RevId: 290269098

27	26	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 49349f0f28b35b0bb7b07ddb6c665f4b3dca5045
Author: krocard <krocard@google.com>
Date:   2020-01-17 09:57:01 +0000

    Do not hold a codec in OnFrameRenderedListener
    
    Doing so prevent Codec which is a big object with
    JNI to be garbage collected.
    
    As the codec can not be hold in the listener, there
    is no way to call release, as it must be called on
    the same codec.
    As a result the release method is also removed.
    The downside is that at runtime some callbacks may be
    dropped but it should be a short transitive state.
    
    This also simplifies lifecycle of the listener as
    the client does not have to know if release needs
    to be called or not.
    
    An alternative would have been to hold a weak ref,
    but I deemed it too complicated for the
    runtime gain.
    
    PiperOrigin-RevId: 290231659

2	23	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit a7f7d8fb0346d5eda406671b6afeb0035cc2cb6a
Author: olly <olly@google.com>
Date:   2020-01-17 15:58:25 +0000

    Tidy up DownloadService restart. Final change for #6798.
    
    - Add additional Listener methods to DownloadManager, to inform of
      changes to whether the downloads are paused or waiting for requirements.
    
    - Only schedule the Scheduler if we really are waiting for requirements.
    
    - Only restart the service if we're no longer waiting for requirements,
      and if there are queued downloads that will now be restarted.
      Previously the service would be restarted whenever the requirements
      were met, regardless of whether there was any work to do.
    
    - Restart service if it might be stopping, as well as if it's already
      stopped. Also restart service if there's a download state change to a
      state for which the service should be started, if.
    
    Issue: #6798
    PiperOrigin-RevId: 290270547

95	34	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
51	31	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit c5e116966651570493a2c84258529554ac93193a
Author: bachinger <bachinger@google.com>
Date:   2020-01-17 15:51:25 +0000

    make media source factories reusable
    
    First cl towards DefaultMediaSourceFactory (<unknown commit>) does not change the MediaSourceFactory interface except adding @Nullable anotations to setters.
    
    PiperOrigin-RevId: 290269640

18	39	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceFactory.java
17	31	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
35	54	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
50	65	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
40	58	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 118d6906661c4bd022ebaa8c17126b3a74a40f87
Author: olly <olly@google.com>
Date:   2020-01-17 15:47:36 +0000

    2.11.2 release notes and version bump
    
    PiperOrigin-RevId: 290269098

51	49	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 598538253a9c3e577f99bea394209f61d57f16e4
Author: krocard <krocard@google.com>
Date:   2020-01-17 09:57:01 +0000

    Do not hold a codec in OnFrameRenderedListener
    
    Doing so prevent Codec which is a big object with
    JNI to be garbage collected.
    
    As the codec can not be hold in the listener, there
    is no way to call release, as it must be called on
    the same codec.
    As a result the release method is also removed.
    The downside is that at runtime some callbacks may be
    dropped but it should be a short transitive state.
    
    This also simplifies lifecycle of the listener as
    the client does not have to know if release needs
    to be called or not.
    
    An alternative would have been to hold a weak ref,
    but I deemed it too complicated for the
    runtime gain.
    
    PiperOrigin-RevId: 290231659

2	23	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit ea4711630f55d5dafd034985b1f7054f8d721523
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-17 14:04:46 +0000

    Fix build

1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
2	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
2	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
2	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
2	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
1	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/FlacMetadataReaderTest.java

commit f146bad4393a44e3cae4e50600c62c9c4f430d55
Author: olly <olly@google.com>
Date:   2020-01-16 20:11:20 +0000

    HLS: Fix slow seeking into long MP3 segments
    
    Issue: #6155
    PiperOrigin-RevId: 290117324

2	1	RELEASENOTES.md
17	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
25	0	library/core/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java

commit 0456b638e3c5150d51341b59aab786c0c8e67448
Author: kimvde <kimvde@google.com>
Date:   2020-01-16 17:14:50 +0000

    FlacExtractor: handle case where last frame < MAX_FRAME_HEADER_SIZE
    
    PiperOrigin-RevId: 290079840

43	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit e202560dc90a651edcc3472f0d1dc5f2b9cde831
Author: krocard <krocard@google.com>
Date:   2020-01-16 17:13:51 +0000

    Tunneling timestamp use Message instead of Runnable
    
    This avoids allocating a Runnable.
    
    PiperOrigin-RevId: 290079660

1	1	library/core/src/main/java/com/google/android/exoplayer2/util/ParsableBitArray.java
12	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
24	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
25	0	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit 0ac22d340130e6ea5b4b32bb4595ca46f079559a
Author: olly <olly@google.com>
Date:   2020-01-16 16:09:28 +0000

    Start service in foreground if allowed
    
    This fixes an issue where a DownloadService implementation
    that allows foreground but doesn't provide a scheduler would
    not be restarted in the case that it was still in memory but
    classed as idle by the platform.
    
    It also speeds up service restart in the case that a
    scheduler is provided.
    
    Issue: #6798
    PiperOrigin-RevId: 290068960

26	11	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit f35cb8ae4924413c9de07b34a3b27047c4ed49ae
Author: olly <olly@google.com>
Date:   2020-01-16 14:17:28 +0000

    Split SampleQueue.advanceTo for advance & seek use cases
    
    This method has two use cases:
    
    1. Seeking. Calls are immediately preceded by a call to rewind(), and
       the returned value isn't important unless it's ADVANCED_FAILED (i.e.
       the caller is only interested in success and failure).
    2. Advancing. The return value is important unless it's ADVANCED_FAILED,
       in which case the caller wants to treat it as 0.
    
    This change creates separate methods for each use case. The new seekTo
    methods automatically rewind and return a boolean. The updated advanceTo
    method returns 0 directly in cases where ADVANCED_FAILED was returned.
    Arguments that were always hard-coded to true by callers have also been
    removed.
    
    This change is a step toward one possible solution for #6155. How we'll
    solve that issue is still up for discussion, but this change seems like
    one we should make regardless!
    
    Issue: #6155
    PiperOrigin-RevId: 290053743

6	11	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
51	41	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
8	21	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
77	34	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
4	8	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit dfa4d55f5028bd7efb1acdd7dbc0fe5630609037
Author: olly <olly@google.com>
Date:   2020-01-16 13:49:25 +0000

    Fix DownloadService resumption
    
    - DownloadManagerHelper now passes all downloads to the
      DownloadService when the service is attached (and once
      the downloads are known). The service then starts the
      foreground notification updater if necessary. This fixes
      the ref'd issue.
    - Don't call getScheduler() if the service is background
      only. This was already documented to be the case on the
      DownloadService constructor.
    - If the service is started in the foreground on SDK level
      26 and higher, satisfy the condition to move the service
      to the foreground in onStartCommand rather than in stop().
      It's much more obviously correct, and should produce the
      same end result.
    
    Issue: #6798
    PiperOrigin-RevId: 290050024

8	4	RELEASENOTES.md
2	2	extensions/jobdispatcher/src/main/java/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.java
79	20	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java

commit c269ffe1e6e812c6c49cb788b83c862a11191a74
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-16 13:52:37 +0000

    Merge pull request #6603 from TiVo:fix-tunneling-stuck-release
    
    PiperOrigin-RevId: 290041295

43	5	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 38bc7355c76508c5e56fc107dee234ec53aa75f4
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-16 13:52:08 +0000

    Merge pull request #6678 from phhusson:feature/enable-multi-metadata-tracks
    
    PiperOrigin-RevId: 290032841

2	0	RELEASENOTES.md
49	22	library/core/src/main/java/com/google/android/exoplayer2/trackselection/MappingTrackSelector.java
86	37	library/core/src/test/java/com/google/android/exoplayer2/trackselection/MappingTrackSelectorTest.java

commit 5bdcb5fd562fdbc8703fe833827587412bd5cc52
Author: olly <olly@google.com>
Date:   2020-01-15 14:09:06 +0000

    DASH: Output Format before InitializationChunk load completes
    
    This optimization allows a ChunkSampleStream to output track
    formats as soon as they're parsed during an InitializationChunk
    load, rather than waiting until after the InitializationChunk
    load is completed.
    
    In DASH VOD, a single InitializationChunk typically loads the
    moov and sidx atoms in that order. Hence for long form content
    where the sidx is a non-trivial size, this may result in the
    track formats being output a non-negligible period of time
    sooner than was previously the case. This allows downstream
    renderers to start codec initialization sooner, potentially
    decreasing startup latency.
    
    For a single test stream on a fast & stable network, this
    pretty consistently reduced elapsed time until both audio and
    video codecs have been initialized from ~0.5s to ~0.3 seconds
    on a Galaxy S8. For 5 test runs without and with these patches,
    the eventTime logged by EventLogger for the second decoder
    init were:
    
    Without (secs): 0.47 0.47 0.45 0.48 0.46
    With (secs)   : 0.32 0.33 0.34 0.31 0.40
    
    PiperOrigin-RevId: 289845089

6	5	RELEASENOTES.md
4	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/BaseMediaChunkOutput.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.java
15	3	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/InitializationChunk.java

commit 124510276fde933f0d62aaaf288d5651f92e251c
Author: olly <olly@google.com>
Date:   2020-01-15 13:44:13 +0000

    Optimize chunks to init their outputs before opening the DataSource
    
    The current order of operations means that the Format is only passed
    to the chunk's output after the DataSource has been opened. This
    means that establishing the network connection and the downstream
    renderers initializing their codecs are effectively serialized to
    occur one after the other.
    
    In the new order, the Format is passed to the chunk's output before
    the DataSource has been opened. This allows the downstream renderers
    to initialize their codecs in parallel with the network connection
    being established, and hence latency at the start of playback is
    reduced.
    
    PiperOrigin-RevId: 289841854

5	0	RELEASENOTES.md
13	14	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.java
10	10	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/InitializationChunk.java
5	6	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/SingleSampleMediaChunk.java

commit 771aa32825fbaf9a36859699e94eba2ff2d46e1d
Author: olly <olly@google.com>
Date:   2020-01-14 16:36:16 +0000

    Use customCacheKey in DownloadHelper.createMediaSource
    
    Issue: #6870
    PiperOrigin-RevId: 289658261

1	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java

commit 32021602ca4585e5d0dd8ec7db0cd161fb28568c
Author: olly <olly@google.com>
Date:   2020-01-13 20:05:32 +0000

    Rename ID3 tag to Afro-Punk
    
    PiperOrigin-RevId: 289490708

154	27	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtil.java

commit 4e4a415d6c79184238ba7f5a67e8f431bb2dea02
Author: olly <olly@google.com>
Date:   2020-01-13 13:49:08 +0000

    DownloadService: No-op cleanup
    
    Issue: #6798
    PiperOrigin-RevId: 289424582

21	19	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 61130a593d83b6c5382434a34a4989023462da08
Author: olly <olly@google.com>
Date:   2020-01-13 12:51:34 +0000

    Deprecate DownloadService state change methods
    
    As discovered whilst investigating #6798, there are cases
    where these methods are not correctly. They were added as
    convenience methods that could be overridden by concrete
    DownloadService implementations, but since they don't work
    properly it's preferable to require application code to
    listen to their DownloadManager directly instead.
    
    Notes:
    
    - The original proposal to fix #6798 stored the state change
    events in memory until they could be delivered. This approach
    is not ideal because the events still end up being delivered
    later than they should be. We also want to fix the root cause
    in a different way that does not require doing this.
    - This change does not fix #6798. It's a preparatory step.
    
    Issue: #6798
    PiperOrigin-RevId: 289418555

47	22	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java
11	6	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 865e0148779f277b99ffa217362cb46343f16966
Author: olly <olly@google.com>
Date:   2020-01-13 12:29:10 +0000

    PlayerTrackEmsgHandler: Release sample queue in release()
    
    This change makes it clear the SampleQueue doesn't outlive
    the wrapping PlayerTrackEmsgHandler, and releases it from
    PlayerTrackEmsgHandler.release().
    
    This change is a no-op because calling release() is the
    same as reset() in this case (the behavior only differs if
    a non-dummy DrmSessionManager is being used).
    
    PiperOrigin-RevId: 289416622

4	6	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java

commit cebad350fa8eda538fd51567ecac6b86c72b749e
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-01-10 22:39:11 +0000

    Split HlsSampleStreamWrapper.init into two methods
    
    As a result, onMediaChunkLoadStarted gets invoked on the loading thread, and
    init on the playback thread, matching the thread access comments.
    
    Issue:#6321
    PiperOrigin-RevId: 289167981

2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
9	8	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 2902452beb31dccc3445fe42fd57185f790c5f10
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-10 15:57:40 +0000

    Merge pull request #6797 from DolbyLaboratories:dev-v2-ac4-drm
    
    PiperOrigin-RevId: 289092332

1	0	RELEASENOTES.md
60	9	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
-	-	library/core/src/test/assets/mp4/sample_ac4_protected.mp4
145	0	library/core/src/test/assets/mp4/sample_ac4_protected.mp4.0.dump
109	0	library/core/src/test/assets/mp4/sample_ac4_protected.mp4.1.dump
73	0	library/core/src/test/assets/mp4/sample_ac4_protected.mp4.2.dump
37	0	library/core/src/test/assets/mp4/sample_ac4_protected.mp4.3.dump
6	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java

commit ca11e56fe6693941c4617033342b70f71aa1a8dc
Author: olly <olly@google.com>
Date:   2020-01-10 15:48:09 +0000

    Add tests to validate FLAC decoder output
    
    PiperOrigin-RevId: 289091494

-	-	extensions/flac/src/androidTest/assets/{bear-flac.mka => bear-flac-16bit.mka}
91	0	extensions/flac/src/androidTest/assets/bear-flac-16bit.mka.audiosink.dump
-	-	extensions/flac/src/androidTest/assets/bear-flac-24bit.mka
91	0	extensions/flac/src/androidTest/assets/bear-flac-24bit.mka.audiosink.dump
30	8	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
21	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
151	0	library/core/src/main/java/com/google/android/exoplayer2/audio/ForwardingAudioSink.java
198	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/CapturingAudioSink.java

commit f4271f55bce43f1b1a0a203b25b2e2e973dcd51d
Author: olly <olly@google.com>
Date:   2020-01-10 09:54:22 +0000

    Add favicon to javadocs. b/145393567
    
    PiperOrigin-RevId: 289054937

1	0	RELEASENOTES.md

commit 91d940541648171b5a9fc1c264fd6067a198610b
Author: olly <olly@google.com>
Date:   2020-01-09 17:28:05 +0000

    Avoid OMX.qti.audio.decoder.flac
    
    Unfortunately devices such as the MI 8 do not provide an alternative
    working decoder. Some Vivo devices do provide one though.
    
    PiperOrigin-RevId: 288911897

12	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 4e767faa1c7981e3359c44af77449d216edea059
Author: olly <olly@google.com>
Date:   2020-01-09 10:13:25 +0000

    Fix extension FLAC decoder to correctly handle non-16-bit depths
    
    PiperOrigin-RevId: 288860159

7	3	RELEASENOTES.md
7	4	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
47	7	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
1	8	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
6	2	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java

commit b35499f806713e4a5af1e5c3d2821ccd7a963798
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-09 09:32:42 +0000

    Resolve TrueHD spec TODO
    
    PiperOrigin-RevId: 288855515

2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/Ac3Util.java

commit 91d2d8b40e36426703ec22d0b71a3a4f2e72c70b
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-08 22:15:53 +0000

    Merge pull request #6836 from DolbyLaboratories:dev-v2-refineAC4
    
    PiperOrigin-RevId: 288772277

6	1	library/core/src/main/java/com/google/android/exoplayer2/audio/Ac4Util.java
6	12	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
14	12	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java
-	-	library/core/src/test/assets/mp4/sample_ac4.mp4
107	0	library/core/src/test/assets/mp4/sample_ac4.mp4.0.dump
107	0	library/core/src/test/assets/mp4/sample_ac4.mp4.1.dump
107	0	library/core/src/test/assets/mp4/sample_ac4.mp4.2.dump
107	0	library/core/src/test/assets/mp4/sample_ac4.mp4.3.dump
-	-	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4
107	0	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4.0.dump
83	0	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4.1.dump
59	0	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4.2.dump
35	0	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4.3.dump
6	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
5	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java

commit 42897b26c755471d4d26d11a6fa76298237ccef6
Author: kimvde <kimvde@google.com>
Date:   2020-01-08 17:21:09 +0000

    FlacExtractor: add condition for zero-length reads
    
    This improves readability by making clearer that reading no bytes from
    the input in readFrames() is an expected case if the buffer is full.
    
    PiperOrigin-RevId: 288711841

12	9	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit 6395d44bfac4974ca76f23e278d5fe38f810e427
Author: tonihei <tonihei@google.com>
Date:   2020-01-08 17:20:19 +0000

    Disable chronometer for playback speeds != 1.0
    
    This doesn't work because the Chronometer text layout can only count in realtime.
    
    Issue:#6816
    PiperOrigin-RevId: 288711702

2	0	RELEASENOTES.md
14	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit e1a110e6516052d65183ea182bad803261c49892
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-08 15:04:46 +0000

    Fix TrueHD chunking in Matroska
    
    Issue: #6845
    PiperOrigin-RevId: 288688716

2	0	RELEASENOTES.md
1	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 7fe55cd468bfcdb029a05000f343c226b0e8953f
Author: kimvde <kimvde@google.com>
Date:   2020-01-08 11:48:58 +0000

    Use FlacLibrary.isAvailable in FlacExtractor selection
    
    PiperOrigin-RevId: 288667790

0	76	extensions/flac/src/test/java/com/google/android/exoplayer2/ext/flac/DefaultExtractorsFactoryTest.java
6	0	library/core/proguard-rules.txt
12	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java

commit bf9a61d62f93e07ba2d7429b76568318b4457a97
Author: olly <olly@google.com>
Date:   2020-01-08 09:10:41 +0000

    Upgrade OkHttp library to fix HTTP2 issue
    
    Issue: #4078
    PiperOrigin-RevId: 288651166

3	0	RELEASENOTES.md
1	1	extensions/okhttp/build.gradle

commit eb0acb415517284e952532fa63923ea2350c0bd3
Author: olly <olly@google.com>
Date:   2020-01-07 11:47:25 +0000

    Fix playback for Vivo codecs that output non-16-bit audio
    
    PiperOrigin-RevId: 288468497

10	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit d1839f141a19fb6e087c9779444ea1be8633c1d1
Author: kimvde <kimvde@google.com>
Date:   2020-01-07 11:03:42 +0000

    Add comment explaining FlacBinarySearchSeeker output
    
    PiperOrigin-RevId: 288464154

2	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java

commit 20e7684c6c6a90306bcf40cd42562947f7530eb9
Author: olly <olly@google.com>
Date:   2020-01-06 16:21:38 +0000

    FlacExtractor: Fix possible skipping of frame boundaries
    
    PiperOrigin-RevId: 288304477

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit be3257e87a7123c2b30201c0e0d95aa9b4ce7c41
Author: kimvde <kimvde@google.com>
Date:   2020-01-06 13:41:53 +0000

    Simulate IO exceptions in all FlacExtractor tests
    
    - Simulate IO exceptions in the test using FlacBinarySearchSeeker for
      seeking in FlacExtractorTests. This makes the test slower but covers
      more test cases.
    
    PiperOrigin-RevId: 288285057

1	65	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java

commit 1f85cd9afecaa90ad723f3c29be8ef3faf952e8a
Author: olly <olly@google.com>
Date:   2020-01-06 14:51:34 +0000

    Remove WavExtractor from the nullness blacklist
    
    PiperOrigin-RevId: 288292488

63	50	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java

commit d609c3b6669938ee7c4017d4faeb2ff5a29010c7
Author: tonihei <tonihei@google.com>
Date:   2020-01-06 12:54:05 +0000

    Support 5G in network type detection
    
    PiperOrigin-RevId: 288280500

6	6	library/core/src/main/java/com/google/android/exoplayer2/C.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 63eaf1144cce9caa2637e81e2d3d73ba1f36ad78
Author: ibaker <ibaker@google.com>
Date:   2020-01-06 11:48:54 +0000

    Fix MatroskaExtractor to use blockDurationUs not durationUs
    
    This typo was introduced in https://github.com/google/ExoPlayer/commit/ddb70d96ad99f07fe10f53a76ce3262fe625be70
    when migrating a static method with parameter `durationUs` to an
    instance method where the correct field to use was `blockDurationUs`
    (but `durationUs` also exists).
    
    The test that catches this was only added in https://github.com/google/ExoPlayer/commit/45013ece1e3fe054ff8960355a89559241eeb288 (and
    therefore configured with the wrong expected output data).
    
    issue:#6833
    PiperOrigin-RevId: 288274197

2	0	RELEASENOTES.md
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 1b764c2d308d5b09453ec346c8f2321dd0258fe1
Author: kimvde <kimvde@google.com>
Date:   2020-01-03 12:11:10 +0000

    Add unit tests to FLAC extractor related classes
    
    PiperOrigin-RevId: 287973192

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
323	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/FlacFrameReaderTest.java
408	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/FlacMetadataReaderTest.java
24	0	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java

commit 97be06529cdd57b973ec2de31a6c5c62db99123a
Author: olly <olly@google.com>
Date:   2020-01-03 16:59:05 +0000

    Use MIME types rather than PCM encodings for ALAW and MLAW
    
    PiperOrigin-RevId: 287999703

3	0	RELEASENOTES.md
1	2	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
3	9	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegDecoder.java
7	13	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.java
9	18	library/core/src/main/java/com/google/android/exoplayer2/C.java
1	7	library/core/src/main/java/com/google/android/exoplayer2/Format.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
0	4	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java
2	10	library/core/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java
14	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/AudioTagPayloadReader.java
39	23	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 1f505fa9fd6f107e22e945d243630acdc92d202d
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-03 10:22:27 +0000

    Show ad markers after the window duration
    
    Issue: #6552
    PiperOrigin-RevId: 287964221

3	0	RELEASENOTES.md
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java

commit 90a67b59c5b736863a4494adead434d9f0019656
Author: olly <olly@google.com>
Date:   2020-01-02 18:19:41 +0000

    Add support for IMA ADPCM in WAV
    
    PiperOrigin-RevId: 287854701

1	0	RELEASENOTES.md
7	5	library/core/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java
297	17	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
-	-	library/core/src/test/assets/wav/sample_ima_adpcm.wav
75	0	library/core/src/test/assets/wav/sample_ima_adpcm.wav.0.dump
59	0	library/core/src/test/assets/wav/sample_ima_adpcm.wav.1.dump
47	0	library/core/src/test/assets/wav/sample_ima_adpcm.wav.2.dump
35	0	library/core/src/test/assets/wav/sample_ima_adpcm.wav.3.dump
5	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/wav/WavExtractorTest.java

commit ef0066f08a667a9dd0ffd32cae43b9478ca7dfba
Author: olly <olly@google.com>
Date:   2020-01-02 14:44:16 +0000

    Support twos codec in MP4
    
    Issue: #5789
    PiperOrigin-RevId: 287828559

2	0	RELEASENOTES.md
11	6	library/core/src/main/java/com/google/android/exoplayer2/C.java
18	5	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Atom.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 0e1670bb23844fc2490cd206055c21f0acf239c6
Author: olly <olly@google.com>
Date:   2020-01-02 14:40:47 +0000

    Document overriding of drawables for PlayerControlView
    
    Issue: #6779
    PiperOrigin-RevId: 287828273

41	8	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
8	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit b36c5e997378dfe2489a2c3b737c397d52e927ef
Author: olly <olly@google.com>
Date:   2020-01-02 13:13:31 +0000

    Document overriding drawables for notifications
    
    Issue: #6266
    PiperOrigin-RevId: 287821640

37	15	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 7fd0b1d8723d02f3fddd7f7c73fd85d7d55c55e8
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-02 12:02:41 +0000

    Fix handling of E-AC-3 streams with AC-3 frames
    
    Issue: #6602
    PiperOrigin-RevId: 287816831

2	0	RELEASENOTES.md
36	37	library/core/src/main/java/com/google/android/exoplayer2/audio/Ac3Util.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 1edcc6c4f7ea7abc31e9bb5fb4aa377bb1193644
Author: olly <olly@google.com>
Date:   2020-01-02 11:37:03 +0000

    Don't use WavHeader.averageBytesPerSecond
    
    It's unreliable for at least one IMA ADPCM file I've found.
    Calculating the blockIndex to seek to using exact properties
    also seems more robust.
    
    Note this doesn't change anything for the existing PCM test,
    since averageBytesPerSecond is set correctly. It does make
    a difference for an upcoming IMA ADPCM test though.
    
    PiperOrigin-RevId: 287814947

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavSeekMap.java

commit 3cf88bb48bdcf7e0b82552672efa2619270c4432
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-02 10:29:16 +0000

    Fix typos
    
    PiperOrigin-RevId: 287810018

2	2	extensions/okhttp/build.gradle
1	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheTest.java

commit 3bce2138c162c18e1a4aa15476200ad711e8946b
Author: olly <olly@google.com>
Date:   2019-12-20 20:23:02 +0000

    Fix handling of network transitions in RequirementsWatcher
    
    Issue: #6733
    PiperOrigin-RevId: 286621715

4	0	RELEASENOTES.md
6	7	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
31	23	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java

commit 355b3afabd0649ab64e813f54b34ab5c533f3da8
Author: olly <olly@google.com>
Date:   2019-12-18 16:35:43 +0000

    Read arrays directly from Parcel
    
    PiperOrigin-RevId: 286197990

2	3	library/core/src/main/java/com/google/android/exoplayer2/metadata/scte35/PrivateCommand.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadRequest.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
45	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataTest.java

commit 54f6f4823ab5a23f8ac30dec08812b6742eb99d6
Author: krocard <krocard@google.com>
Date:   2019-12-18 09:20:28 +0000

    Parse MP3 header to retrieve the nb of sample per frames
    
    Add support for MP3 as an encoding format for passthrough.
    
    This change does not change the observable
    behavior of Exoplayer.
    
    Also name the magics.
    
    #exo-offload
    
    PiperOrigin-RevId: 286146539

6	3	library/core/src/main/java/com/google/android/exoplayer2/C.java
22	16	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
54	6	library/core/src/main/java/com/google/android/exoplayer2/extractor/MpegAudioHeader.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java

commit 37e65ec0f24e0f7e0da4ac74526be2fa79feefdf
Author: kimvde <kimvde@google.com>
Date:   2019-12-16 20:20:20 +0000

    Add FlacExtractorSeekTest
    
    PiperOrigin-RevId: 285823771

300	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorSeekTest.java
6	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit fcac5af82d6cdda1b1f6fb604cfed8acf4da5c89
Author: kimvde <kimvde@google.com>
Date:   2019-12-16 19:19:43 +0000

    Fix FlacExtractor construction
    
    Fix the FlacExtractor constructor for the case where seek(0,0) is not called before reading.
    
    PiperOrigin-RevId: 285811161

22	21	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit bf9f49a91bdba6a2ddc28d88c6e87e699e965411
Author: kimvde <kimvde@google.com>
Date:   2019-12-16 18:29:27 +0000

    Implement seeking from seektable in FLAC extractor
    
    PiperOrigin-RevId: 285799995

43	41	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
54	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
84	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacSeekTableSeekMap.java
24	22	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
13	59	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/util/FlacConstants.java
38	1	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
6	2	library/core/src/test/assets/flac/bear.flac.3.dump
6	2	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_no_num_samples.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_no_seek_table_no_num_samples.flac
2	2	library/core/src/test/assets/flac/{bear.flac.unklen.dump => bear_no_seek_table_no_num_samples.flac.0.dump}
-	-	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac
1	1	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.1.dump
1	1	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.2.dump
7	3	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.3.dump
0	140	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.unklen.dump
0	123	library/core/src/test/assets/flac/bear_with_id3.flac.1.dump
0	79	library/core/src/test/assets/flac/bear_with_id3.flac.2.dump
0	35	library/core/src/test/assets/flac/bear_with_id3.flac.3.dump
0	163	library/core/src/test/assets/flac/bear_with_id3.flac.unklen.dump
6	2	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.unklen.dump
6	2	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.unklen.dump
6	2	library/core/src/test/assets/flac/bear_with_picture.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_with_picture.flac.unklen.dump
6	2	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.unklen.dump
63	17	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
5	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit 7bd912f895d5c9a815b03d6a960e350eb0d39249
Author: olly <olly@google.com>
Date:   2019-12-16 13:05:09 +0000

    Clean up WavExtractor PCM output
    
    - Make extractor output samples that are uniformly distributed
      with respect to time, with a target of ~10 samples per second.
      The old approach could in theory put every frame into its own
      sample, which would be very inefficient downstream because we'd
      need to pass them individually to MediaCodec. It could also put
      data corresponding to a long duration of time into a single
      sample (e.g. if the sample rate of the content is low), which
      is bad downstream because we decide whether to set the decodeOnly
      flag on a per sample basis. More generally, the new approach
      is more predictable :).
    
    - Stop using the WavSeekMap to get sample timestamps, and instead
      calculate them directly from the number of frames output. It's
      more obviously correct, particularly for data formats like IMA
      ADPCM where we'll need to adjust the data prior to output.
    
    PiperOrigin-RevId: 285750010

55	32	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java
24	31	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavSeekMap.java
35	7	library/core/src/test/assets/wav/sample.wav.0.dump
26	6	library/core/src/test/assets/wav/sample.wav.1.dump
16	4	library/core/src/test/assets/wav/sample.wav.2.dump
2	2	library/core/src/test/assets/wav/sample.wav.3.dump

commit 27b06e9ad984d600a5b9bf6fc82c84407cfec0e3
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-16 08:33:53 +0000

    Fix ParameterName warnings in core tests
    
    PiperOrigin-RevId: 285716982

14	14	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
3	2	library/core/src/test/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessorTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit 80e3152e8c8d77271def2b3996312ea2b3cb8bc3
Author: olly <olly@google.com>
Date:   2019-12-13 16:51:06 +0000

    Make it easier to update extractor test dump files
    
    PiperOrigin-RevId: 285407744

7	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 052550e90e62bf7e3967fa470d1495cd69b39c85
Author: olly <olly@google.com>
Date:   2019-12-13 16:39:13 +0000

    Rename getPhysicalDisplaySize to getCurrentDisplayModeSize
    
    PiperOrigin-RevId: 285405910

2	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
20	7	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 18cdd8ece20ba28f41e8f6f8919587e9d5874847
Author: ibaker <ibaker@google.com>
Date:   2019-12-13 14:26:40 +0000

    Add ISO-8859-1 awareness to IcyDecoder
    
    Also change IcyInfo.rawMetatadata from String to byte[]
    
    ICY doesn't specify the character encoding, and there are streams
    not using UTF-8 (issue:#6753). It seems the default of at least one
    server is ISO-8859-1 so let's support that as a fallback:
    https://github.com/savonet/liquidsoap/issues/411#issuecomment-288759200
    
    Also update IcyDecoder to skip strings it doesn't recognise at all
    instead of decoding invalid characters.
    
    The feed from issue:#6753 now decodes accents correctly:
    EventLogger:   ICY: title="D Pai - Le temps de la rentre", url="null"
    PiperOrigin-RevId: 285388522

4	26	RELEASENOTES.md
5	3	library/core/src/main/java/com/google/android/exoplayer2/C.java
46	11	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
13	13	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyInfo.java
89	26	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java
3	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyInfoTest.java

commit 5737815ee8a3d7a8f2669525218335989f6097e7
Author: tonihei <tonihei@google.com>
Date:   2019-12-13 13:56:26 +0000

    Remove API version dependency of Util.normalizeLanguageCode
    
    We previously used Locale.fromLanguageTag and then toLanguageTag to automatically
    filter out invalid tags and to replace deprecated tags. However, this only works
    for API 21+.
    
    This change does no longer rely on the platform methods and instead:
     1. Keeps invalid tags as they are. This may help if developers rely on
        non-spec-complaint language tags (for example, #6681).
     2. Adds a list of deprcated tags and their modern replacements to our code
     3. Normalizes some short codes that have been superseded by macrolanguage codes by
        their macrolanguage equivalent.
    
    Issue:#6681
    PiperOrigin-RevId: 285384841

79	33	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
69	50	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
79	22	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit c8328962479142d1bea9e6187c762fee0908a98f
Author: kimvde <kimvde@google.com>
Date:   2019-12-12 20:06:59 +0000

    Refactor sample number computation in FLAC seeking
    
    Retrieve the sample number in the extractor instead of passing a holder
    to FlacBinarySearchSeeker. This change makes the code easier to
    understand and is required to implement the seeking from the seek table.
    
    PiperOrigin-RevId: 285241862

52	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorUtil.java
43	14	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
11	20	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacBinarySearchSeeker.java
10	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
80	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/ExtractorUtilTest.java

commit 4ea913fc78ce78e46b4d1fada82c0d64f64b1ad0
Author: olly <olly@google.com>
Date:   2019-12-12 19:51:03 +0000

    Create WavExtractor.OutputWriter to handle different data formats
    
    - Create PcmOutputWriter for PCM.
    - In a future change an ImaAdPcmOutputWriter will be introduced
      for IMA ADPCM support.
    
    PiperOrigin-RevId: 285238246

119	48	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java

commit d62dc9dcfb52002f6c8e702edad1d739fe3cad0c
Author: olly <olly@google.com>
Date:   2019-12-12 19:26:10 +0000

    Remove assumption that WAV files only contain PCM encoded data
    
    - WavHeader is now immutable and contains only values parsed out
      of the WAVE FMT chunk. It no longer contains a C.PcmEncoding
      encoding, or mutable data bounds.
    - WavHeaderReader now parses the WAVE header chunks without any
      additional logic (e.g. validating the block alignment value,
      which is format type dependent).
    - The SeekMap part of WavHeader is split out into WavSeekMap.
    
    PiperOrigin-RevId: 285232498

1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/TeeAudioProcessor.java
15	5	library/core/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java
59	20	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
24	143	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
20	29	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java
83	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavSeekMap.java

commit 1144926380018e72dbdb81b3174615573e74af08
Author: olly <olly@google.com>
Date:   2019-12-11 12:47:05 +0000

    Add WavHeader.samplesPerBlock (currently always == 1)
    
    PiperOrigin-RevId: 284961417

11	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
8	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java

commit fe61cfee2ca1d1c2a74b731565747e8ed13317cf
Author: kimvde <kimvde@google.com>
Date:   2019-12-11 11:24:06 +0000

    Remove duplicated logic in FlacReader
    
    PiperOrigin-RevId: 284952647

9	28	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java

commit 910bd8bdc5a5bc6d250365a47a0a7d6992731009
Author: kimvde <kimvde@google.com>
Date:   2019-12-10 19:40:26 +0000

    Implement binary search seeking for FLAC extractor
    
    PiperOrigin-RevId: 284814594

13	19	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java
87	43	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
8	25	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
140	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacBinarySearchSeeker.java
76	46	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
2	2	library/core/src/test/assets/flac/bear.flac.0.dump
124	0	library/core/src/test/assets/flac/bear.flac.1.dump
80	0	library/core/src/test/assets/flac/bear.flac.2.dump
36	0	library/core/src/test/assets/flac/bear.flac.3.dump
164	0	library/core/src/test/assets/flac/bear.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
108	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.1.dump
72	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.3.dump
140	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.unklen.dump
123	0	library/core/src/test/assets/flac/bear_with_id3.flac.1.dump
79	0	library/core/src/test/assets/flac/bear_with_id3.flac.2.dump
35	0	library/core/src/test/assets/flac/bear_with_id3.flac.3.dump
163	0	library/core/src/test/assets/flac/bear_with_id3.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_with_picture.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_with_picture.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_with_picture.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_with_picture.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_with_picture.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.unklen.dump
32	8	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit 4ed512d611ba51daba7ced19b38cac5946d008d3
Author: ibaker <ibaker@google.com>
Date:   2019-12-10 16:42:33 +0000

    Fix javadoc warnings exposed by -Xdoclint
    
    PiperOrigin-RevId: 284776943

2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
25	25	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelector.java

commit ff1efd4ec2639a5558d904bd396ba8b6c26021ca
Author: kimvde <kimvde@google.com>
Date:   2019-12-09 13:57:21 +0000

    Add peek() method to ExtractorInput
    
    PiperOrigin-RevId: 284537150

29	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorInput.java
28	16	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
193	33	library/core/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorInputTest.java
31	15	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorInput.java

commit 24afcdc36bc43eec13905c6cc6f04e9b0a08af71
Author: kimvde <kimvde@google.com>
Date:   2019-12-09 10:34:41 +0000

    Remove TODO for supporting streams in Java FLAC extractor
    
    Flac streams exist but are not commonly used. Also, they are not
    supported by the FLAC extension extractor.
    
    PiperOrigin-RevId: 284514327

0	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit 54413c26d423e0fa8adc868d12bb62e3fb54a84d
Author: kimvde <kimvde@google.com>
Date:   2019-12-06 14:07:28 +0000

    Make metadata field nullable in FlacStreamMetadata
    
    This makes the format metadata null (instead of an empty Metadata
    object) when it is not provided, and is therefore consistent with the
    other extractors behavior.
    
    PiperOrigin-RevId: 284171148

1	1	extensions/flac/src/androidTest/assets/bear.flac.0.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.1.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.2.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.3.dump
1	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
15	10	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
1	1	library/core/src/test/assets/flac/bear.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_no_num_samples.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump
1	1	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java

commit a5ee17ec26dc71d1636734124ccd1b10a3cbb234
Author: olly <olly@google.com>
Date:   2019-12-05 15:08:56 +0000

    Fix casting to not need warning suppression
    
    Also remove getRendererCapabilities arg that's now always null.
    
    PiperOrigin-RevId: 283966795

3	4	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
2	7	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java

commit 023e141be86fa505ce5143bc8063bc5278654501
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-05 14:14:48 +0000

    Verify metadata in extractor tests
    
    PiperOrigin-RevId: 283960017

1	0	extensions/flac/src/androidTest/assets/bear.flac.0.dump
1	0	extensions/flac/src/androidTest/assets/bear.flac.1.dump
1	0	extensions/flac/src/androidTest/assets/bear.flac.2.dump
1	0	extensions/flac/src/androidTest/assets/bear.flac.3.dump
1	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.0.dump
1	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.1.dump
1	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.2.dump
1	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.3.dump
1	0	library/core/src/test/assets/amr/sample_nb.amr.0.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.0.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.1.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.2.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.3.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.unklen.dump
1	0	library/core/src/test/assets/amr/sample_wb.amr.0.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.0.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.1.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.2.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.3.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.unklen.dump
1	0	library/core/src/test/assets/flac/bear.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_no_num_samples.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
-	-	library/core/src/test/assets/flac/{bear_with_id3.flac => bear_with_id3_disabled.flac}
1	0	library/core/src/test/assets/flac/{bear_with_id3.flac.0.dump => bear_with_id3_disabled.flac.0.dump}
-	-	library/core/src/test/assets/flac/bear_with_id3_enabled.flac
164	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_with_picture.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.0.dump
2	0	library/core/src/test/assets/flv/sample.flv.0.dump
2	0	library/core/src/test/assets/mkv/sample.mkv.0.dump
2	0	library/core/src/test/assets/mkv/sample.mkv.1.dump
2	0	library/core/src/test/assets/mkv/sample.mkv.2.dump
2	0	library/core/src/test/assets/mkv/sample.mkv.3.dump
1	0	library/core/src/test/assets/mkv/subsample_encrypted_altref.webm.0.dump
1	0	library/core/src/test/assets/mkv/subsample_encrypted_noaltref.webm.0.dump
1	0	library/core/src/test/assets/mp3/bear.mp3.0.dump
1	0	library/core/src/test/assets/mp3/bear.mp3.1.dump
1	0	library/core/src/test/assets/mp3/bear.mp3.2.dump
1	0	library/core/src/test/assets/mp3/bear.mp3.3.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.0.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.1.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.2.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.3.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.unklen.dump
2	0	library/core/src/test/assets/mp4/sample.mp4.0.dump
2	0	library/core/src/test/assets/mp4/sample.mp4.1.dump
2	0	library/core/src/test/assets/mp4/sample.mp4.2.dump
2	0	library/core/src/test/assets/mp4/sample.mp4.3.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented.mp4.0.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented_seekable.mp4.0.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented_seekable.mp4.1.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented_seekable.mp4.2.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented_seekable.mp4.3.dump
3	0	library/core/src/test/assets/mp4/sample_fragmented_sei.mp4.0.dump
1	0	library/core/src/test/assets/ogg/bear.opus.0.dump
1	0	library/core/src/test/assets/ogg/bear.opus.1.dump
1	0	library/core/src/test/assets/ogg/bear.opus.2.dump
1	0	library/core/src/test/assets/ogg/bear.opus.3.dump
1	0	library/core/src/test/assets/ogg/bear.opus.unklen.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.0.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.1.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.2.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.3.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.unklen.dump
1	0	library/core/src/test/assets/rawcc/sample.rawcc.0.dump
1	0	library/core/src/test/assets/ts/sample.ac3.0.dump
1	0	library/core/src/test/assets/ts/sample.ac4.0.dump
2	0	library/core/src/test/assets/ts/sample.adts.0.dump
1	0	library/core/src/test/assets/ts/sample.eac3.0.dump
2	0	library/core/src/test/assets/ts/sample.ps.0.dump
2	0	library/core/src/test/assets/ts/sample.ps.1.dump
2	0	library/core/src/test/assets/ts/sample.ps.2.dump
2	0	library/core/src/test/assets/ts/sample.ps.3.dump
2	0	library/core/src/test/assets/ts/sample.ps.unklen.dump
3	0	library/core/src/test/assets/ts/sample.ts.0.dump
3	0	library/core/src/test/assets/ts/sample.ts.1.dump
3	0	library/core/src/test/assets/ts/sample.ts.2.dump
3	0	library/core/src/test/assets/ts/sample.ts.3.dump
3	0	library/core/src/test/assets/ts/sample.ts.unklen.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.0.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.1.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.2.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.3.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.unklen.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
1	0	library/core/src/test/assets/wav/sample.wav.0.dump
1	0	library/core/src/test/assets/wav/sample.wav.1.dump
1	0	library/core/src/test/assets/wav/sample.wav.2.dump
1	0	library/core/src/test/assets/wav/sample.wav.3.dump
4	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
0	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java
4	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit 0a0a478294c6ae6799e93a4545835717fbe7a9a1
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-12-05 13:46:05 +0000

    Add a test for SampleQueue capacity increases
    
    Also remove redundant line
    
    PiperOrigin-RevId: 283956203

2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
28	0	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit 14897fb6dfffe7c99fb9150d4bcf5e89b3057303
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-12-04 19:21:55 +0000

    Invert the ownership scheme between SampleQueue and SampleMetadataQueue
    
    Saves around 200 lines of code. High level overview:
    - Rename SampleQueue to SampleDataQueue.
    - Rename SampleMetadataQueue to SampleQueue.
    
    This CL should not introduce behavior changes. The only significant
    changes in synchronization should be:
    + Add synchronized keyword to isReady.
      - Seems to be necessary.
    + Add synchronized keyword to SampleQueue.sampleMetadata.
      - Before this change, SampleQueue.sampleMetadata could acquire the
        SampleMetadataQueue lock three times in a single method call.
    
    Other miscellaneous improvements:
    + Put all private methods at the bottom.
    + Move release() to the right category.
    
    PiperOrigin-RevId: 283795844

466	0	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
0	721	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
574	499	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit 9974670cc7ed0c908d3a5507424a0af6d04c7eb5
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-12-04 19:18:56 +0000

    Make DownloadHelper pass DrmSessionManager to MediaSources
    
    PiperOrigin-RevId: 283795201

12	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
41	8	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
11	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceFactory.java
15	14	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
15	14	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
15	14	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
15	14	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 9c23888f1c686278a648e7551bd8271827ae45c2
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-03 16:34:24 +0000

    Don't try to track buffersInCodec with tunneling
    
    PiperOrigin-RevId: 283551324

8	2	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 630992d05ba9957653b9eff372b0966a01be529b
Author: kimvde <kimvde@google.com>
Date:   2019-12-03 15:51:44 +0000

    Allow no output frame holder BinarySearchSeeker
    
    PiperOrigin-RevId: 283544187

11	6	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
23	5	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
17	9	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
4	35	library/core/src/main/java/com/google/android/exoplayer2/extractor/BinarySearchSeeker.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/PsBinarySearchSeeker.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/PsExtractor.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/TsBinarySearchSeeker.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/TsExtractor.java

commit 9fec58a2ef6722e58f3ac8b8f2181f0cfba2c07b
Author: ibaker <ibaker@google.com>
Date:   2019-11-22 12:21:57 +0000

    Add SSA test file to the demo app
    
    I wrote this myself
    
    PiperOrigin-RevId: 281942685

7	0	demos/main/src/main/assets/media.exolist.json

commit f09f62da4f541ca4de90e9adf95b9c5c1a53d3a2
Author: kimvde <kimvde@google.com>
Date:   2019-11-20 17:40:03 +0000

    Expose metadata in FLAC extractor
    
    PiperOrigin-RevId: 281538423

26	3	RELEASENOTES.md
7	26	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
1	1	extensions/flac/src/main/jni/flac_jni.cc
5	1	library/core/src/main/java/com/google/android/exoplayer2/{util => extractor}/FlacFrameReader.java
281	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/{ogg => }/VorbisBitArray.java
118	91	library/core/src/main/java/com/google/android/exoplayer2/extractor/{ogg => }/VorbisUtil.java
77	45	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/VorbisReader.java
0	208	library/core/src/main/java/com/google/android/exoplayer2/util/FlacMetadataReader.java
108	51	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
-	-	library/core/src/test/assets/binary/ogg/vorbis_header_pages
-	-	library/core/src/test/assets/binary/vorbis/comment_header
-	-	library/core/src/test/assets/binary/vorbis/id_header
-	-	library/core/src/test/assets/binary/vorbis/setup_header
-	-	library/core/src/test/assets/flac/bear.flac
-	-	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac
-	-	library/core/src/test/assets/flac/bear_no_num_samples.flac
-	-	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac
-	-	library/core/src/test/assets/flac/bear_with_id3.flac
-	-	library/core/src/test/assets/flac/bear_with_picture.flac
163	0	library/core/src/test/assets/flac/bear_with_picture.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac
163	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.0.dump
1	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/{ogg => }/VorbisBitArrayTest.java
17	8	library/core/src/test/java/com/google/android/exoplayer2/extractor/{ogg => }/VorbisUtilTest.java
21	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
0	1008	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggTestData.java
7	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisReaderTest.java
49	5	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java
1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit a558501e389b7f41a5c07ca18835b08454c378b4
Author: kimvde <kimvde@google.com>
Date:   2019-11-19 10:45:58 +0000

    Remove TODO around optimizing sample data outputs in FlacExtractor
    
    Preliminary measurement showed that the results were similar to the non-optimized
    version.
    
    PiperOrigin-RevId: 281255476

0	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit dcebf93ab4f7b8746e2a1025f8dee93bcf0e303e
Author: kimvde <kimvde@google.com>
Date:   2019-11-18 17:16:45 +0000

    Add Java FLAC extractor
    
    Seeking, live streams support and exposure of vorbis and ID3 data
    are not part of this commit.
    
    Issue: #6406
    PiperOrigin-RevId: 281083332

8	0	RELEASENOTES.md
4	0	demos/main/src/main/assets/media.exolist.json
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
8	25	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
12	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java
302	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
2	22	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
33	0	library/core/src/main/java/com/google/android/exoplayer2/util/FlacConstants.java
257	0	library/core/src/main/java/com/google/android/exoplayer2/util/FlacFrameReader.java
208	0	library/core/src/main/java/com/google/android/exoplayer2/util/FlacMetadataReader.java
140	23	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
-	-	library/core/src/test/assets/flac/bear.flac
163	0	library/core/src/test/assets/flac/bear.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac
163	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_no_num_samples.flac
163	0	library/core/src/test/assets/flac/bear_no_num_samples.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_one_metadata_block.flac
163	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac
139	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_with_id3.flac
163	0	library/core/src/test/assets/flac/bear_with_id3.flac.0.dump
3	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactoryTest.java
56	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java

commit 2859a340272a32a1ed377dfd0004abec28fd98ae
Author: olly <olly@google.com>
Date:   2020-01-16 20:11:20 +0000

    HLS: Fix slow seeking into long MP3 segments
    
    Issue: #6155
    PiperOrigin-RevId: 290117324

2	1	RELEASENOTES.md
17	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
25	0	library/core/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java

commit db750125036ce91d1ca161570b60af908812f27e
Author: kimvde <kimvde@google.com>
Date:   2020-01-16 17:14:50 +0000

    FlacExtractor: handle case where last frame < MAX_FRAME_HEADER_SIZE
    
    PiperOrigin-RevId: 290079840

43	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit a99ab62241b19df55fd7743258e280e11abda28e
Author: krocard <krocard@google.com>
Date:   2020-01-16 17:13:51 +0000

    Tunneling timestamp use Message instead of Runnable
    
    This avoids allocating a Runnable.
    
    PiperOrigin-RevId: 290079660

1	1	library/core/src/main/java/com/google/android/exoplayer2/util/ParsableBitArray.java
12	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
24	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
25	0	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit cb8391a5269135541f0f8cf238090e6f51dae4b6
Author: olly <olly@google.com>
Date:   2020-01-16 16:09:28 +0000

    Start service in foreground if allowed
    
    This fixes an issue where a DownloadService implementation
    that allows foreground but doesn't provide a scheduler would
    not be restarted in the case that it was still in memory but
    classed as idle by the platform.
    
    It also speeds up service restart in the case that a
    scheduler is provided.
    
    Issue: #6798
    PiperOrigin-RevId: 290068960

26	11	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 775a17c49805e2d19b0233bfec9fd236858fcb08
Author: olly <olly@google.com>
Date:   2020-01-16 14:17:28 +0000

    Split SampleQueue.advanceTo for advance & seek use cases
    
    This method has two use cases:
    
    1. Seeking. Calls are immediately preceded by a call to rewind(), and
       the returned value isn't important unless it's ADVANCED_FAILED (i.e.
       the caller is only interested in success and failure).
    2. Advancing. The return value is important unless it's ADVANCED_FAILED,
       in which case the caller wants to treat it as 0.
    
    This change creates separate methods for each use case. The new seekTo
    methods automatically rewind and return a boolean. The updated advanceTo
    method returns 0 directly in cases where ADVANCED_FAILED was returned.
    Arguments that were always hard-coded to true by callers have also been
    removed.
    
    This change is a step toward one possible solution for #6155. How we'll
    solve that issue is still up for discussion, but this change seems like
    one we should make regardless!
    
    Issue: #6155
    PiperOrigin-RevId: 290053743

6	11	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
51	41	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
8	21	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
77	34	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
4	8	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 51f2723b905ee76c9e6823dbd9ff7f3ed4f3f719
Author: olly <olly@google.com>
Date:   2020-01-16 13:49:25 +0000

    Fix DownloadService resumption
    
    - DownloadManagerHelper now passes all downloads to the
      DownloadService when the service is attached (and once
      the downloads are known). The service then starts the
      foreground notification updater if necessary. This fixes
      the ref'd issue.
    - Don't call getScheduler() if the service is background
      only. This was already documented to be the case on the
      DownloadService constructor.
    - If the service is started in the foreground on SDK level
      26 and higher, satisfy the condition to move the service
      to the foreground in onStartCommand rather than in stop().
      It's much more obviously correct, and should produce the
      same end result.
    
    Issue: #6798
    PiperOrigin-RevId: 290050024

3	4	RELEASENOTES.md
2	2	extensions/jobdispatcher/src/main/java/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.java
79	20	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java

commit 1ec05199d4f15424588795ecfc29ef6593582ed3
Merge: 2e7978a0e 621d7a493
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-16 13:52:37 +0000

    Merge pull request #6603 from TiVo:fix-tunneling-stuck-release
    
    PiperOrigin-RevId: 290041295

commit 2e7978a0e204205d79fd11c92f21cba42321d330
Author: tonihei <tonihei@google.com>
Date:   2020-01-16 11:48:42 +0000

    Reorder renderer changes at period transitions
    
    Currently the following sequence of events happens at automatic period transitions:
    1. Update queue (=release old playing period)
    2. Disable unused renderers
    3. Enable newly needed renderers
    
    This order requires difficult to follow workarounds in AnalyticsCollector for all
    events related to step 2 (disable renderers). The current media period has already
    been advanced so can't be used. The current workaround saves the last known playing
    media period that was published as part of a PlaybackInfo update in ExoPlayerImpl.
    This works in most cases, but is inherently wrong because the published state in
    ExoPlayerImpl may be completely unrelated to the updates happening on the playback
    thread (e.g. if many other operations are pending).
    
    Simplify and fix this problem by changing the order of the events above:
    1. Disable unused renderers.
    2. Update queue
    3. Enable newly needed renderers.
    This way the current playing media period can be used for both renderer disable
    and renderer enable events, thus it's correct in all cases and the workaround
    in AnalyticsCollector can be removed.
    
    PiperOrigin-RevId: 290037225

38	26	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
45	56	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit 8d2fd383f95e29794869baf7bf1a7061163bd3a5
Author: tonihei <tonihei@google.com>
Date:   2020-01-16 11:46:26 +0000

    Fix setting maskingPeriodIndex in ExoPlayerImpl
    
    Whenever we set the maskingWindowIndex, we also need to set the masking period index
    and the masking position. Otherwise it may cause exception when the period index
    is used together with the masking timeline.
    
    PiperOrigin-RevId: 290036973

2	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java

commit 17d1343375cf9dc365da7f725b2d0172d6682b6d
Merge: cf7b908e9 ad8f6c183
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-16 13:52:08 +0000

    Merge pull request #6678 from phhusson:feature/enable-multi-metadata-tracks
    
    PiperOrigin-RevId: 290032841

commit cf7b908e948c040ccb10365476df74c4ceb2004f
Author: tonihei <tonihei@google.com>
Date:   2020-01-16 10:32:41 +0000

    Fix demo app NPE when selecting unsupported samples.
    
    PiperOrigin-RevId: 290027772

9	4	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java

commit 090aed3aca1fbdb2e5bfb9e3983a6874a7d4f653
Author: olly <olly@google.com>
Date:   2020-01-15 15:58:57 +0000

    Add non-null by default to source.chunk
    
    PiperOrigin-RevId: 289859343

6	4	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/BaseMediaChunk.java
2	6	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/BaseMediaChunkOutput.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/Chunk.java
28	19	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkExtractorWrapper.java
12	11	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
5	7	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/DataChunk.java
0	61	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/MediaChunkListIterator.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/package-info.java
0	76	library/core/src/test/java/com/google/android/exoplayer2/source/chunk/MediaChunkListIteratorTest.java
4	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashUtil.java

commit 4a5d788fa6fb5784c77057a4aa03eb6d04c3cd4b
Author: olly <olly@google.com>
Date:   2020-01-15 14:09:06 +0000

    DASH: Output Format before InitializationChunk load completes
    
    This optimization allows a ChunkSampleStream to output track
    formats as soon as they're parsed during an InitializationChunk
    load, rather than waiting until after the InitializationChunk
    load is completed.
    
    In DASH VOD, a single InitializationChunk typically loads the
    moov and sidx atoms in that order. Hence for long form content
    where the sidx is a non-trivial size, this may result in the
    track formats being output a non-negligible period of time
    sooner than was previously the case. This allows downstream
    renderers to start codec initialization sooner, potentially
    decreasing startup latency.
    
    For a single test stream on a fast & stable network, this
    pretty consistently reduced elapsed time until both audio and
    video codecs have been initialized from ~0.5s to ~0.3 seconds
    on a Galaxy S8. For 5 test runs without and with these patches,
    the eventTime logged by EventLogger for the second decoder
    init were:
    
    Without (secs): 0.47 0.47 0.45 0.48 0.46
    With (secs)   : 0.32 0.33 0.34 0.31 0.40
    
    PiperOrigin-RevId: 289845089

6	5	RELEASENOTES.md
4	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/BaseMediaChunkOutput.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.java
15	3	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/InitializationChunk.java

commit 7d0f0b69a31596738cee74b51db9e7b5418e0f24
Author: olly <olly@google.com>
Date:   2020-01-15 13:44:13 +0000

    Optimize chunks to init their outputs before opening the DataSource
    
    The current order of operations means that the Format is only passed
    to the chunk's output after the DataSource has been opened. This
    means that establishing the network connection and the downstream
    renderers initializing their codecs are effectively serialized to
    occur one after the other.
    
    In the new order, the Format is passed to the chunk's output before
    the DataSource has been opened. This allows the downstream renderers
    to initialize their codecs in parallel with the network connection
    being established, and hence latency at the start of playback is
    reduced.
    
    PiperOrigin-RevId: 289841854

5	0	RELEASENOTES.md
13	14	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.java
10	10	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/InitializationChunk.java
5	6	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/SingleSampleMediaChunk.java

commit 4b234388c89b40ff7db8d089619b8b0ab28f6ba3
Author: olly <olly@google.com>
Date:   2020-01-15 13:10:48 +0000

    Move @Nullable annotations to correct positions
    
    PiperOrigin-RevId: 289838473

4	2	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioCapabilitiesReceiver.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java
11	17	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.java

commit 96c648c2d6d24e4d15e622cd4262e13c31653d55
Author: samrobinson <samrobinson@google.com>
Date:   2020-01-15 11:44:31 +0000

    Improve customisability of FakeSampleStream.
    
    PiperOrigin-RevId: 289829592

7	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
104	33	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit a225e887fab1885aea9b8829f82f661a0459023e
Author: olly <olly@google.com>
Date:   2020-01-15 10:50:31 +0000

    Move @MonotonicNonNull annotations to their correct positions
    
    PiperOrigin-RevId: 289823804

1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/NoSampleRenderer.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/amr/AmrExtractor.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/FlvExtractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/DefaultEbmlReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/TrackFragment.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggExtractor.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractor.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Reader.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac4Reader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsReader.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/DtsReader.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/H262Reader.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/H264Reader.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/H265Reader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Id3Reader.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/LatmReader.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/MpegAudioReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/PesReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/PsExtractor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SpliceInfoSectionReader.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapter.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/scte35/SpliceInfoDecoder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSink.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
5	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit cea37c60f8b0be0c1f3665fffc54c87e6697c97e
Author: olly <olly@google.com>
Date:   2020-01-14 16:36:16 +0000

    Use customCacheKey in DownloadHelper.createMediaSource
    
    Issue: #6870
    PiperOrigin-RevId: 289658261

9	6	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java

commit 3feb263cfe82602b7b9c7990babb7320b4d37dbc
Author: olly <olly@google.com>
Date:   2020-01-14 16:35:16 +0000

    Fix nullability issues for testutil.truth
    
    PiperOrigin-RevId: 289658098

2	0	testutils/build.gradle
18	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
19	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/package-info.java

commit 4c74f3cffdd620718e4ac3bc18511b5be57e67fe
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-13 22:38:18 +0000

    Make tests independent
    
    PiperOrigin-RevId: 289521837

-	-	library/core/src/test/assets/id3/apic.id3
-	-	library/core/src/test/assets/id3/comm_apic.id3
-	-	library/core/src/test/assets/ogg/continued_packet_at_start
-	-	library/core/src/test/assets/ogg/continued_packet_over_four_pages
-	-	library/core/src/test/assets/ogg/continued_packet_over_two_pages
-	-	library/core/src/test/assets/ogg/eof_header
-	-	library/core/src/test/assets/ogg/flac_header
-	-	library/core/src/test/assets/ogg/four_packets_with_empty_page
-	-	library/core/src/test/assets/ogg/invalid_header
-	-	library/core/src/test/assets/ogg/invalid_ogg_header
-	-	library/core/src/test/assets/ogg/opus_header
-	-	library/core/src/test/assets/ogg/packet_with_zero_size_terminator
-	-	library/core/src/test/assets/ogg/page_header
-	-	library/core/src/test/assets/ogg/random_1000_pages
-	-	library/core/src/test/assets/ogg/three_headers
-	-	library/core/src/test/assets/ogg/vorbis_header
-	-	library/core/src/test/assets/ogg/zero_sized_packets_at_end_of_stream
16	28	library/core/src/test/java/com/google/android/exoplayer2/extractor/Id3PeekerTest.java
101	90	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
9	21	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggExtractorTest.java
34	89	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPacketTest.java
32	32	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeaderTest.java
0	65	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggTestData.java
0	143	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggTestFile.java
22	21	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapterTest.java
27	38	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapterTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecAsyncCallbackTest.java
0	59	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecTestUtils.java
15	27	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapterTest.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
25	6	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSchemeDataSourceTest.java
0	50	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSourceAsserts.java
7	12	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndexTest.java
8	29	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpanTest.java
35	11	{library/core/src/test/java/com/google/android/exoplayer2/offline => testutils/src/main/java/com/google/android/exoplayer2/testutil}/DownloadBuilder.java
32	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit ccce9948a926c89f2108d78312d6beab63be2db6
Author: olly <olly@google.com>
Date:   2020-01-13 20:25:24 +0000

    Align media2 extension tests with other tests
    
    PiperOrigin-RevId: 289494365

1	3	extensions/flac/src/androidTest/AndroidManifest.xml
1	3	extensions/opus/src/androidTest/AndroidManifest.xml
1	3	extensions/vp9/src/androidTest/AndroidManifest.xml
0	1	library/core/src/androidTest/AndroidManifest.xml
0	3	playbacktests/src/androidTest/AndroidManifest.xml

commit f0ce1c3bbba7fec5a57e058642b48be7ec7fe375
Author: olly <olly@google.com>
Date:   2020-01-13 20:05:32 +0000

    Rename ID3 tag to Afro-Punk
    
    PiperOrigin-RevId: 289490708

154	27	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtil.java

commit c0ee312a307164b84822d1b84e875e8e3f0c15ef
Author: tonihei <tonihei@google.com>
Date:   2020-01-13 14:52:14 +0000

    Simplify keeping track of current id in DefaultPlaybackSessionManager
    
    We currently have a currentMediaPeriodId and an activeSessionId that are more
    or less tracking the same thing unless the current media period isn't "active" yet.
    
    Simplify this logic by using a single currentSessionId field and the respective
    isActive flag of this session. Also move all session creation and activation code in
    the same method to make it easier to reason about the code.
    
    This change also fixes a subtle bug where events after a seek to a new window
    are not ignored as they should.
    
    PiperOrigin-RevId: 289432181

47	45	library/core/src/main/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManager.java
14	0	library/core/src/test/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManagerTest.java

commit ad7bcab4c58fb0d1cac675262022cb485f4f6d49
Author: olly <olly@google.com>
Date:   2020-01-13 13:49:08 +0000

    DownloadService: No-op cleanup
    
    Issue: #6798
    PiperOrigin-RevId: 289424582

21	19	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 3c5c43c97949e24585f1b05ed4f0dbebcbd7806d
Author: tonihei <tonihei@google.com>
Date:   2020-01-13 13:46:49 +0000

    Add a clarifying comment to shouldContinueLoading handling.
    
    PiperOrigin-RevId: 289424321

2	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit d7643acd52d9dcc0b5b0b7ae02efbd4275a80a9e
Author: olly <olly@google.com>
Date:   2020-01-13 12:51:34 +0000

    Deprecate DownloadService state change methods
    
    As discovered whilst investigating #6798, there are cases
    where these methods are not correctly. They were added as
    convenience methods that could be overridden by concrete
    DownloadService implementations, but since they don't work
    properly it's preferable to require application code to
    listen to their DownloadManager directly instead.
    
    Notes:
    
    - The original proposal to fix #6798 stored the state change
    events in memory until they could be delivered. This approach
    is not ideal because the events still end up being delivered
    later than they should be. We also want to fix the root cause
    in a different way that does not require doing this.
    - This change does not fix #6798. It's a preparatory step.
    
    Issue: #6798
    PiperOrigin-RevId: 289418555

47	22	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java
11	6	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 15f974a277bdba877130df3664844bdc5ac0f5f3
Author: olly <olly@google.com>
Date:   2020-01-13 12:29:10 +0000

    PlayerTrackEmsgHandler: Release sample queue in release()
    
    This change makes it clear the SampleQueue doesn't outlive
    the wrapping PlayerTrackEmsgHandler, and releases it from
    PlayerTrackEmsgHandler.release().
    
    This change is a no-op because calling release() is the
    same as reset() in this case (the behavior only differs if
    a non-dummy DrmSessionManager is being used).
    
    PiperOrigin-RevId: 289416622

4	6	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java

commit 7f7632a38f3d3bb50f2230ec9c6ef228bad0c478
Author: aquilescanta <aquilescanta@google.com>
Date:   2020-01-10 22:39:11 +0000

    Split HlsSampleStreamWrapper.init into two methods
    
    As a result, onMediaChunkLoadStarted gets invoked on the loading thread, and
    init on the playback thread, matching the thread access comments.
    
    Issue:#6321
    PiperOrigin-RevId: 289167981

2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
9	8	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 01e661f21a9c3012458f568e63387c110d5547ce
Author: tonihei <tonihei@google.com>
Date:   2020-01-10 16:35:18 +0000

    Add NTP client to get time offset for live streams without UTCTiming.
    
    Dash live streams require that the client has an accurate wall clock
    time and in absence of a UTCTiming element, this is assumed to be the
    NTP time.
    
    This change adds NTP time offset resolution for DASH live streams
    without such timing elements.
    
    PiperOrigin-RevId: 289098796

310	0	library/core/src/main/java/com/google/android/exoplayer2/util/SntpClient.java
27	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit 3e08e421689a2722f687fb65bc653626d2f49775
Merge: b562e8687 74e01f4e9
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-10 15:57:40 +0000

    Merge pull request #6797 from DolbyLaboratories:dev-v2-ac4-drm
    
    PiperOrigin-RevId: 289092332

commit b562e8687b7785c9f22c7a0d4c3eea7a7cc0c05b
Author: ibaker <ibaker@google.com>
Date:   2020-01-10 15:48:21 +0000

    Add {Relative,Absolute}SizeSpan support to SpannedSubject
    
    I'll use this in TtmlDecoderTest
    
    PiperOrigin-RevId: 289091526

183	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
114	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit d24188f663d1bf5959daa4c8f7991e3c86c3c98d
Author: olly <olly@google.com>
Date:   2020-01-10 15:48:09 +0000

    Add tests to validate FLAC decoder output
    
    PiperOrigin-RevId: 289091494

-	-	extensions/flac/src/androidTest/assets/{bear-flac.mka => bear-flac-16bit.mka}
91	0	extensions/flac/src/androidTest/assets/bear-flac-16bit.mka.audiosink.dump
-	-	extensions/flac/src/androidTest/assets/bear-flac-24bit.mka
91	0	extensions/flac/src/androidTest/assets/bear-flac-24bit.mka.audiosink.dump
32	9	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
21	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
151	0	library/core/src/main/java/com/google/android/exoplayer2/audio/ForwardingAudioSink.java
198	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/CapturingAudioSink.java

commit 48f8a78f570b1de842a26fd8761bdd7fe62bd5df
Author: ibaker <ibaker@google.com>
Date:   2020-01-10 15:26:15 +0000

    Simplify SpannedSubjectTest using helper methods
    
    Suggested during the review of <unknown commit>
    
    PiperOrigin-RevId: 289088296

284	619	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit a58ea16f7d28eee09632281caa8fd5a28b7b25da
Author: olly <olly@google.com>
Date:   2020-01-10 09:54:22 +0000

    Add favicon to javadocs. b/145393567
    
    PiperOrigin-RevId: 289054937

1	0	RELEASENOTES.md
17	0	javadoc_util.gradle

commit 7e5d6debccc1406de14a353934b3659e52bfe1eb
Author: olly <olly@google.com>
Date:   2020-01-09 17:28:05 +0000

    Avoid OMX.qti.audio.decoder.flac
    
    Unfortunately devices such as the MI 8 do not provide an alternative
    working decoder. Some Vivo devices do provide one though.
    
    PiperOrigin-RevId: 288911897

12	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 9cdbc822bb28947f03507bc0c388a060b479cd25
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-09 14:37:27 +0000

    Fix class name
    
    PiperOrigin-RevId: 288886739

1	1	RELEASENOTES.md

commit 95f1dbec1b91b72ef075d368fa75f894c038bdfc
Author: krocard <krocard@google.com>
Date:   2020-01-09 12:28:32 +0000

    More @nullable in SimpleDecoderAudioRenderer
    
    Some members are nullable but were not marked as
    such.
    
    PiperOrigin-RevId: 288873481

8	4	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java

commit f47d06e7b314b0848705b095fbc0b9ece8628f2f
Author: christosts <christosts@google.com>
Date:   2020-01-09 11:35:20 +0000

    Set ExoPlayer's MediaCodecOperationMode
    
    PiperOrigin-RevId: 288868298

3	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 91d2b8581e2b961997fa02b74d0cd9cef17afc5f
Author: krocard <krocard@google.com>
Date:   2020-01-09 11:05:36 +0000

    Make MediaCodecRenderer.codec nullable
    
    Also fix annotation style of the surrounding functions.
    
    PiperOrigin-RevId: 288865420

5	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 2c02f787bda975a4d3e9b403bdf634197e4f2c43
Author: ibaker <ibaker@google.com>
Date:   2020-01-09 10:41:12 +0000

    Remove unused styles from TTML test data
    
    PiperOrigin-RevId: 288862795

0	8	library/core/src/test/assets/ttml/font_size.xml

commit bae4d786e247ed9c8057ba948c1659d5cd75af9a
Author: ibaker <ibaker@google.com>
Date:   2020-01-09 10:35:01 +0000

    Add {Strikethrough,Alignment}Span support to SpannedSubject
    
    I'm going to use these in TtmlDecoderTest
    
    PiperOrigin-RevId: 288862274

130	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
182	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit f22ac32c2c82db78f86fd936ec0d87f89b270a76
Author: ibaker <ibaker@google.com>
Date:   2020-01-09 10:34:28 +0000

    Relax the check in SpannedSubject.hasBoldItalicSpanBetween
    
    Ultimately we only care if the style is both bold & italic, if some of
    those are specified multiple times there's no problem.
    
    PiperOrigin-RevId: 288862235

4	6	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
15	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit 1a9b301f52ac8305f9778bcb15d66b5d6ab67cac
Author: olly <olly@google.com>
Date:   2020-01-09 10:13:25 +0000

    Fix extension FLAC decoder to correctly handle non-16-bit depths
    
    PiperOrigin-RevId: 288860159

7	3	RELEASENOTES.md
7	4	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
47	7	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
1	8	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
6	2	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java

commit 017a7cf38c60d8044277439a6aea3cc7c3dddae8
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-09 09:32:42 +0000

    Resolve TrueHD spec TODO
    
    PiperOrigin-RevId: 288855515

2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/Ac3Util.java

commit e80bdb25274cf1d370f37e46d8b970928ec5ec0b
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-10 15:16:15 +0000

    Restore updated Javadoc

35	8	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.html
32	11	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.html
8	1	doc/reference/com/google/android/exoplayer2/ui/PlayerView.html

commit daaf8dbe675b4c982824176327a246f86e0504ad
Merge: 03f3cb85c 3d8d3a713
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-10 11:46:08 +0000

    Merge pull request #6857 from dturner/gh-pages
    
    Add favicon to Javadocs

commit 3d8d3a71320784dc0343f55641e29d784415b8ef
Author: Don Turner <donturner@google.com>
Date:   2020-01-10 10:43:35 +0000

    Add favicon to Javadocs

1	1	doc/reference/allclasses-frame.html
1	1	doc/reference/allclasses-noframe.html
1	1	doc/reference/com/google/android/exoplayer2/BasePlayer.ListenerHolder.html
1	1	doc/reference/com/google/android/exoplayer2/BasePlayer.ListenerInvocation.html
1	1	doc/reference/com/google/android/exoplayer2/BasePlayer.html
1	1	doc/reference/com/google/android/exoplayer2/BaseRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/C.AudioAllowedCapturePolicy.html
1	1	doc/reference/com/google/android/exoplayer2/C.AudioContentType.html
1	1	doc/reference/com/google/android/exoplayer2/C.AudioFlags.html
1	1	doc/reference/com/google/android/exoplayer2/C.AudioFocusGain.html
1	1	doc/reference/com/google/android/exoplayer2/C.AudioUsage.html
1	1	doc/reference/com/google/android/exoplayer2/C.BufferFlags.html
1	1	doc/reference/com/google/android/exoplayer2/C.ColorRange.html
1	1	doc/reference/com/google/android/exoplayer2/C.ColorSpace.html
1	1	doc/reference/com/google/android/exoplayer2/C.ColorTransfer.html
1	1	doc/reference/com/google/android/exoplayer2/C.ContentType.html
1	1	doc/reference/com/google/android/exoplayer2/C.CryptoMode.html
1	1	doc/reference/com/google/android/exoplayer2/C.Encoding.html
1	1	doc/reference/com/google/android/exoplayer2/C.NetworkType.html
1	1	doc/reference/com/google/android/exoplayer2/C.PcmEncoding.html
1	1	doc/reference/com/google/android/exoplayer2/C.Projection.html
1	1	doc/reference/com/google/android/exoplayer2/C.RoleFlags.html
1	1	doc/reference/com/google/android/exoplayer2/C.SelectionFlags.html
1	1	doc/reference/com/google/android/exoplayer2/C.StereoMode.html
1	1	doc/reference/com/google/android/exoplayer2/C.StreamType.html
1	1	doc/reference/com/google/android/exoplayer2/C.VideoOutputMode.html
1	1	doc/reference/com/google/android/exoplayer2/C.VideoScalingMode.html
1	1	doc/reference/com/google/android/exoplayer2/C.html
1	1	doc/reference/com/google/android/exoplayer2/ControlDispatcher.html
1	1	doc/reference/com/google/android/exoplayer2/DefaultControlDispatcher.html
1	1	doc/reference/com/google/android/exoplayer2/DefaultLoadControl.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/DefaultLoadControl.html
1	1	doc/reference/com/google/android/exoplayer2/DefaultRenderersFactory.ExtensionRendererMode.html
1	1	doc/reference/com/google/android/exoplayer2/DefaultRenderersFactory.html
1	1	doc/reference/com/google/android/exoplayer2/ExoPlaybackException.Type.html
1	1	doc/reference/com/google/android/exoplayer2/ExoPlaybackException.html
1	1	doc/reference/com/google/android/exoplayer2/ExoPlayer.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/ExoPlayer.html
1	1	doc/reference/com/google/android/exoplayer2/ExoPlayerFactory.html
1	1	doc/reference/com/google/android/exoplayer2/ExoPlayerLibraryInfo.html
1	1	doc/reference/com/google/android/exoplayer2/Format.html
1	1	doc/reference/com/google/android/exoplayer2/FormatHolder.html
1	1	doc/reference/com/google/android/exoplayer2/IllegalSeekPositionException.html
1	1	doc/reference/com/google/android/exoplayer2/LoadControl.html
1	1	doc/reference/com/google/android/exoplayer2/NoSampleRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/ParserException.html
1	1	doc/reference/com/google/android/exoplayer2/PlaybackParameters.html
1	1	doc/reference/com/google/android/exoplayer2/PlaybackPreparer.html
1	1	doc/reference/com/google/android/exoplayer2/Player.AudioComponent.html
1	1	doc/reference/com/google/android/exoplayer2/Player.DefaultEventListener.html
1	1	doc/reference/com/google/android/exoplayer2/Player.DiscontinuityReason.html
1	1	doc/reference/com/google/android/exoplayer2/Player.EventListener.html
1	1	doc/reference/com/google/android/exoplayer2/Player.MetadataComponent.html
1	1	doc/reference/com/google/android/exoplayer2/Player.PlaybackSuppressionReason.html
1	1	doc/reference/com/google/android/exoplayer2/Player.RepeatMode.html
1	1	doc/reference/com/google/android/exoplayer2/Player.State.html
1	1	doc/reference/com/google/android/exoplayer2/Player.TextComponent.html
1	1	doc/reference/com/google/android/exoplayer2/Player.TimelineChangeReason.html
1	1	doc/reference/com/google/android/exoplayer2/Player.VideoComponent.html
1	1	doc/reference/com/google/android/exoplayer2/Player.html
1	1	doc/reference/com/google/android/exoplayer2/PlayerMessage.Sender.html
1	1	doc/reference/com/google/android/exoplayer2/PlayerMessage.Target.html
1	1	doc/reference/com/google/android/exoplayer2/PlayerMessage.html
1	1	doc/reference/com/google/android/exoplayer2/Renderer.State.html
1	1	doc/reference/com/google/android/exoplayer2/Renderer.html
1	1	doc/reference/com/google/android/exoplayer2/RendererCapabilities.AdaptiveSupport.html
1	1	doc/reference/com/google/android/exoplayer2/RendererCapabilities.Capabilities.html
1	1	doc/reference/com/google/android/exoplayer2/RendererCapabilities.FormatSupport.html
1	1	doc/reference/com/google/android/exoplayer2/RendererCapabilities.TunnelingSupport.html
1	1	doc/reference/com/google/android/exoplayer2/RendererCapabilities.html
1	1	doc/reference/com/google/android/exoplayer2/RendererConfiguration.html
1	1	doc/reference/com/google/android/exoplayer2/RenderersFactory.html
1	1	doc/reference/com/google/android/exoplayer2/SeekParameters.html
1	1	doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.VideoListener.html
1	1	doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.html
1	1	doc/reference/com/google/android/exoplayer2/Timeline.Period.html
1	1	doc/reference/com/google/android/exoplayer2/Timeline.Window.html
1	1	doc/reference/com/google/android/exoplayer2/Timeline.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsCollector.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsListener.EventTime.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsListener.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/DefaultAnalyticsListener.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManager.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/PlaybackSessionManager.Listener.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/PlaybackSessionManager.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/PlaybackStats.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/PlaybackStatsListener.Callback.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/PlaybackStatsListener.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/audio/Ac3Util.SyncFrameInfo.StreamType.html
1	1	doc/reference/com/google/android/exoplayer2/audio/Ac3Util.SyncFrameInfo.html
1	1	doc/reference/com/google/android/exoplayer2/audio/Ac3Util.html
1	1	doc/reference/com/google/android/exoplayer2/audio/Ac4Util.SyncFrameInfo.html
1	1	doc/reference/com/google/android/exoplayer2/audio/Ac4Util.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioAttributes.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioAttributes.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioCapabilities.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioCapabilitiesReceiver.Listener.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioCapabilitiesReceiver.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioDecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioListener.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioProcessor.AudioFormat.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioProcessor.UnhandledAudioFormatException.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioProcessor.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioRendererEventListener.EventDispatcher.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioRendererEventListener.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioSink.ConfigurationException.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioSink.InitializationException.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioSink.Listener.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioSink.WriteException.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioSink.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AuxEffectInfo.html
1	1	doc/reference/com/google/android/exoplayer2/audio/BaseAudioProcessor.html
1	1	doc/reference/com/google/android/exoplayer2/audio/DefaultAudioSink.AudioProcessorChain.html
1	1	doc/reference/com/google/android/exoplayer2/audio/DefaultAudioSink.DefaultAudioProcessorChain.html
1	1	doc/reference/com/google/android/exoplayer2/audio/DefaultAudioSink.InvalidAudioTrackTimestampException.html
1	1	doc/reference/com/google/android/exoplayer2/audio/DefaultAudioSink.html
1	1	doc/reference/com/google/android/exoplayer2/audio/DtsUtil.html
1	1	doc/reference/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessor.html
1	1	doc/reference/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/audio/SonicAudioProcessor.html
1	1	doc/reference/com/google/android/exoplayer2/audio/TeeAudioProcessor.AudioBufferSink.html
1	1	doc/reference/com/google/android/exoplayer2/audio/TeeAudioProcessor.WavFileAudioBufferSink.html
1	1	doc/reference/com/google/android/exoplayer2/audio/TeeAudioProcessor.html
1	1	doc/reference/com/google/android/exoplayer2/audio/WavUtil.html
1	1	doc/reference/com/google/android/exoplayer2/audio/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/audio/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/audio/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/database/DatabaseIOException.html
1	1	doc/reference/com/google/android/exoplayer2/database/DatabaseProvider.html
1	1	doc/reference/com/google/android/exoplayer2/database/DefaultDatabaseProvider.html
1	1	doc/reference/com/google/android/exoplayer2/database/ExoDatabaseProvider.html
1	1	doc/reference/com/google/android/exoplayer2/database/VersionTable.html
1	1	doc/reference/com/google/android/exoplayer2/database/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/database/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/database/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/Buffer.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/CryptoInfo.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/Decoder.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/DecoderCounters.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/DecoderInputBuffer.BufferReplacementMode.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/DecoderInputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/OutputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/SimpleDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/SimpleOutputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DecryptionException.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionEventListener.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.MissingSchemeDataException.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.Mode.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DrmInitData.SchemeData.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DrmInitData.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DrmSession.DrmSessionException.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DrmSession.State.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DrmSession.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DrmSessionManager.html
1	1	doc/reference/com/google/android/exoplayer2/drm/DummyExoMediaDrm.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ErrorStateDrmSession.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaCrypto.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.AppManagedProvider.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.KeyRequest.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.KeyStatus.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.OnEventListener.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.OnKeyStatusChangeListener.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.Provider.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.ProvisionRequest.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.html
1	1	doc/reference/com/google/android/exoplayer2/drm/FrameworkMediaCrypto.html
1	1	doc/reference/com/google/android/exoplayer2/drm/FrameworkMediaDrm.html
1	1	doc/reference/com/google/android/exoplayer2/drm/HttpMediaDrmCallback.html
1	1	doc/reference/com/google/android/exoplayer2/drm/KeysExpiredException.html
1	1	doc/reference/com/google/android/exoplayer2/drm/LocalMediaDrmCallback.html
1	1	doc/reference/com/google/android/exoplayer2/drm/MediaDrmCallback.html
1	1	doc/reference/com/google/android/exoplayer2/drm/OfflineLicenseHelper.html
1	1	doc/reference/com/google/android/exoplayer2/drm/UnsupportedDrmException.Reason.html
1	1	doc/reference/com/google/android/exoplayer2/drm/UnsupportedDrmException.html
1	1	doc/reference/com/google/android/exoplayer2/drm/WidevineUtil.html
1	1	doc/reference/com/google/android/exoplayer2/drm/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/drm/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/av1/Gav1DecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/ext/av1/Gav1Library.html
1	1	doc/reference/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/av1/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/av1/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/av1/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/CastPlayer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/DefaultCastOptionsProvider.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/DefaultMediaItemConverter.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.DrmConfiguration.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItemConverter.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/SessionAvailabilityListener.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cast/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSource.InterruptedIOException.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSource.OpenException.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetEngineWrapper.CronetEngineSource.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetEngineWrapper.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cronet/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cronet/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/cronet/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/FfmpegDecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/flac/FlacDecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/ext/flac/FlacExtractor.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/ext/flac/FlacExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/ext/flac/FlacLibrary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/flac/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/flac/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/flac/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.html
1	1	doc/reference/com/google/android/exoplayer2/ext/gvr/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/gvr/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/gvr/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ima/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ima/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ima/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.JobDispatcherSchedulerService.html
1	1	doc/reference/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.html
1	1	doc/reference/com/google/android/exoplayer2/ext/jobdispatcher/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/jobdispatcher/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/jobdispatcher/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.html
1	1	doc/reference/com/google/android/exoplayer2/ext/leanback/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/leanback/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/leanback/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.CaptionCallback.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.CommandReceiver.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.CustomActionProvider.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.DefaultMediaMetadataProvider.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.MediaButtonEventHandler.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.MediaMetadataProvider.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.PlaybackActions.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.PlaybackPreparer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.QueueEditor.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.QueueNavigator.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.RatingCallback.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/RepeatModeActionProvider.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.MediaIdEqualityChecker.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.MediaSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.QueueDataAdapter.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/ext/okhttp/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/okhttp/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/okhttp/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/opus/OpusDecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/ext/opus/OpusLibrary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/opus/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/opus/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/opus/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/ext/rtmp/RtmpDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/ext/rtmp/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/rtmp/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/rtmp/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxDecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxLibrary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/vp9/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/vp9/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/vp9/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.SchedulerWorker.html
1	1	doc/reference/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.html
1	1	doc/reference/com/google/android/exoplayer2/ext/workmanager/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ext/workmanager/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/workmanager/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.BinarySearchSeekMap.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.DefaultSeekTimestampConverter.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.OutputFrameHolder.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.SeekOperationParams.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.SeekTimestampConverter.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.TimestampSearchResult.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.TimestampSeeker.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ChunkIndex.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ConstantBitrateSeekMap.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/DefaultExtractorInput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/DummyExtractorOutput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/DummyTrackOutput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/Extractor.ReadResult.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/Extractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ExtractorInput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ExtractorOutput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ExtractorsFactory.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/GaplessInfoHolder.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/Id3Peeker.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/MpegAudioHeader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/PositionHolder.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/SeekMap.SeekPoints.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/SeekMap.Unseekable.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/SeekMap.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/SeekPoint.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/TrackOutput.CryptoData.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/TrackOutput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/amr/AmrExtractor.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/amr/AmrExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/amr/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/amr/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/amr/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/flv/FlvExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/flv/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/flv/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/flv/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/EbmlProcessor.ElementType.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/EbmlProcessor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp3/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp3/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp3/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/MdtaMetadataEntry.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/PsshAtomUtil.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/Track.Transformation.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/Track.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/TrackEncryptionBox.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ogg/OggExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ogg/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ogg/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ogg/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/rawcc/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/rawcc/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/rawcc/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac3Extractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac3Reader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac4Extractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac4Reader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/AdtsReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/DtsReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/DvbSubtitleReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/ElementaryStreamReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/H262Reader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/H264Reader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/H265Reader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/Id3Reader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/LatmReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/MpegAudioReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/PesReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/PsExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/SectionPayloadReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/SectionReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/SeiReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/SpliceInfoSectionReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsExtractor.Mode.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.DvbSubtitleInfo.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.EsInfo.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.TrackIdGenerator.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsUtil.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/wav/WavExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/wav/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/wav/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/wav/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.DecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.DecoderInitializationException.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.KeepCodecResult.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecSelector.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.DecoderQueryException.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaFormatUtil.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/Metadata.Entry.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/Metadata.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/MetadataDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/MetadataDecoderFactory.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/MetadataInputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/MetadataOutput.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/MetadataRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessage.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoder.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/emsg/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/emsg/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/emsg/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/flac/PictureFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/flac/VorbisComment.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/flac/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/flac/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/flac/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyHeaders.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyInfo.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/icy/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/icy/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/icy/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/ApicFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/BinaryFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/ChapterFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/ChapterTocFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/CommentFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/GeobFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/Id3Decoder.FramePredicate.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/Id3Decoder.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/Id3Frame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/InternalFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/MlltFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/PrivFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/TextInformationFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/UrlLinkFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/PrivateCommand.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceCommand.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceInfoDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceInsertCommand.ComponentSplice.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceInsertCommand.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceNullCommand.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceScheduleCommand.ComponentSplice.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceScheduleCommand.Event.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceScheduleCommand.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/TimeSignalCommand.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/scte35/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.DownloadIdProvider.html
1	1	doc/reference/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DefaultDownloadIndex.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DefaultDownloaderFactory.html
1	1	doc/reference/com/google/android/exoplayer2/offline/Download.FailureReason.html
1	1	doc/reference/com/google/android/exoplayer2/offline/Download.State.html
1	1	doc/reference/com/google/android/exoplayer2/offline/Download.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadCursor.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadException.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.Callback.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.LiveContentUnsupportedException.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadIndex.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadManager.Listener.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadManager.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadProgress.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadRequest.UnsupportedRequestException.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadRequest.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloadService.html
1	1	doc/reference/com/google/android/exoplayer2/offline/Downloader.ProgressListener.html
1	1	doc/reference/com/google/android/exoplayer2/offline/Downloader.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloaderConstructorHelper.html
1	1	doc/reference/com/google/android/exoplayer2/offline/DownloaderFactory.html
1	1	doc/reference/com/google/android/exoplayer2/offline/FilterableManifest.html
1	1	doc/reference/com/google/android/exoplayer2/offline/FilteringManifestParser.html
1	1	doc/reference/com/google/android/exoplayer2/offline/ProgressiveDownloader.html
1	1	doc/reference/com/google/android/exoplayer2/offline/SegmentDownloader.Segment.html
1	1	doc/reference/com/google/android/exoplayer2/offline/SegmentDownloader.html
1	1	doc/reference/com/google/android/exoplayer2/offline/StreamKey.html
1	1	doc/reference/com/google/android/exoplayer2/offline/WritableDownloadIndex.html
1	1	doc/reference/com/google/android/exoplayer2/offline/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/offline/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/offline/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/package-summary.html
25	25	doc/reference/com/google/android/exoplayer2/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/PlatformScheduler.PlatformSchedulerService.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/PlatformScheduler.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/Requirements.RequirementFlags.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/Requirements.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/RequirementsWatcher.Listener.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/RequirementsWatcher.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/Scheduler.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/AdaptiveMediaSourceEventListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/BaseMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/BehindLiveWindowException.html
1	1	doc/reference/com/google/android/exoplayer2/source/ClippingMediaPeriod.html
1	1	doc/reference/com/google/android/exoplayer2/source/ClippingMediaSource.IllegalClippingException.Reason.html
1	1	doc/reference/com/google/android/exoplayer2/source/ClippingMediaSource.IllegalClippingException.html
1	1	doc/reference/com/google/android/exoplayer2/source/ClippingMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/CompositeMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/CompositeSequenceableLoader.html
1	1	doc/reference/com/google/android/exoplayer2/source/CompositeSequenceableLoaderFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/ConcatenatingMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/DefaultCompositeSequenceableLoaderFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/DefaultMediaSourceEventListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/EmptySampleStream.html
1	1	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.EventListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/ForwardingTimeline.html
1	1	doc/reference/com/google/android/exoplayer2/source/LoopingMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/MaskingMediaPeriod.PrepareErrorListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/MaskingMediaPeriod.html
1	1	doc/reference/com/google/android/exoplayer2/source/MaskingMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaPeriod.Callback.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaPeriod.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaSource.MediaPeriodId.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaSource.MediaSourceCaller.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaSourceEventListener.EventDispatcher.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaSourceEventListener.LoadEventInfo.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaSourceEventListener.MediaLoadData.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaSourceEventListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/MergingMediaSource.IllegalMergeException.Reason.html
1	1	doc/reference/com/google/android/exoplayer2/source/MergingMediaSource.IllegalMergeException.html
1	1	doc/reference/com/google/android/exoplayer2/source/MergingMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/ProgressiveMediaSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/ProgressiveMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/SampleQueue.UpstreamFormatChangedListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/SampleQueue.html
1	1	doc/reference/com/google/android/exoplayer2/source/SampleStream.html
1	1	doc/reference/com/google/android/exoplayer2/source/SequenceableLoader.Callback.html
1	1	doc/reference/com/google/android/exoplayer2/source/SequenceableLoader.html
1	1	doc/reference/com/google/android/exoplayer2/source/ShuffleOrder.DefaultShuffleOrder.html
1	1	doc/reference/com/google/android/exoplayer2/source/ShuffleOrder.UnshuffledShuffleOrder.html
1	1	doc/reference/com/google/android/exoplayer2/source/ShuffleOrder.html
1	1	doc/reference/com/google/android/exoplayer2/source/SilenceMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/SinglePeriodTimeline.html
1	1	doc/reference/com/google/android/exoplayer2/source/SingleSampleMediaSource.EventListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/SingleSampleMediaSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/SingleSampleMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/TrackGroup.html
1	1	doc/reference/com/google/android/exoplayer2/source/TrackGroupArray.html
1	1	doc/reference/com/google/android/exoplayer2/source/UnrecognizedInputFormatException.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdPlaybackState.AdGroup.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdPlaybackState.AdState.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdPlaybackState.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdsLoader.AdViewProvider.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdsLoader.EventListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdsLoader.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.AdLoadException.Type.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.AdLoadException.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/SinglePeriodAdTimeline.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/BaseMediaChunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/BaseMediaChunkIterator.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/BaseMediaChunkOutput.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/Chunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkExtractorWrapper.TrackOutputProvider.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkExtractorWrapper.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkHolder.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.EmbeddedSampleStream.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.ReleaseCallback.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/DataChunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/InitializationChunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/MediaChunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/MediaChunkIterator.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/MediaChunkListIterator.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/SingleSampleMediaChunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DashChunkSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DashChunkSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DashManifestStaleException.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DashMediaSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DashMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DashSegmentIndex.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DashUtil.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DashWrappingSegmentIndex.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.RepresentationHolder.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.RepresentationSegmentIterator.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.PlayerEmsgCallback.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.PlayerTrackEmsgHandler.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/AdaptationSet.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifest.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.RepresentationInfo.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Descriptor.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/EventStream.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Period.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/ProgramInformation.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/RangedUri.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Representation.MultiSegmentRepresentation.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Representation.SingleSegmentRepresentation.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Representation.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.MultiSegmentBase.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.SegmentList.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.SegmentTemplate.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.SegmentTimelineElement.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.SingleSegmentBase.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/UrlTemplate.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/UtcTimingElement.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/offline/DashDownloader.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/offline/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/offline/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/offline/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/DefaultHlsDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.Result.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsManifest.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.MetadataType.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.VariantInfo.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/SampleQueueMappingException.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/TimestampAdjusterProvider.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/WebvttExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/offline/HlsDownloader.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/offline/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/offline/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/offline/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistParserFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/FilteringHlsPlaylistParserFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.Rendition.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.Variant.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylist.PlaylistType.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylist.Segment.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylist.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylist.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParserFactory.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.PlaylistEventListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.PlaylistResetException.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.PlaylistStuckException.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.PrimaryPlaylistListener.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsChunkSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsChunkSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifest.ProtectionElement.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifest.StreamElement.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifest.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.MissingFieldException.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsUtil.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloader.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.ClearVideoSurface.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.ExecuteRunnable.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.PlayUntilPosition.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.PrepareSource.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.Seek.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.SendMessages.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.SetAudioAttributes.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.SetPlayWhenReady.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.SetPlaybackParameters.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.SetRendererDisabled.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.SetRepeatMode.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.SetShuffleModeEnabled.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.SetVideoSurface.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.Stop.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.ThrowPlaybackException.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForIsLoading.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForPlayWhenReady.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForPlaybackState.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForPositionDiscontinuity.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForSeekProcessed.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForTimelineChanged.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Action.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.Callback.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.PlayerRunnable.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.PlayerTarget.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/AutoAdvancingFakeClock.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/CacheAsserts.RequestSet.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/CacheAsserts.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/DecoderCountersUtil.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/DefaultRenderersFactoryAsserts.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/DummyMainThread.TestRunnable.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/DummyMainThread.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Dumper.Dumpable.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/Dumper.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ExoHostedTest.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ExtractorAsserts.ExtractorFactory.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/ExtractorAsserts.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSet.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSet.Iterator.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSet.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeChunkSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeChunkSource.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeClock.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSet.FakeData.Segment.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSet.FakeData.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSet.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeExtractorInput.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeExtractorInput.SimulatedIOException.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeExtractorInput.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeExtractorOutput.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaChunk.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaChunkIterator.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaClockRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaPeriod.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeSampleStream.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeShuffleOrder.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeTimeline.TimelineWindowDefinition.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeTimeline.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeTrackOutput.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeTrackSelection.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/FakeTrackSelector.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/HostActivity.HostedTest.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/HostActivity.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.FilterableManifestMediaPeriodFactory.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/StubExoPlayer.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/TestUtil.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/TimelineAsserts.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/testutil/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/CaptionStyleCompat.EdgeType.html
1	1	doc/reference/com/google/android/exoplayer2/text/CaptionStyleCompat.html
1	1	doc/reference/com/google/android/exoplayer2/text/Cue.AnchorType.html
1	1	doc/reference/com/google/android/exoplayer2/text/Cue.LineType.html
1	1	doc/reference/com/google/android/exoplayer2/text/Cue.TextSizeType.html
1	1	doc/reference/com/google/android/exoplayer2/text/Cue.html
1	1	doc/reference/com/google/android/exoplayer2/text/SimpleSubtitleDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/Subtitle.html
1	1	doc/reference/com/google/android/exoplayer2/text/SubtitleDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/SubtitleDecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/text/SubtitleDecoderFactory.html
1	1	doc/reference/com/google/android/exoplayer2/text/SubtitleInputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/text/SubtitleOutputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/text/TextOutput.html
1	1	doc/reference/com/google/android/exoplayer2/text/TextRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/text/cea/Cea608Decoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/cea/Cea708Decoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/cea/Cea708InitializationData.html
1	1	doc/reference/com/google/android/exoplayer2/text/cea/CeaUtil.html
1	1	doc/reference/com/google/android/exoplayer2/text/cea/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/text/cea/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/text/cea/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/dvb/DvbDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/dvb/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/text/dvb/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/text/dvb/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/text/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/text/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/pgs/PgsDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/pgs/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/text/pgs/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/text/pgs/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/ssa/SsaDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/ssa/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/text/ssa/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/text/ssa/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/subrip/SubripDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/subrip/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/text/subrip/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/text/subrip/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/ttml/TtmlDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/ttml/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/text/ttml/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/text/ttml/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/tx3g/Tx3gDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/tx3g/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/text/tx3g/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/text/tx3g/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.FontSizeUnit.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.StyleFlags.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCue.Builder.TextAlignment.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCue.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCue.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttParserUtil.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/package-summary.html
3	3	doc/reference/com/google/android/exoplayer2/text/webvtt/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/BaseTrackSelection.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/BufferSizeAdaptationBuilder.DynamicFormatFilter.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/BufferSizeAdaptationBuilder.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.AudioTrackScore.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.Parameters.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.ParametersBuilder.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.SelectionOverride.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.TextTrackScore.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/FixedTrackSelection.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/FixedTrackSelection.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/MappingTrackSelector.MappedTrackInfo.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/MappingTrackSelector.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/RandomTrackSelection.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/RandomTrackSelection.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelection.Definition.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelection.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelection.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionArray.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionUtil.AdaptiveTrackSelectionFactory.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionUtil.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelector.InvalidationListener.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelector.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectorResult.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ui/AspectRatioFrameLayout.AspectRatioListener.html
1	1	doc/reference/com/google/android/exoplayer2/ui/AspectRatioFrameLayout.ResizeMode.html
1	1	doc/reference/com/google/android/exoplayer2/ui/AspectRatioFrameLayout.html
1	1	doc/reference/com/google/android/exoplayer2/ui/DebugTextViewHelper.html
1	1	doc/reference/com/google/android/exoplayer2/ui/DefaultTimeBar.html
1	1	doc/reference/com/google/android/exoplayer2/ui/DefaultTrackNameProvider.html
1	1	doc/reference/com/google/android/exoplayer2/ui/DownloadNotificationHelper.html
1	1	doc/reference/com/google/android/exoplayer2/ui/DownloadNotificationUtil.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlaybackControlView.ControlDispatcher.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlaybackControlView.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.ProgressUpdateListener.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.VisibilityListener.html
9	36	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.BitmapCallback.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.CustomActionReceiver.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.MediaDescriptionAdapter.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.NotificationListener.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.Priority.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.Visibility.html
12	33	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.html
1	1	doc/reference/com/google/android/exoplayer2/ui/PlayerView.ShowBuffering.html
2	9	doc/reference/com/google/android/exoplayer2/ui/PlayerView.html
1	1	doc/reference/com/google/android/exoplayer2/ui/SimpleExoPlayerView.html
1	1	doc/reference/com/google/android/exoplayer2/ui/SubtitleView.html
1	1	doc/reference/com/google/android/exoplayer2/ui/TimeBar.OnScrubListener.html
1	1	doc/reference/com/google/android/exoplayer2/ui/TimeBar.html
1	1	doc/reference/com/google/android/exoplayer2/ui/TrackNameProvider.html
1	1	doc/reference/com/google/android/exoplayer2/ui/TrackSelectionDialogBuilder.DialogCallback.html
1	1	doc/reference/com/google/android/exoplayer2/ui/TrackSelectionDialogBuilder.html
1	1	doc/reference/com/google/android/exoplayer2/ui/TrackSelectionView.TrackSelectionListener.html
1	1	doc/reference/com/google/android/exoplayer2/ui/TrackSelectionView.html
1	1	doc/reference/com/google/android/exoplayer2/ui/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ui/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ui/spherical/SingleTapListener.html
1	1	doc/reference/com/google/android/exoplayer2/ui/spherical/SphericalGLSurfaceView.html
1	1	doc/reference/com/google/android/exoplayer2/ui/spherical/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/ui/spherical/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/ui/spherical/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Allocation.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Allocator.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/AssetDataSource.AssetDataSourceException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/AssetDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.EventListener.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/BaseDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ByteArrayDataSink.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ByteArrayDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ContentDataSource.ContentDataSourceException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ContentDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSchemeDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSink.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSink.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSourceException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSourceInputStream.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSpec.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSpec.HttpMethod.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSpec.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DefaultAllocator.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DefaultDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DefaultDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DefaultHttpDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DefaultLoadErrorHandlingPolicy.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DummyDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/FileDataSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/FileDataSource.FileDataSourceException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/FileDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/FileDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.BaseFactory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.HttpDataSourceException.Type.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.HttpDataSourceException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.InvalidContentTypeException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.InvalidResponseCodeException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.RequestProperties.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/LoadErrorHandlingPolicy.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Loader.Callback.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Loader.LoadErrorAction.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Loader.Loadable.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Loader.ReleaseCallback.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Loader.UnexpectedLoaderException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Loader.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/LoaderErrorThrower.Dummy.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/LoaderErrorThrower.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ParsingLoadable.Parser.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ParsingLoadable.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/PriorityDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/PriorityDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/RawResourceDataSource.RawResourceDataSourceException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/RawResourceDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ResolvingDataSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ResolvingDataSource.Resolver.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ResolvingDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/StatsDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/TeeDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/TransferListener.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/UdpDataSource.UdpDataSourceException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/UdpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/Cache.CacheException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/Cache.Listener.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/Cache.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSink.CacheDataSinkException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSink.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSinkFactory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSource.CacheIgnoredReason.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSource.EventListener.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSource.Flags.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheEvictor.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheKeyFactory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheSpan.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheUtil.ProgressListener.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheUtil.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/CachedRegionTracker.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/ContentMetadata.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/ContentMetadataMutations.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/DefaultContentMetadata.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/LeastRecentlyUsedCacheEvictor.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/NoOpCacheEvictor.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/SimpleCache.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/cache/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSink.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/crypto/AesFlushingCipher.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/crypto/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/crypto/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/crypto/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-summary.html
3	3	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/util/Assertions.html
1	1	doc/reference/com/google/android/exoplayer2/util/AtomicFile.html
1	1	doc/reference/com/google/android/exoplayer2/util/Clock.html
1	1	doc/reference/com/google/android/exoplayer2/util/CodecSpecificDataUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/ColorParser.html
1	1	doc/reference/com/google/android/exoplayer2/util/ConditionVariable.html
1	1	doc/reference/com/google/android/exoplayer2/util/EGLSurfaceTexture.GlException.html
1	1	doc/reference/com/google/android/exoplayer2/util/EGLSurfaceTexture.SecureMode.html
1	1	doc/reference/com/google/android/exoplayer2/util/EGLSurfaceTexture.TextureImageListener.html
1	1	doc/reference/com/google/android/exoplayer2/util/EGLSurfaceTexture.html
1	1	doc/reference/com/google/android/exoplayer2/util/ErrorMessageProvider.html
1	1	doc/reference/com/google/android/exoplayer2/util/EventDispatcher.Event.html
1	1	doc/reference/com/google/android/exoplayer2/util/EventDispatcher.html
1	1	doc/reference/com/google/android/exoplayer2/util/EventLogger.html
1	1	doc/reference/com/google/android/exoplayer2/util/FlacStreamMetadata.html
1	1	doc/reference/com/google/android/exoplayer2/util/GlUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/HandlerWrapper.html
1	1	doc/reference/com/google/android/exoplayer2/util/LibraryLoader.html
1	1	doc/reference/com/google/android/exoplayer2/util/Log.html
1	1	doc/reference/com/google/android/exoplayer2/util/LongArray.html
1	1	doc/reference/com/google/android/exoplayer2/util/MediaClock.html
1	1	doc/reference/com/google/android/exoplayer2/util/MimeTypes.html
1	1	doc/reference/com/google/android/exoplayer2/util/NalUnitUtil.PpsData.html
1	1	doc/reference/com/google/android/exoplayer2/util/NalUnitUtil.SpsData.html
1	1	doc/reference/com/google/android/exoplayer2/util/NalUnitUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/NonNullApi.html
1	1	doc/reference/com/google/android/exoplayer2/util/NotificationUtil.Importance.html
1	1	doc/reference/com/google/android/exoplayer2/util/NotificationUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/ParsableBitArray.html
1	1	doc/reference/com/google/android/exoplayer2/util/ParsableByteArray.html
1	1	doc/reference/com/google/android/exoplayer2/util/ParsableNalUnitBitArray.html
1	1	doc/reference/com/google/android/exoplayer2/util/Predicate.html
1	1	doc/reference/com/google/android/exoplayer2/util/PriorityTaskManager.PriorityTooLowException.html
1	1	doc/reference/com/google/android/exoplayer2/util/PriorityTaskManager.html
1	1	doc/reference/com/google/android/exoplayer2/util/RepeatModeUtil.RepeatToggleModes.html
1	1	doc/reference/com/google/android/exoplayer2/util/RepeatModeUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/ReusableBufferedOutputStream.html
1	1	doc/reference/com/google/android/exoplayer2/util/SlidingPercentile.html
1	1	doc/reference/com/google/android/exoplayer2/util/StandaloneMediaClock.html
1	1	doc/reference/com/google/android/exoplayer2/util/TimedValueQueue.html
1	1	doc/reference/com/google/android/exoplayer2/util/TimestampAdjuster.html
1	1	doc/reference/com/google/android/exoplayer2/util/TraceUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/UriUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/Util.html
1	1	doc/reference/com/google/android/exoplayer2/util/XmlPullParserUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/util/package-summary.html
3	3	doc/reference/com/google/android/exoplayer2/util/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/video/AvcConfig.html
1	1	doc/reference/com/google/android/exoplayer2/video/ColorInfo.html
1	1	doc/reference/com/google/android/exoplayer2/video/DolbyVisionConfig.html
1	1	doc/reference/com/google/android/exoplayer2/video/DummySurface.html
1	1	doc/reference/com/google/android/exoplayer2/video/HevcConfig.html
1	1	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.CodecMaxValues.html
1	1	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.VideoDecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoDecoderException.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoDecoderGLSurfaceView.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoDecoderInputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.Owner.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoDecoderOutputBufferRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoFrameMetadataListener.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoFrameReleaseTimeHelper.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoListener.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoRendererEventListener.EventDispatcher.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoRendererEventListener.html
1	1	doc/reference/com/google/android/exoplayer2/video/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/video/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/video/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/CameraMotionListener.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/FrameRotationQueue.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/Projection.DrawMode.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/Projection.Mesh.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/Projection.SubMesh.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/Projection.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/ProjectionDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/package-tree.html
1	1	doc/reference/constant-values.html
9	9	doc/reference/deprecated-list.html
1	1	doc/reference/help-doc.html
1	1	doc/reference/index-all.html
1	1	doc/reference/index.html
1	1	doc/reference/overview-frame.html
1	1	doc/reference/overview-summary.html
48	48	doc/reference/overview-tree.html
1	1	doc/reference/serialized-form.html

commit ea342a671c610916fdcdcb3c4f5c740ff1374719
Merge: 6aa35aaaa a0eb081ae
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2020-01-10 10:33:46 +0000

    Merge pull request #6856 from dturner/release-v2
    
    Add favicon to javadocs

commit a0eb081aed0b73fedc687e06c8d122baedc40789
Author: Don Turner <donturner@google.com>
Date:   2020-01-10 10:24:22 +0000

    Add favicon to javadocs

17	0	javadoc_util.gradle

commit 74e01f4e979941fe7be2985c3f921659ee55c1b1
Author: ybai001 <ybai@dolby.com>
Date:   2020-01-10 14:19:30 +0800

    Add protected AC-4 fmp4 test case

-	-	library/core/src/test/assets/mp4/sample_ac4_protected.mp4
145	0	library/core/src/test/assets/mp4/sample_ac4_protected.mp4.0.dump
109	0	library/core/src/test/assets/mp4/sample_ac4_protected.mp4.1.dump
73	0	library/core/src/test/assets/mp4/sample_ac4_protected.mp4.2.dump
37	0	library/core/src/test/assets/mp4/sample_ac4_protected.mp4.3.dump
6	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java

commit 4ce72d9d6d7cab11169430d69809ec55be694ec2
Author: ybai001 <ybai@dolby.com>
Date:   2020-01-09 15:23:05 +0800

    Update AC-4 DRM code based on comments
    
    Update cleardatasize[0] in extractor rather than sampleDataQueue.

64	11	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
5	12	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit 0ea49df90151322ace0f667b06a4cdf42bc171ce
Merge: cc5e981e8 65e6d50e7
Author: ybai001 <ybai@dolby.com>
Date:   2020-01-09 09:08:45 +0800

    Merge branch 'google-dev-v2' into dev-v2-ac4-drm

commit 65e6d50e736fd6721426f6c0898218eeb518faac
Merge: cc5e981e8 4f15cfaa7
Author: ybai001 <ybai@dolby.com>
Date:   2020-01-09 09:08:07 +0800

    Merge branch 'dev-v2' of https://github.com/google/ExoPlayer into google-dev-v2

commit 4f15cfaa78f8053c4bf83ef0871df98d29fa6e0b
Merge: 79edf7cce a67394b23
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-08 22:15:53 +0000

    Merge pull request #6836 from DolbyLaboratories:dev-v2-refineAC4
    
    PiperOrigin-RevId: 288772277

commit 79edf7cce23098a94901e1b351dd2ab49d0e8049
Author: kimvde <kimvde@google.com>
Date:   2020-01-08 17:21:09 +0000

    FlacExtractor: add condition for zero-length reads
    
    This improves readability by making clearer that reading no bytes from
    the input in readFrames() is an expected case if the buffer is full.
    
    PiperOrigin-RevId: 288711841

12	9	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit 216518eb0ea1beaf567ae14eae00c0d19055c9cf
Author: tonihei <tonihei@google.com>
Date:   2020-01-08 17:20:19 +0000

    Disable chronometer for playback speeds != 1.0
    
    This doesn't work because the Chronometer text layout can only count in realtime.
    
    Issue:#6816
    PiperOrigin-RevId: 288711702

2	0	RELEASENOTES.md
14	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit e5eaacec20615b8c85eea520955d33d6c0fe7094
Author: ibaker <ibaker@google.com>
Date:   2020-01-08 17:15:03 +0000

    Fix typo in SpannedSubject.hasBoldItalicSpanBetween
    
    PiperOrigin-RevId: 288710939

2	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
17	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit fa9bf9c8280bf4853238388c9e94603e11798365
Author: tonihei <tonihei@google.com>
Date:   2020-01-08 16:51:25 +0000

    Ensure seeks to new windows are reported as seeking.
    
    Currently, seeks are only tracked if both the start and the end of the seek
    is within the same window. This means no seeking state is reported if the
    playback switches to a new window during the seek.
    
    This problem is fixed by tracking seek start and end events in all cases,
    but only report seeking state once the window becomes the foreground window.
    
    PiperOrigin-RevId: 288706674

21	13	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java

commit 14e401f53a56a273c2ce784a1aff63b5da7eb2c8
Author: ibaker <ibaker@google.com>
Date:   2020-01-08 16:18:18 +0000

    Update TtmlDecoder to keep only one Span of each type
    
    The current code relies on Android's evaluation order of spans, which
    doesn't seem to be defined anywhere.
    
    PiperOrigin-RevId: 288700011

55	0	library/core/src/main/java/com/google/android/exoplayer2/text/SpanUtil.java
38	10	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlRenderUtil.java
47	29	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
86	0	library/core/src/test/java/com/google/android/exoplayer2/text/SpanUtilTest.java

commit 8e26505ee8984988f6f0015e6aadba6516b96a29
Author: ibaker <ibaker@google.com>
Date:   2020-01-08 16:07:50 +0000

    Fix what I think is a typo in WebVTT test data
    
    Without the CSS tweak the additional test assertion fails.
    
    PiperOrigin-RevId: 288698323

1	1	library/core/src/test/assets/webvtt/with_css_complex_selectors
1	0	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java

commit 762bc18a28f131bcfb6b345f4fcfecf66125e6f0
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-08 15:04:46 +0000

    Fix TrueHD chunking in Matroska
    
    Issue: #6845
    PiperOrigin-RevId: 288688716

2	0	RELEASENOTES.md
1	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 448db89446bf91b63c5351b77c7f579a65bd0447
Author: ibaker <ibaker@google.com>
Date:   2020-01-08 15:04:09 +0000

    Add TypefaceSpan and hasNoFooSpanBetween() support to SpannedSubject
    
    Use these to migrate the last WebvttDecoderTest method to SpannedSubject
    
    PiperOrigin-RevId: 288688620

5	5	library/core/src/test/assets/webvtt/with_css_complex_selectors
35	40	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java
200	6	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
334	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit ee091e6a45854c0adbeda926c0bf52201b61f747
Author: kimvde <kimvde@google.com>
Date:   2020-01-08 11:48:58 +0000

    Use FlacLibrary.isAvailable in FlacExtractor selection
    
    PiperOrigin-RevId: 288667790

0	76	extensions/flac/src/test/java/com/google/android/exoplayer2/ext/flac/DefaultExtractorsFactoryTest.java
6	0	library/core/proguard-rules.txt
12	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java

commit 70fe6b45909dabc4daf3a57f1d0306feee68957c
Author: olly <olly@google.com>
Date:   2020-01-08 09:10:41 +0000

    Upgrade OkHttp library to fix HTTP2 issue
    
    Issue: #4078
    PiperOrigin-RevId: 288651166

3	0	RELEASENOTES.md
1	1	extensions/okhttp/build.gradle

commit 63f90adef0fe26156fd5b48babb9a6332b707e83
Author: olly <olly@google.com>
Date:   2020-01-07 15:39:27 +0000

    Add package level NonNull to extractor.ts
    
    Also remove most classes from the nullness blacklist
    
    PiperOrigin-RevId: 288494712

4	1	library/core/src/main/java/com/google/android/exoplayer2/audio/DtsUtil.java
30	15	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Reader.java
13	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac4Reader.java
26	15	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsReader.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java
12	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/DtsReader.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/DvbSubtitleReader.java
23	18	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/H262Reader.java
31	10	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/H264Reader.java
29	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/H265Reader.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Id3Reader.java
25	10	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/LatmReader.java
24	18	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/MpegAudioReader.java
11	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/PesReader.java
9	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/PsExtractor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SeiReader.java
12	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SpliceInfoSectionReader.java
7	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/TsExtractor.java
11	6	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/UserDataReader.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/package-info.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
2	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java

commit fb42f818ec15e810e67aade70e04e36a52de9860
Author: christosts <christosts@google.com>
Date:   2020-01-07 13:05:14 +0000

    Add start() method in MediaCodecAdapter
    
    PiperOrigin-RevId: 288476415

10	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapter.java
7	25	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecAdapter.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
7	25	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapter.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/SynchronousMediaCodecAdapter.java
39	36	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapterTest.java
29	131	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapterTest.java
29	132	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapterTest.java

commit c5535e825e993e43f2cca63bfed258971d21ecda
Author: ibaker <ibaker@google.com>
Date:   2020-01-07 12:54:13 +0000

    Fix null-checker suppression introduced by 3.0.1 upgrade
    
    Suppression added in https://github.com/google/ExoPlayer/commit/6f9baffa0cc7daf8cbfd5e1f6c55a908190d2041
    
    PiperOrigin-RevId: 288475120

2	4	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java

commit 181606137dbd51af5cd5e593167884fc56f3f8f2
Author: ibaker <ibaker@google.com>
Date:   2020-01-07 12:06:43 +0000

    Remove assertCues() helper methods from WebvttDecoderTest
    
    These make the interesting bits of each assertion harder to follow imo.
    
    Also remove all the assertWithMessage() calls at the same time, Olly
    convinced me these are rarely useful since you can click from the stack
    trace to the failing line in the IDE.
    
    PiperOrigin-RevId: 288470704

4	4	library/core/src/test/assets/webvtt/with_positioning
176	330	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java

commit 692c8ee0acfb23dfc24e690c365d2ed052e11f9b
Author: olly <olly@google.com>
Date:   2020-01-07 11:47:25 +0000

    Fix playback for Vivo codecs that output non-16-bit audio
    
    PiperOrigin-RevId: 288468497

10	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit 35fbb7f7cae26887c11d2a1972910782566c19ef
Author: kimvde <kimvde@google.com>
Date:   2020-01-07 11:03:42 +0000

    Add comment explaining FlacBinarySearchSeeker output
    
    PiperOrigin-RevId: 288464154

2	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java

commit 09ca5c0783c9770879b389b15930d1987016a7c1
Author: ibaker <ibaker@google.com>
Date:   2020-01-07 10:55:13 +0000

    Remove assertWithMessage() calls from SsaDecoderTest
    
    As discussed with Olly, these don't add much info and are liable
    to go stale.
    
    PiperOrigin-RevId: 288463027

31	31	library/core/src/test/java/com/google/android/exoplayer2/text/ssa/SsaDecoderTest.java

commit 9618e5e00f1577e3c73b7d44463c701fde337eb7
Author: olly <olly@google.com>
Date:   2020-01-06 16:21:38 +0000

    FlacExtractor: Fix possible skipping of frame boundaries
    
    PiperOrigin-RevId: 288304477

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit 24743c77ce673492471557bf213bdee267f09b27
Author: olly <olly@google.com>
Date:   2020-01-06 14:51:34 +0000

    Remove WavExtractor from the nullness blacklist
    
    PiperOrigin-RevId: 288292488

63	50	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java

commit a98fc7ca487269d6c803907ee3d9ced9a6f86620
Author: ibaker <ibaker@google.com>
Date:   2020-01-06 13:51:42 +0000

    Add tate-chu-yoko support to WebVTT decoding
    
    PiperOrigin-RevId: 288285953

2	0	RELEASENOTES.md
32	0	library/core/src/main/java/com/google/android/exoplayer2/text/span/HorizontalTextInVerticalContextSpan.java
9	2	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/CssParser.java
10	0	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
18	0	library/core/src/test/assets/webvtt/with_css_text_combine_upright
16	0	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java
34	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
14	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit 06fcf29edd527db2af535207497a25d6e12b1c66
Author: kimvde <kimvde@google.com>
Date:   2020-01-06 13:41:53 +0000

    Simulate IO exceptions in all FlacExtractor tests
    
    - Simulate IO exceptions in the test using FlacBinarySearchSeeker for
      seeking in FlacExtractorTests. This makes the test slower but covers
      more test cases.
    
    PiperOrigin-RevId: 288285057

1	65	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java

commit 3a31bc17245974e667bcdb5eaa886a1d9a9999fb
Author: tonihei <tonihei@google.com>
Date:   2020-01-06 12:54:05 +0000

    Support 5G in network type detection
    
    PiperOrigin-RevId: 288280500

6	6	library/core/src/main/java/com/google/android/exoplayer2/C.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 6f312c054ef2fe46b969584ecc3f089a3a21be06
Author: ibaker <ibaker@google.com>
Date:   2020-01-06 12:52:59 +0000

    Add <ruby> tag support to WebvttCueParser
    
    There's currently no rendering support for ruby text in SubtitleView
    or SubtitlePainter, but this does have a visible impact with the
    current implementation by stripping the ruby text from Cue.text
    meaning it doesn't show up at all under the 'naive' rendering.
    This is an improvement over the current behaviour of including
    the ruby text in-line with the base text (no rubies is better than
    wrongly rendered rubies).
    
    PiperOrigin-RevId: 288280416

2	0	RELEASENOTES.md
64	7	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
31	0	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java

commit 2b1a06633903d4fbe1eec5f001cda502e2a712aa
Author: ibaker <ibaker@google.com>
Date:   2020-01-06 12:52:00 +0000

    Add RubySpan support to SpannedSubject
    
    PiperOrigin-RevId: 288280332

115	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
115	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit e55af3e3c8480eac8f9afb9658b8da0057feac76
Author: ibaker <ibaker@google.com>
Date:   2020-01-06 12:49:43 +0000

    Add RubySpan
    
    This will be used when parsing Ruby info from WebVTT and TTML/IMSC
    subtitles.
    
    PiperOrigin-RevId: 288280181

86	0	library/core/src/main/java/com/google/android/exoplayer2/text/span/RubySpan.java

commit 1e7db22ee256b473c6cb3c8dc16091530672299e
Author: ibaker <ibaker@google.com>
Date:   2020-01-06 11:56:24 +0000

    Convert StyleSpan assertions in SpannedSubject to fluent style
    
    PiperOrigin-RevId: 288274998

10	26	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java
1	5	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java
64	124	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
32	13	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit 29df73e2681e1dcab2227e08dfd2c949ebece942
Author: ibaker <ibaker@google.com>
Date:   2020-01-06 11:48:54 +0000

    Fix MatroskaExtractor to use blockDurationUs not durationUs
    
    This typo was introduced in https://github.com/google/ExoPlayer/commit/ddb70d96ad99f07fe10f53a76ce3262fe625be70
    when migrating a static method with parameter `durationUs` to an
    instance method where the correct field to use was `blockDurationUs`
    (but `durationUs` also exists).
    
    The test that catches this was only added in https://github.com/google/ExoPlayer/commit/45013ece1e3fe054ff8960355a89559241eeb288 (and
    therefore configured with the wrong expected output data).
    
    issue:#6833
    PiperOrigin-RevId: 288274197

2	0	RELEASENOTES.md
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
3	3	library/core/src/test/assets/mkv/full_blocks.mkv.0.dump
3	3	library/core/src/test/assets/mkv/full_blocks.mkv.1.dump
3	3	library/core/src/test/assets/mkv/full_blocks.mkv.2.dump
3	3	library/core/src/test/assets/mkv/full_blocks.mkv.3.dump

commit 1c1c0ed88a5755915d0a3b6da49d48cd56fcab39
Author: christosts <christosts@google.com>
Date:   2020-01-03 17:44:27 +0000

    Remove getDequeueOutputBufferTimeoutUs
    
    Remove unused method
    MediaCodecRenderer#getDequeueOutputBufferTimeoutUs().
    
    PiperOrigin-RevId: 288005572

1	10	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/SynchronousMediaCodecAdapter.java

commit f1f0ff3a658e7734d58ea19810e27abe1c122dc4
Author: olly <olly@google.com>
Date:   2020-01-03 16:59:05 +0000

    Use MIME types rather than PCM encodings for ALAW and MLAW
    
    PiperOrigin-RevId: 287999703

3	0	RELEASENOTES.md
1	2	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
3	9	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegDecoder.java
7	13	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.java
9	18	library/core/src/main/java/com/google/android/exoplayer2/C.java
1	7	library/core/src/main/java/com/google/android/exoplayer2/Format.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
0	4	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java
2	10	library/core/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java
14	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/AudioTagPayloadReader.java
39	23	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 88e70d7c1b237c25a21f063462defb665e54bae1
Author: ibaker <ibaker@google.com>
Date:   2020-01-03 15:32:35 +0000

    Remove WebvttCssStyle.cascadeFrom()
    
    It's not used. I was trying to work out how to correctly cascade my
    text-combine-upright styling, but deleting the method seemed easier...
    
    PiperOrigin-RevId: 287989480

0	31	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.java

commit 0587180f147e842dc3e589826f4606cb3ef2ccd3
Author: ibaker <ibaker@google.com>
Date:   2020-01-03 15:32:06 +0000

    Make SpannedSubject more fluent
    
    I decided the flags bit was a bit unclear so I played around with this
    
    It's also needed for more 'complex' assertions like colors - I didn't
    want to just chuck in a fourth int parameter to create:
    hasForegroundColorSpan(int start, int end, int flags, int color)
    
    PiperOrigin-RevId: 287989424

5	11	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java
21	10	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java
287	31	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
164	1	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit 1c0e69789fbf936b5ea2e066396d4886fd7cca98
Author: ibaker <ibaker@google.com>
Date:   2020-01-03 15:31:37 +0000

    Clear existing Spans when applying CSS styles in WebvttCueParser
    
    Relying on the precedence of spans seems risky - I can't find it
    defined anywhere. It might have changed in Android 6.0?
    https://stackoverflow.com/q/34631851
    
    PiperOrigin-RevId: 287989365

30	16	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java

commit f76b4fe63ece2df4d94319110f91186a390abffb
Author: kimvde <kimvde@google.com>
Date:   2020-01-03 12:11:10 +0000

    Add unit tests to FLAC extractor related classes
    
    PiperOrigin-RevId: 287973192

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
323	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/FlacFrameReaderTest.java
408	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/FlacMetadataReaderTest.java
24	0	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java

commit b5fa338367819c0a1338efbb3da0403c4ca91387
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-03 10:22:27 +0000

    Show ad markers after the window duration
    
    Issue: #6552
    PiperOrigin-RevId: 287964221

3	0	RELEASENOTES.md
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java

commit a67394b2308d1d65a4187f81280b8682d084410c
Author: ybai001 <ybai@dolby.com>
Date:   2020-01-06 15:21:43 +0800

    Optimize AC-4 code and add related test cases
    
    -- Optimize Mp4Extractor for AC-4
    -- Optimize FragmentedMp4Extractor for AC-4
    -- Add test case for AC-4 in MP4
    -- Add test case for AC-4 in Fragmented MP4

6	0	library/core/src/main/java/com/google/android/exoplayer2/audio/Ac4Util.java
8	12	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
7	12	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java
-	-	library/core/src/test/assets/mp4/sample_ac4.mp4
107	0	library/core/src/test/assets/mp4/sample_ac4.mp4.0.dump
107	0	library/core/src/test/assets/mp4/sample_ac4.mp4.1.dump
107	0	library/core/src/test/assets/mp4/sample_ac4.mp4.2.dump
107	0	library/core/src/test/assets/mp4/sample_ac4.mp4.3.dump
-	-	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4
107	0	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4.0.dump
83	0	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4.1.dump
59	0	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4.2.dump
35	0	library/core/src/test/assets/mp4/sample_ac4_fragmented.mp4.3.dump
6	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
5	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java

commit 781f848893fca97950bbdcdeb4e0d1d5887419ea
Merge: cbffc14fa 826083db9
Author: BAI Yanning <30304609+ybai001@users.noreply.github.com>
Date:   2020-01-06 13:40:08 +0800

    Merge pull request #6 from google/dev-v2
    
    Dev v2

commit 03f3cb85c64dd77f826688faf0e2887b6886a371
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-02 20:00:34 +0000

    Documentation improvements

35	8	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.html
32	11	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.html
8	1	doc/reference/com/google/android/exoplayer2/ui/PlayerView.html
2	2	ui-components.md

commit 14e008b67c0db2915fd327dda80bb3cce0c4850e
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-02 19:37:59 +0000

    Fix link

1	0	troubleshooting.md

commit d0c31179c87bdb838e3042b7ab5b0fb50fc13303
Author: Oliver Woodman <olly@google.com>
Date:   2020-01-02 19:33:49 +0000

    Improvements to dev guide

7	7	listening-to-player-events.md
3	3	supported-formats-progressive.md
21	4	supported-formats.md
44	4	troubleshooting.md
34	5	ui-components.md

commit 826083db923f26f2000ca42f7b54b9531726d713
Author: olly <olly@google.com>
Date:   2020-01-02 18:19:41 +0000

    Add support for IMA ADPCM in WAV
    
    PiperOrigin-RevId: 287854701

1	0	RELEASENOTES.md
7	5	library/core/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java
297	17	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
-	-	library/core/src/test/assets/wav/sample_ima_adpcm.wav
75	0	library/core/src/test/assets/wav/sample_ima_adpcm.wav.0.dump
59	0	library/core/src/test/assets/wav/sample_ima_adpcm.wav.1.dump
47	0	library/core/src/test/assets/wav/sample_ima_adpcm.wav.2.dump
35	0	library/core/src/test/assets/wav/sample_ima_adpcm.wav.3.dump
5	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/wav/WavExtractorTest.java

commit f0e0ee421f02595f89c9b228676f81f1796ca466
Author: olly <olly@google.com>
Date:   2020-01-02 14:44:16 +0000

    Support twos codec in MP4
    
    Issue: #5789
    PiperOrigin-RevId: 287828559

2	0	RELEASENOTES.md
11	6	library/core/src/main/java/com/google/android/exoplayer2/C.java
18	5	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Atom.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 2380f937f3c06145676eaae3224d65f09a987cc4
Author: olly <olly@google.com>
Date:   2020-01-02 14:40:47 +0000

    Document overriding of drawables for PlayerControlView
    
    Issue: #6779
    PiperOrigin-RevId: 287828273

41	8	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
8	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit a3bad3680b8384d5ebf27e454668318c6311bc5a
Author: olly <olly@google.com>
Date:   2020-01-02 13:13:31 +0000

    Document overriding drawables for notifications
    
    Issue: #6266
    PiperOrigin-RevId: 287821640

37	15	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit cafffcb812726d662b097a1f7bd31a69799669c0
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-02 12:02:41 +0000

    Fix handling of E-AC-3 streams with AC-3 frames
    
    Issue: #6602
    PiperOrigin-RevId: 287816831

2	0	RELEASENOTES.md
36	37	library/core/src/main/java/com/google/android/exoplayer2/audio/Ac3Util.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 77f01da66089bb2a580c0810c9c6016ac593ed2b
Author: olly <olly@google.com>
Date:   2020-01-02 11:37:03 +0000

    Don't use WavHeader.averageBytesPerSecond
    
    It's unreliable for at least one IMA ADPCM file I've found.
    Calculating the blockIndex to seek to using exact properties
    also seems more robust.
    
    Note this doesn't change anything for the existing PCM test,
    since averageBytesPerSecond is set correctly. It does make
    a difference for an upcoming IMA ADPCM test though.
    
    PiperOrigin-RevId: 287814947

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavSeekMap.java

commit fefb1a17a0023e7c22ecf78ad63796f0e4668be3
Author: andrewlewis <andrewlewis@google.com>
Date:   2020-01-02 10:29:16 +0000

    Fix typos
    
    PiperOrigin-RevId: 287810018

2	2	extensions/okhttp/build.gradle
1	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheTest.java

commit b77717ce91542dfb9ced8e13b1d15d36fc8ca3dd
Author: tonihei <tonihei@google.com>
Date:   2020-01-02 09:59:39 +0000

    Remove buffer size based adaptation.
    
    An experiment with this algorithm didn't show positive results. We can
    therefore keep the simpler default algorithm.
    
    Startblock:
      <unknown commit> is submitted
    PiperOrigin-RevId: 287807538

0	494	library/core/src/main/java/com/google/android/exoplayer2/trackselection/BufferSizeAdaptationBuilder.java
0	248	library/core/src/test/java/com/google/android/exoplayer2/trackselection/BufferSizeAdaptiveTrackSelectionTest.java

commit 035cb096d9c8a0200014993f6d275d7954401827
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-31 16:30:35 +0000

    Mark final field
    
    PiperOrigin-RevId: 287669425

2	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapter.java

commit 4d905b65b72cf2cc384bafe15d90ef1978d670c5
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-12-27 18:15:22 +0000

    Use correct link for external playlist API doc

1	1	design-documents.md

commit cc5e981e894b4e4ed6dd9d16a0537c87f7b162d6
Author: ybai001 <ybai@dolby.com>
Date:   2019-12-23 10:49:03 +0800

    Add AC-4 DRM Support

3	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
12	5	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit c17d1467f9a0eda082c6e92d2c0da4f16fabe0c6
Merge: 20aeb0c8a 24a19264d
Author: BAI Yanning <30304609+ybai001@users.noreply.github.com>
Date:   2019-12-23 09:17:18 +0800

    Merge pull request #5 from google/dev-v2
    
    Merge from google/ExoPlayer/dev-v2

commit a191dde7ea6f0ba61583a5e7c97c575c28ec367d
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-20 23:37:07 +0000

    Update troubleshooting

38	0	troubleshooting.md

commit 6aa35aaaa5f594dfec8e9916d962676f671424f5
Merge: 76962d50f 27e485583
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-20 23:03:17 +0000

    Merge pull request #6790 from google/dev-v2-r2.11.1
    
    r2.11.1

commit 27e48558304cdb672edf05383171215d32c255cb
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-20 22:18:52 +0000

    Fix tests for 2.11.1

0	2	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
0	2	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
0	2	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
0	2	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump

commit 94e6e272fe8722b131785f2679258be5e6ef7a22
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-20 20:55:02 +0000

    Javadoc 2.11.1

1	1	doc/reference/allclasses-frame.html
1	1	doc/reference/allclasses-noframe.html
2	1	doc/reference/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.html
2	1	doc/reference/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.html
2	2	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/offline/package-tree.html
27	27	doc/reference/com/google/android/exoplayer2/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.html
7	7	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.Factory.html
19	49	doc/reference/com/google/android/exoplayer2/source/hls/{HlsMetadataType.html => HlsMediaSource.MetadataType.html}
73	4	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.html
2	2	doc/reference/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/package-frame.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/package-summary.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/package-tree.html
3	3	doc/reference/com/google/android/exoplayer2/text/package-tree.html
4	85	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCue.Builder.TextAlignment.html
133	4	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCue.Builder.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelector.html
2	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/util/package-tree.html
19	19	doc/reference/constant-values.html
33	35	doc/reference/index-all.html
1	1	doc/reference/overview-tree.html

commit 924045be034c35d7378e6bdb185885e698d5b2f5
Author: olly <olly@google.com>
Date:   2019-12-20 17:04:06 +0000

    Release notes tweak
    
    PiperOrigin-RevId: 286587978

1	1	RELEASENOTES.md

commit f6dad5cee0d0b21cda8d67ccf036579c642ccfb7
Author: olly <olly@google.com>
Date:   2019-12-20 20:15:27 +0000

    Enable blacklisting for HTTP 416
    
    Where media segments are specified using byte ranges, it makes
    sense that a server might return 416 (which we don't consider
    for blacklisting) if the segment is unavailable, rather than
    the 404 (which we do consider for blacklisting) that we expect
    when media segments are only specified using a URL.
    
    Issue: #6775
    PiperOrigin-RevId: 286620698

1	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultLoadErrorHandlingPolicy.java

commit 24a19264dbf35e326bbd7bb36c232eb180e1e26d
Author: olly <olly@google.com>
Date:   2019-12-20 20:23:02 +0000

    Fix handling of network transitions in RequirementsWatcher
    
    Issue: #6733
    PiperOrigin-RevId: 286621715

4	0	RELEASENOTES.md
6	7	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
31	23	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java

commit f50ed8fd9ccef82efe22353b4220092d837bf698
Author: olly <olly@google.com>
Date:   2019-12-20 20:15:27 +0000

    Enable blacklisting for HTTP 416
    
    Where media segments are specified using byte ranges, it makes
    sense that a server might return 416 (which we don't consider
    for blacklisting) if the segment is unavailable, rather than
    the 404 (which we do consider for blacklisting) that we expect
    when media segments are only specified using a URL.
    
    Issue: #6775
    PiperOrigin-RevId: 286620698

1	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultLoadErrorHandlingPolicy.java

commit 96437611d837ed7164e7aab8b42841c3da409895
Author: olly <olly@google.com>
Date:   2019-12-20 17:04:06 +0000

    Release notes tweak
    
    PiperOrigin-RevId: 286587978

1	1	RELEASENOTES.md

commit 472a4d2f5b5c32bf8fa969608f9f7af8967469ae
Author: olly <olly@google.com>
Date:   2019-12-20 16:57:42 +0000

    Update release notes for #6776
    
    PiperOrigin-RevId: 286586865

2	0	RELEASENOTES.md

commit 72ff4504d360915101c3908577ecff4424262f9b
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-20 16:51:02 +0000

    Add troubleshooting instructions for decoding extensions
    
    PiperOrigin-RevId: 286585978

8	0	extensions/av1/README.md
10	0	extensions/ffmpeg/README.md
8	0	extensions/flac/README.md
8	0	extensions/opus/README.md
8	0	extensions/vp9/README.md

commit 945da46d81ae20ce434df16a167474a8f0b2003f
Author: olly <olly@google.com>
Date:   2019-12-20 16:57:42 +0000

    Update release notes for #6776
    
    PiperOrigin-RevId: 286586865

2	0	RELEASENOTES.md

commit a0044257b4b6e13cad1baac19f8f1e52c323b4fd
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-20 16:51:02 +0000

    Add troubleshooting instructions for decoding extensions
    
    PiperOrigin-RevId: 286585978

8	0	extensions/av1/README.md
10	0	extensions/ffmpeg/README.md
8	0	extensions/flac/README.md
8	0	extensions/opus/README.md
8	0	extensions/vp9/README.md

commit 14a0c9ebfdb3d1280c3136e6739cce12ceea98f8
Author: ibaker <ibaker@google.com>
Date:   2019-12-20 16:36:18 +0000

    Add vertical support to WebvttCueParser
    
    PiperOrigin-RevId: 286583957

19	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
12	0	library/core/src/test/assets/webvtt/with_vertical
68	8	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java

commit f88fbaf6555333775298d16716418584f2f4cdb0
Author: ibaker <ibaker@google.com>
Date:   2019-12-20 16:33:56 +0000

    Add Cue.verticalType field
    
    Inspired by the `vertical` cue setting in WebVTT:
    https://www.w3.org/TR/webvtt1/#webvtt-vertical-text-cue-setting
    
    PiperOrigin-RevId: 286583621

47	7	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
2	0	library/core/src/test/java/com/google/android/exoplayer2/text/CueTest.java

commit da121a08051e6324344c6d52c5c1afabe09a94b4
Author: olly <olly@google.com>
Date:   2019-12-20 16:18:38 +0000

    Throw more appropriate exceptions from extractors
    
    PiperOrigin-RevId: 286581465

2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/BinarySearchSeeker.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacSeekTableSeekMap.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/DefaultEbmlReader.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/XingSeeker.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java

commit c2997481322001e7700a9fe97a379b7ab6da658b
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-12-20 16:47:42 +0000

    Fix build by saving periodIndex to separate variable

2	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java

commit 5d728abc41cc7fd893a90083653baddfec3275ed
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-12-20 16:38:34 +0000

    Fix potentially wrong window index in onMediaPeriodCreated.
    
    Issue:#6776

4	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java

commit c6036d5271fad5e6e96db205fa001acd4a735587
Author: olly <olly@google.com>
Date:   2019-12-20 15:42:10 +0000

    Add test case for mdat atom extending beyond the file length
    
    Issue: #6774
    PiperOrigin-RevId: 286576383

-	-	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4
359	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
311	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
251	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
191	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
9	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java

commit 87865a5cc442f353fce1979a0047f726a0b8ffd6
Author: olly <olly@google.com>
Date:   2019-12-20 15:41:01 +0000

    DefaultDownloadIndex: Clear failure reason when removing download
    
    The Download constructor considers it invalid to have a failure
    reason if the download isn't in the failed state. Unfortunately,
    calling DefaultDownloadIndex.removeAllDownloads when there's a
    failed download will change the state without clearing the reason.
    If the downloads are then read back from the DefaultDownloadIndex
    we end up violating the Download constructor assertion.
    
    This change clears the failed reason for any existing rows in the
    invalid state, and also fixes the root cause that allows invalid
    rows to enter the table in the first place.
    
    Issue: #6785
    PiperOrigin-RevId: 286576242

4	0	RELEASENOTES.md
15	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
17	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java

commit 406acfc38fba096311678ba322fed244c0efb219
Author: olly <olly@google.com>
Date:   2019-12-20 15:37:08 +0000

    Relax MP4 sniffing to allow an atom to extend beyond the file length
    
    Issue: #6774
    PiperOrigin-RevId: 286575797

0	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Sniffer.java

commit e8cb7b237061b8e4ed4bd5cd2de020c4ddc882ce
Author: olly <olly@google.com>
Date:   2019-12-20 12:14:29 +0000

    Fix typo
    
    Merge of https://github.com/google/ExoPlayer/pull/6793
    
    PiperOrigin-RevId: 286556008

1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelector.java

commit b7bc1fee9f39362039efd3465a0e34a0920f1ebe
Author: tonihei <tonihei@google.com>
Date:   2019-12-20 10:23:27 +0000

    Add missing @Nullable to MediaCodecAudioRenderer.getMediaClock
    
    Without this @Nullable, potential subclasses can't  override the
    method to return null if they don't want to use the renderer as a
    media clock.
    
    Issue:#6792
    PiperOrigin-RevId: 286545736

3	0	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java

commit 7bea558b31df52847713dc7f9baab2d4821d9112
Author: olly <olly@google.com>
Date:   2019-12-20 15:42:10 +0000

    Add test case for mdat atom extending beyond the file length
    
    Issue: #6774
    PiperOrigin-RevId: 286576383

-	-	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4
359	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.0.dump
311	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.1.dump
251	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.2.dump
191	0	library/core/src/test/assets/mp4/sample_mdat_too_long.mp4.3.dump
9	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java

commit 19fb25101bd47b0e42e19ab1830d25bea13b2358
Author: olly <olly@google.com>
Date:   2019-12-20 15:41:01 +0000

    DefaultDownloadIndex: Clear failure reason when removing download
    
    The Download constructor considers it invalid to have a failure
    reason if the download isn't in the failed state. Unfortunately,
    calling DefaultDownloadIndex.removeAllDownloads when there's a
    failed download will change the state without clearing the reason.
    If the downloads are then read back from the DefaultDownloadIndex
    we end up violating the Download constructor assertion.
    
    This change clears the failed reason for any existing rows in the
    invalid state, and also fixes the root cause that allows invalid
    rows to enter the table in the first place.
    
    Issue: #6785
    PiperOrigin-RevId: 286576242

4	0	RELEASENOTES.md
15	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
17	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java

commit 8e96188909cae8b6734e948c6019b4edda4e2512
Author: olly <olly@google.com>
Date:   2019-12-20 15:37:08 +0000

    Relax MP4 sniffing to allow an atom to extend beyond the file length
    
    Issue: #6774
    PiperOrigin-RevId: 286575797

0	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Sniffer.java

commit 5920305b84933a80aaffd9957a3e3f7d5368f6c2
Author: olly <olly@google.com>
Date:   2019-12-20 12:14:29 +0000

    Fix typo
    
    Merge of https://github.com/google/ExoPlayer/pull/6793
    
    PiperOrigin-RevId: 286556008

1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelector.java

commit 06ffd23cdc14fb13c6a474bb8e2a54f80505ebf4
Author: bachinger <bachinger@google.com>
Date:   2019-12-20 11:24:26 +0000

    make removeMediaItem return void
    
    PiperOrigin-RevId: 286551438

1	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
4	8	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit 8c0f22c99ca4e25796d9e0614ecd561e41708e39
Author: tonihei <tonihei@google.com>
Date:   2019-12-20 10:23:27 +0000

    Add missing @Nullable to MediaCodecAudioRenderer.getMediaClock
    
    Without this @Nullable, potential subclasses can't  override the
    method to return null if they don't want to use the renderer as a
    media clock.
    
    Issue:#6792
    PiperOrigin-RevId: 286545736

3	0	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java

commit 63f7b99836114078248b9129ae366c92781c4a75
Author: olly <olly@google.com>
Date:   2019-12-19 12:22:24 +0000

    Bump to 2.11.1
    
    PiperOrigin-RevId: 286368964

12	9	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 0f94ebfb7da6ae02c11df0b0f890f60a8c628572
Author: olly <olly@google.com>
Date:   2019-12-19 14:26:44 +0000

    Add NonNull at package level for extractor
    
    PiperOrigin-RevId: 286381499

1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/BinarySearchSeeker.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ChunkIndex.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/GaplessInfoHolder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/Id3Peeker.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/package-info.java

commit fc4b258c109b170b7c46ad275d0d63e96b519809
Author: olly <olly@google.com>
Date:   2019-12-19 12:22:24 +0000

    Bump to 2.11.1
    
    PiperOrigin-RevId: 286368964

17	11	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 453bd392741a9b0136b56f8a6010aac51b51faf4
Author: olly <olly@google.com>
Date:   2019-12-18 18:57:47 +0000

    Fix typo in class name
    
    PiperOrigin-RevId: 286225012

2	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/{MultiLockAsynchMediaCodecAdapter.java => MultiLockAsyncMediaCodecAdapter.java}
3	3	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapterTest.java

commit 5d2ca02c5a628f33a01fa7501cd762b6ed165dc1
Author: ibaker <ibaker@google.com>
Date:   2019-12-18 18:09:42 +0000

    Unwrap all nested IntDef values
    
    This seems to work with R8 but interact badly with ProGuard.
    
    issue:#6771
    PiperOrigin-RevId: 286215262

1	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
32	32	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
60	43	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaStyle.java
49	48	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCue.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
35	8	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
0	38	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMetadataType.java
6	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java

commit 1106aba3515db433f89aabb5f038350614408868
Author: olly <olly@google.com>
Date:   2019-12-18 16:56:31 +0000

    Add omitted release note for 2.11
    
    PiperOrigin-RevId: 286201458

4	0	RELEASENOTES.md

commit b4873e55e129df8e05841d151e9653500dbc2b81
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-18 10:47:42 +0000

    Fix keep rule for VideoDecoderOutputBuffer
    
    PiperOrigin-RevId: 286156361

2	0	RELEASENOTES.md
5	5	library/core/proguard-rules.txt

commit c9109f437c506dd0eb5bdb19728d7d04d3ed202b
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-18 10:24:10 +0000

    Ensure raw resources are kept
    
    R8 does constant folding, so we need to keep buildRawResourceUri
    to ensure that resources passed to it are kept.
    
    PiperOrigin-RevId: 286153875

2	0	RELEASENOTES.md
6	1	library/core/proguard-rules.txt

commit 166e389c563af4cd4cff3da0953e9fbf2fefd9ec
Author: ibaker <ibaker@google.com>
Date:   2019-12-17 17:13:53 +0000

    Suppress ProGuard warnings about javax.annotation
    
    These annotations are compile-only - so we don't mind they're not
    accessible at runtime.
    
    PiperOrigin-RevId: 285993063

2	0	RELEASENOTES.md
1	0	library/core/proguard-rules.txt

commit 0a701abafe2efb10b0ef840989f6e2ba232c74c8
Author: olly <olly@google.com>
Date:   2019-12-17 17:00:54 +0000

    Retain AV1 constructor for DefaultRenderersFactory
    
    Issue: #6773
    PiperOrigin-RevId: 285990377

2	0	RELEASENOTES.md
4	0	library/core/proguard-rules.txt

commit 739517bd5e32c7443c03d968354475e109356456
Author: olly <olly@google.com>
Date:   2019-12-13 20:29:54 +0000

    Fix FLAC seeking when the last seek point is a placeholder
    
    PiperOrigin-RevId: 285449865

3	2	extensions/flac/src/main/jni/flac_parser.cc

commit 5e822e160ed6831d4ca3754e30c1a1561f8f4b4a
Author: olly <olly@google.com>
Date:   2019-12-16 16:18:01 +0000

    FakeTrackOutput: Throw if sample size exceeds maxInputSize
    
    This indicates the extractor has output a Format with a specified
    maxInputSize that's too small. Failing in FakeTrackOutput ensures
    this doesn't happen during Extractor tests.
    
    PiperOrigin-RevId: 285776069

6	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit 88be178e0fa8139a36d127a1a5cdaab4fbd3cda2
Author: olly <olly@google.com>
Date:   2019-12-16 15:35:06 +0000

    Manual rollback of https://github.com/google/ExoPlayer/commit/b3f485d7d9c08e39574b72a949166ee4834c3b24
    
    It's technically possible to output a seekable SeekMap with unknown duration. This can occur if the media defines seek points but doesn't define either the overall duration or the duration of the media from the last seek point to the end.
    
    PiperOrigin-RevId: 285769121

6	6	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 250a5deab503c10da06c0de918b7ce1f20943b92
Author: olly <olly@google.com>
Date:   2019-12-16 11:17:11 +0000

    Add more SeekMap assertions, and "fix" MatroskaExtractor
    
    In MatroskaExtractor, if the last cue time exceeds the duration
    specified in the header, then we end up generating a negative
    duration chunk as the last item in the SeekMap. We should probably
    not do this, so drop it instead.
    
    Note: Matroska does have a CueDuration element, but it's not used
    in the one problematic file I've found.
    PiperOrigin-RevId: 285738418

10	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
1	1	library/core/src/test/assets/mkv/sample.mkv.0.dump
22	30	library/core/src/test/assets/mkv/sample.mkv.1.dump
11	19	library/core/src/test/assets/mkv/sample.mkv.2.dump
1	1	library/core/src/test/assets/mkv/sample.mkv.3.dump
12	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit d8951a2a38e06acca52b69383168627f32144898
Author: olly <olly@google.com>
Date:   2019-12-13 18:16:59 +0000

    Add an additional sanity check to FakeExtractorOutput
    
    PiperOrigin-RevId: 285422885

4	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 4653592d0eb61f8289617026edda5c57bb506405
Author: ibaker <ibaker@google.com>
Date:   2019-12-13 13:02:58 +0000

    Propagate HTTP request headers through CacheDataSource
    
    This has been broken since
    https://github.com/google/ExoPlayer/commit/c3d6be3afdd7c0ca68dba15e443bc64aa3f61073
    and broken for ICY (where I noticed the problem) since
    https://github.com/google/ExoPlayer/commit/5695bae9d8fde5e156fd38fa552e266c5611c71f.
    ICY symptom is that we see no repeated metadata, because the
    Icy-MetaData:1 header doesn't make it to the server so we never get back
    icy-metaint.
    
    PiperOrigin-RevId: 285379234

1	0	RELEASENOTES.md
28	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
32	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest.java

commit 53d30d80a599bcc0f64ceeec0a40916cc587dedb
Author: tonihei <tonihei@google.com>
Date:   2019-12-13 10:21:32 +0000

    Fix bug where C.TIME_UNSET was used for calcutations.
    
    The presentationTimeOffsetMs may be C.TIME_UNSET for VOD content
    and shouldn't be used in calculations for the windowStartTime.
    
    PiperOrigin-RevId: 285363095

7	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit 5bead4acbbe46ee382c61a830af02b6fb687eedd
Author: olly <olly@google.com>
Date:   2019-12-10 11:26:41 +0000

    Make DefaultTimeBar exclude itself for gestures
    
    Issue: #6685
    PiperOrigin-RevId: 284736041

5	0	RELEASENOTES.md
19	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit ed1de000e5f0fa7fbd98c824732869c6b3e70371
Author: ibaker <ibaker@google.com>
Date:   2019-12-18 18:09:42 +0000

    Unwrap all nested IntDef values
    
    This seems to work with R8 but interact badly with ProGuard.
    
    issue:#6771
    PiperOrigin-RevId: 286215262

1	1	library/core/src/main/java/com/google/android/exoplayer2/DefaultRenderersFactory.java
16	16	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
60	52	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
16	16	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsynchMediaCodecAdapter.java
32	32	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
60	43	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaStyle.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
35	8	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
0	38	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMetadataType.java
6	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java

commit 8b0f5b0a8629a5ef19debdf6ec47bd00e9a69bb4
Author: olly <olly@google.com>
Date:   2019-12-18 17:08:04 +0000

    Some nullness cleanup for extractor.ogg
    
    PiperOrigin-RevId: 286203692

17	10	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
13	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OpusReader.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java
19	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/VorbisReader.java

commit e8068f0fcb45e894b66d39aa727cbdefcb7652fb
Author: olly <olly@google.com>
Date:   2019-12-18 16:56:31 +0000

    Add omitted release note for 2.11
    
    PiperOrigin-RevId: 286201458

4	0	RELEASENOTES.md

commit 65e84811ff987aed9a48180c6a28c0032dcf7c86
Author: ibaker <ibaker@google.com>
Date:   2019-12-18 16:51:40 +0000

    Add 'Us' suffix to WebvttCueInfo.{start,end}Time
    
    Clarify that the units used here are microseconds
    
    PiperOrigin-RevId: 286200583

4	4	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueInfo.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitle.java

commit 8cf4042ddd8f83d37c025023e533b55a7f68a061
Author: ibaker <ibaker@google.com>
Date:   2019-12-18 16:48:10 +0000

    Move WebvttCueInfo.Builder inside WebvttCueParser
    
    This class is only used to hold temporary data while we parse the
    settings and text, so we don't need it outside the Parser class.
    
    Also remove all state from WebvttCueParser - this increases
    the number of allocations, but there are already many
    and  subtitles generally aren't very frequent (compared to
    e.g. video frames).
    
    PiperOrigin-RevId: 286200002

15	10	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoder.java
4	281	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueInfo.java
280	76	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
6	12	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoder.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitle.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoderTest.java
2	8	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java
95	123	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitleTest.java

commit a8d39c1180f5f74e1bafa4bd91bb4948bfda8d98
Author: olly <olly@google.com>
Date:   2019-12-18 16:35:43 +0000

    Read arrays directly from Parcel
    
    PiperOrigin-RevId: 286197990

2	3	library/core/src/main/java/com/google/android/exoplayer2/metadata/scte35/PrivateCommand.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadRequest.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
45	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataTest.java

commit 821d4fb13ab0ff940f9c0dcebb822aa1357f78ae
Author: olly <olly@google.com>
Date:   2019-12-18 15:53:31 +0000

    Add NonNull at package level for extractor.mp4
    
    PiperOrigin-RevId: 286191078

41	30	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
32	20	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/MdtaMetadataEntry.java
8	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtil.java
14	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java
9	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/PsshAtomUtil.java
26	26	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/TrackFragment.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/package-info.java

commit 7a03e8edc0940de1d7b88c936bbe33baf096332f
Author: olly <olly@google.com>
Date:   2019-12-18 15:13:25 +0000

    Add NonNull to testutil.truth
    
    PiperOrigin-RevId: 286185549

19	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/package-info.java

commit fde59ccd1a6bbe2a6f6f091af303c97b9bf62f78
Author: christosts <christosts@google.com>
Date:   2019-12-18 10:55:49 +0000

    Formatting fixes on MediaCodecAdapter
    
    Fixes JavaDoc on MediaCodecAdapter and AsynchronousMediaCodecAdapter
    and a field declaration on MediaCodecRenderer.
    
    PiperOrigin-RevId: 286157106

1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapter.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecAdapter.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 6c9357ba2f89dfdd4e6435338722ac17b252312d
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-18 10:47:42 +0000

    Fix keep rule for VideoDecoderOutputBuffer
    
    PiperOrigin-RevId: 286156361

2	0	RELEASENOTES.md
5	5	library/core/proguard-rules.txt

commit 7219e5a314b549de5f93ac9720a6d86fc7301c29
Author: olly <olly@google.com>
Date:   2019-12-18 10:34:22 +0000

    Fix nullness annotation on equals methods
    
    PiperOrigin-RevId: 286154938

2	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit 9d8a1635c24c3f917f5454b3ef29e49a1f4ae168
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-18 10:24:10 +0000

    Ensure raw resources are kept
    
    R8 does constant folding, so we need to keep buildRawResourceUri
    to ensure that resources passed to it are kept.
    
    PiperOrigin-RevId: 286153875

2	0	RELEASENOTES.md
6	1	library/core/proguard-rules.txt

commit c111138ac2656a1bda1cc739df7e386145b847b0
Author: krocard <krocard@google.com>
Date:   2019-12-18 09:20:28 +0000

    Parse MP3 header to retrieve the nb of sample per frames
    
    Add support for MP3 as an encoding format for passthrough.
    
    This change does not change the observable
    behavior of Exoplayer.
    
    Also name the magics.
    
    #exo-offload
    
    PiperOrigin-RevId: 286146539

6	3	library/core/src/main/java/com/google/android/exoplayer2/C.java
22	16	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
54	6	library/core/src/main/java/com/google/android/exoplayer2/extractor/MpegAudioHeader.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java

commit 3c56b113e43812f188bdd9750f48897e812697ce
Author: olly <olly@google.com>
Date:   2019-12-17 23:18:33 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/d48dc4c15933dd8354cbcc6260c48565bb850e15
    
    *** Original commit ***
    
    Move getting-stuck-prevention into DefaultLoadControl.
    
    We recently added code that prevents getting stuck if the buffer is low and
    the LoadControl refuses to continue loading (https://github.com/google/ExoPlayer/commit/b84bde025258e7307c52eaf6bbe58157d788aa06).
    
    Move this logic into DefaultLoadControl to keep the workaround, and also apply the
    maximum buffer size check in bytes if enabled. ExoPlayerImplInternal will now
    throw if a LoadControl lets playback get stuck. This includes the case where
    DefaultLoadControl reaches its maximum buffer size and not even a mim...
    
    ***
    
    PiperOrigin-RevId: 286071115

8	17	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
7	8	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
1	18	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java
10	15	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 36fa9d5a434812ef637ad27a0a9f1c4dd9651b1b
Author: bachinger <bachinger@google.com>
Date:   2019-12-17 19:21:27 +0000

    add top-level playlist API
    
    Design doc: https://docs.google.com/document/d/11h0S91KI5TB3NNZUtsCzg0S7r6nyTnF_tDZZAtmY93g/edit
    
    Issue: #6161, #5155
    PiperOrigin-RevId: 286020313

1	0	RELEASENOTES.md
27	32	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
5	9	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
1	1	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
140	31	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
9	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
432	105	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
400	186	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
11	13	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
9	16	library/core/src/main/java/com/google/android/exoplayer2/Player.java
136	59	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
9	8	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
2725	319	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
59	64	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
69	32	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
279	45	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
150	18	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
129	27	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
30	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaSource.java
88	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit 43bbc172a4ef52e7cb6a60edc9ec6404af72297e
Author: christosts <christosts@google.com>
Date:   2019-12-17 18:12:00 +0000

    DefaultRenderersFactory can set MediaCodecOperation
    
    Add experimental method on DefaultRenderersFactory to set the
    MediaCodecOperationMode on MediaCodecRenderer instances.
    
    PiperOrigin-RevId: 286004667

26	4	library/core/src/main/java/com/google/android/exoplayer2/DefaultRenderersFactory.java

commit 863bf453418f869efeeaa500e01abba60da248e9
Author: ibaker <ibaker@google.com>
Date:   2019-12-17 17:13:53 +0000

    Suppress ProGuard warnings about javax.annotation
    
    These annotations are compile-only - so we don't mind they're not
    accessible at runtime.
    
    PiperOrigin-RevId: 285993063

2	0	RELEASENOTES.md
1	0	library/core/proguard-rules.txt

commit 7a4b35b59f4520348a083b81c523c9192bff357c
Author: olly <olly@google.com>
Date:   2019-12-17 17:00:54 +0000

    Retain AV1 constructor for DefaultRenderersFactory
    
    Issue: #6773
    PiperOrigin-RevId: 285990377

2	0	RELEASENOTES.md
4	0	library/core/proguard-rules.txt

commit d48dc4c15933dd8354cbcc6260c48565bb850e15
Author: tonihei <tonihei@google.com>
Date:   2019-12-17 15:59:43 +0000

    Move getting-stuck-prevention into DefaultLoadControl.
    
    We recently added code that prevents getting stuck if the buffer is low and
    the LoadControl refuses to continue loading (https://github.com/google/ExoPlayer/commit/b84bde025258e7307c52eaf6bbe58157d788aa06).
    
    Move this logic into DefaultLoadControl to keep the workaround, and also apply the
    maximum buffer size check in bytes if enabled. ExoPlayerImplInternal will now
    throw if a LoadControl lets playback get stuck. This includes the case where
    DefaultLoadControl reaches its maximum buffer size and not even a mimimal buffer
    duration.
    
    PiperOrigin-RevId: 285979989

17	8	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
8	7	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
18	1	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java
42	2	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 021291b38ff81d0e5fdee13e82819d633a9f9209
Author: tonihei <tonihei@google.com>
Date:   2019-12-17 14:51:06 +0000

    Add server-client time offset to Window.
    
    This offset allows to improve the calculated live offset because it
    can take known client-server time offsets into account.
    
    PiperOrigin-RevId: 285970738

1	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimeline.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/BasePlayer.java
30	4	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
13	4	library/core/src/main/java/com/google/android/exoplayer2/source/SinglePeriodTimeline.java
14	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
2	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashChunkSource.java
9	10	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	10	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
2	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit a035c2e20a4ce25bd86774a870b5960bcfa6f0df
Author: ibaker <ibaker@google.com>
Date:   2019-12-17 13:56:33 +0000

    Reformat some javadoc on Cue
    
    PiperOrigin-RevId: 285964228

29	15	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit dfc15733d2bba16f10bcce6bf8b9395357d90fd2
Author: olly <olly@google.com>
Date:   2019-12-17 13:34:33 +0000

    Add NonNull annotations to the most extractor packages
    
    PiperOrigin-RevId: 285961788

17	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/amr/AmrExtractor.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/amr/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/package-info.java
10	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/FlvExtractor.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/package-info.java
9	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/DefaultEbmlReader.java
13	10	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/package-info.java
21	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/VbriSeeker.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/XingSeeker.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/package-info.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
7	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggExtractor.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggSeeker.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/VorbisReader.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/package-info.java
6	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractor.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/rawcc/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/package-info.java

commit f10bc37831ca72dafc7ccf451ea82f7f83da3e24
Author: ibaker <ibaker@google.com>
Date:   2019-12-17 12:44:15 +0000

    Migrate usages of Cue's bitmap constructor to Cue.Builder
    
    PiperOrigin-RevId: 285956436

0	44	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
17	6	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java
9	8	library/core/src/main/java/com/google/android/exoplayer2/text/pgs/PgsDecoder.java
9	8	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlNode.java

commit 04b1782a53526a7ee8519cac41e15264ef70aee2
Author: ibaker <ibaker@google.com>
Date:   2019-12-17 12:39:31 +0000

    Add a Cue.Builder
    
    I want to add fields related to vertical text support, and neither
    adding another constructor nor updating all call-sites of existing
    constructors seemed like attractive propositions.
    
    PiperOrigin-RevId: 285956024

240	0	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
76	0	library/core/src/test/java/com/google/android/exoplayer2/text/CueTest.java

commit fdfbfc0b8ea1cc834e61f18042406a9a5dfb8b86
Author: olly <olly@google.com>
Date:   2019-12-17 12:30:49 +0000

    Cleanup codec state reset methods in MediaCodecRenderer
    
    - Remove duplicated null assignments
    - Move mediaCryptoRequiresSecureDecoder reset to be with all the
      other mediaCrypto stuff.
    
    PiperOrigin-RevId: 285955134

0	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit bf6e9c6144d879dcdf6345b1b4ea4c2998c30220
Author: christosts <christosts@google.com>
Date:   2019-12-17 10:51:44 +0000

    Add MultiLockAsyncMediaCodecAdapter
    
    MultiLockAsyncMediaCodecAdapter is an implementation of the
    MediaCodecAdapter that uses multiple locks to synchronize access to its
    data compared to the single-lock approach used in
    DedicatedThreadAsyncMediaCodecAdapter.
    
    PiperOrigin-RevId: 285944702

15	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
344	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MultiLockAsynchMediaCodecAdapter.java
437	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MultiLockAsyncMediaCodecAdapterTest.java

commit fcfc4eb5b6a11ee503861277e0bee210e95e5f3a
Author: kimvde <kimvde@google.com>
Date:   2019-12-16 20:20:20 +0000

    Add FlacExtractorSeekTest
    
    PiperOrigin-RevId: 285823771

300	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorSeekTest.java
6	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit 21e00ffe730929a82abf07c86965f86c4e25f9c9
Author: kimvde <kimvde@google.com>
Date:   2019-12-16 19:19:43 +0000

    Fix FlacExtractor construction
    
    Fix the FlacExtractor constructor for the case where seek(0,0) is not called before reading.
    
    PiperOrigin-RevId: 285811161

22	21	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit 3e4baa101ca76bcc7bfe61e1002a363f106c792e
Author: kimvde <kimvde@google.com>
Date:   2019-12-16 18:29:27 +0000

    Implement seeking from seektable in FLAC extractor
    
    PiperOrigin-RevId: 285799995

43	41	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
54	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
84	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacSeekTableSeekMap.java
24	22	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
13	59	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/util/FlacConstants.java
38	1	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
6	2	library/core/src/test/assets/flac/bear.flac.3.dump
6	2	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_no_num_samples.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_no_seek_table_no_num_samples.flac
2	2	library/core/src/test/assets/flac/{bear.flac.unklen.dump => bear_no_seek_table_no_num_samples.flac.0.dump}
-	-	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac
1	1	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.1.dump
1	1	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.2.dump
7	3	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.3.dump
0	140	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.unklen.dump
0	123	library/core/src/test/assets/flac/bear_with_id3.flac.1.dump
0	79	library/core/src/test/assets/flac/bear_with_id3.flac.2.dump
0	35	library/core/src/test/assets/flac/bear_with_id3.flac.3.dump
0	163	library/core/src/test/assets/flac/bear_with_id3.flac.unklen.dump
6	2	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.unklen.dump
6	2	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.unklen.dump
6	2	library/core/src/test/assets/flac/bear_with_picture.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_with_picture.flac.unklen.dump
6	2	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.3.dump
0	164	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.unklen.dump
63	17	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
5	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit 2fe3e188a98804f1c297b20bebbd2ada2f959c8d
Author: olly <olly@google.com>
Date:   2019-12-16 16:18:01 +0000

    FakeTrackOutput: Throw if sample size exceeds maxInputSize
    
    This indicates the extractor has output a Format with a specified
    maxInputSize that's too small. Failing in FakeTrackOutput ensures
    this doesn't happen during Extractor tests.
    
    PiperOrigin-RevId: 285776069

6	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit 4eb06373b14e4d8daebd543790d0e882555ecd73
Author: olly <olly@google.com>
Date:   2019-12-16 15:35:06 +0000

    Manual rollback of https://github.com/google/ExoPlayer/commit/b3f485d7d9c08e39574b72a949166ee4834c3b24
    
    It's technically possible to output a seekable SeekMap with unknown duration. This can occur if the media defines seek points but doesn't define either the overall duration or the duration of the media from the last seek point to the end.
    
    PiperOrigin-RevId: 285769121

6	6	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 214c62c35eee850cc17a0c77aeb4dc67f8fedce0
Author: olly <olly@google.com>
Date:   2019-12-16 13:05:09 +0000

    Clean up WavExtractor PCM output
    
    - Make extractor output samples that are uniformly distributed
      with respect to time, with a target of ~10 samples per second.
      The old approach could in theory put every frame into its own
      sample, which would be very inefficient downstream because we'd
      need to pass them individually to MediaCodec. It could also put
      data corresponding to a long duration of time into a single
      sample (e.g. if the sample rate of the content is low), which
      is bad downstream because we decide whether to set the decodeOnly
      flag on a per sample basis. More generally, the new approach
      is more predictable :).
    
    - Stop using the WavSeekMap to get sample timestamps, and instead
      calculate them directly from the number of frames output. It's
      more obviously correct, particularly for data formats like IMA
      ADPCM where we'll need to adjust the data prior to output.
    
    PiperOrigin-RevId: 285750010

55	32	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java
24	31	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavSeekMap.java
35	7	library/core/src/test/assets/wav/sample.wav.0.dump
26	6	library/core/src/test/assets/wav/sample.wav.1.dump
16	4	library/core/src/test/assets/wav/sample.wav.2.dump
2	2	library/core/src/test/assets/wav/sample.wav.3.dump

commit 53ec532a0e1a28312edb9c0d566330f6b4fffb9c
Author: olly <olly@google.com>
Date:   2019-12-16 11:17:11 +0000

    Add more SeekMap assertions, and "fix" MatroskaExtractor
    
    In MatroskaExtractor, if the last cue time exceeds the duration
    specified in the header, then we end up generating a negative
    duration chunk as the last item in the SeekMap. We should probably
    not do this, so drop it instead.
    
    Note: Matroska does have a CueDuration element, but it's not used
    in the one problematic file I've found.
    PiperOrigin-RevId: 285738418

10	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
1	1	library/core/src/test/assets/mkv/sample.mkv.0.dump
22	30	library/core/src/test/assets/mkv/sample.mkv.1.dump
11	19	library/core/src/test/assets/mkv/sample.mkv.2.dump
1	1	library/core/src/test/assets/mkv/sample.mkv.3.dump
12	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 6512e320fbe06dc2f3af16ffe13861082800f00b
Author: tonihei <tonihei@google.com>
Date:   2019-12-16 10:29:31 +0000

    Simplfify codec state reset methods in MediaCodecRenderer
    
    Currently, resetting the internal state related to the codec in done in 4 places
    in MediaCodecRenderer:
     1. In the constructor to set some sensible initial default.
     2. In flushOrReleaseCodec to reset state after flushing
     3. In releaseCodec to reset state to default values for a released codec.
     4. In initCodec to reset state to defaul values for a new codec.
    
    There are actuall only two types of state reset operations:
     1. Resetting state for a released codec, so that a new codec isn't influenced by
        previous codecs.
     2. Resetting state after flushing an existing codec. This is a subset of (1).
    
    So to simplify the class, this change moves all state resets to two methods
    corresponding to the two cases above.
    
    PiperOrigin-RevId: 285731913

52	43	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
3	16	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
5	9	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DebugRenderersFactory.java

commit 23bb289237af4ce739bebe9b17b90c57e9e8b663
Author: ibaker <ibaker@google.com>
Date:   2019-12-16 10:10:36 +0000

    Remove some direct test dependencies from core's build.gradle
    
    These are transitively provided by testutil's build.gradle.
    
    This makes the core module consistent with the others like ui, hls, dash
    
    PiperOrigin-RevId: 285729566

0	7	library/core/build.gradle

commit 15bd622ba7aa56bb2ad002877168cc96555ae3cb
Author: ibaker <ibaker@google.com>
Date:   2019-12-16 09:26:21 +0000

    Remove unused version numbers from constants.gradle
    
    These aren't used from any other Gradle files
    
    PiperOrigin-RevId: 285723602

0	2	constants.gradle

commit 91c86ecec1b523786244647a481e1459e86f1ffa
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-16 08:33:53 +0000

    Fix ParameterName warnings in core tests
    
    PiperOrigin-RevId: 285716982

14	14	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
3	2	library/core/src/test/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessorTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit 8bafd6ff7d8907ab60e3f11c59f860829b0e10c8
Author: olly <olly@google.com>
Date:   2019-12-13 20:29:54 +0000

    Fix FLAC seeking when the last seek point is a placeholder
    
    PiperOrigin-RevId: 285449865

3	2	extensions/flac/src/main/jni/flac_parser.cc

commit b3f485d7d9c08e39574b72a949166ee4834c3b24
Author: olly <olly@google.com>
Date:   2019-12-13 18:16:59 +0000

    Add an additional sanity check to FakeExtractorOutput
    
    PiperOrigin-RevId: 285422885

4	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit b7b3a15855916a0d2be0aeeb1850dfb8d493a41c
Author: olly <olly@google.com>
Date:   2019-12-13 16:51:06 +0000

    Make it easier to update extractor test dump files
    
    PiperOrigin-RevId: 285407744

7	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 2c467f79bdf6e74ad38b4ec0f8c4524d07b21767
Author: olly <olly@google.com>
Date:   2019-12-13 16:39:13 +0000

    Rename getPhysicalDisplaySize to getCurrentDisplayModeSize
    
    PiperOrigin-RevId: 285405910

2	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
20	7	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit d099db69578684d310f8ae83a76e4e32eed7eff3
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-13 16:23:48 +0000

    Fix formatting in Player.java
    
    This is in preparation for adding an internal-only change near these
    lines.
    
    PiperOrigin-RevId: 285403671

13	13	library/core/src/main/java/com/google/android/exoplayer2/Player.java

commit 71036a69737681972b49ee9431f17b043dace529
Author: tonihei <tonihei@google.com>
Date:   2019-12-13 16:04:26 +0000

    Ignore throttled network requests in DefaultBandwidthMeter.
    
    These are not useful for estimating the network speed and should be
    ignored.
    
    PiperOrigin-RevId: 285400948

7	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java

commit 2edf985797c222c46a255b910f7498d0e41dd526
Author: christosts <christosts@google.com>
Date:   2019-12-13 15:40:10 +0000

    Add DedicatedThreadAsyncMediaCodecAdapter
    
    The DedicatedThreadAsyncMediaCodecAdapter is an
    asynchronous MediaCodecAdapter that routes callback
    to a separate Thread.
    
    PiperOrigin-RevId: 285397368

238	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapter.java
16	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
437	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/DedicatedThreadAsyncMediaCodecAdapterTest.java

commit 00eab444556ded74b7142874122324227d4fa5ae
Author: tonihei <tonihei@google.com>
Date:   2019-12-13 15:38:22 +0000

    Add flag to DataSpec that allows to indicate throttled transfer speed.
    
    This may happen for example when trying to load unfinished live media
    chunks that can only be loaded at real-time playback speed.
    
    The flag can be used by the sources to indicate that network transfer
    will knowingly be throttled, such that transfer listeners like the
    bandwidth meter can take this information into account.
    
    PiperOrigin-RevId: 285397100

15	5	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java

commit cad3b1830e7f2d68aa28eed79a727be524c492ba
Author: ibaker <ibaker@google.com>
Date:   2019-12-13 14:26:40 +0000

    Add ISO-8859-1 awareness to IcyDecoder
    
    Also change IcyInfo.rawMetatadata from String to byte[]
    
    ICY doesn't specify the character encoding, and there are streams
    not using UTF-8 (issue:#6753). It seems the default of at least one
    server is ISO-8859-1 so let's support that as a fallback:
    https://github.com/savonet/liquidsoap/issues/411#issuecomment-288759200
    
    Also update IcyDecoder to skip strings it doesn't recognise at all
    instead of decoding invalid characters.
    
    The feed from issue:#6753 now decodes accents correctly:
    EventLogger:   ICY: title="D Pai - Le temps de la rentre", url="null"
    PiperOrigin-RevId: 285388522

4	0	RELEASENOTES.md
5	3	library/core/src/main/java/com/google/android/exoplayer2/C.java
46	11	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
13	13	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyInfo.java
89	26	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java
3	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyInfoTest.java

commit 38e9213a9d2d08c391519b303e3644727a417320
Author: ibaker <ibaker@google.com>
Date:   2019-12-13 14:07:31 +0000

    Use SpannedSubject in WebvttCueParserTest
    
    This is a useful test to see if it works well in a real situation.
    
    PiperOrigin-RevId: 285386471

60	86	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java
10	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
18	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit 1ddac0c7038ed0ef4c962dfa9ac79c0c7b799b96
Author: tonihei <tonihei@google.com>
Date:   2019-12-13 13:56:26 +0000

    Remove API version dependency of Util.normalizeLanguageCode
    
    We previously used Locale.fromLanguageTag and then toLanguageTag to automatically
    filter out invalid tags and to replace deprecated tags. However, this only works
    for API 21+.
    
    This change does no longer rely on the platform methods and instead:
     1. Keeps invalid tags as they are. This may help if developers rely on
        non-spec-complaint language tags (for example, #6681).
     2. Adds a list of deprcated tags and their modern replacements to our code
     3. Normalizes some short codes that have been superseded by macrolanguage codes by
        their macrolanguage equivalent.
    
    Issue:#6681
    PiperOrigin-RevId: 285384841

79	33	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
69	50	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
79	22	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit 241a3426d3108fc687408c5cf6cd339e1fc99d2a
Author: ibaker <ibaker@google.com>
Date:   2019-12-13 13:54:01 +0000

    Tighten the documentation of MetadataInputDecoder
    
    Document that limit() is respected, but position() and arrayOffset()
    are assumed to be zero.
    
    PiperOrigin-RevId: 285384613

4	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataDecoder.java

commit 412db2008b3a3b9d709b241fa17646eb9318990e
Author: ibaker <ibaker@google.com>
Date:   2019-12-13 13:02:58 +0000

    Propagate HTTP request headers through CacheDataSource
    
    This has been broken since
    https://github.com/google/ExoPlayer/commit/c3d6be3afdd7c0ca68dba15e443bc64aa3f61073
    and broken for ICY (where I noticed the problem) since
    https://github.com/google/ExoPlayer/commit/5695bae9d8fde5e156fd38fa552e266c5611c71f.
    ICY symptom is that we see no repeated metadata, because the
    Icy-MetaData:1 header doesn't make it to the server so we never get back
    icy-metaint.
    
    PiperOrigin-RevId: 285379234

1	0	RELEASENOTES.md
28	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
32	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest.java

commit a39e6790c9582734408a98e65cac83e2ff37cc73
Author: tonihei <tonihei@google.com>
Date:   2019-12-13 10:21:32 +0000

    Fix bug where C.TIME_UNSET was used for calcutations.
    
    The presentationTimeOffsetMs may be C.TIME_UNSET for VOD content
    and shouldn't be used in calculations for the windowStartTime.
    
    PiperOrigin-RevId: 285363095

7	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit b9c977574513be596259a0ff8bb58349e7985c33
Author: kimvde <kimvde@google.com>
Date:   2019-12-12 20:06:59 +0000

    Refactor sample number computation in FLAC seeking
    
    Retrieve the sample number in the extractor instead of passing a holder
    to FlacBinarySearchSeeker. This change makes the code easier to
    understand and is required to implement the seeking from the seek table.
    
    PiperOrigin-RevId: 285241862

52	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorUtil.java
43	14	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
11	20	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacBinarySearchSeeker.java
10	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
80	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/ExtractorUtilTest.java

commit ae2449915dc4d1e88e1a53370132aff0019e432c
Author: olly <olly@google.com>
Date:   2019-12-12 19:51:03 +0000

    Create WavExtractor.OutputWriter to handle different data formats
    
    - Create PcmOutputWriter for PCM.
    - In a future change an ImaAdPcmOutputWriter will be introduced
      for IMA ADPCM support.
    
    PiperOrigin-RevId: 285238246

119	48	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java

commit 227b2242eda90ca9306da7e351e8c3f3aef24a0b
Author: olly <olly@google.com>
Date:   2019-12-12 19:26:10 +0000

    Remove assumption that WAV files only contain PCM encoded data
    
    - WavHeader is now immutable and contains only values parsed out
      of the WAVE FMT chunk. It no longer contains a C.PcmEncoding
      encoding, or mutable data bounds.
    - WavHeaderReader now parses the WAVE header chunks without any
      additional logic (e.g. validating the block alignment value,
      which is format type dependent).
    - The SeekMap part of WavHeader is split out into WavSeekMap.
    
    PiperOrigin-RevId: 285232498

1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/TeeAudioProcessor.java
15	5	library/core/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java
59	20	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
24	143	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
20	29	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java
83	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavSeekMap.java

commit 4faf303ca5d60f10bb045432eab555d1a998801e
Author: tonihei <tonihei@google.com>
Date:   2019-12-12 13:15:33 +0000

    Add Player.getCurrentLiveOffset convenience method.
    
    This returns the current offset to the live edge. The calculation is
    non-intuitive enough to provide this convenience method.
    
    PiperOrigin-RevId: 285171090

1	0	RELEASENOTES.md
13	0	library/core/src/main/java/com/google/android/exoplayer2/BasePlayer.java
13	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java

commit 0e1e4ad737cafa3a166815d34ee81c3d8d2e23d4
Author: olly <olly@google.com>
Date:   2019-12-12 12:46:11 +0000

    Remove MediaCodec.stop() call before MediaCodec.release()
    
    This was verified as a no-op change in a prod experiment.
    
    PiperOrigin-RevId: 285167972

1	24	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit e8fa9a55a53f4f7dd8e02c1422f879b0be3edb1a
Author: ibaker <ibaker@google.com>
Date:   2019-12-11 16:40:16 +0000

    Make Cue final and change 2 subclasses to delegate-pattern
    
    This avoids needing to jump through type paremeter hoops to create a
    sub-classable Cue.Builder.
    
    Cue should have a standard set of fields, because it will be
    consumed by renderers that don't know what type it is. The
    existing subclass fields are only used inside their respective
    packages, so can be part of a wrapper object instead.
    
    This lays the groundwork for converting Cue's multiple constructors
    into a Builder pattern.
    
    PiperOrigin-RevId: 284992135

5	4	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
0	62	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Cue.java
159	80	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Decoder.java
6	5	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoder.java
20	28	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/{WebvttCue.java => WebvttCueInfo.java}
20	16	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoder.java
24	18	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitle.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java
15	15	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitleTest.java

commit 5bbabbc14de07ab40e337ba37f6622a3ec59950f
Merge: 59083c9f1 76962d50f
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-11 16:11:51 +0000

    Merge branch 'release-v2' into dev-v2

commit 76962d50f1d80941d6768e4e765fa4ff010705e7
Merge: 33938c05b 4a4aa16d4
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-11 16:11:21 +0000

    Merge pull request #6752 from google/dev-v2-r2.11.0
    
    r2.11.0

commit 4a4aa16d41942c91ac9b02972a059202bb150fdd
Merge: a4a9cc9fd 33938c05b
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-11 13:53:27 +0000

    Merge branch 'release-v2' into dev-v2-r2.11.0

commit a4a9cc9fd0044b6e6ebd051d0d645c3176ae3472
Author: olly <olly@google.com>
Date:   2019-12-11 13:43:31 +0000

    Suppress rawtypes warning when instantiating generic array
    
    Change FakeAdaptiveMediaPeriod back to this style for consistency.
    
    PiperOrigin-RevId: 284967667

2	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
2	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java
10	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java

commit 6ebc9f96c817d25d6b47af106924df3751905089
Author: ibaker <ibaker@google.com>
Date:   2019-12-10 15:05:13 +0000

    Fix generics warning in FakeAdaptiveMediaPeriod.
    
    Remove all generic arrays from this class.
    
    FakeAdaptiveMediaPeriod.java:171: warning: [rawtypes] found raw type: ChunkSampleStream
        return new ChunkSampleStream[length];
                   ^
      missing type arguments for generic class ChunkSampleStream<T>
      where T is a type-variable:
        T extends ChunkSource declared in class ChunkSampleStream
    
    PiperOrigin-RevId: 284761750

5	9	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java

commit 03b02f98df13f6e67b2d9061f3502f8f2c3f25d1
Author: samrobinson <samrobinson@google.com>
Date:   2019-12-10 18:29:59 +0000

    Fix an issue where a keyframe was not skipped.
    
    Keyframe was rendered rather than skipped when performing
    an exact seek to a non-zero position close to the start of
    the stream.
    
    PiperOrigin-RevId: 284798460

3	0	RELEASENOTES.md
3	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit b8eafea176b31a3ead1697093d6c474e9fa9d692
Author: christosts <christosts@google.com>
Date:   2019-12-10 18:04:53 +0000

    Add missing release note entry
    
    PiperOrigin-RevId: 284792946

1	0	RELEASENOTES.md

commit 59083c9f1c7eecace3eaea17215977462c82770f
Author: olly <olly@google.com>
Date:   2019-12-11 13:43:31 +0000

    Suppress rawtypes warning when instantiating generic array
    
    Change FakeAdaptiveMediaPeriod back to this style for consistency.
    
    PiperOrigin-RevId: 284967667

2	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
2	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java
10	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java

commit a00e7dfed2aef06409f03a193561523cb685a9d7
Author: ibaker <ibaker@google.com>
Date:   2019-12-11 13:20:47 +0000

    Remove nullness suppression that's no longer required
    
    PiperOrigin-RevId: 284965120

1	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java

commit a97b09d799d9cfb4c12d73d7f419445e7213c344
Author: olly <olly@google.com>
Date:   2019-12-11 12:47:05 +0000

    Add WavHeader.samplesPerBlock (currently always == 1)
    
    PiperOrigin-RevId: 284961417

11	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
8	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java

commit 039ce8a95b378c41a164563fa990d22ea989a618
Author: kimvde <kimvde@google.com>
Date:   2019-12-11 11:24:06 +0000

    Remove duplicated logic in FlacReader
    
    PiperOrigin-RevId: 284952647

9	28	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java

commit 483e3a673138364094ecb3e61a5feb1199c02cb2
Author: samrobinson <samrobinson@google.com>
Date:   2019-12-11 11:15:12 +0000

    Update robolectric version to 4.3.1.
    
    PiperOrigin-RevId: 284951651

1	1	constants.gradle

commit 4c72ab94b04364b0d1f9c772cad198395df5e973
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-11 11:12:01 +0000

    Inline ENABLE_PRELOADING
    
    ImaAdsLoader relies on preloading being enabled (it doesn't
    work without it) so we may as well remove the constant to
    avoid potential confusion.
    
    PiperOrigin-RevId: 284951356

1	6	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit a95c28a9295a6617f8d0a042bd43f22d39573b53
Author: kimvde <kimvde@google.com>
Date:   2019-12-10 19:40:26 +0000

    Implement binary search seeking for FLAC extractor
    
    PiperOrigin-RevId: 284814594

1	2	RELEASENOTES.md
13	19	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java
87	43	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacFrameReader.java
8	25	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
140	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacBinarySearchSeeker.java
76	46	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
2	2	library/core/src/test/assets/flac/bear.flac.0.dump
124	0	library/core/src/test/assets/flac/bear.flac.1.dump
80	0	library/core/src/test/assets/flac/bear.flac.2.dump
36	0	library/core/src/test/assets/flac/bear.flac.3.dump
164	0	library/core/src/test/assets/flac/bear.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
108	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.1.dump
72	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.3.dump
140	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.unklen.dump
123	0	library/core/src/test/assets/flac/bear_with_id3.flac.1.dump
79	0	library/core/src/test/assets/flac/bear_with_id3.flac.2.dump
35	0	library/core/src/test/assets/flac/bear_with_id3.flac.3.dump
163	0	library/core/src/test/assets/flac/bear_with_id3.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_with_picture.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_with_picture.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_with_picture.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_with_picture.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_with_picture.flac.unklen.dump
2	2	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.0.dump
124	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.1.dump
80	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.2.dump
36	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.3.dump
164	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.unklen.dump
32	8	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit 65adcdaeb9c49b86e4f69b22974f0b9e14832ea8
Author: samrobinson <samrobinson@google.com>
Date:   2019-12-10 18:29:59 +0000

    Fix an issue where a keyframe was not skipped.
    
    Keyframe was rendered rather than skipped when performing
    an exact seek to a non-zero position close to the start of
    the stream.
    
    PiperOrigin-RevId: 284798460

3	0	RELEASENOTES.md
3	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 272858f6760333c2395ec3cf38593d8f53fdc62e
Author: christosts <christosts@google.com>
Date:   2019-12-10 18:04:53 +0000

    Add missing release note entry
    
    PiperOrigin-RevId: 284792946

1	0	RELEASENOTES.md

commit bb466adb18c3d18ac84f7458933254e025705bdb
Author: olly <olly@google.com>
Date:   2019-12-10 17:40:57 +0000

    Add NonNull annotations to source.ads
    
    PiperOrigin-RevId: 284787807

19	0	library/core/src/main/java/com/google/android/exoplayer2/source/ads/package-info.java

commit 7263699c2e092399a3caf30d5ce655410540fbaa
Author: ibaker <ibaker@google.com>
Date:   2019-12-10 17:38:49 +0000

    Create Truth SpannedSubject for style assertions
    
    This will be used in subtitle decoding tests
    
    I followed this guide: https://truth.dev/extension.html
    
    PiperOrigin-RevId: 284787298

3	0	RELEASENOTES.md
237	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/truth/SpannedSubject.java
145	0	testutils/src/test/java/com/google/android/exoplayer2/testutil/truth/SpannedSubjectTest.java

commit c1573106fabc40aa294dc040997b687aac239a2c
Author: ibaker <ibaker@google.com>
Date:   2019-12-10 16:42:33 +0000

    Fix javadoc warnings exposed by -Xdoclint
    
    PiperOrigin-RevId: 284776943

2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
25	25	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelector.java

commit 614a92b607996d65b5a9691de300a3f81d415499
Author: ibaker <ibaker@google.com>
Date:   2019-12-10 16:41:41 +0000

    Fix javadoc errors exposed by -Xdoclint
    
    PiperOrigin-RevId: 284776790

1	1	library/core/src/main/java/com/google/android/exoplayer2/util/IntArrayQueue.java

commit 5cee5cba30fb71bb65a641576fd774159abfc580
Author: olly <olly@google.com>
Date:   2019-12-10 16:10:47 +0000

    Add NonNull annotations to upstream
    
    PiperOrigin-RevId: 284771928

2	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSourceInputStream.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultAllocator.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java
7	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
16	18	library/core/src/main/java/com/google/android/exoplayer2/upstream/FileDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/HttpDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/LoaderErrorThrower.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/ParsingLoadable.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/ResolvingDataSource.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/package-info.java

commit 5da510cf00e5609cf8c886a4ae0605abae1e2d6a
Author: ibaker <ibaker@google.com>
Date:   2019-12-10 15:05:13 +0000

    Fix generics warning in FakeAdaptiveMediaPeriod.
    
    Remove all generic arrays from this class.
    
    FakeAdaptiveMediaPeriod.java:171: warning: [rawtypes] found raw type: ChunkSampleStream
        return new ChunkSampleStream[length];
                   ^
      missing type arguments for generic class ChunkSampleStream<T>
      where T is a type-variable:
        T extends ChunkSource declared in class ChunkSampleStream
    
    PiperOrigin-RevId: 284761750

5	9	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java

commit 1de7ec2c703de7b1d657507b497f1a9c488e61da
Author: olly <olly@google.com>
Date:   2019-12-10 12:33:47 +0000

    Fix bug removing entries from CacheFileMetadataIndex
    
    Issue: #6621
    PiperOrigin-RevId: 284743414

1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
135	0	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndexTest.java

commit 006418ab38ceb12b1279b818463944b28dc56eb2
Author: olly <olly@google.com>
Date:   2019-12-10 12:33:47 +0000

    Fix bug removing entries from CacheFileMetadataIndex
    
    Issue: #6621
    PiperOrigin-RevId: 284743414

1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
135	0	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndexTest.java

commit 9ec524a7e2a8bf929d8f4e28499b572904d176fd
Author: ibaker <ibaker@google.com>
Date:   2019-12-10 12:18:30 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/355ed11a3cd6d90eb02d9f773a546561884324b3
    
    *** Original commit ***
    
    Suppress warnings emitted by Checker Framework version 2.11.1
    
    More information:
    https://docs.google.com/document/d/16tpK6aXqN68PvTyvt4siM-m7f0NXi_8xEeitLDzr8xY/edit?usp=sharing
    
    Tested:
        TAP --sample ran all affected tests and none failed
        http://test/OCL:278915274:BASE:278884711:1573074344615:a6701677
    
    ***
    
    PiperOrigin-RevId: 284741721

0	6	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
1	5	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit 323399544103481b14c9aa52cd1e373131b7ebd0
Author: ibaker <ibaker@google.com>
Date:   2019-12-10 12:08:14 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/4fd881a5516a04409cc0f54d4e6be6c059519f79
    
    *** Original commit ***
    
    Suppress warnings emitted by Checker Framework version 3.0.0
    
    More information:
    https://docs.google.com/document/d/16tpK6aXqN68PvTyvt4siM-m7f0NXi_8xEeitLDzr8xY/edit?usp=sharing
    Tested:
        TAP --sample ran all affected tests and none failed
        http://test/OCL:279845168:BASE:279870402:1573537714395:80ca701c
    
    ***
    
    PiperOrigin-RevId: 284740695

2	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 4c4cabdfacd7622459edcb01b85d1e965103aa4d
Author: ibaker <ibaker@google.com>
Date:   2019-12-10 11:50:20 +0000

    (partial) Rollback of https://github.com/google/ExoPlayer/commit/880b879e8c55b1e709fd3ed6a48005737d26e75a
    
    *** Original commit ***
    
    Suppress warnings emitted by Checker Framework version 2.11.1
    
    More information:
    https://docs.google.com/document/d/16tpK6aXqN68PvTyvt4siM-m7f0NXi_8xEeitLDzr8xY/edit?usp=sharing
    
    Tested:
        TAP train for global presubmit queue
        http://test/OCL:278152710:BASE:278144052:1572760370662:22459c12
    
    ***
    
    PiperOrigin-RevId: 284738438

0	2	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/audio/ChannelMappingAudioProcessor.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Track.java
0	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
1	6	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSchemeDataSource.java
0	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SceneRenderer.java

commit 90329a14c39275c2052612476a0f2ec74edd7618
Author: olly <olly@google.com>
Date:   2019-12-10 11:26:41 +0000

    Make DefaultTimeBar exclude itself for gestures
    
    Issue: #6685
    PiperOrigin-RevId: 284736041

2	0	RELEASENOTES.md
19	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit c027b4e71a65ad4ac82219cc2632301a7a9ed6c2
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-10 10:48:14 +0000

    Turn on nullness checker for playback stats
    
    The nullness checker complains about Integers with @IntDef annotations
    so replace pairs with custom pair types for the timed event records in
    PlaybackStats.
    
    PiperOrigin-RevId: 284731834

151	26	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStats.java
15	14	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java

commit 70ba4b197c7a54d89c49b6959dc65ca616a92c2f
Author: kimvde <kimvde@google.com>
Date:   2019-12-09 18:42:55 +0000

    Add peek() method to ExtractorInput
    
    PiperOrigin-RevId: 284586799

29	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorInput.java
28	16	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
193	33	library/core/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorInputTest.java
31	15	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorInput.java

commit bcb51ec155be23aead455d6b09044f40b155db20
Author: olly <olly@google.com>
Date:   2019-12-09 18:01:01 +0000

    Move matroska lacing into 2.11
    
    PiperOrigin-RevId: 284576903

2	2	RELEASENOTES.md

commit 539a1ac2e23986aa36c98a7d17cea14bf1b230c6
Author: olly <olly@google.com>
Date:   2019-12-09 16:32:22 +0000

    Partial nullness annotations for AtomParsers
    
    PiperOrigin-RevId: 284558886

94	55	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit 914a8df0adfa02bcdd9eb1f7e4f596e28ec205a0
Author: olly <olly@google.com>
Date:   2019-12-09 15:02:11 +0000

    MatroskaExtractor: Support lacing in full blocks
    
    Caveats:
    
    - Block additional data is ignored if the block is laced
      and contains multiple samples. Note that this is not
      a loss of functionality (SimpleBlock cannot have block
      additional data, and lacing was previously completely
      unsupported for Block)
    
    - Subrip and ASS samples are dropped if they're in laced
      blocks with multiple samples (I don't think this is
      valid anyway)
    
    Issue: #3026
    PiperOrigin-RevId: 284545197

2	0	RELEASENOTES.md
42	22	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 0065f63f480028983ad98c8b8fbce30d766d77ed
Author: olly <olly@google.com>
Date:   2019-12-09 14:34:12 +0000

    MatroskaExtractor: Constrain use of sample state member variables
    
    This change constrains the use of sample state member variables to
    writeSampleData, finishWriteSampleData and resetWriteSampleData.
    Using them elsewhere gets increasingly confusing when considering
    features like lacing in full blocks. For example sampleBytesWritten
    cannot be used when calling commitSampleToOutput in this case
    because we need to write the sample data for multiple samples
    before we commit any of them.
    
    Issue: #3026
    PiperOrigin-RevId: 284541942

106	75	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 567f2a6575a9c4e92762be9d411fbe49b902ac80
Author: olly <olly@google.com>
Date:   2019-12-09 09:56:50 +0000

    Fix Javadoc issues
    
    PiperOrigin-RevId: 284509437

3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java

commit 4b281cec3b4d359cad718dd1e24266acfb345f22
Author: samrobinson <samrobinson@google.com>
Date:   2019-12-09 15:55:05 +0000

    Clean `WakeLockManager.updateWakeLock` logic.
    
    PiperOrigin-RevId: 284552723

2	4	library/core/src/main/java/com/google/android/exoplayer2/WakeLockManager.java

commit c90c10c981d8e553a76583654c26fff2e6acc84c
Author: olly <olly@google.com>
Date:   2019-12-09 15:22:11 +0000

    Add NonNull annotations to upstream.cache and upstream.crypto
    
    PiperOrigin-RevId: 284548019

6	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSink.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheKeyFactory.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
6	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
6	5	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedRegionTracker.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/ContentMetadata.java
3	5	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/ContentMetadataMutations.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/DefaultContentMetadata.java
11	10	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
11	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpan.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/crypto/package-info.java

commit 0b7f93a5d4f31a23dba88e14e3df842e3e41f260
Author: olly <olly@google.com>
Date:   2019-12-09 15:02:11 +0000

    MatroskaExtractor: Support lacing in full blocks
    
    Caveats:
    
    - Block additional data is ignored if the block is laced
      and contains multiple samples. Note that this is not
      a loss of functionality (SimpleBlock cannot have block
      additional data, and lacing was previously completely
      unsupported for Block)
    
    - Subrip and ASS samples are dropped if they're in laced
      blocks with multiple samples (I don't think this is
      valid anyway)
    
    Issue: #3026
    PiperOrigin-RevId: 284545197

2	0	RELEASENOTES.md
42	22	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 002acc680b03411c46063ab42615493dac93a816
Author: olly <olly@google.com>
Date:   2019-12-09 14:34:12 +0000

    MatroskaExtractor: Constrain use of sample state member variables
    
    This change constrains the use of sample state member variables to
    writeSampleData, finishWriteSampleData and resetWriteSampleData.
    Using them elsewhere gets increasingly confusing when considering
    features like lacing in full blocks. For example sampleBytesWritten
    cannot be used when calling commitSampleToOutput in this case
    because we need to write the sample data for multiple samples
    before we commit any of them.
    
    Issue: #3026
    PiperOrigin-RevId: 284541942

106	75	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit a9b327d932f421db3cddbeecef615bd89f56626d
Author: olly <olly@google.com>
Date:   2019-12-09 14:13:30 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/2462aeb44358b156e7838e25a3e32926a20861ab
    
    *** Original commit ***
    
    Add peek() method to ExtractorInput
    
    ***
    
    PiperOrigin-RevId: 284539719

2	29	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorInput.java
16	28	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
33	193	library/core/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorInputTest.java
15	31	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorInput.java

commit 3156fbfc6e4fcc07d05f6e66f58c24253cb70406
Author: christosts <christosts@google.com>
Date:   2019-12-09 13:57:36 +0000

    Move MediaCodecAdapter out of MediaCodecRenderer
    
    Move MediaCodeAdapter and implementations to separate
    files and add unit tests for AsynchronousMediaCodecAdapter.
    
    PiperOrigin-RevId: 284537185

140	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapter.java
79	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecAdapter.java
40	178	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
56	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/SynchronousMediaCodecAdapter.java
235	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/AsynchronousMediaCodecAdapterTest.java
1	13	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecAsyncCallbackTest.java
59	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecTestUtils.java

commit 2462aeb44358b156e7838e25a3e32926a20861ab
Author: kimvde <kimvde@google.com>
Date:   2019-12-09 13:57:21 +0000

    Add peek() method to ExtractorInput
    
    PiperOrigin-RevId: 284537150

29	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorInput.java
28	16	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
193	33	library/core/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorInputTest.java
31	15	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorInput.java

commit 87ca7961c27fffdb437b671a0938bc568965de98
Author: kimvde <kimvde@google.com>
Date:   2019-12-09 10:34:41 +0000

    Remove TODO for supporting streams in Java FLAC extractor
    
    Flac streams exist but are not commonly used. Also, they are not
    supported by the FLAC extension extractor.
    
    PiperOrigin-RevId: 284514327

0	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit 74faa3aa9f045c2478ef62f7b7741552ac365a4f
Author: bachinger <bachinger@google.com>
Date:   2019-12-09 10:33:23 +0000

    rename setMediaItem to setMediaSource
    
    PiperOrigin-RevId: 284514142

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
8	7	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
12	12	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
2	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit 8b3c3ffb91a0449644b9415814ca1f6271255707
Author: olly <olly@google.com>
Date:   2019-12-09 09:56:50 +0000

    Fix Javadoc issues
    
    PiperOrigin-RevId: 284509437

3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java

commit 96ba4ecd7951ff70c0c4539982171807c9dd8adb
Author: olly <olly@google.com>
Date:   2019-12-09 08:43:38 +0000

    Finalize 2.11.0 release notes
    
    PiperOrigin-RevId: 284500197

19	22	RELEASENOTES.md

commit d1d43d62e665cf905c3816275d49126eb1dfa4f9
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-12-06 22:26:59 +0000

    Add demo app support for attaching DrmSessions to clear content
    
    Issue:#4867
    PiperOrigin-RevId: 284262626

1	0	RELEASENOTES.md
7	0	demos/main/src/main/assets/media.exolist.json
2	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
42	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/Sample.java
11	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java

commit 52689b91973f51d05193a1de308d9955273558df
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-07 00:52:12 +0000

    Javadoc for 2.11

128	29	doc/reference/allclasses-frame.html
128	29	doc/reference/allclasses-noframe.html
62	17	doc/reference/com/google/android/exoplayer2/BasePlayer.html
129	49	doc/reference/com/google/android/exoplayer2/BaseRenderer.html
162	0	doc/reference/com/google/android/exoplayer2/C.AudioAllowedCapturePolicy.html
2	2	doc/reference/com/google/android/exoplayer2/C.AudioContentType.html
2	2	doc/reference/com/google/android/exoplayer2/C.StreamType.html
162	0	doc/reference/com/google/android/exoplayer2/C.VideoOutputMode.html
2	2	doc/reference/com/google/android/exoplayer2/C.VideoScalingMode.html
302	127	doc/reference/com/google/android/exoplayer2/C.html
6	6	doc/reference/com/google/android/exoplayer2/DefaultRenderersFactory.html
73	10	doc/reference/com/google/android/exoplayer2/ExoPlaybackException.html
522	0	doc/reference/com/google/android/exoplayer2/ExoPlayer.Builder.html
0	328	doc/reference/com/google/android/exoplayer2/ExoPlayer.ExoPlayerMessage.html
19	68	doc/reference/com/google/android/exoplayer2/ExoPlayer.html
211	310	doc/reference/com/google/android/exoplayer2/ExoPlayerFactory.html
141	63	doc/reference/com/google/android/exoplayer2/Format.html
56	19	doc/reference/com/google/android/exoplayer2/FormatHolder.html
37	34	doc/reference/com/google/android/exoplayer2/NoSampleRenderer.html
38	4	doc/reference/com/google/android/exoplayer2/Player.DefaultEventListener.html
49	12	doc/reference/com/google/android/exoplayer2/Player.EventListener.html
2	2	doc/reference/com/google/android/exoplayer2/Player.RepeatMode.html
22	56	doc/reference/com/google/android/exoplayer2/{ExoPlayer.ExoPlayerComponent.html => Player.State.html}
2	2	doc/reference/com/google/android/exoplayer2/Player.TextComponent.html
1	2	doc/reference/com/google/android/exoplayer2/Player.TimelineChangeReason.html
92	23	doc/reference/com/google/android/exoplayer2/Player.VideoComponent.html
57	34	doc/reference/com/google/android/exoplayer2/Player.html
2	2	doc/reference/com/google/android/exoplayer2/PlayerMessage.Target.html
6	5	doc/reference/com/google/android/exoplayer2/Renderer.html
163	0	doc/reference/com/google/android/exoplayer2/RendererCapabilities.AdaptiveSupport.html
178	0	doc/reference/com/google/android/exoplayer2/RendererCapabilities.Capabilities.html
162	0	doc/reference/com/google/android/exoplayer2/RendererCapabilities.FormatSupport.html
162	0	doc/reference/com/google/android/exoplayer2/RendererCapabilities.TunnelingSupport.html
222	51	doc/reference/com/google/android/exoplayer2/RendererCapabilities.html
2	2	doc/reference/com/google/android/exoplayer2/RendererConfiguration.html
552	0	doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.Builder.html
2	2	doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.VideoListener.html
254	218	doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.html
1	1	doc/reference/com/google/android/exoplayer2/Timeline.Period.html
90	13	doc/reference/com/google/android/exoplayer2/Timeline.Window.html
77	94	doc/reference/com/google/android/exoplayer2/Timeline.html
26	44	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsCollector.html
5	4	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsListener.html
2	2	doc/reference/com/google/android/exoplayer2/analytics/DefaultAnalyticsListener.html
435	0	doc/reference/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManager.html
312	0	doc/reference/com/google/android/exoplayer2/analytics/PlaybackSessionManager.Listener.html
369	0	doc/reference/com/google/android/exoplayer2/analytics/PlaybackSessionManager.html
2135	0	doc/reference/com/google/android/exoplayer2/analytics/PlaybackStats.html
233	0	doc/reference/com/google/android/exoplayer2/analytics/PlaybackStatsListener.Callback.html
978	0	doc/reference/com/google/android/exoplayer2/analytics/PlaybackStatsListener.html
6	1	doc/reference/com/google/android/exoplayer2/analytics/package-frame.html
38	7	doc/reference/com/google/android/exoplayer2/analytics/package-summary.html
6	1	doc/reference/com/google/android/exoplayer2/analytics/package-tree.html
2	0	doc/reference/com/google/android/exoplayer2/audio/Ac3Util.html
1	0	doc/reference/com/google/android/exoplayer2/audio/Ac4Util.html
22	6	doc/reference/com/google/android/exoplayer2/audio/AudioAttributes.Builder.html
24	5	doc/reference/com/google/android/exoplayer2/audio/AudioAttributes.html
2	2	doc/reference/com/google/android/exoplayer2/audio/AudioDecoderException.html
2	2	doc/reference/com/google/android/exoplayer2/audio/AudioListener.html
382	0	doc/reference/com/google/android/exoplayer2/audio/AudioProcessor.AudioFormat.html
16	21	doc/reference/com/google/android/exoplayer2/audio/{AudioProcessor.UnhandledFormatException.html => AudioProcessor.UnhandledAudioFormatException.html}
30	90	doc/reference/com/google/android/exoplayer2/audio/AudioProcessor.html
2	2	doc/reference/com/google/android/exoplayer2/audio/AudioRendererEventListener.html
5	8	doc/reference/com/google/android/exoplayer2/audio/AudioSink.html
83	130	doc/reference/com/google/android/exoplayer2/audio/BaseAudioProcessor.html
5	8	doc/reference/com/google/android/exoplayer2/audio/DefaultAudioSink.html
2	0	doc/reference/com/google/android/exoplayer2/audio/DtsUtil.html
205	107	doc/reference/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.html
22	39	doc/reference/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessor.html
80	57	doc/reference/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.html
39	113	doc/reference/com/google/android/exoplayer2/audio/SonicAudioProcessor.html
43	40	doc/reference/com/google/android/exoplayer2/audio/TeeAudioProcessor.html
16	0	doc/reference/com/google/android/exoplayer2/audio/WavUtil.html
2	4	doc/reference/com/google/android/exoplayer2/audio/package-frame.html
9	21	doc/reference/com/google/android/exoplayer2/audio/package-summary.html
2	4	doc/reference/com/google/android/exoplayer2/audio/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/database/ExoDatabaseProvider.html
1	1	doc/reference/com/google/android/exoplayer2/database/package-tree.html
20	4	doc/reference/com/google/android/exoplayer2/decoder/Buffer.html
6	4	doc/reference/com/google/android/exoplayer2/decoder/Decoder.html
49	8	doc/reference/com/google/android/exoplayer2/decoder/DecoderInputBuffer.html
2	2	doc/reference/com/google/android/exoplayer2/decoder/OutputBuffer.html
10	6	doc/reference/com/google/android/exoplayer2/decoder/SimpleDecoder.html
3	2	doc/reference/com/google/android/exoplayer2/decoder/SimpleOutputBuffer.html
2	2	doc/reference/com/google/android/exoplayer2/drm/DecryptionException.html
13	13	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionEventListener.html
444	0	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.Builder.html
2	2	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.MissingSchemeDataException.html
173	308	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.html
4	50	doc/reference/com/google/android/exoplayer2/drm/DrmInitData.SchemeData.html
6	1	doc/reference/com/google/android/exoplayer2/drm/DrmSession.DrmSessionException.html
83	12	doc/reference/com/google/android/exoplayer2/drm/DrmSession.html
147	21	doc/reference/com/google/android/exoplayer2/drm/DrmSessionManager.html
727	0	doc/reference/com/google/android/exoplayer2/drm/DummyExoMediaDrm.html
80	8	doc/reference/com/google/android/exoplayer2/drm/ErrorStateDrmSession.html
294	0	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.AppManagedProvider.html
2	2	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.KeyRequest.html
2	2	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.OnKeyStatusChangeListener.html
231	0	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.Provider.html
2	2	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.ProvisionRequest.html
111	29	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.html
18	0	doc/reference/com/google/android/exoplayer2/drm/FrameworkMediaCrypto.html
138	28	doc/reference/com/google/android/exoplayer2/drm/FrameworkMediaDrm.html
21	95	doc/reference/com/google/android/exoplayer2/drm/OfflineLicenseHelper.html
4	2	doc/reference/com/google/android/exoplayer2/drm/package-frame.html
30	19	doc/reference/com/google/android/exoplayer2/drm/package-summary.html
12	6	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
224	0	doc/reference/com/google/android/exoplayer2/ext/av1/Gav1DecoderException.html
237	0	doc/reference/com/google/android/exoplayer2/ext/av1/Gav1Library.html
575	0	doc/reference/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.html
23	0	doc/reference/com/google/android/exoplayer2/ext/av1/package-frame.html
163	0	doc/reference/com/google/android/exoplayer2/ext/av1/package-summary.html
155	0	doc/reference/com/google/android/exoplayer2/ext/av1/package-tree.html
50	71	doc/reference/com/google/android/exoplayer2/ext/cast/CastPlayer.html
76	6	doc/reference/com/google/android/exoplayer2/ext/cast/DefaultCastOptionsProvider.html
51	142	doc/reference/com/google/android/exoplayer2/{ui/spherical/CanvasRenderer.html => ext/cast/DefaultMediaItemConverter.html}
32	150	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.Builder.html
51	63	doc/reference/com/google/android/exoplayer2/ext/cast/{MediaItem.UriBundle.html => MediaItem.DrmConfiguration.html}
0	363	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.DrmScheme.html
32	122	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.html
48	24	doc/reference/com/google/android/exoplayer2/ext/{vp9/VpxOutputBufferRenderer.html => cast/MediaItemConverter.html}
0	387	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItemQueue.html
2	2	doc/reference/com/google/android/exoplayer2/ext/cast/SessionAvailabilityListener.html
3	3	doc/reference/com/google/android/exoplayer2/ext/cast/package-frame.html
12	13	doc/reference/com/google/android/exoplayer2/ext/cast/package-summary.html
5	5	doc/reference/com/google/android/exoplayer2/ext/cast/package-tree.html
208	30	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSource.html
16	48	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSourceFactory.html
31	14	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.html
27	8	doc/reference/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.html
55	105	doc/reference/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.html
0	522	doc/reference/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.html
0	1	doc/reference/com/google/android/exoplayer2/ext/gvr/package-frame.html
3	9	doc/reference/com/google/android/exoplayer2/ext/gvr/package-summary.html
0	21	doc/reference/com/google/android/exoplayer2/ext/gvr/package-tree.html
11	14	doc/reference/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.html
3	3	doc/reference/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.JobDispatcherSchedulerService.html
44	42	doc/reference/com/google/android/exoplayer2/{source/ads/AdsMediaSource.MediaSourceFactory.html => ext/mediasession/MediaSessionConnector.CaptionCallback.html}
3	3	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.CommandReceiver.html
1	0	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.CustomActionProvider.html
76	34	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.html
1	0	doc/reference/com/google/android/exoplayer2/ext/mediasession/RepeatModeActionProvider.html
2	11	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.html
1	0	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-frame.html
15	9	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-summary.html
1	0	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-tree.html
99	23	doc/reference/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.html
47	15	doc/reference/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.html
29	6	doc/reference/com/google/android/exoplayer2/ext/opus/OpusLibrary.html
3	25	doc/reference/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.html
211	650	doc/reference/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.html
6	1	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxDecoderException.html
28	5	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxLibrary.html
63	336	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.html
0	5	doc/reference/com/google/android/exoplayer2/ext/vp9/package-frame.html
2	25	doc/reference/com/google/android/exoplayer2/ext/vp9/package-summary.html
10	15	doc/reference/com/google/android/exoplayer2/ext/vp9/package-tree.html
22	32	doc/reference/com/google/android/exoplayer2/extractor/DefaultExtractorInput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.html
64	34	doc/reference/com/google/android/exoplayer2/extractor/ExtractorInput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ExtractorOutput.html
2	1	doc/reference/com/google/android/exoplayer2/extractor/MpegAudioHeader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/TrackOutput.html
36	10	doc/reference/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
5	14	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac3Extractor.html
1	16	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac4Extractor.html
10	20	doc/reference/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.html
1	13	doc/reference/com/google/android/exoplayer2/extractor/ts/H262Reader.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/H264Reader.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/H265Reader.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/SectionReader.html
36	70	doc/reference/com/google/android/exoplayer2/{ui/spherical/PointerRenderer.html => extractor/ts/SeiReader.html}
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/SpliceInfoSectionReader.html
1	0	doc/reference/com/google/android/exoplayer2/extractor/ts/package-frame.html
11	5	doc/reference/com/google/android/exoplayer2/extractor/ts/package-summary.html
2	1	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
112	21	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.html
327	0	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.DecoderException.html
17	14	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.DecoderInitializationException.html
194	101	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.html
34	14	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.html
1	0	doc/reference/com/google/android/exoplayer2/mediacodec/package-frame.html
7	1	doc/reference/com/google/android/exoplayer2/mediacodec/package-summary.html
1	0	doc/reference/com/google/android/exoplayer2/mediacodec/package-tree.html
3	3	doc/reference/com/google/android/exoplayer2/metadata/MetadataInputBuffer.html
0	4	doc/reference/com/google/android/exoplayer2/metadata/MetadataOutput.html
0	197	doc/reference/com/google/android/exoplayer2/metadata/MetadataRenderer.Output.html
25	47	doc/reference/com/google/android/exoplayer2/metadata/MetadataRenderer.html
2	4	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.html
4	0	doc/reference/com/google/android/exoplayer2/metadata/id3/Id3Decoder.html
0	1	doc/reference/com/google/android/exoplayer2/metadata/package-frame.html
0	6	doc/reference/com/google/android/exoplayer2/metadata/package-summary.html
1	5	doc/reference/com/google/android/exoplayer2/metadata/package-tree.html
11	8	doc/reference/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.html
24	8	doc/reference/com/google/android/exoplayer2/offline/DefaultDownloadIndex.html
2	2	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.Callback.html
268	0	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.LiveContentUnsupportedException.html
225	33	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.html
10	5	doc/reference/com/google/android/exoplayer2/offline/DownloadIndex.html
4	0	doc/reference/com/google/android/exoplayer2/offline/DownloadManager.Listener.html
3	3	doc/reference/com/google/android/exoplayer2/offline/DownloadService.html
4	2	doc/reference/com/google/android/exoplayer2/offline/DownloaderConstructorHelper.html
7	1	doc/reference/com/google/android/exoplayer2/offline/ProgressiveDownloader.html
1	2	doc/reference/com/google/android/exoplayer2/offline/SegmentDownloader.Segment.html
1	2	doc/reference/com/google/android/exoplayer2/offline/StreamKey.html
20	7	doc/reference/com/google/android/exoplayer2/offline/WritableDownloadIndex.html
1	0	doc/reference/com/google/android/exoplayer2/offline/package-frame.html
6	0	doc/reference/com/google/android/exoplayer2/offline/package-summary.html
2	1	doc/reference/com/google/android/exoplayer2/offline/package-tree.html
9	2	doc/reference/com/google/android/exoplayer2/package-frame.html
87	45	doc/reference/com/google/android/exoplayer2/package-summary.html
27	20	doc/reference/com/google/android/exoplayer2/package-tree.html
3	3	doc/reference/com/google/android/exoplayer2/scheduler/PlatformScheduler.PlatformSchedulerService.html
2	1	doc/reference/com/google/android/exoplayer2/scheduler/Requirements.html
147	45	doc/reference/com/google/android/exoplayer2/source/BaseMediaSource.html
44	19	doc/reference/com/google/android/exoplayer2/source/ClippingMediaPeriod.html
31	29	doc/reference/com/google/android/exoplayer2/source/ClippingMediaSource.html
152	38	doc/reference/com/google/android/exoplayer2/source/CompositeMediaSource.html
23	2	doc/reference/com/google/android/exoplayer2/source/CompositeSequenceableLoader.html
135	121	doc/reference/com/google/android/exoplayer2/source/ConcatenatingMediaSource.html
23	331	doc/reference/com/google/android/exoplayer2/source/DefaultMediaSourceEventListener.html
0	342	doc/reference/com/google/android/exoplayer2/source/DynamicConcatenatingMediaSource.html
2	2	doc/reference/com/google/android/exoplayer2/source/EmptySampleStream.html
19	12	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.Factory.html
67	102	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.html
6	12	doc/reference/com/google/android/exoplayer2/source/ForwardingTimeline.html
24	25	doc/reference/com/google/android/exoplayer2/source/LoopingMediaSource.html
14	14	doc/reference/com/google/android/exoplayer2/source/{DeferredMediaPeriod.PrepareErrorListener.html => MaskingMediaPeriod.PrepareErrorListener.html}
101	76	doc/reference/com/google/android/exoplayer2/source/{DeferredMediaPeriod.html => MaskingMediaPeriod.html}
571	0	doc/reference/com/google/android/exoplayer2/source/MaskingMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaPeriod.Callback.html
37	15	doc/reference/com/google/android/exoplayer2/source/MediaPeriod.html
2	2	doc/reference/com/google/android/exoplayer2/source/MediaSource.MediaPeriodId.html
17	25	doc/reference/com/google/android/exoplayer2/source/{MediaSource.SourceInfoRefreshListener.html => MediaSource.MediaSourceCaller.html}
92	38	doc/reference/com/google/android/exoplayer2/source/MediaSource.html
2	2	doc/reference/com/google/android/exoplayer2/source/MediaSourceEventListener.MediaLoadData.html
49	49	doc/reference/com/google/android/exoplayer2/source/MediaSourceEventListener.html
274	0	doc/reference/com/google/android/exoplayer2/source/MediaSourceFactory.html
33	31	doc/reference/com/google/android/exoplayer2/source/MergingMediaSource.html
48	17	doc/reference/com/google/android/exoplayer2/source/ProgressiveMediaSource.Factory.html
35	24	doc/reference/com/google/android/exoplayer2/source/ProgressiveMediaSource.html
104	25	doc/reference/com/google/android/exoplayer2/source/SampleQueue.html
1	1	doc/reference/com/google/android/exoplayer2/source/SampleStream.html
1	1	doc/reference/com/google/android/exoplayer2/source/SequenceableLoader.Callback.html
18	2	doc/reference/com/google/android/exoplayer2/source/SequenceableLoader.html
1	1	doc/reference/com/google/android/exoplayer2/source/ShuffleOrder.html
24	18	doc/reference/com/google/android/exoplayer2/source/SilenceMediaSource.html
41	23	doc/reference/com/google/android/exoplayer2/source/SinglePeriodTimeline.html
24	18	doc/reference/com/google/android/exoplayer2/source/SingleSampleMediaSource.html
4	3	doc/reference/com/google/android/exoplayer2/source/ads/AdPlaybackState.AdGroup.html
2	1	doc/reference/com/google/android/exoplayer2/source/ads/AdPlaybackState.html
2	2	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.AdLoadException.Type.html
33	39	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.html
6	10	doc/reference/com/google/android/exoplayer2/source/ads/SinglePeriodAdTimeline.html
0	1	doc/reference/com/google/android/exoplayer2/source/ads/package-frame.html
0	6	doc/reference/com/google/android/exoplayer2/source/ads/package-summary.html
1	2	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
1	0	doc/reference/com/google/android/exoplayer2/source/chunk/BaseMediaChunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/BaseMediaChunkIterator.html
2	1	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkHolder.html
43	68	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.html
4	2	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkSource.html
1	0	doc/reference/com/google/android/exoplayer2/source/chunk/DataChunk.html
2	1	doc/reference/com/google/android/exoplayer2/source/chunk/MediaChunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/MediaChunkIterator.html
73	47	doc/reference/com/google/android/exoplayer2/source/dash/DashMediaSource.Factory.html
34	18	doc/reference/com/google/android/exoplayer2/source/dash/DashMediaSource.html
3	1	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.html
10	4	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifest.html
3	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.RepresentationInfo.html
64	27	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.html
2	4	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Descriptor.html
16	6	doc/reference/com/google/android/exoplayer2/source/dash/manifest/ProgramInformation.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/RangedUri.html
5	2	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Representation.MultiSegmentRepresentation.html
9	3	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Representation.SingleSegmentRepresentation.html
12	5	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Representation.html
3	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.MultiSegmentBase.html
2	0	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.SegmentList.html
5	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.SegmentTemplate.html
61	5	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.SegmentTimelineElement.html
4	2	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.SingleSegmentBase.html
4	2	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/package-tree.html
4	1	doc/reference/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.html
4	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.html
54	25	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.html
78	51	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.Factory.html
24	18	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.html
4	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsMetadataType.html
19	2	doc/reference/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.html
2	1	doc/reference/com/google/android/exoplayer2/source/hls/WebvttExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/package-tree.html
3	2	doc/reference/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.html
6	2	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.html
3	2	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylist.Segment.html
5	4	doc/reference/com/google/android/exoplayer2/source/package-frame.html
37	27	doc/reference/com/google/android/exoplayer2/source/package-summary.html
9	11	doc/reference/com/google/android/exoplayer2/source/package-tree.html
3	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.html
72	46	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.Factory.html
34	18	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.html
3	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifest.StreamElement.html
3	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifest.html
2	2	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/package-tree.html
321	0	doc/reference/com/google/android/exoplayer2/testutil/Action.ClearVideoSurface.html
323	0	doc/reference/com/google/android/exoplayer2/testutil/Action.ExecuteRunnable.html
365	0	doc/reference/com/google/android/exoplayer2/testutil/Action.PlayUntilPosition.html
348	0	doc/reference/com/google/android/exoplayer2/testutil/Action.PrepareSource.html
352	0	doc/reference/com/google/android/exoplayer2/testutil/Action.Seek.html
355	0	doc/reference/com/google/android/exoplayer2/testutil/Action.SendMessages.html
327	0	doc/reference/com/google/android/exoplayer2/testutil/Action.SetAudioAttributes.html
324	0	doc/reference/com/google/android/exoplayer2/testutil/Action.SetPlayWhenReady.html
324	0	doc/reference/com/google/android/exoplayer2/testutil/Action.SetPlaybackParameters.html
328	0	doc/reference/com/google/android/exoplayer2/testutil/Action.SetRendererDisabled.html
325	0	doc/reference/com/google/android/exoplayer2/testutil/Action.SetRepeatMode.html
324	0	doc/reference/com/google/android/exoplayer2/testutil/Action.SetShuffleModeEnabled.html
321	0	doc/reference/com/google/android/exoplayer2/testutil/Action.SetVideoSurface.html
346	0	doc/reference/com/google/android/exoplayer2/testutil/Action.Stop.html
324	0	doc/reference/com/google/android/exoplayer2/testutil/Action.ThrowPlaybackException.html
361	0	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForIsLoading.html
362	0	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForPlayWhenReady.html
361	0	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForPlaybackState.html
358	0	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForPositionDiscontinuity.html
358	0	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForSeekProcessed.html
366	0	doc/reference/com/google/android/exoplayer2/testutil/Action.WaitForTimelineChanged.html
506	0	doc/reference/com/google/android/exoplayer2/testutil/Action.html
1038	0	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.Builder.html
229	0	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.Callback.html
298	0	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.PlayerRunnable.html
317	0	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.PlayerTarget.html
233	0	doc/reference/com/google/android/exoplayer2/testutil/ActionSchedule.html
314	0	doc/reference/com/google/android/exoplayer2/testutil/AutoAdvancingFakeClock.html
350	0	doc/reference/com/google/android/exoplayer2/testutil/CacheAsserts.RequestSet.html
356	0	doc/reference/com/google/android/exoplayer2/testutil/CacheAsserts.html
313	0	doc/reference/com/google/android/exoplayer2/testutil/DecoderCountersUtil.html
282	0	doc/reference/com/google/android/exoplayer2/testutil/DefaultRenderersFactoryAsserts.html
227	0	doc/reference/com/google/android/exoplayer2/testutil/DummyMainThread.TestRunnable.html
81	142	doc/reference/com/google/android/exoplayer2/{audio/AudioFocusManager.html => testutil/DummyMainThread.html}
233	0	doc/reference/com/google/android/exoplayer2/testutil/Dumper.Dumpable.html
377	0	doc/reference/com/google/android/exoplayer2/testutil/Dumper.html
703	0	doc/reference/com/google/android/exoplayer2/testutil/ExoHostedTest.html
667	0	doc/reference/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.Builder.html
639	0	doc/reference/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.html
222	0	doc/reference/com/google/android/exoplayer2/testutil/ExtractorAsserts.ExtractorFactory.html
435	0	doc/reference/com/google/android/exoplayer2/testutil/ExtractorAsserts.html
296	0	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSet.Factory.html
354	0	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSet.Iterator.html
333	0	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSet.html
692	0	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.html
357	0	doc/reference/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaSource.html
31	39	doc/reference/com/google/android/exoplayer2/{analytics/AnalyticsCollector.Factory.html => testutil/FakeChunkSource.Factory.html}
483	0	doc/reference/com/google/android/exoplayer2/testutil/FakeChunkSource.html
430	0	doc/reference/com/google/android/exoplayer2/testutil/FakeClock.html
381	0	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSet.FakeData.Segment.html
434	0	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSet.FakeData.html
484	0	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSet.html
360	0	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSource.Factory.html
514	0	doc/reference/com/google/android/exoplayer2/testutil/FakeDataSource.html
73	74	doc/reference/com/google/android/exoplayer2/{drm/DecryptionResource.html => testutil/FakeExtractorInput.Builder.html}
268	0	doc/reference/com/google/android/exoplayer2/testutil/FakeExtractorInput.SimulatedIOException.html
796	0	doc/reference/com/google/android/exoplayer2/testutil/FakeExtractorInput.html
491	0	doc/reference/com/google/android/exoplayer2/testutil/FakeExtractorOutput.html
389	0	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaChunk.html
350	0	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaChunkIterator.html
384	0	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaClockRenderer.html
862	0	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaPeriod.html
626	0	doc/reference/com/google/android/exoplayer2/testutil/FakeMediaSource.html
595	0	doc/reference/com/google/android/exoplayer2/testutil/FakeRenderer.html
422	0	doc/reference/com/google/android/exoplayer2/testutil/FakeSampleStream.html
473	0	doc/reference/com/google/android/exoplayer2/testutil/FakeShuffleOrder.html
464	0	doc/reference/com/google/android/exoplayer2/testutil/FakeTimeline.TimelineWindowDefinition.html
546	0	doc/reference/com/google/android/exoplayer2/testutil/FakeTimeline.html
601	0	doc/reference/com/google/android/exoplayer2/testutil/FakeTrackOutput.html
797	0	doc/reference/com/google/android/exoplayer2/testutil/FakeTrackSelection.html
394	0	doc/reference/com/google/android/exoplayer2/testutil/FakeTrackSelector.html
301	0	doc/reference/com/google/android/exoplayer2/testutil/HostActivity.HostedTest.html
541	0	doc/reference/com/google/android/exoplayer2/testutil/HostActivity.html
233	0	doc/reference/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.FilterableManifestMediaPeriodFactory.html
304	0	doc/reference/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.html
602	0	doc/reference/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.html
1422	0	doc/reference/com/google/android/exoplayer2/testutil/StubExoPlayer.html
498	0	doc/reference/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.html
748	0	doc/reference/com/google/android/exoplayer2/testutil/TestUtil.html
385	0	doc/reference/com/google/android/exoplayer2/testutil/TimelineAsserts.html
103	0	doc/reference/com/google/android/exoplayer2/testutil/package-frame.html
643	0	doc/reference/com/google/android/exoplayer2/testutil/package-summary.html
305	0	doc/reference/com/google/android/exoplayer2/testutil/package-tree.html
5	3	doc/reference/com/google/android/exoplayer2/text/CaptionStyleCompat.html
11	5	doc/reference/com/google/android/exoplayer2/text/Cue.html
3	3	doc/reference/com/google/android/exoplayer2/text/SubtitleInputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/text/SubtitleOutputBuffer.html
0	4	doc/reference/com/google/android/exoplayer2/text/TextOutput.html
0	197	doc/reference/com/google/android/exoplayer2/text/TextRenderer.Output.html
24	43	doc/reference/com/google/android/exoplayer2/text/TextRenderer.html
1	0	doc/reference/com/google/android/exoplayer2/text/cea/Cea708Decoder.html
4	0	doc/reference/com/google/android/exoplayer2/text/cea/CeaUtil.html
4	4	doc/reference/com/google/android/exoplayer2/text/dvb/DvbDecoder.html
0	1	doc/reference/com/google/android/exoplayer2/text/package-frame.html
2	8	doc/reference/com/google/android/exoplayer2/text/package-summary.html
5	9	doc/reference/com/google/android/exoplayer2/text/package-tree.html
14	32	doc/reference/com/google/android/exoplayer2/text/ssa/SsaDecoder.html
4	4	doc/reference/com/google/android/exoplayer2/text/subrip/SubripDecoder.html
5	5	doc/reference/com/google/android/exoplayer2/text/ttml/TtmlDecoder.html
5	5	doc/reference/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoder.html
21	14	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.html
248	0	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCue.Builder.TextAlignment.html
38	13	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCue.Builder.html
4	87	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCue.html
4	4	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.html
5	5	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttDecoder.html
2	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttParserUtil.html
1	0	doc/reference/com/google/android/exoplayer2/text/webvtt/package-frame.html
6	0	doc/reference/com/google/android/exoplayer2/text/webvtt/package-summary.html
2	1	doc/reference/com/google/android/exoplayer2/text/webvtt/package-tree.html
19	60	doc/reference/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.Factory.html
14	54	doc/reference/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/BaseTrackSelection.html
1	0	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.AudioTrackScore.html
78	13	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.Parameters.html
60	8	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.ParametersBuilder.html
1	0	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.TextTrackScore.html
119	43	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.html
4	9	doc/reference/com/google/android/exoplayer2/trackselection/FixedTrackSelection.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/FixedTrackSelection.html
20	16	doc/reference/com/google/android/exoplayer2/trackselection/MappingTrackSelector.MappedTrackInfo.html
6	3	doc/reference/com/google/android/exoplayer2/trackselection/MappingTrackSelector.html
6	11	doc/reference/com/google/android/exoplayer2/trackselection/RandomTrackSelection.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/trackselection/RandomTrackSelection.html
0	283	doc/reference/com/google/android/exoplayer2/trackselection/TrackBitrateEstimator.html
10	37	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelection.Factory.html
12	37	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelection.html
54	4	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.Builder.html
66	19	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.html
2	105	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionUtil.html
4	4	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectorResult.html
0	2	doc/reference/com/google/android/exoplayer2/trackselection/package-frame.html
3	15	doc/reference/com/google/android/exoplayer2/trackselection/package-summary.html
0	2	doc/reference/com/google/android/exoplayer2/trackselection/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/ui/AspectRatioFrameLayout.html
4	4	doc/reference/com/google/android/exoplayer2/ui/DebugTextViewHelper.html
3	3	doc/reference/com/google/android/exoplayer2/ui/DefaultTimeBar.html
3	3	doc/reference/com/google/android/exoplayer2/ui/PlaybackControlView.html
61	40	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.html
33	24	doc/reference/com/google/android/exoplayer2/ui/PlayerView.html
3	4	doc/reference/com/google/android/exoplayer2/ui/SimpleExoPlayerView.html
1	1	doc/reference/com/google/android/exoplayer2/ui/SubtitleView.html
2	2	doc/reference/com/google/android/exoplayer2/ui/TrackSelectionView.html
2	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
0	439	doc/reference/com/google/android/exoplayer2/ui/spherical/GlViewGroup.html
0	416	doc/reference/com/google/android/exoplayer2/ui/spherical/SceneRenderer.html
4	4	doc/reference/com/google/android/exoplayer2/ui/spherical/SingleTapListener.html
28	28	doc/reference/com/google/android/exoplayer2/ui/spherical/{SphericalSurfaceView.html => SphericalGLSurfaceView.html}
1	5	doc/reference/com/google/android/exoplayer2/ui/spherical/package-frame.html
1	25	doc/reference/com/google/android/exoplayer2/ui/spherical/package-summary.html
1	13	doc/reference/com/google/android/exoplayer2/ui/spherical/package-tree.html
1	27	doc/reference/com/google/android/exoplayer2/upstream/AssetDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/BaseDataSource.html
4	9	doc/reference/com/google/android/exoplayer2/upstream/ByteArrayDataSink.html
2	10	doc/reference/com/google/android/exoplayer2/upstream/ByteArrayDataSource.html
1	27	doc/reference/com/google/android/exoplayer2/upstream/ContentDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSource.html
1	2	doc/reference/com/google/android/exoplayer2/upstream/DataSpec.Flags.html
156	47	doc/reference/com/google/android/exoplayer2/upstream/DataSpec.html
31	9	doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.html
3	111	doc/reference/com/google/android/exoplayer2/upstream/DefaultDataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/DefaultDataSourceFactory.html
60	76	doc/reference/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.html
2	8	doc/reference/com/google/android/exoplayer2/upstream/DummyDataSource.html
58	76	doc/reference/com/google/android/exoplayer2/{trackselection/WindowedTrackBitrateEstimator.html => upstream/FileDataSource.Factory.html}
18	4	doc/reference/com/google/android/exoplayer2/upstream/FileDataSource.FileDataSourceException.html
10	34	doc/reference/com/google/android/exoplayer2/upstream/FileDataSource.html
18	7	doc/reference/com/google/android/exoplayer2/upstream/FileDataSourceFactory.html
12	6	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.BaseFactory.html
9	5	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Loader.Loadable.html
16	14	doc/reference/com/google/android/exoplayer2/upstream/Loader.html
1	27	doc/reference/com/google/android/exoplayer2/upstream/RawResourceDataSource.html
1	83	doc/reference/com/google/android/exoplayer2/upstream/UdpDataSource.html
48	27	doc/reference/com/google/android/exoplayer2/upstream/cache/Cache.html
49	36	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheUtil.html
9	35	doc/reference/com/google/android/exoplayer2/upstream/cache/LeastRecentlyUsedCacheEvictor.html
54	85	doc/reference/com/google/android/exoplayer2/upstream/cache/SimpleCache.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-tree.html
1	0	doc/reference/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSink.html
1	0	doc/reference/com/google/android/exoplayer2/upstream/package-frame.html
22	16	doc/reference/com/google/android/exoplayer2/upstream/package-summary.html
3	2	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
65	1	doc/reference/com/google/android/exoplayer2/util/Assertions.html
4	0	doc/reference/com/google/android/exoplayer2/util/Clock.html
18	2	doc/reference/com/google/android/exoplayer2/util/ConditionVariable.html
145	46	doc/reference/com/google/android/exoplayer2/util/EventLogger.html
4	1	doc/reference/com/google/android/exoplayer2/util/HandlerWrapper.html
7	10	doc/reference/com/google/android/exoplayer2/util/MediaClock.html
2	2	doc/reference/com/google/android/exoplayer2/util/NalUnitUtil.SpsData.html
18	16	doc/reference/com/google/android/exoplayer2/{audio/AudioFocusManager.PlayerCommand.html => util/NonNullApi.html}
2	2	doc/reference/com/google/android/exoplayer2/util/NotificationUtil.html
34	12	doc/reference/com/google/android/exoplayer2/util/ParsableBitArray.html
6	9	doc/reference/com/google/android/exoplayer2/util/StandaloneMediaClock.html
8	4	doc/reference/com/google/android/exoplayer2/util/UriUtil.html
279	94	doc/reference/com/google/android/exoplayer2/util/Util.html
1	0	doc/reference/com/google/android/exoplayer2/util/package-frame.html
8	1	doc/reference/com/google/android/exoplayer2/util/package-summary.html
2	1	doc/reference/com/google/android/exoplayer2/util/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.CodecMaxValues.html
336	0	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.VideoDecoderException.html
249	101	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.html
1175	0	doc/reference/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.html
293	0	doc/reference/com/google/android/exoplayer2/video/VideoDecoderException.html
61	56	doc/reference/com/google/android/exoplayer2/{ext/vp9/VpxVideoSurfaceView.html => video/VideoDecoderGLSurfaceView.html}
317	0	doc/reference/com/google/android/exoplayer2/video/VideoDecoderInputBuffer.html
23	44	doc/reference/com/google/android/exoplayer2/{audio/AudioFocusManager.PlayerControl.html => video/VideoDecoderOutputBuffer.Owner.html}
650	0	doc/reference/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.html
24	27	doc/reference/com/google/android/exoplayer2/{drm/DecryptionResource.Owner.html => video/VideoDecoderOutputBufferRenderer.html}
11	10	doc/reference/com/google/android/exoplayer2/video/VideoFrameMetadataListener.html
11	0	doc/reference/com/google/android/exoplayer2/video/package-frame.html
59	0	doc/reference/com/google/android/exoplayer2/video/package-summary.html
44	0	doc/reference/com/google/android/exoplayer2/video/package-tree.html
0	4	doc/reference/com/google/android/exoplayer2/video/spherical/CameraMotionListener.html
19	20	doc/reference/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.html
570	226	doc/reference/constant-values.html
375	196	doc/reference/deprecated-list.html
4427	1199	doc/reference/index-all.html
2	0	doc/reference/overview-frame.html
52	44	doc/reference/overview-summary.html
178	57	doc/reference/overview-tree.html
2	0	doc/reference/package-list
109	7	doc/reference/serialized-form.html

commit 3a9de4b4a47989162220415ae71339e0d5551500
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-07 00:29:42 +0000

    Update developer guide for 2.11

1	1	_config.yml
45	10	dash.md
52	33	demo-application.md
2	2	design-documents.md
11	4	downloading-media.md
19	9	drm.md
25	14	hello-world.md
43	8	hls.md
1	1	issues/player-accessed-on-wrong-thread.md
32	10	listening-to-player-events.md
41	6	progressive.md
2	2	shrinking.md
44	9	smoothstreaming.md
7	6	supported-formats.md
4	2	track-selection.md
12	2	troubleshooting.md
9	7	ui-components.md

commit bdcdabac0142c0541d74f35361c2f34c35811398
Author: Oliver Woodman <olly@google.com>
Date:   2019-12-06 23:32:04 +0000

    Finalize release notes

14	17	RELEASENOTES.md

commit 7e93c5c0b6435fa185df9b38e1831dad2a92ed7b
Author: olly <olly@google.com>
Date:   2019-12-06 11:33:10 +0000

    Enable physical display size hacks for API level 29
    
    For AOSP TV devices that might not pass manual verification.
    
    PiperOrigin-RevId: 284154763

1	1	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 22f25c57bbbb63fd0e7ee1ece52e455f5e534b9f
Author: olly <olly@google.com>
Date:   2019-12-06 11:09:44 +0000

    MatroskaExtractor naming cleanup II
    
    - Remove "lacing" from member variables. They're used even if
      there is no lacing (and the fact that lacing is the way of
      getting multiple samples into a block isn't important).
    
    Issue: #3026
    PiperOrigin-RevId: 284152447

30	29	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 5973b76481392f5f84fedb1603ad7440f2240bd2
Author: olly <olly@google.com>
Date:   2019-12-05 18:20:07 +0000

    MatroskaExtractor naming cleanup
    
    - Change sampleHasReferenceBlock to a block reading variable, which is
      what it is (the distinction didn't matter previously, but will do so
      when we add lacing support in full blocks because there wont be a 1:1
      relationship any more.
    - Move sampleRead to be a reading state variable.
    - Stop abbreviating "additional"
    
    Issue: #3026
    PiperOrigin-RevId: 284000937

30	26	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 4f363b1492345cc0ce00cb0d50ff0041f3b2c737
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-05 18:19:13 +0000

    Fix mdta handling on I/O error
    
    An I/O error could occur while handling the start of an mdta box, in
    which case retrying would cause another ContainerAtom to be added. Fix
    this by skipping the mdta header before updating container atoms.
    
    PiperOrigin-RevId: 284000715

3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java

commit 1e609e245b6510d7cac637632ead936c5fb62dc9
Author: tonihei <tonihei@google.com>
Date:   2019-12-05 14:59:42 +0000

    Add format and renderer support to renderer exceptions.
    
    This makes the exception easier to interpret and helps with debugging of
    externally reported issues.
    
    PiperOrigin-RevId: 283965317

1	0	RELEASENOTES.md
31	6	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
51	6	library/core/src/main/java/com/google/android/exoplayer2/ExoPlaybackException.java
15	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
23	0	library/core/src/main/java/com/google/android/exoplayer2/RendererCapabilities.java
30	22	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
6	5	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
9	10	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
7	45	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
27	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit eb5016a6ffda33a8dc7adffd10341c2f5ac9edfc
Author: samrobinson <samrobinson@google.com>
Date:   2019-12-05 14:04:43 +0000

    Fix MCR comment line break.
    
    PiperOrigin-RevId: 283958680

1	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit e10a78e6b7a2ccfe8d21d460b08fcfdf5fec4100
Author: olly <olly@google.com>
Date:   2019-12-05 13:02:01 +0000

    Add NonNull annotations to text packages
    
    PiperOrigin-RevId: 283951181

1	1	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/text/SimpleSubtitleDecoder.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
0	6	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Cue.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Decoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/cea/package-info.java
81	50	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/package-info.java
15	10	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/package-info.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/package-info.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCue.java
3	5	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttParserUtil.java

commit cab05cb71de25a3af36048d91c47c61f9c2c0f17
Author: olly <olly@google.com>
Date:   2019-12-04 20:29:56 +0000

    Two minor nullability fixes
    
    PiperOrigin-RevId: 283810554

4	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/MpegAudioHeader.java

commit 9f44e902b14fdb1820f72ce55884efb932da0d8c
Author: olly <olly@google.com>
Date:   2019-12-04 19:03:35 +0000

    Fix incorrect DvbParser assignment
    
    PiperOrigin-RevId: 283791815

1	1	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java

commit e97b8347eb190f12191c5b97d1c086326387f9bb
Author: tonihei <tonihei@google.com>
Date:   2019-12-04 15:41:41 +0000

    Add IntDefs for renderer capabilities.
    
    This simplifies documentation and adds compiler checks that the correct values
    are used.
    
    PiperOrigin-RevId: 283754163

5	3	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
2	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
1	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
1	0	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
5	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
1	1	library/core/build.gradle
1	0	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/NoSampleRenderer.java
147	30	library/core/src/main/java/com/google/android/exoplayer2/RendererCapabilities.java
11	6	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
10	7	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
5	2	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
65	59	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
70	61	library/core/src/main/java/com/google/android/exoplayer2/trackselection/MappingTrackSelector.java
9	5	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
9	5	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java
17	10	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
8	3	library/core/src/test/java/com/google/android/exoplayer2/trackselection/MappingTrackSelectorTest.java
2	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/TrackSelectionView.java
1	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
4	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeRenderer.java

commit 7d7c37b3248678826b3274574e863486ea1af93f
Author: olly <olly@google.com>
Date:   2019-12-04 14:28:18 +0000

    Add NonNull annotations to metadata packages
    
    Also remove MetadataRenderer and SpliceInfoDecoder from the
    nullness blacklist
    
    PiperOrigin-RevId: 283744417

7	11	library/core/src/main/java/com/google/android/exoplayer2/metadata/Metadata.java
13	10	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/flac/package-info.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/package-info.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/ApicFrame.java
13	7	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Decoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/package-info.java
7	3	library/core/src/main/java/com/google/android/exoplayer2/metadata/scte35/SpliceInfoDecoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/scte35/package-info.java

commit 86a86f6466987f97954e16a0bc0b6d256fa53944
Author: ibaker <ibaker@google.com>
Date:   2019-12-04 11:41:38 +0000

    Refactor ExtractorInput javadoc about allowEndOfInput
    
    This parameter is a little confusing, especially as the behaviour
    can be surprising if the intended use-case isn't clear. This change
    moves the description of the parameter into the class javadoc,
    adds context/justification and slims down each method's
    javadoc to refer to the class-level.
    
    Related to investigating/fixing issue:#6700
    
    PiperOrigin-RevId: 283724826

63	31	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java

commit 6a354bb29fc4c0cc8a13888fb6de2de721da3ba4
Author: Ian Baker <ibaker@google.com>
Date:   2019-12-05 10:19:27 +0000

    Merge pull request #6595 from szaboa:dev-v2-ssa-position
    
    PiperOrigin-RevId: 283722376

6	0	RELEASENOTES.md
1	0	constants.gradle
2	0	library/core/build.gradle
299	82	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
83	0	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDialogueFormat.java
284	0	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaStyle.java
10	11	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaSubtitle.java
16	0	library/core/src/test/assets/ssa/invalid_positioning
12	0	library/core/src/test/assets/ssa/overlapping_timecodes
18	0	library/core/src/test/assets/ssa/positioning
7	0	library/core/src/test/assets/ssa/positioning_without_playres
3	3	library/core/src/test/assets/ssa/typical
176	0	library/core/src/test/java/com/google/android/exoplayer2/text/ssa/SsaDecoderTest.java

commit 5171a4bf5ed152fff38f8734eef46579035e7e29
Author: bachinger <bachinger@google.com>
Date:   2019-12-03 17:42:48 +0000

    reduce number of notification updates
    
    Issue: #6657
    PiperOrigin-RevId: 283563218

56	33	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit e5957912452ef099be8855ba2b58995c8b31e833
Author: ibaker <ibaker@google.com>
Date:   2019-12-03 17:18:27 +0000

    Clarify Cue.DIMEN_UNSET is also used for size
    
    PiperOrigin-RevId: 283559073

1	1	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit b112ae000c9b377569fb19a782213bf6c750ec5c
Author: olly <olly@google.com>
Date:   2019-12-03 16:51:43 +0000

    Use peak rather than average bitrate for HLS
    
    This is a minor change ahead of merging a full variant of
    https://github.com/google/ExoPlayer/pull/6706, to make
    re-buffers less likely.
    
    Also remove variable substitution when parsing
    AVERAGE-BANDWIDTH (it's not required for integer attributes)
    
    PiperOrigin-RevId: 283554106

5	3	RELEASENOTES.md
10	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 9e238eb6d365e76b20e39147aeae5091ea4451ee
Author: bachinger <bachinger@google.com>
Date:   2019-12-03 16:05:27 +0000

    MediaSessionConnector: Support ACTION_SET_CAPTIONING_ENABLED
    
    PiperOrigin-RevId: 283546707

2	0	RELEASENOTES.md
51	3	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit ab016ebd8126d4298e159b67d51b790ce26e49d1
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-03 15:47:10 +0000

    Fix comment typo
    
    PiperOrigin-RevId: 283543456

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java

commit a6098bb9fa989760f83462174896705e1a302a22
Author: ibaker <ibaker@google.com>
Date:   2019-12-03 14:03:17 +0000

    Allow AdtsExtractor to encounter EOF
    
    Fixes issue:#6700
    
    sample_cbs_truncated.adts test file produced using
    `$ split -b 31795 sample_truncated.adts` to remove the last 10 bytes
    
    PiperOrigin-RevId: 283530136

2	0	RELEASENOTES.md
36	28	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java
-	-	library/core/src/test/assets/ts/sample_cbs_truncated.adts
627	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
427	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
247	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
55	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
627	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
8	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorTest.java

commit 668e8b12e06f896649ce53362c9ddf863e71e476
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-03 11:39:03 +0000

    Fix typo in DefaultTimeBar javadoc
    
    PiperOrigin-RevId: 283515315

11	28	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit 92566323da68addfd64c2103d236e444a25b2d9b
Author: olly <olly@google.com>
Date:   2019-12-02 18:24:59 +0000

    Remove some more core classes from nullness blacklist
    
    PiperOrigin-RevId: 283366568

6	3	library/core/src/main/java/com/google/android/exoplayer2/NoSampleRenderer.java
18	15	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioRendererEventListener.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/MpegAudioHeader.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java
18	13	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataDecoderFactory.java
31	26	library/core/src/main/java/com/google/android/exoplayer2/text/SubtitleDecoderFactory.java
17	19	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
11	16	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/LeastRecentlyUsedCacheEvictor.java
9	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpan.java
20	16	library/core/src/main/java/com/google/android/exoplayer2/video/VideoRendererEventListener.java

commit ab1d54d0acaadfa8b020ccf5a5bc3b32e6b2d716
Author: bachinger <bachinger@google.com>
Date:   2019-12-04 09:59:01 +0000

    Merge pull request #6696 from phhusson:fix/nullable-selection-override
    
    PiperOrigin-RevId: 283347700

42	26	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit b296b8d80744667ab502d729fda605f7e027f5e8
Author: olly <olly@google.com>
Date:   2019-12-02 13:58:12 +0000

    Remove nullness blacklist for UI module
    
    PiperOrigin-RevId: 283324784

36	0	library/core/src/main/java/com/google/android/exoplayer2/util/Assertions.java
30	14	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
72	54	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit 02ddfdc0c824a023463ef9b42cc22bc1b2b98d7b
Author: olly <olly@google.com>
Date:   2019-12-02 13:56:44 +0000

    Bump targetSdkVersion to 29 for demo apps only
    
    PiperOrigin-RevId: 283324612

2	1	constants.gradle
1	1	demos/cast/build.gradle
1	1	demos/main/build.gradle
1	0	demos/main/src/main/AndroidManifest.xml
1	1	demos/surface/build.gradle

commit 78e72abbc47d9d2c005b49e5b17f13e415cca99c
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-02 13:10:01 +0000

    Remove row VP9 multi-threading option
    
    PiperOrigin-RevId: 283319944

5	18	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
2	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java

commit 8e44e3b795667ad4792d3db9bfcd23d80a158e44
Author: olly <olly@google.com>
Date:   2019-12-02 11:42:56 +0000

    Remove LibvpxVideoRenderer from nullness blacklist
    
    PiperOrigin-RevId: 283310946

4	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java

commit 8ae654c48584c4dd04c9f024a97b0191135d4d59
Author: olly <olly@google.com>
Date:   2019-12-02 10:59:07 +0000

    Add layer of indirection for drawables
    
    This allows easy overriding of the resources by app developers
    
    Issue: #6709
    PiperOrigin-RevId: 283306121

3	0	RELEASENOTES.md
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_fullscreen_enter.xml => exo_icon_fullscreen_enter.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_fullscreen_exit.xml => exo_icon_fullscreen_exit.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_repeat_all.xml => exo_icon_repeat_all.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_repeat_off.xml => exo_icon_repeat_off.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_repeat_one.xml => exo_icon_repeat_one.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_shuffle_off.xml => exo_icon_shuffle_off.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_shuffle_on.xml => exo_icon_shuffle_on.xml}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xxxhdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
9	0	library/ui/src/main/res/values/drawables.xml
1	1	library/ui/src/main/res/values/styles.xml

commit 815ec8afab9e86ecdc742bcb3c1bbc6012b49dbd
Author: olly <olly@google.com>
Date:   2019-12-02 09:45:10 +0000

    Provide instructions for building extensions using Windows PowerShell
    
    PiperOrigin-RevId: 283296427

8	1	extensions/av1/README.md
8	1	extensions/ffmpeg/README.md
8	1	extensions/flac/README.md
8	1	extensions/opus/README.md
8	1	extensions/vp9/README.md

commit 5f465f770b41db4c71417630bcd78007a09aaddd
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-29 09:30:52 +0000

    Remove AdsManager listeners on release
    
    Issue: #6687
    PiperOrigin-RevId: 283023548

3	0	RELEASENOTES.md
5	0	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit 621d7a493b2b71f624be32b8353c7f1523a002d2
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-12-06 12:45:07 -0800

    Fix not to call codec.setOnFrameRenderedListener(null, null) unless stoping codec
    
    Refator to lift a method to create (and destroy) the OnFrameRenderedListenerV23() and split destroying the Handler from removing the MediaCodec onFrameRenderedListener to avoid double call to codec.setOnFrameRenderedListener()

40	19	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 224236b4b60ed5e5696530050738f6990e41a944
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-11-19 16:51:26 -0800

    Cleanup onFrameRenderListener handler...
    
    Even if the codec is null (presume it's handler was run down first, this happens in `MediaCodec.stop()`) make sure to run down our own Handler.

1	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 245c9fec5a0ec42598dcc0113c325ae916bd323b
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-11-15 13:35:48 -0800

    Cleanup tunneled onFrameRenderListener
    
    Cleanup the handler to prevent stale messages and potential handler leaks

46	2	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 45013ece1e3fe054ff8960355a89559241eeb288
Author: olly <olly@google.com>
Date:   2019-12-06 17:02:19 +0000

    Add unit test for MatroskaExtractor full Block
    
    The existing sample uses SimpleBlock
    
    PiperOrigin-RevId: 284195590

-	-	library/core/src/test/assets/mkv/full_blocks.mkv
43	0	library/core/src/test/assets/mkv/full_blocks.mkv.0.dump
43	0	library/core/src/test/assets/mkv/full_blocks.mkv.1.dump
43	0	library/core/src/test/assets/mkv/full_blocks.mkv.2.dump
43	0	library/core/src/test/assets/mkv/full_blocks.mkv.3.dump
5	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractorTest.java

commit d73af0247bc45bc2b3602cf22c480ee51d98a3dc
Author: olly <olly@google.com>
Date:   2019-12-06 16:05:40 +0000

    Suppress warnings emitted by Checker Framework version 3.0.1
    
    More information:
    https://docs.google.com/document/d/16tpK6aXqN68PvTyvt4siM-m7f0NXi_8xEeitLDzr8xY/edit?usp=sharing
    
    Tested:
        TAP train for global presubmit queue
        http://test/OCL:284110051:BASE:284105515:1575631294184:2673a9f9
    PiperOrigin-RevId: 284186732

2	0	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java

commit a705480b5d1f4659bf4d210ea2588d3cc2ae2424
Author: bachinger <bachinger@google.com>
Date:   2019-12-06 15:24:55 +0000

    remove flakiness of testSeekTo_windowIndexIsReset
    
    PiperOrigin-RevId: 284180332

2	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit d0508b2bdef002c8c8c0ad400b7204a7d1eade21
Author: kimvde <kimvde@google.com>
Date:   2019-12-06 14:07:28 +0000

    Make metadata field nullable in FlacStreamMetadata
    
    This makes the format metadata null (instead of an empty Metadata
    object) when it is not provided, and is therefore consistent with the
    other extractors behavior.
    
    PiperOrigin-RevId: 284171148

1	1	extensions/flac/src/androidTest/assets/bear.flac.0.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.1.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.2.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.3.dump
1	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
15	10	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
1	1	library/core/src/test/assets/flac/bear.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_no_num_samples.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
1	1	library/core/src/test/assets/flac/bear_with_id3_disabled.flac.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump
1	1	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java

commit 4ad6d9d85cbcee278e6539f2dc081b409cc26015
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-06 13:21:46 +0000

    Don't overwrite MP4 container fps using capture fps
    
    The capture frame rate is currently available both via Format.metadata
    and decoded in Format.frameRate. As the container Format.frameRate may
    be useful to apps, only store the capture frame rate in metadata (apps
    will need to decode it but can now access the container frame rate too).
    
    PiperOrigin-RevId: 284165711

2	0	RELEASENOTES.md
2	11	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtil.java
-	-	library/core/src/test/assets/mp4/sample_android_slow_motion.mp4
61	0	library/core/src/test/assets/mp4/sample_android_slow_motion.mp4.0.dump
61	0	library/core/src/test/assets/mp4/sample_android_slow_motion.mp4.1.dump
61	0	library/core/src/test/assets/mp4/sample_android_slow_motion.mp4.2.dump
61	0	library/core/src/test/assets/mp4/sample_android_slow_motion.mp4.3.dump
5	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java

commit 781e15ae3eb4386ed3af871e4cc814e05d664e21
Author: olly <olly@google.com>
Date:   2019-12-06 11:33:10 +0000

    Enable physical display size hacks for API level 29
    
    For AOSP TV devices that might not pass manual verification.
    
    PiperOrigin-RevId: 284154763

1	1	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 59c17163d6b8900b2322d461a3b43ced00da7a37
Author: olly <olly@google.com>
Date:   2019-12-06 11:09:44 +0000

    MatroskaExtractor naming cleanup II
    
    - Remove "lacing" from member variables. They're used even if
      there is no lacing (and the fact that lacing is the way of
      getting multiple samples into a block isn't important).
    
    Issue: #3026
    PiperOrigin-RevId: 284152447

30	29	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit dd60bac07d827155f8bdc25972050d43b97bbac2
Author: olly <olly@google.com>
Date:   2019-12-05 18:20:07 +0000

    MatroskaExtractor naming cleanup
    
    - Change sampleHasReferenceBlock to a block reading variable, which is
      what it is (the distinction didn't matter previously, but will do so
      when we add lacing support in full blocks because there wont be a 1:1
      relationship any more.
    - Move sampleRead to be a reading state variable.
    - Stop abbreviating "additional"
    
    Issue: #3026
    PiperOrigin-RevId: 284000937

30	26	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit bf495de529aef70b7a2de862a425cbc6424fb8be
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-05 18:19:13 +0000

    Fix mdta handling on I/O error
    
    An I/O error could occur while handling the start of an mdta box, in
    which case retrying would cause another ContainerAtom to be added. Fix
    this by skipping the mdta header before updating container atoms.
    
    PiperOrigin-RevId: 284000715

3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java

commit 32f02107b428b63cae09c35ab6ce2f99b60e3f3e
Author: ibaker <ibaker@google.com>
Date:   2019-12-05 17:53:55 +0000

    Stop disabling InvalidPackage now we're on JUnit 4.13
    
    PiperOrigin-RevId: 283995105

0	7	testutils/build.gradle

commit cad2fe3955fcdd1e154788420513100398ef819c
Author: ibaker <ibaker@google.com>
Date:   2019-12-05 17:52:39 +0000

    Upgrade to JUnit 4.13-rc-2
    
    PiperOrigin-RevId: 283994812

1	0	RELEASENOTES.md
1	0	constants.gradle
1	0	testutils/build.gradle

commit f25bcedf72e00d88a9baca04976ce5785e61484c
Author: bachinger <bachinger@google.com>
Date:   2019-12-05 17:20:29 +0000

    Playlist API: submit ahead some files of the playlist API CL
    
    PiperOrigin-RevId: 283988536

2	5	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakePlayer.java
3	1	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
46	0	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
49	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/NoUidTimeline.java

commit aa2e9ffc1011385f4817dc279bec7e5615e256b3
Author: olly <olly@google.com>
Date:   2019-12-05 15:08:56 +0000

    Fix casting to not need warning suppression
    
    Also remove getRendererCapabilities arg that's now always null.
    
    PiperOrigin-RevId: 283966795

3	4	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
2	7	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java

commit 64703e4aa6544355de04d1ab98c4dba959a6dfd6
Author: tonihei <tonihei@google.com>
Date:   2019-12-05 14:59:42 +0000

    Add format and renderer support to renderer exceptions.
    
    This makes the exception easier to interpret and helps with debugging of
    externally reported issues.
    
    PiperOrigin-RevId: 283965317

1	0	RELEASENOTES.md
31	6	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
51	6	library/core/src/main/java/com/google/android/exoplayer2/ExoPlaybackException.java
15	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
23	0	library/core/src/main/java/com/google/android/exoplayer2/RendererCapabilities.java
30	22	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
6	5	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
9	10	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
7	45	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
27	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit cbdf45aa5f58b1c8359b48c129d5de9dfa562846
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-05 14:14:48 +0000

    Verify metadata in extractor tests
    
    PiperOrigin-RevId: 283960017

1	0	extensions/flac/src/androidTest/assets/bear.flac.0.dump
1	0	extensions/flac/src/androidTest/assets/bear.flac.1.dump
1	0	extensions/flac/src/androidTest/assets/bear.flac.2.dump
1	0	extensions/flac/src/androidTest/assets/bear.flac.3.dump
1	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.0.dump
1	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.1.dump
1	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.2.dump
1	0	extensions/flac/src/androidTest/assets/bear_with_id3.flac.3.dump
1	0	library/core/src/test/assets/amr/sample_nb.amr.0.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.0.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.1.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.2.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.3.dump
1	0	library/core/src/test/assets/amr/sample_nb_cbr.amr.unklen.dump
1	0	library/core/src/test/assets/amr/sample_wb.amr.0.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.0.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.1.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.2.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.3.dump
1	0	library/core/src/test/assets/amr/sample_wb_cbr.amr.unklen.dump
1	0	library/core/src/test/assets/flac/bear.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_no_num_samples.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
-	-	library/core/src/test/assets/flac/{bear_with_id3.flac => bear_with_id3_disabled.flac}
1	0	library/core/src/test/assets/flac/{bear_with_id3.flac.0.dump => bear_with_id3_disabled.flac.0.dump}
-	-	library/core/src/test/assets/flac/bear_with_id3_enabled.flac
164	0	library/core/src/test/assets/flac/bear_with_id3_enabled.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_with_picture.flac.0.dump
1	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.0.dump
2	0	library/core/src/test/assets/flv/sample.flv.0.dump
2	0	library/core/src/test/assets/mkv/sample.mkv.0.dump
2	0	library/core/src/test/assets/mkv/sample.mkv.1.dump
2	0	library/core/src/test/assets/mkv/sample.mkv.2.dump
2	0	library/core/src/test/assets/mkv/sample.mkv.3.dump
1	0	library/core/src/test/assets/mkv/subsample_encrypted_altref.webm.0.dump
1	0	library/core/src/test/assets/mkv/subsample_encrypted_noaltref.webm.0.dump
1	0	library/core/src/test/assets/mp3/bear.mp3.0.dump
1	0	library/core/src/test/assets/mp3/bear.mp3.1.dump
1	0	library/core/src/test/assets/mp3/bear.mp3.2.dump
1	0	library/core/src/test/assets/mp3/bear.mp3.3.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.0.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.1.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.2.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.3.dump
1	0	library/core/src/test/assets/mp3/play-trimmed.mp3.unklen.dump
2	0	library/core/src/test/assets/mp4/sample.mp4.0.dump
2	0	library/core/src/test/assets/mp4/sample.mp4.1.dump
2	0	library/core/src/test/assets/mp4/sample.mp4.2.dump
2	0	library/core/src/test/assets/mp4/sample.mp4.3.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented.mp4.0.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented_seekable.mp4.0.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented_seekable.mp4.1.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented_seekable.mp4.2.dump
2	0	library/core/src/test/assets/mp4/sample_fragmented_seekable.mp4.3.dump
3	0	library/core/src/test/assets/mp4/sample_fragmented_sei.mp4.0.dump
1	0	library/core/src/test/assets/ogg/bear.opus.0.dump
1	0	library/core/src/test/assets/ogg/bear.opus.1.dump
1	0	library/core/src/test/assets/ogg/bear.opus.2.dump
1	0	library/core/src/test/assets/ogg/bear.opus.3.dump
1	0	library/core/src/test/assets/ogg/bear.opus.unklen.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
1	0	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
1	0	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.0.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.1.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.2.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.3.dump
1	0	library/core/src/test/assets/ogg/bear_vorbis.ogg.unklen.dump
1	0	library/core/src/test/assets/rawcc/sample.rawcc.0.dump
1	0	library/core/src/test/assets/ts/sample.ac3.0.dump
1	0	library/core/src/test/assets/ts/sample.ac4.0.dump
2	0	library/core/src/test/assets/ts/sample.adts.0.dump
1	0	library/core/src/test/assets/ts/sample.eac3.0.dump
2	0	library/core/src/test/assets/ts/sample.ps.0.dump
2	0	library/core/src/test/assets/ts/sample.ps.1.dump
2	0	library/core/src/test/assets/ts/sample.ps.2.dump
2	0	library/core/src/test/assets/ts/sample.ps.3.dump
2	0	library/core/src/test/assets/ts/sample.ps.unklen.dump
3	0	library/core/src/test/assets/ts/sample.ts.0.dump
3	0	library/core/src/test/assets/ts/sample.ts.1.dump
3	0	library/core/src/test/assets/ts/sample.ts.2.dump
3	0	library/core/src/test/assets/ts/sample.ts.3.dump
3	0	library/core/src/test/assets/ts/sample.ts.unklen.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.0.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.1.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.2.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.3.dump
2	0	library/core/src/test/assets/ts/sample_cbs.adts.unklen.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
2	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
1	0	library/core/src/test/assets/wav/sample.wav.0.dump
1	0	library/core/src/test/assets/wav/sample.wav.1.dump
1	0	library/core/src/test/assets/wav/sample.wav.2.dump
1	0	library/core/src/test/assets/wav/sample.wav.3.dump
4	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
0	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java
4	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackOutput.java

commit f3ba74324eec5c47943d43ce4acc29212109d7dd
Author: samrobinson <samrobinson@google.com>
Date:   2019-12-05 14:04:43 +0000

    Fix MCR comment line break.
    
    PiperOrigin-RevId: 283958680

1	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 96ea43675970900350b9af272686c1d08517a9f0
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-12-05 13:46:05 +0000

    Add a test for SampleQueue capacity increases
    
    Also remove redundant line
    
    PiperOrigin-RevId: 283956203

2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
28	0	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit 9376479553abdf4e1c69ccfa8644a43c8face9df
Author: olly <olly@google.com>
Date:   2019-12-05 13:02:01 +0000

    Add NonNull annotations to text packages
    
    PiperOrigin-RevId: 283951181

1	1	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/text/SimpleSubtitleDecoder.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
0	6	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Cue.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Decoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/cea/package-info.java
81	50	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/package-info.java
15	10	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/package-info.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/package-info.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCue.java
3	5	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttParserUtil.java

commit cb873dd1eeeddea70c0655c15a35cb9251da14d9
Author: olly <olly@google.com>
Date:   2019-12-05 12:39:22 +0000

    Use play and pause convenience methods
    
    PiperOrigin-RevId: 283949259

1	1	demos/surface/src/main/java/com/google/android/exoplayer2/surfacedemo/MainActivity.java
2	2	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastPlayerTest.java
1	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
1	1	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
1	1	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
2	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit 0466a5004c8037ea9cd9cbd778d9685f2af6ecde
Author: Ian Baker <ibaker@google.com>
Date:   2019-12-06 11:20:25 +0000

    Switch SubtitleView to always use WebView

28	51	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java

commit b35d5d894e2775067e54d28ff72b9ea5d131ca97
Author: olly <olly@google.com>
Date:   2019-12-04 20:29:56 +0000

    Two minor nullability fixes
    
    PiperOrigin-RevId: 283810554

4	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/MpegAudioHeader.java

commit 140ddc9f3e9b9a0f5e6867d0bd67131e9aaa63bb
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-12-04 19:21:55 +0000

    Invert the ownership scheme between SampleQueue and SampleMetadataQueue
    
    Saves around 200 lines of code. High level overview:
    - Rename SampleQueue to SampleDataQueue.
    - Rename SampleMetadataQueue to SampleQueue.
    
    This CL should not introduce behavior changes. The only significant
    changes in synchronization should be:
    + Add synchronized keyword to isReady.
      - Seems to be necessary.
    + Add synchronized keyword to SampleQueue.sampleMetadata.
      - Before this change, SampleQueue.sampleMetadata could acquire the
        SampleMetadataQueue lock three times in a single method call.
    
    Other miscellaneous improvements:
    + Put all private methods at the bottom.
    + Move release() to the right category.
    
    PiperOrigin-RevId: 283795844

466	0	library/core/src/main/java/com/google/android/exoplayer2/source/SampleDataQueue.java
0	721	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
574	499	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit 61c43c30ac1ec26bdfd25757a0ac6ccee7c25fc2
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-12-04 19:18:56 +0000

    Make DownloadHelper pass DrmSessionManager to MediaSources
    
    PiperOrigin-RevId: 283795201

12	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
41	8	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
11	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceFactory.java
15	14	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
15	14	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
15	14	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
15	14	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 5ce856029158f0231d784fda15dac7fd96c4b878
Author: olly <olly@google.com>
Date:   2019-12-04 19:03:35 +0000

    Fix incorrect DvbParser assignment
    
    PiperOrigin-RevId: 283791815

1	1	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java

commit 72d5b425d3802509661b47c07e771dab6be25e8a
Author: tonihei <tonihei@google.com>
Date:   2019-12-04 15:41:41 +0000

    Add IntDefs for renderer capabilities.
    
    This simplifies documentation and adds compiler checks that the correct values
    are used.
    
    PiperOrigin-RevId: 283754163

5	3	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
2	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
1	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
1	0	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
5	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
1	1	library/core/build.gradle
1	0	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/NoSampleRenderer.java
147	30	library/core/src/main/java/com/google/android/exoplayer2/RendererCapabilities.java
11	6	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
10	7	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
5	2	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
65	59	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
70	61	library/core/src/main/java/com/google/android/exoplayer2/trackselection/MappingTrackSelector.java
9	5	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
9	5	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java
17	10	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
8	3	library/core/src/test/java/com/google/android/exoplayer2/trackselection/MappingTrackSelectorTest.java
2	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/TrackSelectionView.java
1	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
4	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeRenderer.java

commit 3930a539e07da252bfa950d7c5392f17c8620ee0
Author: olly <olly@google.com>
Date:   2019-12-04 14:28:18 +0000

    Add NonNull annotations to metadata packages
    
    Also remove MetadataRenderer and SpliceInfoDecoder from the
    nullness blacklist
    
    PiperOrigin-RevId: 283744417

7	11	library/core/src/main/java/com/google/android/exoplayer2/metadata/Metadata.java
13	10	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/flac/package-info.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/package-info.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/ApicFrame.java
13	7	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Decoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/package-info.java
7	3	library/core/src/main/java/com/google/android/exoplayer2/metadata/scte35/SpliceInfoDecoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/scte35/package-info.java

commit b7666df2b3e80bb0005ae88b06ea745212d20573
Author: olly <olly@google.com>
Date:   2019-12-04 14:24:19 +0000

    Add Player play and pause convenience methods
    
    PiperOrigin-RevId: 283744017

1	0	RELEASENOTES.md
10	0	library/core/src/main/java/com/google/android/exoplayer2/BasePlayer.java
15	7	library/core/src/main/java/com/google/android/exoplayer2/Player.java

commit e54b493bbfee078c192bb697b0c5d945f8a59ca3
Author: ibaker <ibaker@google.com>
Date:   2019-12-04 13:35:53 +0000

    Upgrade Truth from 0.44 to 1.0
    
    I'd like to add a custom CueSubject, and if we upgrade first
    we won't have to migrate from Subject<S, T> to Subject later:
    https://truth.dev/subject_named_actual_type_parameters.html
    
    PiperOrigin-RevId: 283737561

1	0	RELEASENOTES.md
1	1	constants.gradle

commit b045b622055e98828396d434bc5bc70a36ff5886
Author: ibaker <ibaker@google.com>
Date:   2019-12-04 11:41:38 +0000

    Refactor ExtractorInput javadoc about allowEndOfInput
    
    This parameter is a little confusing, especially as the behaviour
    can be surprising if the intended use-case isn't clear. This change
    moves the description of the parameter into the class javadoc,
    adds context/justification and slims down each method's
    javadoc to refer to the class-level.
    
    Related to investigating/fixing issue:#6700
    
    PiperOrigin-RevId: 283724826

63	31	library/core/src/main/java/com/google/android/exoplayer2/extractor/ExtractorInput.java

commit 8494c3aeea6881a7fc10951efb42880f5fc9b89d
Merge: bab897543 3f5654a14
Author: Ian Baker <ibaker@google.com>
Date:   2019-12-05 10:19:27 +0000

    Merge pull request #6595 from szaboa:dev-v2-ssa-position
    
    PiperOrigin-RevId: 283722376

commit 6ef5dc08b7d157af5ccc9582de3b144389894cc7
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-08-21 16:38:31 -0700

    Remove unused methods, comment cleanup.

8	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
0	17	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit a8755b5c253984420a03cd6171377dcfaacdc219
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-08-21 15:38:27 -0700

    Update to save all sample queue write indexes
    
    Finailzed logic to update the `SampleQueue` write positions (first index) to push these into `HlsMediaChunk` when the track is initially created (from the Extractor output) and as each new chunk is queued to load (`init()` callback).
    
    Add lots of debuging prints that can come out for the final merge.
    
    Code is very close to a clone of `ChunkSampleStream`.

12	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
104	43	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 57d516016189e68ef80063a61e08fcd306f8b1b8
Author: Steve Mayhew <mayhew.steve@gmail.com>
Date:   2019-08-16 15:56:32 -0700

    add support SequenceableLoader.reevaluateBuffer() for HLS
    
    DASH implements this feature, extend the feature for HLS as well.  First change just drops video samples.
    For demuxed audio the audio samples will continue to play out to match the
    dropped video, so need to keep indexes in all the sample queues related to a chunk and discard them all.

7	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java
17	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
73	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit bab8975438a609f2a0c3140333d91e4d54a6e771
Author: bachinger <bachinger@google.com>
Date:   2019-12-03 17:42:48 +0000

    reduce number of notification updates
    
    Issue: #6657
    PiperOrigin-RevId: 283563218

56	33	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 9adb94e95ce32cfa80c4b9706b60cc5bfddbcaf5
Author: ibaker <ibaker@google.com>
Date:   2019-12-03 17:18:27 +0000

    Clarify Cue.DIMEN_UNSET is also used for size
    
    PiperOrigin-RevId: 283559073

1	1	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit 14cfb8039f307be1fa6fafa621dca9c3231c53de
Author: olly <olly@google.com>
Date:   2019-12-03 16:51:43 +0000

    Use peak rather than average bitrate for HLS
    
    This is a minor change ahead of merging a full variant of
    https://github.com/google/ExoPlayer/pull/6706, to make
    re-buffers less likely.
    
    Also remove variable substitution when parsing
    AVERAGE-BANDWIDTH (it's not required for integer attributes)
    
    PiperOrigin-RevId: 283554106

5	3	RELEASENOTES.md
10	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 21dd59badbb9dc12384a1b7041ada9454e4a2718
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-03 16:34:24 +0000

    Don't try to track buffersInCodec with tunneling
    
    PiperOrigin-RevId: 283551324

8	2	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 6c10c94f94c72a3bfed5f424ab7ced7f915b47fd
Author: bachinger <bachinger@google.com>
Date:   2019-12-03 16:05:27 +0000

    MediaSessionConnector: Support ACTION_SET_CAPTIONING_ENABLED
    
    PiperOrigin-RevId: 283546707

1	0	RELEASENOTES.md
51	3	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 23b54a95d24022e5fbc03b3e25d3e5f93cfc2092
Author: kimvde <kimvde@google.com>
Date:   2019-12-03 15:51:44 +0000

    Allow no output frame holder BinarySearchSeeker
    
    PiperOrigin-RevId: 283544187

11	6	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
23	5	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
17	9	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
4	35	library/core/src/main/java/com/google/android/exoplayer2/extractor/BinarySearchSeeker.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/PsBinarySearchSeeker.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/PsExtractor.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/TsBinarySearchSeeker.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/TsExtractor.java

commit f28a17f9eb23c0f71a1c65bf5050411dad694f6d
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-03 15:47:10 +0000

    Fix comment typo
    
    PiperOrigin-RevId: 283543456

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java

commit 65c4a588259102ff69155624bcfa47f46ca2c5fa
Author: tonihei <tonihei@google.com>
Date:   2019-12-03 14:25:54 +0000

    Use Util method to create Handler instead of using deprecated method.
    
    Calls to new Handler() without arguments are deprecated as of the latest Android
    version. Replace them by a Util.createHandler call similar to the ones we
    already have.
    
    PiperOrigin-RevId: 283532891

2	1	extensions/leanback/src/main/java/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdsMediaSource.java
18	5	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java
23	17	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
2	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
2	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java
3	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaPeriod.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaSource.java

commit fb6a8a2c5d3c7ce2eb3a8f3ea22033fd613bb3f4
Author: ibaker <ibaker@google.com>
Date:   2019-12-03 14:03:17 +0000

    Allow AdtsExtractor to encounter EOF
    
    Fixes issue:#6700
    
    sample_cbs_truncated.adts test file produced using
    `$ split -b 31795 sample_truncated.adts` to remove the last 10 bytes
    
    PiperOrigin-RevId: 283530136

2	0	RELEASENOTES.md
36	28	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java
-	-	library/core/src/test/assets/ts/sample_cbs_truncated.adts
627	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.0.dump
427	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.1.dump
247	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.2.dump
55	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.3.dump
627	0	library/core/src/test/assets/ts/sample_cbs_truncated.adts.unklen.dump
8	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorTest.java

commit b84bde025258e7307c52eaf6bbe58157d788aa06
Author: tonihei <tonihei@google.com>
Date:   2019-12-03 11:54:04 +0000

    Prevent stuck playback if shouldContinueLoading returns false
    
    If LoadControl.shouldContinueLoading returns false and the renderers are not
    ready for playback using the already buffered data, playback is stuck.
    
    To prevent this situation, we always continue loading if the buffer is almost
    empty. We already have a similar workaround for when
    LoadControl.shouldStartPlayback returns false even if loading stopped.
    
    Having both workarounds allows playback to continue even if the LoadControl
    tries to prevent loading and playing all the time.
    
    PiperOrigin-RevId: 283516750

7	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
39	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
28	12	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit 4f37d28eb1894352f87e929c81b811e6ef19a47a
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-03 11:39:03 +0000

    Fix typo in DefaultTimeBar javadoc
    
    PiperOrigin-RevId: 283515315

11	28	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit 76a170c2963b15d56654afefdf2e98aa1759bda3
Author: olly <olly@google.com>
Date:   2019-12-02 18:24:59 +0000

    Remove some more core classes from nullness blacklist
    
    PiperOrigin-RevId: 283366568

6	3	library/core/src/main/java/com/google/android/exoplayer2/NoSampleRenderer.java
18	15	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioRendererEventListener.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/MpegAudioHeader.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java
18	13	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataDecoderFactory.java
31	26	library/core/src/main/java/com/google/android/exoplayer2/text/SubtitleDecoderFactory.java
17	19	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
11	16	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/LeastRecentlyUsedCacheEvictor.java
9	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpan.java
20	16	library/core/src/main/java/com/google/android/exoplayer2/video/VideoRendererEventListener.java

commit 7c1b1c456b587f718ea8b9f0ba03913bd0eb2e62
Author: samrobinson <samrobinson@google.com>
Date:   2019-12-02 17:18:38 +0000

    Rename `onOutputFormatChanged`.
    
    Clarify `Format` vs `MediaFormat` in MediaCodecRenderer.
    
    PiperOrigin-RevId: 283353651

3	0	RELEASENOTES.md
5	5	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 63d1086715e40eaaa5048d8437965e947932c9eb
Merge: 6c65c27e9 299487c17
Author: bachinger <bachinger@google.com>
Date:   2019-12-04 09:59:01 +0000

    Merge pull request #6696 from phhusson:fix/nullable-selection-override
    
    PiperOrigin-RevId: 283347700

commit 6c65c27e9b130da7f748b80a90a0308eb8a50410
Author: olly <olly@google.com>
Date:   2019-12-02 13:58:12 +0000

    Remove nullness blacklist for UI module
    
    PiperOrigin-RevId: 283324784

36	0	library/core/src/main/java/com/google/android/exoplayer2/util/Assertions.java
30	14	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
72	54	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit d12c7235f9875f74b92d4ba92c5a92fb45c9f749
Author: olly <olly@google.com>
Date:   2019-12-02 13:56:44 +0000

    Bump targetSdkVersion to 29 for demo apps only
    
    PiperOrigin-RevId: 283324612

2	1	constants.gradle
1	1	demos/cast/build.gradle
1	1	demos/main/build.gradle
1	0	demos/main/src/main/AndroidManifest.xml
1	1	demos/surface/build.gradle

commit 9b28e532382ddb458f52ac5846c5f69bc75e5a18
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-12-02 13:10:01 +0000

    Remove row VP9 multi-threading option
    
    PiperOrigin-RevId: 283319944

5	18	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
2	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java

commit f14f0ce8ee54ec89949eb9e9fdd32a4128dc1270
Author: olly <olly@google.com>
Date:   2019-12-02 11:42:56 +0000

    Remove LibvpxVideoRenderer from nullness blacklist
    
    PiperOrigin-RevId: 283310946

4	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java

commit aceba835ccec645a771aa6ac7dff8f566664e813
Author: christosts <christosts@google.com>
Date:   2019-12-02 11:32:36 +0000

    Enable MediaCodec asynchronous mode
    
    Enable using MediaCodec in async mode. Expose experimental
    API to enable/disable the feature.
    
    PiperOrigin-RevId: 283309798

150	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecAsyncCallback.java
204	7	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
112	0	library/core/src/main/java/com/google/android/exoplayer2/util/IntArrayQueue.java
220	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecAsyncCallbackTest.java
140	0	library/core/src/test/java/com/google/android/exoplayer2/util/IntArrayQueueTest.java

commit b68d19bcebec690f00308285e08281db2b84f763
Author: olly <olly@google.com>
Date:   2019-12-02 10:59:07 +0000

    Add layer of indirection for drawables
    
    This allows easy overriding of the resources by app developers
    
    Issue: #6709
    PiperOrigin-RevId: 283306121

3	0	RELEASENOTES.md
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_fullscreen_enter.xml => exo_icon_fullscreen_enter.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_fullscreen_exit.xml => exo_icon_fullscreen_exit.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_repeat_all.xml => exo_icon_repeat_all.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_repeat_off.xml => exo_icon_repeat_off.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_repeat_one.xml => exo_icon_repeat_one.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_shuffle_off.xml => exo_icon_shuffle_off.xml}
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_shuffle_on.xml => exo_icon_shuffle_on.xml}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_fullscreen_enter.png => exo_icon_fullscreen_enter.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_fullscreen_exit.png => exo_icon_fullscreen_exit.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_repeat_all.png => exo_icon_repeat_all.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_repeat_off.png => exo_icon_repeat_off.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_repeat_one.png => exo_icon_repeat_one.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_shuffle_off.png => exo_icon_shuffle_off.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_shuffle_on.png => exo_icon_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xxxhdpi/{exo_notification_small_icon.png => exo_icon_circular_play.png}
9	0	library/ui/src/main/res/values/drawables.xml
1	1	library/ui/src/main/res/values/styles.xml

commit 3065d513100ba5212f5e4d2eac7c16441144c4d1
Author: olly <olly@google.com>
Date:   2019-12-02 09:45:10 +0000

    Provide instructions for building extensions using Windows PowerShell
    
    PiperOrigin-RevId: 283296427

8	1	extensions/av1/README.md
8	1	extensions/ffmpeg/README.md
8	1	extensions/flac/README.md
8	1	extensions/opus/README.md
8	1	extensions/vp9/README.md

commit a0736cfbf556f10e59dd84ed2b037afab9733c40
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-29 09:30:52 +0000

    Remove AdsManager listeners on release
    
    Issue: #6687
    PiperOrigin-RevId: 283023548

3	0	RELEASENOTES.md
5	0	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit 1536a2ceea6f0b0c4d77dc871d51691b951aca61
Author: olly <olly@google.com>
Date:   2019-11-28 09:43:33 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/e26a61b903739014271ab0886bb5db75afb3f1fd
    
    *** Original commit ***
    
    Improve `Format` propagation within the `MediaCodecRenderer`.
    
    For example, fix handling of pixel aspect ratio changes in
    playlists where video resolution does not change.
    
    Issue:#6646
    
    ***
    
    PiperOrigin-RevId: 282903626

0	7	RELEASENOTES.md
5	5	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
12	23	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
37	40	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 69a2cb862fd5b65f975db67c8b97844b81edcfbf
Author: olly <olly@google.com>
Date:   2019-11-27 22:44:40 +0000

    Fix release notes
    
    PiperOrigin-RevId: 282837404

2	2	RELEASENOTES.md

commit 7a2575c3dddc0c898376e268408396166bbf6c3e
Author: olly <olly@google.com>
Date:   2019-11-27 22:40:27 +0000

    Fix release notes
    
    PiperOrigin-RevId: 282836739

23	14	RELEASENOTES.md

commit 9d9a2a681819dc185315cc0a0ec28e1f4207d131
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-27 22:41:01 +0000

    Remove stray release note

0	2	RELEASENOTES.md

commit d30b0285a3136165d12ff8fd89bb585fac5f385f
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-26 09:10:39 +0000

    Fix audio processor draining for reconfiguration
    
    When transitioning to a new stream in a different format, the audio
    processors are reconfigured. After this, they are drained and then
    flushed so that they are ready to handle data in updated formats for the
    new stream.
    
    Before this change, some audio processors made the assumption that after
    reconfiguration no more input would be queued in their old input format,
    but this assumption is not correct: during draining more input may be
    queued. Fix this behavior so that the new configuration is not referred
    to while draining and only becomes active once flushed.
    
    Issue: #6601
    PiperOrigin-RevId: 282515359

4	0	RELEASENOTES.md
6	6	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioProcessor.java
15	6	library/core/src/main/java/com/google/android/exoplayer2/audio/BaseAudioProcessor.java
9	8	library/core/src/main/java/com/google/android/exoplayer2/audio/ChannelMappingAudioProcessor.java
13	5	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java
10	1	library/core/src/main/java/com/google/android/exoplayer2/audio/TeeAudioProcessor.java
21	17	library/core/src/main/java/com/google/android/exoplayer2/audio/TrimmingAudioProcessor.java

commit b9f79b40f872e6cf6ca502e44236aee57fa63277
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-26 09:09:40 +0000

    Remove redundant flush() calls from AudioProcessors
    
    flush() is guaranteed to be called in all these cases anyway.
    
    Also clarify documentation for AudioProcessor-specific methods that can
    change the 'active' flag.
    
    Issue: #6601
    PiperOrigin-RevId: 282515255

3	3	library/core/src/main/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessor.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java

commit 07b3cbc361fe8dbe186475032a1e0ede82769451
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-26 09:08:59 +0000

    Add AudioProcessor.AudioFormat
    
    Issue: #6601
    PiperOrigin-RevId: 282515179

15	31	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.java
53	41	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioProcessor.java
22	37	library/core/src/main/java/com/google/android/exoplayer2/audio/BaseAudioProcessor.java
17	28	library/core/src/main/java/com/google/android/exoplayer2/audio/ChannelMappingAudioProcessor.java
10	5	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
12	17	library/core/src/main/java/com/google/android/exoplayer2/audio/FloatResamplingAudioProcessor.java
10	16	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessor.java
39	47	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/audio/TeeAudioProcessor.java
7	16	library/core/src/main/java/com/google/android/exoplayer2/audio/TrimmingAudioProcessor.java
20	38	library/core/src/test/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessorTest.java
40	41	library/core/src/test/java/com/google/android/exoplayer2/audio/SonicAudioProcessorTest.java

commit a2b3ad863dc8c9ada12f2e1dc4d6a84cfec27819
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-26 09:04:15 +0000

    Always drain/flush AudioProcessors after configuration
    
    This simplifies the contract of configure and is in preparation for
    fixing a bug where more input can't be queued when draining audio
    processors for a configuration change.
    
    Issue: #6601
    PiperOrigin-RevId: 282514367

1	6	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioProcessor.java
2	8	library/core/src/main/java/com/google/android/exoplayer2/audio/BaseAudioProcessor.java
3	8	library/core/src/main/java/com/google/android/exoplayer2/audio/ChannelMappingAudioProcessor.java
3	8	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/FloatResamplingAudioProcessor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessor.java
1	6	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/TeeAudioProcessor.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/audio/TrimmingAudioProcessor.java
15	73	library/core/src/test/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessorTest.java

commit a81149d9628c85160f707dc3b3fc68eb748ff86f
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-26 09:10:39 +0000

    Fix audio processor draining for reconfiguration
    
    When transitioning to a new stream in a different format, the audio
    processors are reconfigured. After this, they are drained and then
    flushed so that they are ready to handle data in updated formats for the
    new stream.
    
    Before this change, some audio processors made the assumption that after
    reconfiguration no more input would be queued in their old input format,
    but this assumption is not correct: during draining more input may be
    queued. Fix this behavior so that the new configuration is not referred
    to while draining and only becomes active once flushed.
    
    Issue: #6601
    PiperOrigin-RevId: 282515359

16	23	RELEASENOTES.md
6	6	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioProcessor.java
15	6	library/core/src/main/java/com/google/android/exoplayer2/audio/BaseAudioProcessor.java
9	8	library/core/src/main/java/com/google/android/exoplayer2/audio/ChannelMappingAudioProcessor.java
13	5	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java
10	1	library/core/src/main/java/com/google/android/exoplayer2/audio/TeeAudioProcessor.java
21	17	library/core/src/main/java/com/google/android/exoplayer2/audio/TrimmingAudioProcessor.java

commit 4799993d3bcf7bb7fd04bd24b7e675ce014f8eef
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-26 09:09:40 +0000

    Remove redundant flush() calls from AudioProcessors
    
    flush() is guaranteed to be called in all these cases anyway.
    
    Also clarify documentation for AudioProcessor-specific methods that can
    change the 'active' flag.
    
    Issue: #6601
    PiperOrigin-RevId: 282515255

3	3	library/core/src/main/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessor.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java

commit 10f142b3ff677b63c33b18c9d1f653aedfd2251e
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-26 09:08:59 +0000

    Add AudioProcessor.AudioFormat
    
    Issue: #6601
    PiperOrigin-RevId: 282515179

15	31	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.java
53	41	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioProcessor.java
22	37	library/core/src/main/java/com/google/android/exoplayer2/audio/BaseAudioProcessor.java
17	28	library/core/src/main/java/com/google/android/exoplayer2/audio/ChannelMappingAudioProcessor.java
10	5	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
12	17	library/core/src/main/java/com/google/android/exoplayer2/audio/FloatResamplingAudioProcessor.java
10	16	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessor.java
39	47	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/audio/TeeAudioProcessor.java
7	16	library/core/src/main/java/com/google/android/exoplayer2/audio/TrimmingAudioProcessor.java
20	38	library/core/src/test/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessorTest.java
40	41	library/core/src/test/java/com/google/android/exoplayer2/audio/SonicAudioProcessorTest.java

commit b7000e64e9bfee30857ef4ec98ebd4331dca71ca
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-26 09:04:15 +0000

    Always drain/flush AudioProcessors after configuration
    
    This simplifies the contract of configure and is in preparation for
    fixing a bug where more input can't be queued when draining audio
    processors for a configuration change.
    
    Issue: #6601
    PiperOrigin-RevId: 282514367

1	6	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioProcessor.java
2	8	library/core/src/main/java/com/google/android/exoplayer2/audio/BaseAudioProcessor.java
3	8	library/core/src/main/java/com/google/android/exoplayer2/audio/ChannelMappingAudioProcessor.java
3	8	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/FloatResamplingAudioProcessor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/ResamplingAudioProcessor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessor.java
1	6	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/TeeAudioProcessor.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/audio/TrimmingAudioProcessor.java
15	73	library/core/src/test/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessorTest.java

commit 299487c17512c83f05d0aace1e6c1657c03ccd29
Author: Pierre-Hugues Husson <phhusson@gmail.com>
Date:   2019-11-26 16:03:11 +0100

    Accept setting null override to setSelectionOverride
    
    In-code documentation say this is allowed, and is the expected way to
    disable renderer.

1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit e899e0ea81d4d155970b4b72ba7eb814c575f936
Author: olly <olly@google.com>
Date:   2019-11-24 15:53:08 +0000

    Clean up 2.11.0 release notes
    
    PiperOrigin-RevId: 282227866

20	8	RELEASENOTES.md

commit 64569a3e5a978dde7588941516e42624b30e3491
Author: olly <olly@google.com>
Date:   2019-11-24 15:53:08 +0000

    Fix and clean up 2.11.0 release notes
    
    PiperOrigin-RevId: 282227866

21	14	RELEASENOTES.md

commit bd0fbd0c89178098a33e1019d8c2aad6c0db9379
Author: olly <olly@google.com>
Date:   2019-11-22 16:46:39 +0000

    Fix incorrect Javadoc
    
    PiperOrigin-RevId: 281976465

2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit 25b6a02026f83d4739d441c5df7dabd6dbd31804
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-22 16:22:40 +0000

    Fix check for E-AC3 JOC in DASH
    
    Issue: #6636
    PiperOrigin-RevId: 281972403

1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit f630ed1ab50d86e441d70d250a045b27e4822ece
Author: olly <olly@google.com>
Date:   2019-11-22 16:46:39 +0000

    Fix incorrect Javadoc
    
    PiperOrigin-RevId: 281976465

2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit abe3c8ce1d0d7dde09dcfb7e951a59f960dad1f5
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-22 16:22:40 +0000

    Fix check for E-AC3 JOC in DASH
    
    Issue: #6636
    PiperOrigin-RevId: 281972403

1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit ff19262a5e33203cac08f08abeb962cf48d8e4f1
Author: olly <olly@google.com>
Date:   2019-11-22 13:57:43 +0000

    Make placeholder sessions report their true state
    
    Note that the renderer changes will all disappear when we remove
    legacy injection of DrmSessionManager into renderers.
    
    PiperOrigin-RevId: 281952601

3	1	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
2	6	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit de641380dff07dc1d798d84c9a4f367e0c24ad7d
Author: olly <olly@google.com>
Date:   2019-11-21 17:18:56 +0000

    Improve WakeLock/AudioBecomingNoisy Javadoc
    
    PiperOrigin-RevId: 281764207

16	9	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit d82da93ec4e25e845b3c596fe32c489e5eb1c780
Author: olly <olly@google.com>
Date:   2019-11-21 17:15:43 +0000

    Simplify checking whether a sample can be read
    
    PiperOrigin-RevId: 281763672

21	27	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java

commit cc520a670ed8d7e571c845bf6a1f1410a3e0bd39
Author: olly <olly@google.com>
Date:   2019-11-21 16:50:24 +0000

    Simplify playback of clear samples without keys
    
    - Move property to DrmSession; it feels like a more natural place
      for it to go (and provides greater flexibility).
    - Change flags to a boolean.
    
    PiperOrigin-RevId: 281758729

8	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
10	17	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java
0	30	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/drm/ErrorStateDrmSession.java
3	6	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
2	4	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit 9be09b35e24cd2d9863d3e6c1cc1920bb257b937
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-21 12:53:06 +0000

    Add AV1 to supported formats
    
    PiperOrigin-RevId: 281724630

1	1	extensions/av1/README.md

commit b0eea31391392d6615096acce788caf677f68e65
Author: olly <olly@google.com>
Date:   2019-11-21 11:56:25 +0000

    Fix broken Enc/Clear playlist in media.exolist.json
    
    - DRM properties need to be on individual playlist items.
    
    PiperOrigin-RevId: 281718153

9	5	demos/main/src/main/assets/media.exolist.json

commit 8becf02c30722e68c02b7adaab4fda50e70f620c
Author: tonihei <tonihei@google.com>
Date:   2019-11-20 16:01:45 +0000

    Replace all database.beginTransaction with beginTransactionNonExclusive
    
    This ensures other database readers can continue reading while we do our
    write transaction.
    
    PiperOrigin-RevId: 281520758

1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java

commit 704bd8af094bd73a9c4ea0b088ecadc9b16b00a9
Author: olly <olly@google.com>
Date:   2019-11-20 14:52:51 +0000

    Remove stray word in logging
    
    PiperOrigin-RevId: 281510703

1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java

commit febfeca2c6ba76caaed816eaba48a998ea152cf5
Author: tonihei <tonihei@google.com>
Date:   2019-11-20 11:58:57 +0000

    Mark all methods accessing SQLite databases as potentially blocking.
    
    They are all marked with a JavaDoc comment and the @WorkerThread annotation
    which is useful if apps are using threading annotations. All other public
    methods in the same classes are marked with @AnyThread to avoid the impression
    we forgot to annotate them.
    
    PiperOrigin-RevId: 281490301

4	0	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndex.java
14	0	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java
31	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/Cache.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
13	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
10	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit fc0aa08d794338f5a3cb284bd736ca8bb8d962ee
Author: ibaker <ibaker@google.com>
Date:   2019-11-19 18:01:03 +0000

    Add testutils as test dep of library-core module
    
    The current workaround seems to cause compilation errors inside the
    testutils module in Android Studio. This seems to fix them.
    
    This doesn't introduce a circular dependency because it's only
    the tests in library-core depending on testutils.
    
    PiperOrigin-RevId: 281318192

2	10	library/core/build.gradle

commit 1730b6bb51c8e487b51a32a9e5936828de1cdadb
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-19 11:57:23 +0000

    Reconfigure audio sink when PCM encoding changes
    
    Note:
    - Fixing this uncovers another bug in how audio processor draining
      works, so the test playlist still doesn't play correctly after this
      change.
    - Once we reconfigure the audio sink based on the ExoPlayer Format
      rather than the codec MediaFormat in a later change, this change can
      be reverted.
    
    Issue: #6601
    PiperOrigin-RevId: 281264149

1	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit 3023bb4d9185461673e8afb90fb2b08ee327c537
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-22 15:35:18 +0000

    Remove future release notes

1	12	RELEASENOTES.md

commit 66c206c71ad57aaa575ebfd1f75061d31338303a
Author: olly <olly@google.com>
Date:   2019-11-22 13:57:43 +0000

    Make placeholder sessions report their true state
    
    Note that the renderer changes will all disappear when we remove
    legacy injection of DrmSessionManager into renderers.
    
    PiperOrigin-RevId: 281952601

3	1	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
2	6	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit 35237e658fdefd3d425d21f94f982ae7ca8438c7
Author: ibaker <ibaker@google.com>
Date:   2019-11-22 12:21:57 +0000

    Add SSA test file to the demo app
    
    I wrote this myself
    
    PiperOrigin-RevId: 281942685

7	0	demos/main/src/main/assets/media.exolist.json

commit f3185d077f5d9841c810027de7b1b63b4436e570
Author: olly <olly@google.com>
Date:   2019-11-21 17:18:56 +0000

    Improve WakeLock/AudioBecomingNoisy Javadoc
    
    PiperOrigin-RevId: 281764207

16	9	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 7c24ba0934b3f2db5011566183f9def1e07c3f4b
Author: olly <olly@google.com>
Date:   2019-11-21 17:15:43 +0000

    Simplify checking whether a sample can be read
    
    PiperOrigin-RevId: 281763672

21	27	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java

commit ab8816214e2df9779757580160e0d1bb84db2f1d
Author: olly <olly@google.com>
Date:   2019-11-21 16:50:24 +0000

    Simplify playback of clear samples without keys
    
    - Move property to DrmSession; it feels like a more natural place
      for it to go (and provides greater flexibility).
    - Change flags to a boolean.
    
    PiperOrigin-RevId: 281758729

8	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
10	17	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java
0	30	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/drm/ErrorStateDrmSession.java
3	6	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
2	4	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit a7d962bf27d411ab4d2fbc77c0fe8973f4c74be7
Author: kimvde <kimvde@google.com>
Date:   2019-11-21 16:24:55 +0000

    Downgrade targetSdkVersion back to 28
    
    - The upgrade to version 29 made Robolectric version 4.3 fail.
    - Upgrading Robolectric to 4.3.1 requires Java 9, which requires manual
      configuration in Android Studio.
    
    PiperOrigin-RevId: 281753915

1	1	constants.gradle
0	1	demos/main/src/main/AndroidManifest.xml
1	1	demos/surface/build.gradle

commit 922c0af152f4f4633a1014da35ae3d8675db3c0e
Author: kimvde <kimvde@google.com>
Date:   2019-11-21 15:45:02 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/ca5b094916633c3e49c18407518a19f9f66666d8
    
    *** Original commit ***
    
    Upgrade Robolectric version
    
    This fixes the issue reported in
    https://github.com/robolectric/robolectric/issues/5207.
    
    ***
    
    PiperOrigin-RevId: 281747261

1	1	constants.gradle

commit 731b002e1329641d447f877302c9f1dd9d2b99c8
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-21 12:53:06 +0000

    Add AV1 to supported formats
    
    PiperOrigin-RevId: 281724630

1	1	extensions/av1/README.md

commit ca5b094916633c3e49c18407518a19f9f66666d8
Author: kimvde <kimvde@google.com>
Date:   2019-11-21 12:09:42 +0000

    Upgrade Robolectric version
    
    This fixes the issue reported in
    https://github.com/robolectric/robolectric/issues/5207.
    
    PiperOrigin-RevId: 281720030

1	1	constants.gradle

commit 5abb4ff8c1f604f539cc80f31c2ca2560caff95d
Author: olly <olly@google.com>
Date:   2019-11-21 11:56:25 +0000

    Fix broken Enc/Clear playlist in media.exolist.json
    
    - DRM properties need to be on individual playlist items.
    
    PiperOrigin-RevId: 281718153

9	5	demos/main/src/main/assets/media.exolist.json

commit b18650fdcf83f0f2329837a91716ea678588d09c
Author: kimvde <kimvde@google.com>
Date:   2019-11-20 17:40:03 +0000

    Expose metadata in FLAC extractor
    
    PiperOrigin-RevId: 281538423

3	3	RELEASENOTES.md
7	26	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
1	1	extensions/flac/src/main/jni/flac_jni.cc
5	1	library/core/src/main/java/com/google/android/exoplayer2/{util => extractor}/FlacFrameReader.java
281	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/FlacMetadataReader.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/{ogg => }/VorbisBitArray.java
118	91	library/core/src/main/java/com/google/android/exoplayer2/extractor/{ogg => }/VorbisUtil.java
77	45	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/VorbisReader.java
0	208	library/core/src/main/java/com/google/android/exoplayer2/util/FlacMetadataReader.java
108	51	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
-	-	library/core/src/test/assets/binary/ogg/vorbis_header_pages
-	-	library/core/src/test/assets/binary/vorbis/comment_header
-	-	library/core/src/test/assets/binary/vorbis/id_header
-	-	library/core/src/test/assets/binary/vorbis/setup_header
-	-	library/core/src/test/assets/flac/bear.flac
-	-	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac
-	-	library/core/src/test/assets/flac/bear_no_num_samples.flac
-	-	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac
-	-	library/core/src/test/assets/flac/bear_with_id3.flac
-	-	library/core/src/test/assets/flac/bear_with_picture.flac
163	0	library/core/src/test/assets/flac/bear_with_picture.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac
163	0	library/core/src/test/assets/flac/bear_with_vorbis_comments.flac.0.dump
1	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/{ogg => }/VorbisBitArrayTest.java
17	8	library/core/src/test/java/com/google/android/exoplayer2/extractor/{ogg => }/VorbisUtilTest.java
21	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java
0	1008	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggTestData.java
7	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisReaderTest.java
49	5	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java
1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java

commit f6853e4751ffa11adec9fdb33b8bc5ca497812cb
Author: olly <olly@google.com>
Date:   2019-11-20 17:33:13 +0000

    Bump targetSdkVersion to 29
    
    - Enabling legacy storage for our demo app so that playing
      slideloaded media is still easy.
    - Apps are still free to specify a lower targetSdkVersion
    
    PiperOrigin-RevId: 281537041

1	1	constants.gradle
1	0	demos/main/src/main/AndroidManifest.xml
1	1	demos/surface/build.gradle

commit f937fe9e2a85696021cdcb554268999334161893
Author: tonihei <tonihei@google.com>
Date:   2019-11-20 16:01:45 +0000

    Replace all database.beginTransaction with beginTransactionNonExclusive
    
    This ensures other database readers can continue reading while we do our
    write transaction.
    
    PiperOrigin-RevId: 281520758

1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java

commit d8dcd2930cbd9d04d6572d25ec1ef7c8bce764de
Author: olly <olly@google.com>
Date:   2019-11-20 14:52:51 +0000

    Remove stray word in logging
    
    PiperOrigin-RevId: 281510703

1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java

commit 809234bc4ffeaf46774b96b9c9bfafa8106d2c90
Author: tonihei <tonihei@google.com>
Date:   2019-11-20 11:58:57 +0000

    Mark all methods accessing SQLite databases as potentially blocking.
    
    They are all marked with a JavaDoc comment and the @WorkerThread annotation
    which is useful if apps are using threading annotations. All other public
    methods in the same classes are marked with @AnyThread to avoid the impression
    we forgot to annotate them.
    
    PiperOrigin-RevId: 281490301

4	0	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndex.java
14	0	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java
31	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/Cache.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
13	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
10	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit ca849a0679dbdb007351e04a82150504cea28121
Author: christosts <christosts@google.com>
Date:   2019-11-20 10:34:36 +0000

    Fix incorrent javadoc syntax
    
    PiperOrigin-RevId: 281480582

2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit f921d0d3e59264c719a9a74a6efc07d58fdcf9e0
Author: christosts <christosts@google.com>
Date:   2019-11-20 10:20:31 +0000

    Ability to set timeout on release() and setSurface()
    
    Add experimental APIs to set a timeout Player#release() and
    PlayerMessage#blockUntilDeliver().
    
    PiperOrigin-RevId: 281479146

25	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
22	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
74	11	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
45	0	library/core/src/main/java/com/google/android/exoplayer2/PlayerMessage.java
125	0	library/core/src/test/java/com/google/android/exoplayer2/PlayerMessageTest.java

commit f6afbe6cb09416fbdf2b4db6c4fa2afeb974f01a
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-19 19:05:18 +0000

    Make MediaLoadData a top level class
    
    In order to reuse it in LoadErrorHandlingPolicy.
    
    PiperOrigin-RevId: 281333287

2	1	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
91	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaLoadData.java
0	71	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceEventListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdsMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaSource.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.java

commit c8e51444947f6dad39dd35b6377aa1d25272f65f
Author: ibaker <ibaker@google.com>
Date:   2019-11-19 18:01:03 +0000

    Add testutils as test dep of library-core module
    
    The current workaround seems to cause compilation errors inside the
    testutils module in Android Studio. This seems to fix them.
    
    This doesn't introduce a circular dependency because it's only
    the tests in library-core depending on testutils.
    
    PiperOrigin-RevId: 281318192

2	10	library/core/build.gradle

commit e26a61b903739014271ab0886bb5db75afb3f1fd
Author: samrobinson <samrobinson@google.com>
Date:   2019-11-19 13:40:31 +0000

    Improve `Format` propagation within the `MediaCodecRenderer`.
    
    For example, fix handling of pixel aspect ratio changes in
    playlists where video resolution does not change.
    
    Issue:#6646
    PiperOrigin-RevId: 281276023

7	0	RELEASENOTES.md
5	5	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
23	12	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
40	37	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit dbd7e055e5c5391993bf8af7813c25e4ad6160db
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-19 11:57:23 +0000

    Reconfigure audio sink when PCM encoding changes
    
    Note:
    - Fixing this uncovers another bug in how audio processor draining
      works, so the test playlist still doesn't play correctly after this
      change.
    - Once we reconfigure the audio sink based on the ExoPlayer Format
      rather than the codec MediaFormat in a later change, this change can
      be reverted.
    
    Issue: #6601
    PiperOrigin-RevId: 281264149

2	0	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit 774ccafa93ed67746325732ebee606aaeffe1274
Author: kimvde <kimvde@google.com>
Date:   2019-11-19 10:45:58 +0000

    Remove TODO around optimizing sample data outputs in FlacExtractor
    
    Preliminary measurement showed that the results were similar to the non-optimized
    version.
    
    PiperOrigin-RevId: 281255476

0	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java

commit ad8f6c183d7ceafedd80c88fa11a339bb4e40d14
Author: Pierre-Hugues Husson <phhusson@gmail.com>
Date:   2019-11-20 16:12:15 +0100

    Allow multiple metadata tracks, assuming multiple metadata renderers

13	3	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
35	9	library/core/src/main/java/com/google/android/exoplayer2/trackselection/MappingTrackSelector.java

commit b5d993536164e961962e89bb6cc94e140505bec5
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-18 17:32:48 +0000

    Deprecate public renderer constructors that take a DrmSessionManager
    
    PiperOrigin-RevId: 281086336

5	0	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
46	0	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
57	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
46	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 654b7aa12bb6009dceecb5597f9ae7eb9a999982
Author: olly <olly@google.com>
Date:   2019-11-18 17:24:18 +0000

    Release notes for 2.10.8
    
    PiperOrigin-RevId: 281084720

18	5	RELEASENOTES.md

commit d99b2c35091ab15cf0dead94b8f151bd8f0e73b3
Author: olly <olly@google.com>
Date:   2019-11-18 16:56:52 +0000

    Cleanup key request parameters
    
    - Make NonNull, which is already the case when using the manager builder.
    - Better document PLAYREADY_CUSTOM_DATA_KEY, now that newPlayReadyInstance
      is no more.
    
    PiperOrigin-RevId: 281079288

5	6	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
22	18	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 6158b2fa2a38b9a18bf0fc2138682adb0161d993
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-18 15:32:46 +0000

    Allow user to pick which track types to create placeholder sessions for
    
    Issue:#4867
    PiperOrigin-RevId: 281064793

29	17	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 8c3e6663d3213a1d5e5549666b35b63ec0e4f6cd
Author: olly <olly@google.com>
Date:   2019-11-18 14:00:00 +0000

    Clean up non-trivial track selection deprecation
    
    PiperOrigin-RevId: 281051893

12	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
9	35	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelection.java
12	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.java

commit da9c985cce3e61190e4a2276b9e171a33831b66b
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-18 13:50:01 +0000

    Fix byte order for HDR10+ static metadata
    
    The implementation of writing HDR10+ static metadata assumed that the
    application would use default (big endian) byte order for this metadata but
    MediaCodec expects the order to match the specification CTA-861.3.
    
    PiperOrigin-RevId: 281050806

1	0	RELEASENOTES.md
4	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 7f19b8850659b0fe0bf27f255a1e71c7e8230f1d
Author: olly <olly@google.com>
Date:   2019-11-18 13:42:57 +0000

    Make some listener methods default
    
    PiperOrigin-RevId: 281050034

4	4	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionEventListener.java
4	73	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceEventListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
15	15	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceEventListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaSource.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java

commit 6b03ce8f1234914a35efae95ba5d70df93d06b8c
Author: olly <olly@google.com>
Date:   2019-11-18 13:38:06 +0000

    Remove SimpleCache hacks that are no longer used
    
    PiperOrigin-RevId: 281049383

2	37	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit 09df3a013c70fd232bebe7fc4b1a547c4b4022f4
Author: olly <olly@google.com>
Date:   2019-11-18 13:27:40 +0000

    Don't check rotated resolution for HEVC on LG Q7
    
    Issue: #6612
    PiperOrigin-RevId: 281048324

18	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java

commit 8c848a2a53cf955d813df827ee6512501c127886
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-18 12:07:59 +0000

    Remove option to disable loop filter for VP9
    
    PiperOrigin-RevId: 281039634

2	11	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
1	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java

commit 35d9bdea097992033fd75f210267a3cc729fe4b0
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-18 11:50:50 +0000

    Add Util.linearSearch
    
    PiperOrigin-RevId: 281037183

22	4	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 07bfab8e4c2b9be619a710b402c9a103cd1bb5ce
Author: bachinger <bachinger@google.com>
Date:   2019-11-18 11:09:34 +0000

    document media button handling prior to API level 21
    
    ISSUE: #6545
    PiperOrigin-RevId: 281032120

12	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 7a5b109eb1cdb0440f627407d916b16a74b73b57
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-19 10:45:04 +0000

    Javadoc 2.10.8

28	31	doc/reference/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/audio/package-tree.html
4	1	doc/reference/com/google/android/exoplayer2/ext/flac/FlacExtractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/Extractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/amr/AmrExtractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/flv/FlvExtractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/ogg/OggExtractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac3Extractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac4Extractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/ts/PsExtractor.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsExtractor.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
4	1	doc/reference/com/google/android/exoplayer2/extractor/wav/WavExtractor.html
3	4	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.html
1	1	doc/reference/com/google/android/exoplayer2/offline/package-tree.html
18	18	doc/reference/com/google/android/exoplayer2/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
4	1	doc/reference/com/google/android/exoplayer2/source/hls/WebvttExtractor.html
2	2	doc/reference/com/google/android/exoplayer2/text/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
31	8	doc/reference/com/google/android/exoplayer2/util/CodecSpecificDataUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/package-tree.html
4	4	doc/reference/constant-values.html
10	8	doc/reference/index-all.html

commit 33938c05b5050057f4bf865cf8e1f76207f56232
Merge: d73d64bc6 30f79a4c4
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-19 10:42:38 +0000

    Merge pull request #6664 from google/dev-v2-r2.10.8
    
    r2.10.8

commit 95d0921114495492018694d762b5299fb0cabd7a
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-18 17:38:28 +0000

    Make LoadEventInfo a top level class
    
    In order to reuse it in LoadErrorHandlingPolicy.
    
    PiperOrigin-RevId: 281087397

1	0	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
73	0	library/core/src/main/java/com/google/android/exoplayer2/source/LoadEventInfo.java
0	52	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceEventListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdsMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaSource.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.java

commit 699dd3d27c755a37faad9eb853b745522bd7387b
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-18 17:32:48 +0000

    Deprecate public renderer constructors that take a DrmSessionManager
    
    PiperOrigin-RevId: 281086336

5	0	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
46	0	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
57	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
46	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 3515a5112df8ab3c47a924ba3a406e0563eafa03
Author: olly <olly@google.com>
Date:   2019-11-18 17:24:18 +0000

    Release notes for 2.10.8
    
    PiperOrigin-RevId: 281084720

18	5	RELEASENOTES.md

commit 9b2917a9ae04706054881f657fb963e5f344d188
Author: kimvde <kimvde@google.com>
Date:   2019-11-18 17:16:45 +0000

    Add Java FLAC extractor
    
    Seeking, live streams support and exposure of vorbis and ID3 data
    are not part of this commit.
    
    Issue: #6406
    PiperOrigin-RevId: 281083332

5	0	RELEASENOTES.md
4	0	demos/main/src/main/assets/media.exolist.json
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
8	25	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
12	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java
302	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/flac/FlacExtractor.java
2	22	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
33	0	library/core/src/main/java/com/google/android/exoplayer2/util/FlacConstants.java
257	0	library/core/src/main/java/com/google/android/exoplayer2/util/FlacFrameReader.java
208	0	library/core/src/main/java/com/google/android/exoplayer2/util/FlacMetadataReader.java
140	23	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
-	-	library/core/src/test/assets/flac/bear.flac
163	0	library/core/src/test/assets/flac/bear.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac
163	0	library/core/src/test/assets/flac/bear_no_min_max_frame_size.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_no_num_samples.flac
163	0	library/core/src/test/assets/flac/bear_no_num_samples.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_one_metadata_block.flac
163	0	library/core/src/test/assets/flac/bear_one_metadata_block.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac
139	0	library/core/src/test/assets/flac/bear_uncommon_sample_rate.flac.0.dump
-	-	library/core/src/test/assets/flac/bear_with_id3.flac
163	0	library/core/src/test/assets/flac/bear_with_id3.flac.0.dump
3	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactoryTest.java
56	0	library/core/src/test/java/com/google/android/exoplayer2/extractor/flac/FlacExtractorTest.java

commit 0db1fc67fa37794cf16ebb9ab5ff85e9f3f6749e
Author: olly <olly@google.com>
Date:   2019-11-18 16:56:52 +0000

    Cleanup key request parameters
    
    - Make NonNull, which is already the case when using the manager builder.
    - Better document PLAYREADY_CUSTOM_DATA_KEY, now that newPlayReadyInstance
      is no more.
    
    PiperOrigin-RevId: 281079288

5	6	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
22	18	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit d984a8cdd3c21230dd3cc2918c4a7af4af7e356d
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-18 15:32:46 +0000

    Allow user to pick which track types to create placeholder sessions for
    
    Issue:#4867
    PiperOrigin-RevId: 281064793

29	17	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 1ef345192c491bbb733ea4bf381ae5519826462c
Author: olly <olly@google.com>
Date:   2019-11-18 14:00:00 +0000

    Clean up non-trivial track selection deprecation
    
    PiperOrigin-RevId: 281051893

12	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
9	35	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelection.java
12	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.java

commit a5e14b4daea0c558ec6842f4a7441853d0585214
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-18 13:50:01 +0000

    Fix byte order for HDR10+ static metadata
    
    The implementation of writing HDR10+ static metadata assumed that the
    application would use default (big endian) byte order for this metadata but
    MediaCodec expects the order to match the specification CTA-861.3.
    
    PiperOrigin-RevId: 281050806

1	0	RELEASENOTES.md
4	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 1629a5afd398d74a1c245227b02bbf22bed85eda
Author: olly <olly@google.com>
Date:   2019-11-18 13:42:57 +0000

    Make some listener methods default
    
    PiperOrigin-RevId: 281050034

4	4	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionEventListener.java
4	73	library/core/src/main/java/com/google/android/exoplayer2/source/DefaultMediaSourceEventListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
15	15	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceEventListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaSource.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java

commit 3e17080c02a049c37f8a20ffae2fff35e9fa007e
Author: olly <olly@google.com>
Date:   2019-11-18 13:38:06 +0000

    Remove SimpleCache hacks that are no longer used
    
    PiperOrigin-RevId: 281049383

2	37	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit 7f2827077c6c2a9b72668e8b4b90613d72a23716
Author: olly <olly@google.com>
Date:   2019-11-18 13:27:40 +0000

    Don't check rotated resolution for HEVC on LG Q7
    
    Issue: #6612
    PiperOrigin-RevId: 281048324

18	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java

commit 3b26ecf6fe9498925c046fb351b822c40b23b055
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-18 12:07:59 +0000

    Remove option to disable loop filter for VP9
    
    PiperOrigin-RevId: 281039634

2	11	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
1	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java

commit 82b218607f1d705637a505d6b0341d7df26d9b14
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-18 11:50:50 +0000

    Add Util.linearSearch
    
    PiperOrigin-RevId: 281037183

22	4	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 734b4ad9c8100bb600c27fe9be533d7fe87873b2
Author: bachinger <bachinger@google.com>
Date:   2019-11-18 11:09:34 +0000

    document media button handling prior to API level 21
    
    ISSUE: #6545
    PiperOrigin-RevId: 281032120

12	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 30f79a4c4724cd2970f1df79a333b0d53e5f5bbf
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-18 17:17:23 +0000

    Tweak release notes

3	2	RELEASENOTES.md

commit 21957bf7836cad8528a139b05c125bf0254036a3
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-18 05:41:30 +0000

    Revert "add default methods isSingleWindow and getInitialTimeline to MediaSource interface"
    
    This reverts commit 01a4cf98d551bdac161f1b845fe00aa1ccffda47.

0	71	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
0	17	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
7	20	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
17	38	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
0	27	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java
0	146	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
1	33	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit 30ed83ecef6ec17827fd1e9c43c82c65624bf541
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-18 05:41:20 +0000

    Revert "Playlist API: Add setMediaItem() and prepare()"
    
    This reverts commit cd2c1f2f24c3a17ffa59f0c5ba9d17d55f141793.

1	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
12	37	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
22	49	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
10	43	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
0	217	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
0	15	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit c9cc147fb92778730f59251d894bb5eb1435a524
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-18 05:38:22 +0000

    Revert "Playlist API: add Playlist and PlaylistTest"
    
    This reverts commit 5c2806eccabcdeb8817b1ccb20bffeb087259f42.

0	707	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/{ => source}/AbstractConcatenatedTimeline.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
0	510	library/core/src/test/java/com/google/android/exoplayer2/PlaylistTest.java

commit 71dd3fe54e549032d4c84247b73a4eee431ac774
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-18 05:37:44 +0000

    Revert "Add a parameter object for LoadErrorHandlingPolicy methods"
    
    This reverts commit b84a9bed2caade60a06ac5b91bd66a5f3af6449d.

0	60	library/core/src/main/java/com/google/android/exoplayer2/upstream/LoadErrorHandlingPolicy.java

commit a91ffdd4d136ef693266d76909afdc6e3398a5eb
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-17 05:08:24 +0000

    Revert "Fix parameter name mismatch in Playlist"
    
    This reverts commit 65b49a49f7ab6f70b37eedfce7c6cc057441198f.

1	1	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java

commit cedada09883b32aec8614854a3faed941daa2a30
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-17 05:07:57 +0000

    Revert "Merge consecutive segments for downloading."
    
    This reverts commit c8e7ecd36794e4030ff1d0a56d25e5e0e6e0a216.

0	2	RELEASENOTES.md
1	43	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java

commit ae271c1689e450946e5a55bdbac5460d13c7e455
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-17 04:53:48 +0000

    Bump version to 2.10.8

15	4	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 2e0719b5553519a6d6b1445f5e89c1f6ea23759d
Author: olly <olly@google.com>
Date:   2019-11-15 04:29:30 +0000

    Parse channel count and sample rate from ALAC initialization data
    
    Also remove the "do we really need to do this" comment for AAC.
    Parsing from codec specific data is likely to be more robust, so
    I think we should continue to do it for formats where we've seen
    this problem.
    
    Issue: #6648
    PiperOrigin-RevId: 280575466

8	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
25	9	library/core/src/main/java/com/google/android/exoplayer2/util/CodecSpecificDataUtil.java
48	0	library/core/src/test/java/com/google/android/exoplayer2/util/CodecSpecificDataUtilTest.java

commit 1345010e27975ea420fa097abdfae1aef0f199d9
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-15 05:16:29 +0000

    Merge pull request #6650 from stanionascu:dev-v2-dv
    
    PiperOrigin-RevId: 280573887

1	1	library/core/src/main/java/com/google/android/exoplayer2/video/DolbyVisionConfig.java

commit c0e633fbe118878c778bfa1fe7c2efccac1b0e22
Author: bachinger <bachinger@google.com>
Date:   2019-11-12 15:32:57 +0000

    use getPeriodByUid when searching for subsequent period of seek timeline
    
    Issue: #6641
    PiperOrigin-RevId: 279963739

4	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 4b012a9b6e16c440c592d43b22330a9c17356283
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-12 00:18:44 +0000

    Don't check channels for E-AC3 JOC passthrough
    
    PiperOrigin-RevId: 279841132

2	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit a8b65ca8d6aaa188884edb4f4e5fa6b6cbf587af
Author: kimvde <kimvde@google.com>
Date:   2019-11-11 14:22:30 +0000

    Compute format maxInputSize in FlacReader
    
    Use the maximum frame size as the maximum sample size if provided.
    
    PiperOrigin-RevId: 279722820

3	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump

commit 2b1c2171e7e6ed29af0185622e0c59233868a2d4
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-11 05:33:45 +0000

    Handle new signaling for E-AC3 JOC in DASH
    
    Issue: #6636
    PiperOrigin-RevId: 279666771

5	0	RELEASENOTES.md
4	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit ed6eb3aa58fa9c237630977986f7b81db8e4b2b3
Author: kimvde <kimvde@google.com>
Date:   2019-11-07 16:05:30 +0000

    Fix FLAC bit rate computation
    
    PiperOrigin-RevId: 279088193

1	1	extensions/flac/src/androidTest/assets/bear.flac.0.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.1.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.2.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.3.dump
1	1	extensions/flac/src/androidTest/assets/bear_with_id3.flac.0.dump
1	1	extensions/flac/src/androidTest/assets/bear_with_id3.flac.1.dump
1	1	extensions/flac/src/androidTest/assets/bear_with_id3.flac.2.dump
1	1	extensions/flac/src/androidTest/assets/bear_with_id3.flac.3.dump
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump

commit 3f9e3107ec6baef0c56a69624d6722cb98e23a30
Author: kimvde <kimvde@google.com>
Date:   2019-11-07 15:19:37 +0000

    Fix extractor sniffing in FLAC extension
    
    Assuming that a flac stream starts with bytes
    ['f', 'L', 'a', 'C', 0, 0, 0, 0x22] is not always correct as it could
    also start with ['f', 'L', 'a', 'C', 0x80, 0, 0, 0x22]
    (see https://xiph.org/flac/format.html#metadata_block_streaminfo).
    
    PiperOrigin-RevId: 279080562

9	12	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java

commit 79b7af656bbc91c25570eef5aa8a7f72e3113ecb
Author: ibaker <ibaker@google.com>
Date:   2019-11-15 16:44:32 +0000

    Rollback of <unknown commit>
    
    *** Original commit ***
    
    Disable test coverage again
    
    https://issuetracker.google.com/issues/37019591 causes local variables can't be found while debugging.
    
    ***
    
    PiperOrigin-RevId: 280666758

3	5	library/core/build.gradle
3	5	library/dash/build.gradle
3	5	library/hls/build.gradle
3	5	library/smoothstreaming/build.gradle
3	5	library/ui/build.gradle

commit c0d393081675da622ee67b6cc469558ea1dfd257
Author: olly <olly@google.com>
Date:   2019-11-15 04:29:30 +0000

    Parse channel count and sample rate from ALAC initialization data
    
    Also remove the "do we really need to do this" comment for AAC.
    Parsing from codec specific data is likely to be more robust, so
    I think we should continue to do it for formats where we've seen
    this problem.
    
    Issue: #6648
    PiperOrigin-RevId: 280575466

8	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
25	9	library/core/src/main/java/com/google/android/exoplayer2/util/CodecSpecificDataUtil.java
48	0	library/core/src/test/java/com/google/android/exoplayer2/util/CodecSpecificDataUtilTest.java

commit c613e502aa32534ad4b862e1ece9aeea4c0deb13
Merge: 5579cc89c 6d9c70725
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-15 05:16:29 +0000

    Merge pull request #6650 from stanionascu:dev-v2-dv
    
    PiperOrigin-RevId: 280573887

commit 5579cc89c6e5d75d2c23513e67532e54118d26af
Author: krocard <krocard@google.com>
Date:   2019-11-14 18:18:02 +0000

    Propagate end of stream received from `OnFrameRenderedListener`
    
    Previously the renderer EOS (aka last frame rendered), was reported as soon
    as the last encoded frame was queued in the codec renderer.
    This leaded to EOS reported too early.
    
    PiperOrigin-RevId: 280456277

3	0	RELEASENOTES.md
14	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
15	4	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit c8e7ecd36794e4030ff1d0a56d25e5e0e6e0a216
Author: tonihei <tonihei@google.com>
Date:   2019-11-14 14:03:59 +0000

    Merge consecutive segments for downloading.
    
    This speeds up downloads where segments have the same URL with different
    byte ranges. We limit the merged segments to 20 seconds to ensure the download
    progress of demuxed streams is roughly in line with the playable media duration.
    
    Issue:#5978
    PiperOrigin-RevId: 280410761

2	0	RELEASENOTES.md
43	1	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java

commit 51711a0c97e6ed012356951591ef07135ef2a20b
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-13 13:08:08 +0000

    Fix MediaDrm leaks in OfflineLicenseHelper
    
    PiperOrigin-RevId: 280176216

2	0	RELEASENOTES.md
22	14	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
5	1	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java

commit 65b49a49f7ab6f70b37eedfce7c6cc057441198f
Author: ibaker <ibaker@google.com>
Date:   2019-11-13 11:50:34 +0000

    Fix parameter name mismatch in Playlist
    
    PiperOrigin-RevId: 280167223

1	1	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java

commit 0ff79c0e02282816bd457433ca3135650d793cbd
Author: olly <olly@google.com>
Date:   2019-11-13 10:05:46 +0000

    Support switching between Surface and VideoDecoderOutputBufferRenderer
    
    Clear state for one mode when entering the other in both SimpleExoPlayer
    and SimpleDecoderVideoRenderer. The latter is redundant for the case of
    renderers that are used inside SimpleExoPlayer, but seems nice to have.
    
    - Entering Surface mode means receiving a non-null Surface, SurfaceHolder
      or TextureView in SimpleExoPlayer, or a non-null Surface in
      SimpleDecoderVideoRenderer.
    - Entering VideoDecoderOutputBufferRenderer means receiving a non-null
      VideoDecoderOutputBufferRenderer in SimpleExoPlayer and
      SimpleDecoderVideoRenderer.
    
    PiperOrigin-RevId: 280155151

23	10	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit bee62948131d8f1fe92fae720c9b6f07aba97048
Author: olly <olly@google.com>
Date:   2019-11-13 09:31:07 +0000

    Add clear methods for VideoDecoderOutputBufferRenderer
    
    Also add some missing Nullable annotations.
    
    PiperOrigin-RevId: 280150512

19	7	library/core/src/main/java/com/google/android/exoplayer2/Player.java
38	15	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 7ca77c6002d36e621202ca484407647bbb336c6d
Author: olly <olly@google.com>
Date:   2019-11-13 07:41:04 +0000

    Make DrmSession acquire/release consistent with ExoMediaDrm
    
    This aligns the method naming and Javadoc. The only remaining
    inconsistency I can see is that the initial reference count for
    DrmSession is 0 rather than 1. Unfortunately I think it's not
    trivial to get these aligned, because DefaultDrmSessionManager
    relies on being able to do something between instantiation and
    the DrmSession starting to open the session. In practice this
    doesn't really matter, since DrmSessions will be obtained via the
    manager, which does increment thee reference count to 1 to be
    consistent with how ExoMediaDrm acquisition works.
    
    PiperOrigin-RevId: 280136574

1	1	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
12	14	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/ErrorStateDrmSession.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit 9b4a3701d49092209b4e86748bd3aa58acc4036f
Author: olly <olly@google.com>
Date:   2019-11-13 03:03:34 +0000

    Clean up ExoMediaDrm reference counting documentation
    
    PiperOrigin-RevId: 280106092

25	16	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit 20ab05103b9b5b8d7f325f60e18c886acda6cbe6
Author: olly <olly@google.com>
Date:   2019-11-12 22:33:47 +0000

    First pass at finalizing 2.11.0 release notes
    
    PiperOrigin-RevId: 280056790

119	98	RELEASENOTES.md

commit 69e51505e46d56b8d2e565bb3b1e4198abc30f47
Author: bachinger <bachinger@google.com>
Date:   2019-11-12 15:32:57 +0000

    use getPeriodByUid when searching for subsequent period of seek timeline
    
    Issue: #6641
    PiperOrigin-RevId: 279963739

4	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
65	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit abe0330f39f6c3c98f5e2024dee4e640827a0a9e
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-12 11:38:30 +0000

    Add a track type argument to DrmSessionManager.acquirePlaceholderSession
    
    Issue:#4867
    PiperOrigin-RevId: 279928345

4	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit b84a9bed2caade60a06ac5b91bd66a5f3af6449d
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-12 11:36:29 +0000

    Add a parameter object for LoadErrorHandlingPolicy methods
    
    PiperOrigin-RevId: 279928178

60	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/LoadErrorHandlingPolicy.java

commit ddb70d96ad99f07fe10f53a76ce3262fe625be70
Author: ibaker <ibaker@google.com>
Date:   2019-11-12 11:23:54 +0000

    Require an end timecode in SSA and Subrip subtitles
    
    SSA spec allows the lines in any order, so they must all have an end time:
    http://moodub.free.fr/video/ass-specs.doc
    
    The Matroska write-up of SubRip assumes the end time is present:
    https://matroska.org/technical/specs/subtitles/srt.html
    
    This will massively simplify merging issue:#6595
    
    PiperOrigin-RevId: 279926730

3	0	RELEASENOTES.md
55	67	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
7	13	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
4	11	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
2	0	library/core/src/test/assets/ssa/invalid_timecodes
0	12	library/core/src/test/assets/ssa/no_end_timecodes
0	11	library/core/src/test/assets/subrip/no_end_timecodes
8	0	library/core/src/test/assets/subrip/typical_missing_timecode
0	23	library/core/src/test/java/com/google/android/exoplayer2/text/ssa/SsaDecoderTest.java
0	23	library/core/src/test/java/com/google/android/exoplayer2/text/subrip/SubripDecoderTest.java

commit b43db3bceb3e9c157f112cea74e7fe629bab13d1
Author: ibaker <ibaker@google.com>
Date:   2019-11-12 10:54:49 +0000

    Clarify SSA and SubRip docs in MatroskaExtractor
    
    The handling of times wasn't really clear to me, hopefully this more
    exhaustive documentation helps a bit.
    
    Also assert the end timecode is the 'correct' length for the format.
    
    PiperOrigin-RevId: 279922369

50	19	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 2faef483026114a684406710561937b5ed15228c
Author: kimvde <kimvde@google.com>
Date:   2019-11-12 09:33:59 +0000

    Add CRC-8 method in Util
    
    PiperOrigin-RevId: 279911378

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SectionReader.java
83	42	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
24	0	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit 6df92fdd3f8039b7c7508d48bc78b8f6b7b72702
Author: olly <olly@google.com>
Date:   2019-11-12 08:06:09 +0000

    Update VP9 extension README to ref NDK r20
    
    PiperOrigin-RevId: 279899984

1	1	extensions/vp9/README.md

commit 4fd881a5516a04409cc0f54d4e6be6c059519f79
Author: olly <olly@google.com>
Date:   2019-11-12 06:53:39 +0000

    Suppress warnings emitted by Checker Framework version 3.0.0
    
    More information:
    https://docs.google.com/document/d/16tpK6aXqN68PvTyvt4siM-m7f0NXi_8xEeitLDzr8xY/edit?usp=sharing
    Tested:
        TAP --sample ran all affected tests and none failed
        http://test/OCL:279845168:BASE:279870402:1573537714395:80ca701c
    PiperOrigin-RevId: 279891832

2	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit b477d8b68a56c3f3d2c186657a6e7af5c4312cb2
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-12 00:18:44 +0000

    Don't check channels for E-AC3 JOC passthrough
    
    PiperOrigin-RevId: 279841132

2	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit e49f1f8a61a4344ed092ae50654414943500a849
Author: olly <olly@google.com>
Date:   2019-11-11 15:42:20 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/844c023b654bdedf093af4b5c3ed5aafe218b877
    
    *** Original commit ***
    
    Add CRC-8 method in Util
    
    ***
    
    PiperOrigin-RevId: 279733541

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SectionReader.java
41	82	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
0	24	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit 844c023b654bdedf093af4b5c3ed5aafe218b877
Author: kimvde <kimvde@google.com>
Date:   2019-11-11 15:01:04 +0000

    Add CRC-8 method in Util
    
    PiperOrigin-RevId: 279727618

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SectionReader.java
82	41	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
24	0	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit 13cf2360c88d35bef36f97183a12eb6e8746524a
Author: kimvde <kimvde@google.com>
Date:   2019-11-11 14:22:30 +0000

    Compute format maxInputSize in FlacReader
    
    Use the maximum frame size as the maximum sample size if provided.
    
    PiperOrigin-RevId: 279722820

3	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump

commit 03511776116bc6a02c684b1278bf3faa543d283b
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-11 05:33:45 +0000

    Handle new signaling for E-AC3 JOC in DASH
    
    Issue: #6636
    PiperOrigin-RevId: 279666771

2	0	RELEASENOTES.md
4	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit be03c0841043275e6952af6608b9e474fdd4b6b9
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-11 04:21:57 +0000

    Add test for becoming noisy handling
    
    To trigger receiving the broadcast it's necessary to idle() the shadow
    main looper, which has to be done from the test thread. Therefore this
    change removes the send broadcast action and instead sends the broadcast
    from the test thread.
    
    PiperOrigin-RevId: 279660935

70	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
55	23	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
11	12	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java

commit 266c13913ac3095cefdc97ebfae11888254f5919
Author: olly <olly@google.com>
Date:   2019-11-09 16:35:07 +0000

    Fix spurious regex simpliciation
    
    Android Studio claims this escaping isn't required, but now it's removed this code crashes due to a malformed regex.
    
    PiperOrigin-RevId: 279501823

1	1	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java

commit 71f7ab1c57e474f390d5c075bcb9ee12f06b53bc
Author: tonihei <tonihei@google.com>
Date:   2019-11-08 12:15:29 +0000

    Workaround for pre-M platform bug when instantiating CaptioningManager.
    
    PiperOrigin-RevId: 279286802

6	0	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java

commit a9ef9c46c8b6602b9e31ff666a9937d3ad03cee5
Author: olly <olly@google.com>
Date:   2019-11-07 19:09:40 +0000

    Bump version to 2.11.0
    
    Note: Release notes are not final.
    PiperOrigin-RevId: 279125474

5	3	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 6286491621b3162b66f4e95481486244f815a4b3
Author: ibaker <ibaker@google.com>
Date:   2019-11-07 17:50:18 +0000

    Remove SubtitlePainter from null-checking blacklist
    
    PiperOrigin-RevId: 279107241

21	9	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitlePainter.java

commit 53283ecb529515185e79105d3a78009efd29aec9
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-07 16:27:39 +0000

    Add CastPlayer tests for repeatMode masking
    
    PiperOrigin-RevId: 279091742

71	8	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastPlayerTest.java

commit d1da3d925bc4bf43c874390a98ceade045237e6c
Author: kimvde <kimvde@google.com>
Date:   2019-11-07 16:05:30 +0000

    Fix FLAC bit rate computation
    
    PiperOrigin-RevId: 279088193

1	1	extensions/flac/src/androidTest/assets/bear.flac.0.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.1.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.2.dump
1	1	extensions/flac/src/androidTest/assets/bear.flac.3.dump
1	1	extensions/flac/src/androidTest/assets/bear_with_id3.flac.0.dump
1	1	extensions/flac/src/androidTest/assets/bear_with_id3.flac.1.dump
1	1	extensions/flac/src/androidTest/assets/bear_with_id3.flac.2.dump
1	1	extensions/flac/src/androidTest/assets/bear_with_id3.flac.3.dump
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
1	1	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump

commit a226bd0d694d4a7e5f8eaae6022fa69e48363d24
Author: kimvde <kimvde@google.com>
Date:   2019-11-07 15:19:37 +0000

    Fix extractor sniffing in FLAC extension
    
    Assuming that a flac stream starts with bytes
    ['f', 'L', 'a', 'C', 0, 0, 0, 0x22] is not always correct as it could
    also start with ['f', 'L', 'a', 'C', 0x80, 0, 0, 0x22]
    (see https://xiph.org/flac/format.html#metadata_block_streaminfo).
    
    PiperOrigin-RevId: 279080562

9	12	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java

commit 355ed11a3cd6d90eb02d9f773a546561884324b3
Author: olly <olly@google.com>
Date:   2019-11-07 15:19:20 +0000

    Suppress warnings emitted by Checker Framework version 2.11.1
    
    More information:
    https://docs.google.com/document/d/16tpK6aXqN68PvTyvt4siM-m7f0NXi_8xEeitLDzr8xY/edit?usp=sharing
    
    Tested:
        TAP --sample ran all affected tests and none failed
        http://test/OCL:278915274:BASE:278884711:1573074344615:a6701677
    PiperOrigin-RevId: 279080514

6	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
5	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit 29d110b7eb74236848d52478548d1e6537f36ae4
Author: kimvde <kimvde@google.com>
Date:   2019-11-07 14:36:53 +0000

    Fix FLAC extension tests
    
    - Add @Test annotations.
    - Fix seeking to ignore potential placeholders
      (see https://xiph.org/flac/format.html#metadata_block_seektable).
    
    PiperOrigin-RevId: 279074092

3	0	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
7	0	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorSeekTest.java
3	0	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorTest.java
3	0	extensions/flac/src/main/jni/flac_parser.cc

commit 6f9baffa0cc7daf8cbfd5e1f6c55a908190d2041
Author: olly <olly@google.com>
Date:   2019-11-07 09:33:59 +0000

    Suppress warnings emitted by Checker Framework version 2.11.1
    
    More information:
    https://docs.google.com/document/d/16tpK6aXqN68PvTyvt4siM-m7f0NXi_8xEeitLDzr8xY/edit?usp=sharing
    
    Tested:
        tap_presubmit: http://test/OCL:278683723:BASE:278762656:1573036487314:924e1b0b
        Some tests failed; test failures are believed to be unrelated to this CL
    PiperOrigin-RevId: 279034739

2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/PsshAtomUtil.java

commit 5c2806eccabcdeb8817b1ccb20bffeb087259f42
Author: bachinger <bachinger@google.com>
Date:   2019-11-06 17:21:31 +0000

    Playlist API: add Playlist and PlaylistTest
    
    PiperOrigin-RevId: 278875587

3	5	library/core/src/main/java/com/google/android/exoplayer2/{source => }/AbstractConcatenatedTimeline.java
707	0	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
510	0	library/core/src/test/java/com/google/android/exoplayer2/PlaylistTest.java

commit cd2c1f2f24c3a17ffa59f0c5ba9d17d55f141793
Author: bachinger <bachinger@google.com>
Date:   2019-11-06 16:38:26 +0000

    Playlist API: Add setMediaItem() and prepare()
    
    PiperOrigin-RevId: 278867153

2	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
37	12	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
49	22	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
43	10	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
154	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
15	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit 4570cd37c505dd5de0b57245436fee63272dba18
Author: olly <olly@google.com>
Date:   2019-11-06 13:09:45 +0000

    Testutils: Add missing Javadoc + Misc cleanup
    
    PiperOrigin-RevId: 278835106

1	1	library/core/src/test/java/com/google/android/exoplayer2/database/VersionTableTest.java
9	9	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggExtractorTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndexTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedRegionTrackerTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpanTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
24	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java
58	17	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit 0a27d7b4827b939a8e28b732e78c28b90e00f873
Author: olly <olly@google.com>
Date:   2019-11-05 18:43:25 +0000

    Don't use DRM prior to API level 18
    
    PiperOrigin-RevId: 278660557

2	1	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java

commit 6d9c707255eb369be2b2509db910029f9034fbf7
Author: Stanislav Ionascu <stanislav.ionascu@gmail.com>
Date:   2019-11-14 08:30:30 +0100

    Detect Dolby Vision profile 7
    
    In official documentation dvProfile 7 uses dvhe as the codec type.

1	1	library/core/src/main/java/com/google/android/exoplayer2/video/DolbyVisionConfig.java

commit d73d64bc6fc90aa972c8e9f76fafba1ec661ca2d
Merge: 41b3fc110 e30f4f20f
Author: Oliver Woodman <olly@google.com>
Date:   2019-11-06 13:06:22 +0000

    Merge pull request #6619 from google/dev-v2-r2.10.7
    
    r2.10.7

commit e30f4f20f069eec2b0807b708e80e47c98e86f28
Author: olly <olly@google.com>
Date:   2019-11-05 18:34:29 +0000

    Bump version to 2.10.7
    
    PiperOrigin-RevId: 278658259

1	1	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 87003b30fce2860dc734025b00fcf06de8da4ded
Author: olly <olly@google.com>
Date:   2019-11-05 18:34:29 +0000

    Bump version to 2.10.7
    
    PiperOrigin-RevId: 278658259

12	8	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit f51f7bd405d30809d61654b738ac902de864c796
Author: olly <olly@google.com>
Date:   2019-11-05 17:28:21 +0000

    Fix SurfaceControl demo app layout
    
    The fixes sizes could end up being wider than the screen (e.g on Pixel 3a)
    
    PiperOrigin-RevId: 278642828

4	4	demos/surface/src/main/java/com/google/android/exoplayer2/surfacedemo/MainActivity.java
20	12	demos/surface/src/main/res/layout/main_activity.xml

commit efc7f55616f9cf909a3243a7a9b1d9b87a72217e
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-11-05 17:12:17 +0000

    Make DefaultDrmSession package private
    
    PiperOrigin-RevId: 278639779

1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
35	35	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 02a83a537732771dba22d3ac1ce9ace934f6f803
Author: olly <olly@google.com>
Date:   2019-11-05 17:08:02 +0000

    Delete unused theme
    
    PiperOrigin-RevId: 278638978

0	23	demos/surface/src/main/res/values/styles.xml

commit 9ac13f91b6e6c67bef9ddddb91988edcac227d56
Author: kimvde <kimvde@google.com>
Date:   2019-11-04 10:10:57 +0000

    Fix inverted arguments in FlacReader format creation
    
    PiperOrigin-RevId: 278332587

2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump

commit 1ea878a0b07de7224d6a3e4dbc5bd7468866bbe1
Author: kimvde <kimvde@google.com>
Date:   2019-11-01 18:12:41 +0000

    Add parameter names to Format creation
    
    PiperOrigin-RevId: 277963928

7	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java

commit 6c7fbe8b52bfa45710f9d7753efa14ef965d5494
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-29 11:39:18 +0000

    Add shuffle and repeat modes to media session playback state invalidation
    
    Which ensures both get updated when the MediaSessionConnector player
    changes.
    
    Issue:#6582
    PiperOrigin-RevId: 277254889

3	1	RELEASENOTES.md
12	10	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit accb31e4895122f85248d75f6912f1e618014f8b
Author: olly <olly@google.com>
Date:   2019-11-01 14:44:54 +0000

    Reset MediaSession shuffle/repeat modes if player is null
    
    - This is for consistency with PlayerControlView.
    
    - Also update PlayerNotificationManager notification if shuffle
      mode changes. This is for consistency with what happens when
      the repeat mode changes. By default the notification will be
      unchanged, but custom implementations can extend and then
      override createNotification, and given these modes change
      infrequently it feels like we can just do this. The alternative
      for achieving consistency would be to remove handling of repeat
      mode changes.
    
    Issue: #6582
    PiperOrigin-RevId: 277925094

3	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
6	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit cc94ae7bfb6cb0e6fe33956f4a435aaf84dffe11
Author: kimvde <kimvde@google.com>
Date:   2019-11-01 12:29:29 +0000

    Fix typo in WavHeader class
    
    PiperOrigin-RevId: 277910360

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java

commit 7ada1a848f0ff604a91b6d6567fd844fe867f281
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-31 09:32:14 +0000

    Fix detection of Dolby Atmos in HLS
    
    E-AC3 with JOC is signaled using the CHANNELS attribute for HLS:
    https://developer.apple.com/documentation/http_live_streaming/hls_authoring_specification_for_apple_devices/hls_authoring_specification_for_apple_devices_appendices
    
    PiperOrigin-RevId: 277680300

1	0	RELEASENOTES.md
9	8	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit f4b9042bf018b1a8a2ad3bbf9ecdada6286c2dc1
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-30 08:36:39 +0000

    Recreate Opus decoder for stream change
    
    The framework opus decoder discards some samples after a call to
    flush(). Because we flush a decoder that is being retained across an
    input format change, this means that the start of audio gets truncated
    when transitioning to a new opus stream. See also
    https://android.googlesource.com/platform/frameworks/av/+/refs/heads/android10-release/media/libstagefright/codecs/opus/dec/SoftOpus.cpp.
    
    Avoid this by recreating opus decoders instead of flushing them. It
    seems fine to do this for all opus decoders as reinitialization should
    be cheap, OEM-provided implementations may also discard samples and
    playback shouldn't be interrupted on reinitialization due to the
    downstream AudioTrack buffer.
    
    PiperOrigin-RevId: 277458759

6	1	RELEASENOTES.md
22	19	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java

commit acb84396d56712c8c5ead3bee6612b767942f9c9
Author: olly <olly@google.com>
Date:   2019-10-28 12:18:49 +0000

    Fix incorrect anamorphic handling in Leanback extension
    
    The leanback library doesn't know about non-square pixels. So if
    we're playing content that uses non-square pixels, we need to adjust
    the video dimensions that we provide to leanback such that it
    renders the video with the correct aspect ratio.
    
    PiperOrigin-RevId: 277042560

5	1	extensions/leanback/src/main/java/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.java

commit 6788a830da927310b3cdf6da39780f08828fc5db
Author: ibaker <ibaker@google.com>
Date:   2019-10-25 14:01:59 +0100

    Use -Float.MAX_VALUE for Cue#DIMEN_UNSET
    
    Float.MIN_VALUE is very close to zero:
    
    PiperOrigin-RevId: 276674142

2	1	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit 6aa792aad540a599b7c5f4ee28d759f470c4d1f7
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-25 11:18:47 +0100

    Document error handling in the Extractor interface
    
    PiperOrigin-RevId: 276660235

4	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/Extractor.java

commit 2c721130b1ea9efbbd83f8d0e75fbee63e1c6973
Author: ibaker <ibaker@google.com>
Date:   2019-10-22 11:05:33 +0100

    Update parseStbl to handle edit lists & gapless info
    
    Without this, a subtitle track empty edit list used to offset the start of
    subtitles is ignored.
    
    Also the current code seems to depend on the order in which
    we parse the tracks (audio first means we have gapless info when we parse
    video track, while video first we wouldn't).
    
    It's not clear why we can't handle both edit lists & gapless info
    
    PiperOrigin-RevId: 276029744

1	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit 2dbc5755f65a411de9d783b2393f31f0099e4501
Author: tonihei <tonihei@google.com>
Date:   2019-10-18 17:48:21 +0100

    Fix NPE in FakeAdaptiveMediaPeriod.
    
    The compositeSequenableLoader was causing NPEs in isLoading. Initializing it
    upfront prevents this problem and is in line with what we do in all real
    MediaPeriods.
    
    PiperOrigin-RevId: 275491511

1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java

commit 7cc3943b4fba25ebf265a63b5f0dfb5ae0e33422
Author: christosts <christosts@google.com>
Date:   2019-11-05 15:35:02 +0000

    Experimental API to skip MediaCodec.stop()
    
    Add experimental API on MediaCodecRenderer to skip calling
    MediaCodec.stop() before the call to MediaCodec.release().
    
    PiperOrigin-RevId: 278621032

20	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit c8170e18d026c8f4f3fcd25b3a9cd9123fc5f723
Author: kimvde <kimvde@google.com>
Date:   2019-11-05 11:09:20 +0000

    Update AndroidX Test versions to latest
    
    Split the version of the sublibraries because their latest version
    number is different. See
    https://developer.android.com/jetpack/androidx/releases/test#1.2.0.
    
    PiperOrigin-RevId: 278585090

4	1	constants.gradle
3	1	extensions/flac/build.gradle
2	2	extensions/opus/build.gradle
2	2	extensions/vp9/build.gradle
4	4	library/core/build.gradle
2	2	playbacktests/build.gradle
2	2	testutils/build.gradle

commit 9842ea7f22ec6cb10e43c7a11571f903a16cb3d5
Author: olly <olly@google.com>
Date:   2019-11-04 17:47:22 +0000

    Move classes that don't belong in testutils out of testutils
    
    PiperOrigin-RevId: 278401000

0	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggExtractorTest.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPacketTest.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeaderTest.java
5	2	{testutils/src/main/java/com/google/android/exoplayer2/testutil => library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg}/OggTestData.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggTestFile.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisReaderTest.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisUtilTest.java
2	4	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestData.java
1	3	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
2	2	{testutils/src/main/java/com/google/android/exoplayer2/testutil => playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts}/DebugRenderersFactory.java
0	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/EnumerateDecodersTest.java
3	10	{testutils/src/main/java/com/google/android/exoplayer2/testutil => playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts}/LogcatMetricsLogger.java
3	13	{testutils/src/main/java/com/google/android/exoplayer2/testutil => playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts}/MetricsLogger.java

commit d587def451aab4d6fed6b09797c615e82e8eaf8e
Author: olly <olly@google.com>
Date:   2019-11-04 17:41:05 +0000

    Fix Javadoc broken due to lack of import
    
    PiperOrigin-RevId: 278399475

1	0	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java

commit 5968c8345b9db295adfea6948f43bbbc2b0c4ac8
Author: olly <olly@google.com>
Date:   2019-11-04 17:35:04 +0000

    Remove auto-value dependency
    
    PiperOrigin-RevId: 278398045

0	4	library/core/build.gradle
0	2	testutils/build.gradle

commit 165ff55502d52e99586f0d7ed72964617e7e3540
Author: kimvde <kimvde@google.com>
Date:   2019-11-04 10:10:57 +0000

    Fix inverted arguments in FlacReader format creation
    
    PiperOrigin-RevId: 278332587

2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.0.dump
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.1.dump
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.2.dump
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.3.dump
2	2	library/core/src/test/assets/ogg/bear_flac.ogg.unklen.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.0.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.1.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.2.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.3.dump
2	2	library/core/src/test/assets/ogg/bear_flac_noseektable.ogg.unklen.dump

commit 46d58b5edab2a8840f4955c0a02aa9e670b536f2
Author: olly <olly@google.com>
Date:   2019-11-04 10:09:08 +0000

    Add missing IntDef case in switch
    
    PiperOrigin-RevId: 278332276

1	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit bd61b63ebc5bc8beb41527576495eb0b327fa497
Author: kimvde <kimvde@google.com>
Date:   2019-11-04 09:36:57 +0000

    Remove unnecessary exceptions in method signature
    
    PiperOrigin-RevId: 278327151

1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java

commit 880b879e8c55b1e709fd3ed6a48005737d26e75a
Author: olly <olly@google.com>
Date:   2019-11-03 19:44:46 +0000

    Suppress warnings emitted by Checker Framework version 2.11.1
    
    More information:
    https://docs.google.com/document/d/16tpK6aXqN68PvTyvt4siM-m7f0NXi_8xEeitLDzr8xY/edit?usp=sharing
    
    Tested:
        TAP train for global presubmit queue
        http://test/OCL:278152710:BASE:278144052:1572760370662:22459c12
    PiperOrigin-RevId: 278241536

2	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/audio/ChannelMappingAudioProcessor.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Track.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSchemeDataSource.java
2	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SceneRenderer.java

commit 7e070683a38c96e2f55a305650765e300d8a6121
Author: olly <olly@google.com>
Date:   2019-11-02 03:46:19 +0000

    Expose getMetrics() in ExoV1 and ExoV2 FrameworkMediaDrm classes.
    
    PiperOrigin-RevId: 278054214

7	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DummyExoMediaDrm.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
11	0	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit 922991da88cb06aac4d68ebcaf9809fc7bb7e63b
Author: ibaker <ibaker@google.com>
Date:   2019-11-01 18:38:37 +0000

    Add @NonNullApi to text packages with no blacklisted files
    
    PiperOrigin-RevId: 277969385

19	0	library/core/src/main/java/com/google/android/exoplayer2/text/pgs/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/text/tx3g/package-info.java

commit 5d46d4f74fbc804443f955e321ce535629cca632
Author: kimvde <kimvde@google.com>
Date:   2019-11-01 18:12:41 +0000

    Add parameter names to Format creation
    
    PiperOrigin-RevId: 277963928

7	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java

commit 15f8d8668e11ab14a81c54c9a835b2b5354cc430
Author: ibaker <ibaker@google.com>
Date:   2019-11-01 15:48:03 +0000

    Select exolist-specified subtitles by default
    
    If a sample has a subtitle file listed, it makes sense to show it by
    default.
    
    PiperOrigin-RevId: 277934597

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java

commit 8dcd1e53bcc9248b1d1fa05ac91896a738cfdb55
Author: olly <olly@google.com>
Date:   2019-11-01 15:10:25 +0000

    Remove or suppress warnings where we use our own deprecated APIs
    
    PiperOrigin-RevId: 277928790

1	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloaderConstructorHelper.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultDataSource.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java

commit 07e93c15f9278f0e6ac72efcb18421915a21f622
Author: ibaker <ibaker@google.com>
Date:   2019-11-01 15:02:55 +0000

    Add support for subtitle files in the demo app
    
    issue:#5523
    PiperOrigin-RevId: 277927555

2	0	RELEASENOTES.md
12	0	demos/main/src/main/assets/media.exolist.json
21	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
42	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/Sample.java
25	3	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java

commit c5c50078d77572e988a14d7afd05412b13ea3748
Author: olly <olly@google.com>
Date:   2019-11-01 14:44:54 +0000

    Reset MediaSession shuffle/repeat modes if player is null
    
    - This is for consistency with PlayerControlView.
    
    - Also update PlayerNotificationManager notification if shuffle
      mode changes. This is for consistency with what happens when
      the repeat mode changes. By default the notification will be
      unchanged, but custom implementations can extend and then
      override createNotification, and given these modes change
      infrequently it feels like we can just do this. The alternative
      for achieving consistency would be to remove handling of repeat
      mode changes.
    
    Issue: #6582
    PiperOrigin-RevId: 277925094

3	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
6	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit a4e7274cca0ab57f0b23bfa0251a06fae243bf94
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-01 14:38:22 +0000

    Update audio extension build configurations
    
    - Fix FLAC extension build (currently broken due to use of std::array,
      but fixed by migrating to NDK r20).
    - Move opus and ffmpeg extensions to NDK r20. For ffmpeg, upgrade to
      release 4.2 which requires using libswresample and updates to the
      build script.
    
    Issue: #6601
    PiperOrigin-RevId: 277924119

6	0	RELEASENOTES.md
2	2	extensions/ffmpeg/README.md
1	1	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.java
8	3	extensions/ffmpeg/src/main/jni/Android.mk
1	1	extensions/ffmpeg/src/main/jni/Application.mk
12	8	extensions/ffmpeg/src/main/jni/build_ffmpeg.sh
2	2	extensions/flac/README.md
1	1	extensions/flac/src/main/jni/Application.mk
2	1	extensions/opus/README.md
1	1	extensions/opus/src/main/jni/Application.mk

commit 2106e5f328971fcdd2c4de2c40a0263391b64187
Author: ibaker <ibaker@google.com>
Date:   2019-11-01 13:34:15 +0000

    Annotate webvtt package with @NonNullApi
    
    PiperOrigin-RevId: 277916734

20	0	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/package-info.java

commit 616f4774e1e8dbcbf753c18b6448b0d9d824b4e2
Author: ibaker <ibaker@google.com>
Date:   2019-11-01 13:33:20 +0000

    Remove WebvttCueParser from null-checking blacklist
    
    PiperOrigin-RevId: 277916639

36	21	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java

commit 129efa2ebf56776512d0d70d116c9884a1b66743
Author: ibaker <ibaker@google.com>
Date:   2019-11-01 13:32:20 +0000

    Remove WebvttCssStyle from null-checking blacklist
    
    PiperOrigin-RevId: 277916508

23	14	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.java

commit 2139973e2c83cf930e80769da194e2f3f058d45b
Author: ibaker <ibaker@google.com>
Date:   2019-11-01 13:30:21 +0000

    Remove WebvttParserUtil from null-checking blacklist
    
    PiperOrigin-RevId: 277916279

2	0	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttParserUtil.java

commit 5407c31726ee37c9f158f549bcdf578cfb4e15d1
Author: ibaker <ibaker@google.com>
Date:   2019-11-01 13:28:23 +0000

    Remove WebvttSubtitle from null-checking blacklist
    
    PiperOrigin-RevId: 277916113

7	13	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitle.java

commit 5b80b4b523d9a79e1cc59d6af9d80e612fd4d131
Author: tonihei <tonihei@google.com>
Date:   2019-11-01 12:38:50 +0000

    Update initial bitrate estimates.
    
    PiperOrigin-RevId: 277911191

171	174	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java

commit b972fd1f27d8ca657796423c0c9bc7cda07dd5aa
Author: ibaker <ibaker@google.com>
Date:   2019-11-01 12:36:23 +0000

    Remove WebvttCue from null-checking blacklist
    
    PiperOrigin-RevId: 277910909

7	2	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCue.java

commit ab2bfcc1b9c96c77fde4ab390d8ada1eb7aa58b1
Author: kimvde <kimvde@google.com>
Date:   2019-11-01 12:29:29 +0000

    Fix typo in WavHeader class
    
    PiperOrigin-RevId: 277910360

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java

commit 656556b82845acc6d4d4afc796e9ce477c31e1ab
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-11-01 10:13:01 +0000

    Clean up naming for GLSurfaceViews
    
    PiperOrigin-RevId: 277896757

1	0	RELEASENOTES.md
2	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
1	1	demos/main/src/main/res/values/styles.xml
3	2	extensions/av1/README.md
3	3	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
3	2	extensions/vp9/README.md
3	3	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
3	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/C.java
8	3	library/core/src/main/java/com/google/android/exoplayer2/Player.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
14	17	library/core/src/main/java/com/google/android/exoplayer2/video/{VideoDecoderSurfaceView.java => VideoDecoderGLSurfaceView.java}
2	0	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderRenderer.java
38	35	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/{SphericalSurfaceView.java => SphericalGLSurfaceView.java}
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/TouchTracker.java
2	2	library/ui/src/main/res/values/attrs.xml

commit 242a0053c96afdccd4654786e299b4df168f0ef0
Author: kimvde <kimvde@google.com>
Date:   2019-10-31 18:34:34 +0000

    Add method to read more than 32 bits in ParsableBitArray
    
    PiperOrigin-RevId: 277766372

17	4	library/core/src/main/java/com/google/android/exoplayer2/util/ParsableBitArray.java
12	2	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
44	0	library/core/src/test/java/com/google/android/exoplayer2/util/ParsableBitArrayTest.java
18	0	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit 32dcd80b4a95fa93578ae1acb2700b02a87246c0
Author: kimvde <kimvde@google.com>
Date:   2019-10-31 17:03:26 +0000

    Improve ParsableBitArray unit tests
    
    PiperOrigin-RevId: 277744735

120	80	library/core/src/test/java/com/google/android/exoplayer2/util/ParsableBitArrayTest.java

commit 981008f76eeea1301df1a42efb8786a6eabbdecc
Author: olly <olly@google.com>
Date:   2019-10-31 16:01:57 +0000

    Fix field-can-be-local warnings
    
    PiperOrigin-RevId: 277732159

1	2	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java

commit f55083ab48c785aa9801f8d8bde1bd5a1d8ccd50
Author: olly <olly@google.com>
Date:   2019-10-31 15:49:27 +0000

    Minor DRM documentation tweaks
    
    PiperOrigin-RevId: 277729887

8	14	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit f554dc4ea40139e262ad18e9a0c8803070178cd5
Author: ibaker <ibaker@google.com>
Date:   2019-10-31 13:40:03 +0000

    Increase 2 timeouts to reduce test flakiness
    
    PiperOrigin-RevId: 277710160

1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java

commit d596fcd9ba55498a84d64e3f9d5112e243d002b3
Author: olly <olly@google.com>
Date:   2019-10-31 13:32:48 +0000

    Remove unnecessary warning suppressions
    
    PiperOrigin-RevId: 277709114

0	1	library/core/src/main/java/com/google/android/exoplayer2/Player.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderRenderer.java

commit a7b242998a930c5d664f28d65505277609a8e199
Author: ibaker <ibaker@google.com>
Date:   2019-10-31 13:15:48 +0000

    Fix subtitle parsing regex suggestions
    
    Suggested by Android Studio's Inspect Code
    
    SO seems to think there's a performance difference for the | change:
    https://stackoverflow.com/questions/22132450/why-is-a-character-class-faster-than-alternation
    
    PiperOrigin-RevId: 277707341

7	6	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttParserUtil.java

commit 5ff7f3a17e1f39ba3d11fcae2b5a28f85a5273f7
Author: olly <olly@google.com>
Date:   2019-10-31 13:10:38 +0000

    Remove pointless arithmetic
    
    PiperOrigin-RevId: 277706810

2	2	testutils/src/test/java/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSetTest.java

commit f960f8a5750cbe1a4e67144e21271bfe64b00dfd
Author: tonihei <tonihei@google.com>
Date:   2019-10-31 12:28:59 +0000

    Forward suppression state to new playback stats sessions.
    
    The value is stateful and new sessions need to be informed of the current state
    
    PiperOrigin-RevId: 277701955

1	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java

commit 01a4cf98d551bdac161f1b845fe00aa1ccffda47
Author: bachinger <bachinger@google.com>
Date:   2019-10-31 11:32:47 +0000

    add default methods isSingleWindow and getInitialTimeline to MediaSource interface
    
    PiperOrigin-RevId: 277695826

71	0	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
17	0	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
20	7	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
38	17	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
27	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java
146	0	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
33	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit df251ad1be66e789ab8cecc5162b041beda29eda
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-31 10:58:24 +0000

    Add tests for SampleQueue isReady
    
    PiperOrigin-RevId: 277691935

52	22	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit 2d530478eea5b60b34a396586ad4bae2b2caf395
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-31 10:54:52 +0000

    Make FormatHolder be entirely populated by SampleMetadataQueue
    
    This should not introduce any functional changes.
    
    PiperOrigin-RevId: 277691550

132	58	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
20	144	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit fbea71b0fe90eddabd0f46396ab93256ef128109
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-31 09:32:14 +0000

    Fix detection of Dolby Atmos in HLS
    
    E-AC3 with JOC is signaled using the CHANNELS attribute for HLS:
    https://developer.apple.com/documentation/http_live_streaming/hls_authoring_specification_for_apple_devices/hls_authoring_specification_for_apple_devices_appendices
    
    PiperOrigin-RevId: 277680300

1	0	RELEASENOTES.md
9	8	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit 149ea90541efae5d93ce1a0e5abe90df972e9896
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-31 08:47:52 +0000

    Fix throws in DashStreamingTest
    
    Some methods marked as throwing DecoderQueryException actually
    did not throw it. Switch to marking throws Exception
    everywhere.
    
    PiperOrigin-RevId: 277674401

33	33	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashStreamingTest.java

commit f5377d9b11c71e31a9d06dce6a8c123cb61d52a2
Author: ibaker <ibaker@google.com>
Date:   2019-10-30 16:43:14 +0000

    Encode WebVTT size computation in WebvttCue.java
    
    Relevant part of the spec:
    https://www.w3.org/TR/webvtt1/#processing-cue-settings
    
    PiperOrigin-RevId: 277523694

21	0	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCue.java

commit d29d45261713d3622995446e6f1249fb17376b8a
Author: ibaker <ibaker@google.com>
Date:   2019-10-30 16:41:21 +0000

    Switch (Mp4)WebvttDecoderTest to use Truth's Expect
    
    This means multiple failures are all logged, instead of the test
    stopping when the first assertion fails. Makes tests like this with
    lots of independent assertions much easier to work with.
    
    I limited the expect to a single assertCues() call, otherwise
    the error message gets very long and is hard to read, but I
    still think this is an improvement.
    
    PiperOrigin-RevId: 277523300

24	15	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoderTest.java
20	13	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java

commit b3f94e3768577abfa365fcea88cbd04f5f2a1827
Author: ibaker <ibaker@google.com>
Date:   2019-10-30 16:39:14 +0000

    Update WebvttCue to use defaults from the spec
    
    Cue's UNSET and null values should be used when the source data
    doesn't specify *and* the spec doesn't provide a clear default.
    In the WebVTT case, the defaults are clear, so we use them
    explicitly.
    
    PiperOrigin-RevId: 277522899

156	41	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCue.java
13	15	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitle.java
2	3	library/core/src/test/assets/webvtt/with_positioning
7	4	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoderTest.java
25	25	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java

commit 0c63362258be11688aa13100ecac75eaedb55899
Author: tonihei <tonihei@google.com>
Date:   2019-10-30 16:22:49 +0000

    Add @Documented and JavaDoc to HlsMetadataType.
    
    PiperOrigin-RevId: 277519718

4	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMetadataType.java

commit 7701c883de312ff2b3a5786397060ba2397f5182
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-30 13:07:20 +0000

    Add new MIME types to EnumerateDecodersTest
    
    PiperOrigin-RevId: 277489763

5	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/EnumerateDecodersTest.java

commit 18e1c3eb1c71d31143f701c7f4857209d83b303b
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-30 11:15:20 +0000

    Rename the option allowPlaceholderSessions to preferSecureDecoders
    
    PiperOrigin-RevId: 277477784

14	16	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit aeefb79a86519a1539f503fb5ac2b3f0c7760ba7
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-30 09:11:06 +0000

    Fix MediaCodecUtil nullability annotations
    
    PiperOrigin-RevId: 277462799

8	3	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
20	10	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
6	2	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 3f5654a1474464c7c8f0bf61deb04911466ba471
Merge: 0c5d47028 fb2a70291
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-11-03 14:00:07 +0200

    Merge branch 'dev-v2-ssa-position' of https://github.com/szaboa/ExoPlayer into dev-v2-ssa-position

commit 0c5d47028342aa7bd88a3d171bc28e1bc5970f0f
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-11-03 13:59:28 +0200

    Correct SSA overlapping subtitle decoding, add tests

54	30	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
16	0	library/core/src/test/assets/ssa/overlap
39	1	library/core/src/test/java/com/google/android/exoplayer2/text/ssa/SsaDecoderTest.java

commit fb2a70291847115cee2554c45cbc553aec9d78d6
Author: Arnold Szab <szaboaarnold@gmail.com>
Date:   2019-10-30 23:04:44 +0200

    Delete accidentally pushed Project Default.xml

0	5	Project Default.xml

commit 925a7fd045462126be5a959ce483448ff613f653
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-10-30 23:02:37 +0200

    Remove unnecessary empty check in getCues(..)

2	2	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaSubtitle.java

commit 7a6de79f91309fbba5b3cc1d335d5301e6022d5f
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-10-30 23:00:45 +0200

    Add initial values to playResX and playResY

3	3	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java

commit 86efd1944ec6b1506de85ec029f9328378b53260
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-10-30 22:58:32 +0200

    Add jdoc to SSA parsePosition(..) method

9	3	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java

commit 3b741e591fbff2ed69e9b7efdc3b084e64ba21ca
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-10-30 22:51:13 +0200

    Remove hardcoded index when parsing PlayResX and PlayResY

2	2	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java

commit 4d6d8060b4225f78084268dc43f5739fc3993f05
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-10-30 22:45:31 +0200

    Use PointF instead of Pair when parsing the position

5	0	Project Default.xml
6	6	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java

commit d3933e5cac313d91f03c57140b2572eeda276184
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-30 08:36:39 +0000

    Recreate Opus decoder for stream change
    
    The framework opus decoder discards some samples after a call to
    flush(). Because we flush a decoder that is being retained across an
    input format change, this means that the start of audio gets truncated
    when transitioning to a new opus stream. See also
    https://android.googlesource.com/platform/frameworks/av/+/refs/heads/android10-release/media/libstagefright/codecs/opus/dec/SoftOpus.cpp.
    
    Avoid this by recreating opus decoders instead of flushing them. It
    seems fine to do this for all opus decoders as reinitialization should
    be cheap, OEM-provided implementations may also discard samples and
    playback shouldn't be interrupted on reinitialization due to the
    downstream AudioTrack buffer.
    
    PiperOrigin-RevId: 277458759

2	0	RELEASENOTES.md
22	19	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java

commit e922f834010a8e8fafceca98a2c918ca75b1a1ca
Author: ibaker <ibaker@google.com>
Date:   2019-10-29 18:01:16 +0000

    Change nested ternary to switch in SubtitlePainter
    
    The nested ternary is quite hard to read imo, and I believe this is a
    no-op change that captures the intent more clearly.
    
    PiperOrigin-RevId: 277320461

13	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitlePainter.java

commit a3d1ab69006bce19cd59029b32dc598422a37e00
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-29 17:43:43 +0000

    Add explicit dependency on appcompat for demo app
    
    The demo app was using this via its dependency on the material library,
    but it's preferable to list dependencies explicitly (otherwise the build
    would break if we removed the material dependency).
    
    PiperOrigin-RevId: 277316175

1	0	constants.gradle
1	1	demos/cast/build.gradle
1	0	demos/main/build.gradle

commit 8138424d92c4a6977724baf7d6c59447f50c46cf
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-29 12:19:57 +0000

    Replace usages of SampleQueue.hasNextSample with isReady
    
    PiperOrigin-RevId: 277259448

1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
0	5	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java

commit 0f312561e5ea0c457623cf5e1628768b1e9dcde4
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-29 11:39:18 +0000

    Add shuffle and repeat modes to media session playback state invalidation
    
    Which ensures both get updated when the MediaSessionConnector player
    changes.
    
    Issue:#6582
    PiperOrigin-RevId: 277254889

2	0	RELEASENOTES.md
12	10	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 81b8396b3e7a8833224477083603c465f52b8da9
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-29 11:23:43 +0000

    Move peek result constants into SampleMetadataQueue
    
    PiperOrigin-RevId: 277253308

29	5	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
5	30	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit 817772fcbd0716405e3d9a095d1ecd59c8bfce56
Author: ibaker <ibaker@google.com>
Date:   2019-10-28 16:13:11 +0000

    Add uncontroversial HLS nullness annotations
    
    This helps get HlsMediaPeriod off the blacklist.
    
    PiperOrigin-RevId: 277076633

16	14	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
3	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 87c30c0ba821e0184361a294eb8f59d67f905305
Author: ibaker <ibaker@google.com>
Date:   2019-10-28 14:37:59 +0000

    Change HlsPlaylistParser.LineIterator#next()
    
    Update it to throw if hasNext() is false, to match Java's Iterator
    interface.
    
    This also simplifies the null-checking annotations required
    
    PiperOrigin-RevId: 277059766

15	9	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit bae2b1e4bcca5b4ee522a9b6d09f3d7df8c330b3
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-28 14:21:14 +0000

    Add tests for playWhenReady masking
    
    PiperOrigin-RevId: 277057328

122	0	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastPlayerTest.java

commit 9eb93a35c05720ff61f8e0cd33584be7adc5e394
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-28 14:15:08 +0000

    Fix a bunch of typos
    
    PiperOrigin-RevId: 277056574

1	1	library/core/src/main/java/com/google/android/exoplayer2/source/IcyDataSource.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit 8ec6cf154ccc4c232bccaee4f3df9f6d0bd277b3
Author: olly <olly@google.com>
Date:   2019-10-28 12:18:49 +0000

    Fix incorrect anamorphic handling in Leanback extension
    
    The leanback library doesn't know about non-square pixels. So if
    we're playing content that uses non-square pixels, we need to adjust
    the video dimensions that we provide to leanback such that it
    renders the video with the correct aspect ratio.
    
    PiperOrigin-RevId: 277042560

5	1	extensions/leanback/src/main/java/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.java

commit 7277df3547943ba53f03f7d5a05f400bf10ce673
Author: ibaker <ibaker@google.com>
Date:   2019-10-28 11:44:23 +0000

    Remove @NonNull where it's implied by @NonNullApi
    
    Also remove it from all tests, these aren't covered by the null-checker
    
    Covered by the following package-info.java files:
    - j/c/g/a/exoplayer2/ext/mediasession/package-info.java
    - j/c/g/a/exoplayer2/package-info.java
    - j/c/g/a/exoplayer2/offline/package-info.java
    - j/c/g/a/exoplayer2/video/package-info.java
    - j/c/g/a/exoplayer2/ui/package-info.java
    
    PiperOrigin-RevId: 277038916

1	2	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
9	10	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.java
13	12	library/core/src/androidTest/java/com/google/android/exoplayer2/upstream/ContentDataSourceTest.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/offline/StreamKey.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
0	4	library/core/src/test/java/com/google/android/exoplayer2/extractor/amr/AmrExtractorTest.java
1	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/SimpleExoPlayerView.java

commit b68a698806a771968bbdaf5a911665bf9011ffd7
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-28 11:32:41 +0000

    Make SampleQueue populate FormatHolder.drmSession
    
    Also add unit tests for SampleQueue read for samples with
    DRM requirements.
    
    PiperOrigin-RevId: 277037826

0	208	library/core/src/main/java/com/google/android/exoplayer2/source/DecryptableSampleQueueReader.java
6	20	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
168	29	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
10	15	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
219	62	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
3	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java
12	20	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit e0253714291feeeffdbcf760d09f30114ae74690
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-28 10:18:49 +0000

    Fix memory leak and calling listener when disabled in AudioBecomingNoisyManager.
    
    PiperOrigin-RevId: 277030401

9	2	library/core/src/main/java/com/google/android/exoplayer2/AudioBecomingNoisyManager.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit ff82a132795fdae1f57a447ea87fe508ea8c2216
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-25 14:52:15 +0100

    Add player release check to enabling audio focus & audio becoming noisy handling.
    
    PiperOrigin-RevId: 276679790

8	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 719a704dee9e463e6d9a90534285c1da1191ab10
Author: ibaker <ibaker@google.com>
Date:   2019-10-25 14:01:59 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/665627c3843ebf7a83e62e2f01f9e663a1dad32e
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/bf01ff0f60930427cb8a31e88fcad009d89132cc
    
    *** Original commit ***
    
    Use Float.NaN for Cue#DIMEN_UNSET
    
    Float.MIN_VALUE is very close to zero:
    "A constant holding the smallest positive nonzero value of type float"
    https://developer.android.com/reference/java/lang/Float.html#MIN_VALUE
    
    Float.NaN more clearly conveys this is an invalid number,
    and will also more clearly carry over if we do maths on it a...
    
    ***
    
    PiperOrigin-RevId: 276674142

2	1	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit ea77defd38c8c2cb345fa339b523a8c3e50a6415
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-25 13:53:30 +0100

    Clarify naming & comments for distinction between Format and MediaFormat.
    
    PiperOrigin-RevId: 276673410

13	13	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
31	29	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
20	14	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit ac722a7a683bcce9fc48ec6547e857631ee0c79f
Author: ibaker <ibaker@google.com>
Date:   2019-10-25 13:26:50 +0100

    Remove HlsPlaylistParser from null-checking blacklist
    
    PiperOrigin-RevId: 276671167

11	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit 620b9110bfb21410de8fc80db921b2178ed8f46b
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-25 11:18:47 +0100

    Document error handling in the Extractor interface
    
    PiperOrigin-RevId: 276660235

4	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/Extractor.java

commit fc12457c7ea45cf15ff2ab7ee945e11971afd2f0
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-25 11:16:04 +0100

    Set internal state before setting up cast dependencies
    
    Prevents access of fields before initialization. Also set
    remoteMediaClient in the constructor by using setRemoteMediaClient
    instead of assigning the field directly, which will (if possible)
    pull the state of the receiver in the constructor.
    
    PiperOrigin-RevId: 276660004

5	5	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit bcf46431ddaf6b1b7137d9c9b87b311d30074635
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-24 16:18:26 +0100

    Verify application thread when setting handle audio becoming noisy.
    
    PiperOrigin-RevId: 276491102

1	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit d898122ec55a3f7eefd68dae8aed400dac7dd013
Author: ibaker <ibaker@google.com>
Date:   2019-10-24 13:35:09 +0100

    Mark WebvttCue constructors private
    
    Everyone should use the Builder.
    
    PiperOrigin-RevId: 276468354

14	16	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitle.java
39	6	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitleTest.java

commit 47423b310089b80192f6d211982f006e61b8881c
Author: olly <olly@google.com>
Date:   2019-10-24 12:24:22 +0100

    Fix code triggering [-Werror, -Wreorder].
    
    Otherwise, it will be a build error once we turn on the error.
    Sponge: https://sponge.corp.google.com/target?id=8e88bd90-a716-40f7-9599-b70e9193b297&target=//third_party/java_src/android_libs/exoplayer/v2/extensions/flac/src/main:binary.
    PiperOrigin-RevId: 276461029

2	2	extensions/flac/src/main/jni/flac_parser.cc

commit b99203dada5a11e8df4bee0d9341b6bfc9fe5ce1
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-24 11:17:02 +0100

    Post AudioFocusManager.onAudioFocusChange events to eventHandler.
    
    PiperOrigin-RevId: 276452333

2	0	RELEASENOTES.md
68	56	library/core/src/main/java/com/google/android/exoplayer2/AudioFocusManager.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
6	1	library/core/src/test/java/com/google/android/exoplayer2/AudioFocusManagerTest.java

commit 3a84b787b19868b3a45fc16db992772b9ef0891a
Author: ibaker <ibaker@google.com>
Date:   2019-10-24 10:46:33 +0100

    Add missing IntDef annotations in WebvttDecoderTest
    
    Also change the type of endTime to long to match startTime
    
    PiperOrigin-RevId: 276448131

5	5	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java

commit 881fcf829a392813e1c6668d45c86e8d79d48566
Author: tonihei <tonihei@google.com>
Date:   2019-10-23 23:38:46 +0100

    Add some missing @Nullable to Format
    
    PiperOrigin-RevId: 276366002

8	8	library/core/src/main/java/com/google/android/exoplayer2/Format.java

commit 665627c3843ebf7a83e62e2f01f9e663a1dad32e
Author: olly <olly@google.com>
Date:   2019-10-23 19:27:17 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/bf01ff0f60930427cb8a31e88fcad009d89132cc
    
    *** Original commit ***
    
    Use Float.NaN for Cue#DIMEN_UNSET
    
    Float.MIN_VALUE is very close to zero:
    "A constant holding the smallest positive nonzero value of type float"
    https://developer.android.com/reference/java/lang/Float.html#MIN_VALUE
    
    Float.NaN more clearly conveys this is an invalid number,
    and will also more clearly carry over if we do maths on it accidentally.
    
    ***
    
    PiperOrigin-RevId: 276315786

1	2	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit bf01ff0f60930427cb8a31e88fcad009d89132cc
Author: ibaker <ibaker@google.com>
Date:   2019-10-23 16:20:12 +0100

    Use Float.NaN for Cue#DIMEN_UNSET
    
    Float.MIN_VALUE is very close to zero:
    "A constant holding the smallest positive nonzero value of type float"
    https://developer.android.com/reference/java/lang/Float.html#MIN_VALUE
    
    Float.NaN more clearly conveys this is an invalid number,
    and will also more clearly carry over if we do maths on it accidentally.
    
    PiperOrigin-RevId: 276277784

2	1	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java

commit 2cf98ecffe9a3a66e6045cf8b4803eaf055bad65
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-22 17:48:45 +0100

    Posts AudioBecomingNoisyManager listener events to eventHandler.
    
    PiperOrigin-RevId: 276084113

7	4	library/core/src/main/java/com/google/android/exoplayer2/AudioBecomingNoisyManager.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit dbbbcab6cbdf472a2a74a9ab611cb4ae306e4431
Author: ibaker <ibaker@google.com>
Date:   2019-10-22 17:28:04 +0100

    Add assertWithMessage calls to WebvttDecoderTest
    
    With lots of int comparisons close together, this makes the error
    messages much clearer and saves having to manually match up line
    numbers.
    
    Also make every @Test just throw Exception
    
    PiperOrigin-RevId: 276079806

27	21	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java

commit 82d3e1e8ab858c287624467e22c7514b6c9939a4
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-22 12:08:08 +0100

    Rename format to mediaFormat for clarity.
    
    PiperOrigin-RevId: 276036585

10	11	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 101746934f34af67637ae123dd07202d3826acb4
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-22 12:03:21 +0100

    Guard repeatMode masking against regular status updates
    
    PiperOrigin-RevId: 276035838

34	22	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit 62e3ac3e9ed96c5b76efe6a78b0bc905a565f3be
Author: ibaker <ibaker@google.com>
Date:   2019-10-22 11:05:33 +0100

    Update parseStbl to handle edit lists & gapless info
    
    Without this, a subtitle track empty edit list used to offset the start of
    subtitles is ignored.
    
    Also the current code seems to depend on the order in which
    we parse the tracks (audio first means we have gapless info when we parse
    video track, while video first we wouldn't).
    
    It's not clear why we can't handle both edit lists & gapless info
    
    PiperOrigin-RevId: 276029744

1	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit 51e4f7b260a0eb77dec7abc830f216f582cb674e
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-22 10:30:09 +0100

    Fix supplemental data handling with dropped frames
    
    PiperOrigin-RevId: 276024935

1	4	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Gav1Decoder.java
24	4	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit 3e6fe458850d901e618b25aeb7c6a7394514dd85
Author: ibaker <ibaker@google.com>
Date:   2019-10-21 18:22:55 +0100

    Add test for FullSegmentEncryptionKeyCache
    
    Pull it into a top-level package private class at the same time
    
    As suggested in https://github.com/google/ExoPlayer/commit/0ba91811d146e14b6bb814d15c8bb3e09011aa79
    
    PiperOrigin-RevId: 275870515

85	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/FullSegmentEncryptionKeyCache.java
1	68	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java
122	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/FullSegmentEncryptionKeyCacheTest.java

commit c139281119f7d6aa19115415b5776d635eddecf0
Author: olly <olly@google.com>
Date:   2019-10-21 18:17:48 +0100

    Update translations
    
    PiperOrigin-RevId: 275869409

2	0	library/ui/src/main/res/values-af/strings.xml
2	0	library/ui/src/main/res/values-am/strings.xml
2	0	library/ui/src/main/res/values-ar/strings.xml
2	0	library/ui/src/main/res/values-az/strings.xml
2	0	library/ui/src/main/res/values-b+sr+Latn/strings.xml
2	0	library/ui/src/main/res/values-be/strings.xml
2	0	library/ui/src/main/res/values-bg/strings.xml
2	0	library/ui/src/main/res/values-bn/strings.xml
2	0	library/ui/src/main/res/values-bs/strings.xml
2	0	library/ui/src/main/res/values-ca/strings.xml
2	0	library/ui/src/main/res/values-cs/strings.xml
2	0	library/ui/src/main/res/values-da/strings.xml
2	0	library/ui/src/main/res/values-de/strings.xml
2	0	library/ui/src/main/res/values-el/strings.xml
2	0	library/ui/src/main/res/values-en-rAU/strings.xml
2	0	library/ui/src/main/res/values-en-rGB/strings.xml
2	0	library/ui/src/main/res/values-en-rIN/strings.xml
2	0	library/ui/src/main/res/values-es-rUS/strings.xml
2	0	library/ui/src/main/res/values-es/strings.xml
2	0	library/ui/src/main/res/values-et/strings.xml
2	0	library/ui/src/main/res/values-eu/strings.xml
2	0	library/ui/src/main/res/values-fa/strings.xml
2	0	library/ui/src/main/res/values-fi/strings.xml
2	0	library/ui/src/main/res/values-fr-rCA/strings.xml
2	0	library/ui/src/main/res/values-fr/strings.xml
2	0	library/ui/src/main/res/values-gl/strings.xml
2	0	library/ui/src/main/res/values-gu/strings.xml
2	0	library/ui/src/main/res/values-hi/strings.xml
2	0	library/ui/src/main/res/values-hr/strings.xml
2	0	library/ui/src/main/res/values-hu/strings.xml
2	0	library/ui/src/main/res/values-hy/strings.xml
2	0	library/ui/src/main/res/values-in/strings.xml
2	0	library/ui/src/main/res/values-is/strings.xml
2	0	library/ui/src/main/res/values-it/strings.xml
2	0	library/ui/src/main/res/values-iw/strings.xml
2	0	library/ui/src/main/res/values-ja/strings.xml
2	0	library/ui/src/main/res/values-ka/strings.xml
2	0	library/ui/src/main/res/values-kk/strings.xml
2	0	library/ui/src/main/res/values-km/strings.xml
2	0	library/ui/src/main/res/values-kn/strings.xml
2	0	library/ui/src/main/res/values-ko/strings.xml
3	1	library/ui/src/main/res/values-ky/strings.xml
2	0	library/ui/src/main/res/values-lo/strings.xml
2	0	library/ui/src/main/res/values-lt/strings.xml
2	0	library/ui/src/main/res/values-lv/strings.xml
2	0	library/ui/src/main/res/values-mk/strings.xml
2	0	library/ui/src/main/res/values-ml/strings.xml
2	0	library/ui/src/main/res/values-mn/strings.xml
2	0	library/ui/src/main/res/values-mr/strings.xml
2	0	library/ui/src/main/res/values-ms/strings.xml
2	0	library/ui/src/main/res/values-my/strings.xml
2	0	library/ui/src/main/res/values-nb/strings.xml
2	0	library/ui/src/main/res/values-ne/strings.xml
2	0	library/ui/src/main/res/values-nl/strings.xml
2	0	library/ui/src/main/res/values-pa/strings.xml
2	0	library/ui/src/main/res/values-pl/strings.xml
2	0	library/ui/src/main/res/values-pt-rPT/strings.xml
2	0	library/ui/src/main/res/values-pt/strings.xml
2	0	library/ui/src/main/res/values-ro/strings.xml
2	0	library/ui/src/main/res/values-ru/strings.xml
2	0	library/ui/src/main/res/values-si/strings.xml
2	0	library/ui/src/main/res/values-sk/strings.xml
2	0	library/ui/src/main/res/values-sl/strings.xml
2	0	library/ui/src/main/res/values-sq/strings.xml
2	0	library/ui/src/main/res/values-sr/strings.xml
2	0	library/ui/src/main/res/values-sv/strings.xml
2	0	library/ui/src/main/res/values-sw/strings.xml
2	0	library/ui/src/main/res/values-ta/strings.xml
2	0	library/ui/src/main/res/values-te/strings.xml
2	0	library/ui/src/main/res/values-th/strings.xml
2	0	library/ui/src/main/res/values-tl/strings.xml
2	0	library/ui/src/main/res/values-tr/strings.xml
2	0	library/ui/src/main/res/values-uk/strings.xml
2	0	library/ui/src/main/res/values-ur/strings.xml
2	0	library/ui/src/main/res/values-uz/strings.xml
2	0	library/ui/src/main/res/values-vi/strings.xml
2	0	library/ui/src/main/res/values-zh-rCN/strings.xml
2	0	library/ui/src/main/res/values-zh-rHK/strings.xml
2	0	library/ui/src/main/res/values-zh-rTW/strings.xml
2	0	library/ui/src/main/res/values-zu/strings.xml

commit a0843d0e2f416310c59e6a3f6f58ee49dea8685f
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-21 17:51:45 +0100

    Guard playWhenReady masking against regular status updates
    
    PiperOrigin-RevId: 275863101

65	18	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit dbfc101e0464b9c8e846eeec9478b98012a15891
Author: olly <olly@google.com>
Date:   2019-10-21 17:16:11 +0100

    Remove no-op enabling of multi-session
    
    PiperOrigin-RevId: 275856697

0	7	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 3bb97f4bbf8a9afbafd3fa9a3e9a3f2b69b7122c
Author: bachinger <bachinger@google.com>
Date:   2019-10-21 15:53:31 +0100

    deliver player messages only once when at start position
    
    ISSUE: #6550
    PiperOrigin-RevId: 275842161

23	27	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
28	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 7ccbc4c436f4ac078b6cee0e964750f2a380789c
Author: olly <olly@google.com>
Date:   2019-10-21 13:14:38 +0100

    Remove VR code
    
    - Leaving GvrAudioProcessor for now.
    - Removing GvrPlayerActivity because it was never released. Also removing
      related UI classes. These were released, but it's unlikely anyone would
      have been using them directly.
    
    PiperOrigin-RevId: 275822516

1	1	RELEASENOTES.md
0	4	demos/gvr/README.md
0	59	demos/gvr/build.gradle
0	60	demos/gvr/src/main/AndroidManifest.xml
0	189	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/PlayerActivity.java
0	92	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/SampleChooserActivity.java
0	25	demos/gvr/src/main/res/layout/sample_chooser_activity.xml
-	-	demos/gvr/src/main/res/mipmap-hdpi/ic_launcher.png
-	-	demos/gvr/src/main/res/mipmap-mdpi/ic_launcher.png
-	-	demos/gvr/src/main/res/mipmap-xhdpi/ic_launcher.png
-	-	demos/gvr/src/main/res/mipmap-xxhdpi/ic_launcher.png
-	-	demos/gvr/src/main/res/mipmap-xxxhdpi/ic_launcher.png
0	28	demos/gvr/src/main/res/values/strings.xml
4	0	extensions/gvr/README.md
4	0	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.java
0	344	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.java
2	1	extensions/jobdispatcher/README.md
0	294	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/CanvasRenderer.java
0	145	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/PointerRenderer.java
2	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SceneRenderer.java
0	137	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/ViewRenderer.java
0	70	library/ui/src/test/java/com/google/android/exoplayer2/ui/spherical/CanvasRendererTest.java
0	2	settings.gradle

commit 3101a5df5847595416fb19a09d66c2173eccd56a
Author: ibaker <ibaker@google.com>
Date:   2019-10-21 11:59:29 +0100

    Tweak null-handling of trackGroupToSampleQueueIndex in HlsSampleStreamWrapper
    
    PiperOrigin-RevId: 275814023

12	14	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit e43658af1fe5f995a278e643161ec45b94469d49
Author: ibaker <ibaker@google.com>
Date:   2019-10-21 11:58:59 +0100

    Switch back from method ref to Runnable in HlsSampleStreamWrapper
    
    This reverts https://github.com/google/ExoPlayer/commit/a81dea6a47c7df83f029e03080dd6878ab75f133 and adds in the necessary nullness annotations
    
    After a discussion that this:: method references allocate on every call:
    https://dzone.com/articles/passing-thismethod-reference-within-a-loop-affects
    
    PiperOrigin-RevId: 275813989

12	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit e6e2dcc58dd4be9940782a814257f276db1d6682
Author: bachinger <bachinger@google.com>
Date:   2019-10-21 11:56:04 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/36f8bd78f749dbc1745147c882b7a606a0a880fb
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/4ad4e3e4fcf2480bc36e7034026a3538ec7664be
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/3b22db33ba944df6829b1eff328efb0cd25e1678
    
    *** Original commit ***
    
    add top-level playlist API to ExoPlayer
    
    Public design doc:
    https://docs.google.com/document/d/11...
    
    ***
    
    PiperOrigin-RevId: 275813737

30	25	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
9	5	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
6	9	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakePlayer.java
1	3	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
18	138	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
1	9	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
65	273	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
101	227	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
13	11	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
16	9	library/core/src/main/java/com/google/android/exoplayer2/Player.java
0	707	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
42	137	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
0	71	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
8	9	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/{ => source}/AbstractConcatenatedTimeline.java
0	18	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
17	40	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
0	27	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java
6	4	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
0	37	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
258	1143	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
55	56	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
0	510	library/core/src/test/java/com/google/android/exoplayer2/PlaylistTest.java
0	146	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
32	69	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
44	234	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
16	116	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
26	99	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
1	33	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java
0	83	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java
0	59	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit 93f2dd8deb5ed3f64985a8e9a3b1ce3d9b22ce8a
Author: ibaker <ibaker@google.com>
Date:   2019-10-21 09:59:44 +0100

    Switch test usages of ConditionVariable#block(timeout) to CountDownLatch
    
    ConditionVariable.block(timeout) doesn't work in Robolectric, because it
    relies on the system clock which doesn't advance.
    
    PiperOrigin-RevId: 275798281

6	5	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
55	51	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java
8	6	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
9	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/DummyMainThread.java
15	11	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.java
13	13	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit 4e667b899dc66f655d35e4bc22799b42b1e611e6
Author: tonihei <tonihei@google.com>
Date:   2019-10-18 17:48:21 +0100

    Fix NPE in FakeAdaptiveMediaPeriod.
    
    The compositeSequenableLoader was causing NPEs in isLoading. Initializing it
    upfront prevents this problem and is in line with what we do in all real
    MediaPeriods.
    
    PiperOrigin-RevId: 275491511

1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java

commit 0391e73a0bb0aa9f65cdf6606fc4c925185682c4
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-10-30 00:43:15 +0200

    Adding support for overlapping subtitles

46	25	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
9	10	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaSubtitle.java

commit 579167743bd7677506c8fe7c318fc443f2fb6eb8
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-10-27 18:54:34 +0200

    Parse and apply position attribute in SSA subtitles

50	1	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java

commit 4cb24b254ad5eca02fcaa641adb9dd25454a89af
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-25 14:44:51 +0100

    Update supported-formats.md

6	8	supported-formats.md

commit 894c3ae283de4c60fec091d89c555d27462aa2b3
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-25 14:07:43 +0100

    Update supported-formats.md

8	8	supported-formats.md

commit 376766bacbc975a5ccd9b8b5954a8c7ed0d8595d
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-21 11:39:59 +0100

    Update troubleshooting.md

27	0	troubleshooting.md

commit 4dc6108048796aafa407a9f2580b982c2acb8640
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-18 22:00:07 +0100

    Javadoc 2.10.6

1	0	doc/reference/allclasses-frame.html
1	0	doc/reference/allclasses-noframe.html
1	1	doc/reference/com/google/android/exoplayer2/BasePlayer.html
1	1	doc/reference/com/google/android/exoplayer2/ExoPlayer.html
49	35	doc/reference/com/google/android/exoplayer2/Format.html
1	1	doc/reference/com/google/android/exoplayer2/Player.DefaultEventListener.html
29	8	doc/reference/com/google/android/exoplayer2/Player.EventListener.html
2	2	doc/reference/com/google/android/exoplayer2/Player.PlaybackSuppressionReason.html
13	17	doc/reference/com/google/android/exoplayer2/Player.html
4	7	doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.html
78	38	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsCollector.html
71	24	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsListener.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/DefaultAnalyticsListener.html
4	7	doc/reference/com/google/android/exoplayer2/ext/cast/CastPlayer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.html
2	2	doc/reference/com/google/android/exoplayer2/ext/rtmp/RtmpDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/SeekMap.Unseekable.html
24	6	doc/reference/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
1	2	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyDecoder.html
31	7	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyInfo.html
1	1	doc/reference/com/google/android/exoplayer2/offline/package-tree.html
1	2	doc/reference/com/google/android/exoplayer2/package-summary.html
16	16	doc/reference/com/google/android/exoplayer2/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
96	39	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.html
4	2	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.html
42	8	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.Factory.html
198	0	doc/reference/com/google/android/exoplayer2/source/hls/HlsMetadataType.html
2	2	doc/reference/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.html
4	0	doc/reference/com/google/android/exoplayer2/source/hls/package-frame.html
17	0	doc/reference/com/google/android/exoplayer2/source/hls/package-summary.html
4	0	doc/reference/com/google/android/exoplayer2/source/hls/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/text/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ui/DebugTextViewHelper.html
117	89	doc/reference/com/google/android/exoplayer2/ui/DefaultTimeBar.html
1	1	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/FileDataSourceFactory.html
4	7	doc/reference/com/google/android/exoplayer2/upstream/ResolvingDataSource.Factory.html
3	2	doc/reference/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSink.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/util/EventLogger.html
1	1	doc/reference/com/google/android/exoplayer2/util/package-tree.html
68	14	doc/reference/constant-values.html
83	28	doc/reference/index-all.html
1	0	doc/reference/overview-tree.html

commit 41b3fc110178e9a5c969a0102c5b074189065273
Merge: 176d211bf 2671ff0c5
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-18 21:32:24 +0100

    Merge pull request #6542 from google/dev-v2-r2.10.6
    
    r2.10.6

commit 2671ff0c53f659b73eea9208258ac4ddad562972
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-18 16:30:20 +0100

    Added an ICY header workaround for unseekable MP3 streams.
    
    Issue:#6537
    PiperOrigin-RevId: 275477266

5	1	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/SeekMap.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/ConstantBitrateSeeker.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/MlltSeeker.java
25	31	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
60	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Seeker.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/VbriSeeker.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/XingSeeker.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit 694ccf424bac5c1a22950c63baf4315576ba9329
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-18 16:30:20 +0100

    Added an ICY header workaround for unseekable MP3 streams.
    
    Issue:#6537
    PiperOrigin-RevId: 275477266

5	0	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/SeekMap.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/ConstantBitrateSeeker.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/MlltSeeker.java
25	31	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
60	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Seeker.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/VbriSeeker.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/XingSeeker.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit b7f335c715823a39f2070df4c5b49ef0d9d48d1a
Author: ibaker <ibaker@google.com>
Date:   2019-10-18 11:21:42 +0100

    Remove HlsSampleStreamWrapper from the null checking blacklist
    
    PiperOrigin-RevId: 275440589

9	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 1317851535d46f0cdcbb0da44bfd0ca07dc53f58
Author: ibaker <ibaker@google.com>
Date:   2019-10-18 11:20:20 +0100

    Remove HLS WebVttExtractor from null-checking blacklist
    
    The null-checker wasn't clever enough to understand the while-loop was safe
    so I switched it to a for.
    
    PiperOrigin-RevId: 275440464

11	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java

commit 3150591b0a1c9680ec2a161fe8956e3eb0ec8940
Author: olly <olly@google.com>
Date:   2019-10-18 11:15:03 +0100

    Minor CastPlayer Javadoc cleanup
    
    PiperOrigin-RevId: 275439892

2	3	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit 6841d40bc769fe5a14e5df55900094a381ae41e1
Author: krocard <krocard@google.com>
Date:   2019-10-18 09:43:15 +0100

    Demo app: Do not allow tunneling on API < 21
    
    Without this patch, enabling tunneling on an API < 21 device
    would result in an method not existing exception and the
    app would crash.
    
    PiperOrigin-RevId: 275428851

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
3	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java

commit 16a6946f3efdb166493ccd69d9e71af0efc73f62
Author: tonihei <tonihei@google.com>
Date:   2019-10-18 09:41:44 +0100

    Replace @MonotonicNonNull with @Nullable for final variables.
    
    @MonotonicNonNull is not useful if the variable is final, because it's only
    assigned once and guaranteed to keep it's current nullability in the same
    way as @MonotonicNonNull ensures it's kept non-null after checking.
    
    This way, the workarounds can also be removed.
    
    PiperOrigin-RevId: 275428656

7	15	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java

commit 39d5f14343778c7b721fb240c4df7974a239b2a2
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-18 09:10:09 +0100

    Don't propagate empty supplemental data
    
    PiperOrigin-RevId: 275425267

1	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit 701b013cdd39cb2dead29a401e1c87cf2139ec4d
Author: olly <olly@google.com>
Date:   2019-10-18 01:20:40 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/9f0fd870e7c82d703ec0957ac47bb971aa763956
    
    *** Original commit ***
    
    Port Exo v1 work around for frame synchronization issue in KitKat to Exo v2.
    
    ***
    
    PiperOrigin-RevId: 275372272

0	5	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 64786c6ce4ebcd561e706a24db97942b9df52ee8
Author: olly <olly@google.com>
Date:   2019-10-17 21:07:56 +0100

    Refactor GlViewGroup to ViewRenderer
    
    GlViewGroup doesn't work properly as an actual ViewGroup. For example,
    it doesn't support addition of child views after instantiation. This
    change turns the class into a renderer, which is also more consistent
    with other classes in the package.
    
    PiperOrigin-RevId: 275322295

20	18	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.java
0	114	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/GlViewGroup.java
137	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/ViewRenderer.java

commit 0c0a67bb9321c951ed202a6d82905ae9deb99dd5
Author: bachinger <bachinger@google.com>
Date:   2019-10-17 18:56:39 +0100

    Fail at preparation when trying to download live content.
    
    PiperOrigin-RevId: 275293735

6	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
11	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 36f8bd78f749dbc1745147c882b7a606a0a880fb
Author: bachinger <bachinger@google.com>
Date:   2019-10-17 17:37:33 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/4ad4e3e4fcf2480bc36e7034026a3538ec7664be
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/3b22db33ba944df6829b1eff328efb0cd25e1678
    
    *** Original commit ***
    
    add top-level playlist API to ExoPlayer
    
    Public design doc:
    https://docs.google.com/document/d/11h0S91KI5TB3NNZUtsCzg0S7r6nyTnF_tDZZAtmY93g
    
    Issue: #6161
    
    ***
    
    ***
    
    PiperOrigin-RevId: 275276158

25	30	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
5	9	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
9	6	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakePlayer.java
3	1	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
3	5	library/core/src/main/java/com/google/android/exoplayer2/{source => }/AbstractConcatenatedTimeline.java
138	18	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
9	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
273	65	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
227	101	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
11	13	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
9	16	library/core/src/main/java/com/google/android/exoplayer2/Player.java
707	0	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
137	42	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
71	0	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
9	8	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
18	0	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
40	17	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
27	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
37	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
1151	266	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
56	55	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
510	0	library/core/src/test/java/com/google/android/exoplayer2/PlaylistTest.java
146	0	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
69	32	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
234	44	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
116	16	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
99	26	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
33	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java
83	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java
59	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit 9ec2d2fb362683e16547525f7bbf36edc427eda9
Author: ibaker <ibaker@google.com>
Date:   2019-10-17 12:56:16 +0100

    Remove HlsMediaSource from null-checking blacklist
    
    PiperOrigin-RevId: 275233915

3	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java

commit b0d0914ce5b71c771de901e2baf70e677e97b3e6
Author: olly <olly@google.com>
Date:   2019-10-17 11:50:58 +0100

    Round impossible H264 resolutions up to valid values for capabilities check
    
    If an odd resolution is impossible in the specification itself, then we know
    that the caller is passing invalid data. Round up on the assumption it's a
    rounding error so that playback can proceed.
    
    Issue: #6551
    PiperOrigin-RevId: 275226813

15	6	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java

commit d874656e8a7668a83c6702413f094f6a1f509070
Author: olly <olly@google.com>
Date:   2019-10-17 11:50:58 +0100

    Round impossible H264 resolutions up to valid values for capabilities check
    
    If an odd resolution is impossible in the specification itself, then we know
    that the caller is passing invalid data. Round up on the assumption it's a
    rounding error so that playback can proceed.
    
    Issue: #6551
    PiperOrigin-RevId: 275226813

15	6	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java

commit 9af8511aef12bbcee07f977947c36bf8e64d120a
Author: krocard <krocard@google.com>
Date:   2019-10-17 10:41:04 +0100

    Introduce tunneling checkbox in test app
    
    It makes observing differences without and with tunneling
    much faster than recompiling.
    
    PiperOrigin-RevId: 275216567

8	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
3	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java
4	0	demos/main/src/main/res/menu/sample_chooser_menu.xml
2	0	demos/main/src/main/res/values/strings.xml

commit 0d5b3c0fa4e7cdfa15c7f1fa3463b8550ac94c5d
Author: ibaker <ibaker@google.com>
Date:   2019-10-16 17:49:23 +0100

    Remove HlsMasterPlaylist from null-checking blacklist
    
    PiperOrigin-RevId: 275052534

2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
3	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java

commit 23f545a0a4ef0aeaeea83e1d1dc25f107b95e41c
Merge: 841b3a8bc 706668fde
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-16 14:02:21 +0100

    Merge pull request #6528 from julioz:log-param
    
    PiperOrigin-RevId: 275014741

commit 841b3a8bc7d4e1b581108af408c5c3500e35ffad
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-16 10:32:20 +0100

    Add AUDIO_BECOMING_NOISY handling to SimpleExoPlayer.
    
    Feature enabled through the SimpleExoPlayer.setHandleAudioBecomingNoisy.
    
    PiperOrigin-RevId: 274988924

2	0	RELEASENOTES.md
71	0	library/core/src/main/java/com/google/android/exoplayer2/AudioBecomingNoisyManager.java
22	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit e63d3b4b618ad593945dc9491fe6a7e915ab4112
Author: ibaker <ibaker@google.com>
Date:   2019-10-16 10:25:59 +0100

    Add HlsSampleStreamWrapper#assertPreparationComplete
    
    This gives a clear way to ensure all the preparation-related @MonotonicNonNull
    fields have been set to something.
    
    PiperOrigin-RevId: 274988280

20	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 40dbe10b124e217496fe2670e80fe79796479da0
Author: tonihei <tonihei@google.com>
Date:   2019-10-15 22:54:57 +0100

    Align PlaybackSuppressionReason java doc with method doc.
    
    Same change as done in https://github.com/google/ExoPlayer/commit/c49388aca2047ed7680e7d8834def4f769060e2d.
    
    PiperOrigin-RevId: 274894288

2	3	library/core/src/main/java/com/google/android/exoplayer2/Player.java

commit 03e3ceaedb399c6aa3364e70bafc8ce9e7fc50bd
Author: tonihei <tonihei@google.com>
Date:   2019-10-15 22:54:57 +0100

    Align PlaybackSuppressionReason java doc with method doc.
    
    Same change as done in https://github.com/google/ExoPlayer/commit/c49388aca2047ed7680e7d8834def4f769060e2d.
    
    PiperOrigin-RevId: 274894288

2	3	library/core/src/main/java/com/google/android/exoplayer2/Player.java

commit 7dede17d975742f2fd189c7cb2d84faf41ce39af
Author: olly <olly@google.com>
Date:   2019-10-15 21:57:45 +0100

    Make GvrPlayerActivity call its subclass to instantiate a player
    
    It's more explicit and simpler than having the subclass call up into
    the activity.
    
    PiperOrigin-RevId: 274881350

20	61	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/PlayerActivity.java
60	77	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.java

commit a2900992c3d604ddccff4479ad2528f41f1c1c10
Author: olly <olly@google.com>
Date:   2019-10-15 19:22:17 +0100

    Remove dead code
    
    PiperOrigin-RevId: 274848191

1	14	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/PlayerActivity.java

commit 5e538a2a28a43df077993be438f4a0c06de7ee3a
Author: olly <olly@google.com>
Date:   2019-10-15 19:09:09 +0100

    Clean up GvrPlayerActivity
    
    PiperOrigin-RevId: 274845045

80	79	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.java
5	3	extensions/gvr/src/main/res/{values-v21/styles.xml => layout/exo_vr_ui.xml}
0	28	extensions/gvr/src/main/res/layout/vr_ui.xml
1	1	extensions/gvr/src/main/res/values/styles.xml
0	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/CanvasRenderer.java
0	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/GlViewGroup.java
1	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/PointerRenderer.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SphericalSurfaceView.java

commit 34c531764e8bb4231ffe9aaba88ceefebd0910fe
Author: olly <olly@google.com>
Date:   2019-10-15 18:28:06 +0100

    Remove filter for intents that aren't handled
    
    PiperOrigin-RevId: 274834663

1	15	demos/gvr/src/main/AndroidManifest.xml
0	41	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/SampleChooserActivity.java

commit a95f0643b94fd248a8afd3b2c61ad12a9d22746c
Author: tonihei <tonihei@google.com>
Date:   2019-10-15 14:44:26 +0100

    Set isLive flag in CastTimeline based on MediaInfo.
    
    Issue:#2668
    PiperOrigin-RevId: 274793644

30	17	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimeline.java
22	12	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimelineTracker.java

commit fc95d07a941c011862b94e19dfa9aee869198f6e
Author: ibaker <ibaker@google.com>
Date:   2019-10-15 14:12:30 +0100

    Remove HlsChunkSource from null-checking blacklist
    
    PiperOrigin-RevId: 274789337

9	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/DataChunk.java
29	15	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java

commit 0ba91811d146e14b6bb814d15c8bb3e09011aa79
Author: ibaker <ibaker@google.com>
Date:   2019-10-15 12:46:22 +0100

    Break the inheritance of FullSegmentEncryptionKeyCache
    
    Use composition instead.
    
    This makes the null-handling more explicit & complete (previous implementation
    tried to prevent null values, but didn't override all mutation methods
    e.g. replace(), putIfAbsent() etc.)
    
    PiperOrigin-RevId: 274778513

48	15	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java

commit f133766b403693d99789bf45967492cbe10d35b7
Author: kimvde <kimvde@google.com>
Date:   2019-10-15 12:43:40 +0100

    Improve ffmpeg build instructions
    
    - Simplify the supported formats configuration by moving it to a
      separate variable, therefore avoiding updating the COMMON_OPTIONS
      variable in the ffmpeg build command.
    - Move the ffmpeg build command to a shell script.
    
    PiperOrigin-RevId: 274778232

13	62	extensions/ffmpeg/README.md
81	0	extensions/ffmpeg/src/main/jni/build_ffmpeg.sh

commit bc75b9904c616a1976dfdca141c54036714c9d4a
Author: olly <olly@google.com>
Date:   2019-10-15 09:43:18 +0100

    Fix test coverage failure for G3 exoplayer
    
    Generates a manifest to have Google3InstrumentationTestRunner in order to fix the error in Zapfhahn (service to measure test coverage)
    
    PiperOrigin-RevId: 274754720

1	1	extensions/opus/src/androidTest/AndroidManifest.xml

commit a10fea30c93967f0df831672148a8aff2fda0dbc
Author: kimvde <kimvde@google.com>
Date:   2019-10-15 09:35:00 +0100

    Enable setOutputSurfaceWorkaround for some devices
    
    The corresponding devices are Wiko FEVER l5460 and Huawei Honor 8X.
    
    Issue:#6503
    PiperOrigin-RevId: 274753710

4	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 3eea7970691c607c8c05a96c95146e88aa8300b5
Author: ibaker <ibaker@google.com>
Date:   2019-10-14 17:10:16 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/fdfe631850908e1e4b8641d5ef2f084a39f2347d
    
    *** Original commit ***
    
    Remove null-ness of muxedCaptionFormats list
    
    Pre-work for removing HlsMasterPlaylist and HlsPlaylistParser from null-checking
    blacklist.
    
    ***
    
    PiperOrigin-RevId: 274591502

4	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
5	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
5	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylistParserTest.java

commit fdfe631850908e1e4b8641d5ef2f084a39f2347d
Author: ibaker <ibaker@google.com>
Date:   2019-10-14 16:36:59 +0100

    Remove null-ness of muxedCaptionFormats list
    
    Pre-work for removing HlsMasterPlaylist and HlsPlaylistParser from null-checking
    blacklist.
    
    PiperOrigin-RevId: 274585117

2	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
3	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
2	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylistParserTest.java

commit ce6252151af38ce1c428601af5bd0239d5fee305
Author: bachinger <bachinger@google.com>
Date:   2019-10-14 16:36:42 +0100

    disable download button for live content in demo app
    
    PiperOrigin-RevId: 274585052

1	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
13	4	demos/main/src/main/java/com/google/android/exoplayer2/demo/Sample.java
10	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java
2	0	demos/main/src/main/res/values/strings.xml

commit 79da5219e517ae6a9744ca9e6e3043f4c113f8d3
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-14 17:16:28 +0100

    Fix release notes. Toggle publish to false.

0	23	RELEASENOTES.md
1	1	build.gradle

commit 55ff55518822517bb526a2a2344eb240da6da63e
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-14 17:14:41 +0100

    Fix DashManifestParserTest in release branch

1	1	build.gradle
3	75	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParserTest.java

commit a9a1cb7791977a3e7b412d5e5c123d1bf157aa0d
Author: olly <olly@google.com>
Date:   2019-10-14 14:47:41 +0100

    Fix diverged root build.gradle files
    
    PiperOrigin-RevId: 274568961

3	3	build.gradle

commit 6457a4ab80308ac44a76aae672bdd29ddb278fa7
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-14 14:45:21 +0100

    Register cast module
    
    PiperOrigin-RevId: 274568660

5	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit c32ad60e0b01f451d5fd0f165b87ff3e9a38fb23
Author: olly <olly@google.com>
Date:   2019-10-14 14:47:41 +0100

    Fix diverged root build.gradle files
    
    PiperOrigin-RevId: 274568961

3	3	build.gradle

commit c996391b8359113d7b4e01705a9defb2a44f3322
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-14 14:45:21 +0100

    Register cast module
    
    PiperOrigin-RevId: 274568660

5	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit e670b1d0f6aa6f70d622c9a474a25115e83c85f4
Author: ibaker <ibaker@google.com>
Date:   2019-10-14 14:26:57 +0100

    Remove HlsMediaChunk from null-checking blacklist
    
    PiperOrigin-RevId: 274566133

50	16	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java

commit 657b47cd041d2e0e1d3895a7fb5a21d81f07ff16
Author: olly <olly@google.com>
Date:   2019-10-14 14:15:35 +0100

    Fix broken Javadoc
    
    PiperOrigin-RevId: 274564800

2	1	library/core/src/main/java/com/google/android/exoplayer2/Player.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyInfo.java

commit d36abf966e3aa023856f37ee99157c63c84bf023
Author: olly <olly@google.com>
Date:   2019-10-14 14:15:35 +0100

    Fix broken Javadoc
    
    PiperOrigin-RevId: 274564800

2	1	library/core/src/main/java/com/google/android/exoplayer2/Player.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyInfo.java

commit 32b0474d5798692e41b7a51bc599b47c22b0987c
Author: olly <olly@google.com>
Date:   2019-10-14 13:54:07 +0100

    Clean up playback suppression
    
    PiperOrigin-RevId: 274561876

9	9	library/core/src/main/java/com/google/android/exoplayer2/Player.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 0cda57aa5a2cf33d95682b65a29c31fd35d6051c
Author: olly <olly@google.com>
Date:   2019-10-14 10:26:39 +0100

    Bump version to 2.10.6
    
    PiperOrigin-RevId: 274534626

25	2	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit c49388aca2047ed7680e7d8834def4f769060e2d
Author: olly <olly@google.com>
Date:   2019-10-14 13:54:07 +0100

    Clean up playback suppression
    
    PiperOrigin-RevId: 274561876

9	9	library/core/src/main/java/com/google/android/exoplayer2/Player.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java

commit eb677eb4b9feb2f5cae8cf2b0d3ab1ee57d26207
Author: ibaker <ibaker@google.com>
Date:   2019-10-14 11:33:44 +0100

    Add a Util.nullSafeArrayAppend and use it in HlsSampleStreamWrapper
    
    I could do this with nullSafeArrayConcat but this saves allocating a throw-away
    single-element array.
    
    PiperOrigin-RevId: 274545815

14	1	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
5	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 498a23e328c9d14a338f2d660f7201622f087d48
Author: ibaker <ibaker@google.com>
Date:   2019-10-14 11:32:49 +0100

    Add null-checker annotations to HlsSampleStreamWrapper
    
    PiperOrigin-RevId: 274545728

2	1	library/core/src/main/java/com/google/android/exoplayer2/Format.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
22	13	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 6ebcac3883ef2a65e5432a71003af187bfc308b6
Author: ibaker <ibaker@google.com>
Date:   2019-10-14 10:46:27 +0100

    Remove DefaultHlsExtractorFactory from null-checking blacklist
    
    PiperOrigin-RevId: 274537528

21	13	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java

commit b71b9f7c58d329bb3543b25205e21e4110c7c52a
Author: olly <olly@google.com>
Date:   2019-10-14 10:26:39 +0100

    Bump version to 2.10.6
    
    PiperOrigin-RevId: 274534626

25	24	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit d52f06e6111cee39ea479e0562f14ef6e1b09d54
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-14 10:07:49 +0100

    Clean up surface on setting renderer
    
    If a surface was previously passed to the player then an output buffer
    renderer was set, we would remove surface callbacks but not clear the
    surface on renderers that accept MSG_SET_SURFACE.
    
    PiperOrigin-RevId: 274532266

6	8	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit c02f3dd4ffa285f483e5569a4efe04b3db386ce5
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-11 14:25:56 +0100

    Handle legacy DASH audio channel configuration
    
    Issue: #6523
    PiperOrigin-RevId: 274160232

6	3	RELEASENOTES.md
9	5	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit 5a6fdaad72c715e1f840dad2d69df8a49fb5e6da
Author: olly <olly@google.com>
Date:   2019-10-11 09:59:20 +0100

    Don't set a playback suppression reason for permanent audio focus loss
    
    It's documented to be for temporary loss only (i.e. the case where
    externally reported playWhenReady is still true)
    
    PiperOrigin-RevId: 274129922

3	3	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit ce01c79e01df7e9391addc6c7ee5d9cc61e49b1b
Author: olly <olly@google.com>
Date:   2019-10-11 18:42:44 +0100

    Add a javadoc explanation for ProgressiveDownloader that explains that it tries to skip downloading already cached bytes.
    
    download calls through to CacheUtil#cache, which handles skipping already downloaded bytes.
    
    It is useful for callers to know that ProgressiveDownloader has this behavior - otherwise, they might reimplement the logic themselves.
    
    I hope this behavior is something that can be part of the public API :)
    
    PiperOrigin-RevId: 274202995

6	0	library/core/src/main/java/com/google/android/exoplayer2/offline/ProgressiveDownloader.java

commit 1c66010b4a6edd99fb3b392b5e7efb30aa2c8ff3
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-11 15:37:57 +0100

    Add MediaFormat on video frame metadata listener
    
    This is useful for apps that want to access HDR metadata that MediaCodec puts
    in its output format.
    
    PiperOrigin-RevId: 274169985

1	0	RELEASENOTES.md
1	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
10	5	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
10	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoFrameMetadataListener.java
5	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SceneRenderer.java

commit 4ae79105ded962c3c5f476a70db0cc71c3e8d701
Author: olly <olly@google.com>
Date:   2019-10-11 14:39:23 +0100

    Make FileDataSourceFactory an inner class
    
    This is a proof of concept for cleanup we should do for all of
    our DataSource implementations as we move toward stabilizing
    parts of the API.
    
    - Move all XDataSourceFactory classes to be inner classes.
    - Remove chained constructors for XDataSourceFactory classes. Keep
      required args going through constructors. Use setters for the
      rest.
    - Not applicable in this case, but we probably want to deprecate
      all but the no-arg method for instantiating eac XDataSource
      instance (with the all-arg method kept but with the intention
      of making it package private).
    
    PiperOrigin-RevId: 274162076

2	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloaderConstructorHelper.java
27	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/FileDataSource.java
6	12	library/core/src/main/java/com/google/android/exoplayer2/upstream/FileDataSourceFactory.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceFactory.java

commit be239951003ef2180dc79e222f9825c6ac42903c
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-11 14:38:06 +0100

    Remove ineffective copybara strip directive
    
    PiperOrigin-RevId: 274161845

1	1	demos/gvr/src/main/AndroidManifest.xml

commit 5f71e86335bb88eabc7b35f43cd17c624c0199ba
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-11 14:25:56 +0100

    Handle legacy DASH audio channel configuration
    
    Issue: #6523
    PiperOrigin-RevId: 274160232

2	0	RELEASENOTES.md
9	5	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit a81dea6a47c7df83f029e03080dd6878ab75f133
Author: ibaker <ibaker@google.com>
Date:   2019-10-11 12:42:00 +0100

    In-line 2 method reference runnables in HlsSampleStreamWrapper
    
    PiperOrigin-RevId: 274148614

2	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 674e92e1ee87c8951b8c829ed7748a1e7fad3a8a
Author: bachinger <bachinger@google.com>
Date:   2019-10-11 12:36:49 +0100

    provide content description for the player view to make show/hide controls accessible
    
    PiperOrigin-RevId: 274148026

1	0	RELEASENOTES.md
18	8	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
41	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
4	0	library/ui/src/main/res/values/strings.xml

commit a268e1b63fd3430e586f153598741e8e30eb5820
Author: olly <olly@google.com>
Date:   2019-10-11 11:29:58 +0100

    Test audio focus denial
    
    - Verifies that playWhenReady doesn't become true if audio focus
      is denied.
    - Also verifies there's no suppression reason in this case, because
      the denial is permanent rather than temporary.
    
    PiperOrigin-RevId: 274141099

45	30	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 46c6f260f57b160ca75e2420e7b8c4af5f2f999b
Author: olly <olly@google.com>
Date:   2019-10-11 11:17:15 +0100

    Add test action for setting audio attributes
    
    Also removed "to be executed" from all the comments, since it
    didn't seem to add value.
    
    PiperOrigin-RevId: 274139837

1	1	library/core/src/main/java/com/google/android/exoplayer2/Player.java
43	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
36	25	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java

commit 3f7c3bb0859f015df23d4d08257bc9698283a55d
Author: olly <olly@google.com>
Date:   2019-10-11 09:59:20 +0100

    Don't set a playback suppression reason for permanent audio focus loss
    
    It's documented to be for temporary loss only (i.e. the case where
    externally reported playWhenReady is still true)
    
    PiperOrigin-RevId: 274129922

3	3	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 0425264b8f665f1f5ef6f15e878614ff7cffd5cd
Author: krocard <krocard@google.com>
Date:   2019-10-10 17:16:57 +0100

    Update Gradle version
    
    PiperOrigin-RevId: 273971120

2	2	gradle/wrapper/gradle-wrapper.properties

commit 3b9a9c9b7eac9f81fa317de526fee5dd91aefbec
Author: ibaker <ibaker@google.com>
Date:   2019-10-10 13:10:41 +0100

    Enable ID3-in-EMSG for HLS streams
    
    This supports both chunkless & traditional preparation
    
    PiperOrigin-RevId: 273938344

2	0	RELEASENOTES.md
16	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java
5	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
32	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
34	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMetadataType.java
195	30	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
1	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java

commit 6934c6fb3313647231dce1b2f530b2926efd2f43
Author: olly <olly@google.com>
Date:   2019-10-09 13:23:10 +0100

    Fix bogus reporting of audio focus loss
    
    Playback cannot be suppressed if playWhenReady=false
    
    PiperOrigin-RevId: 273726084

3	3	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
29	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 6046e929201952394bcbc6d937c8d6e4334de8f7
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-08 20:55:25 +0100

    Merge pull request #6502 from caiiiyua:bug_default_dash_chunk_source_wrong_segmentnumshift
    
    PiperOrigin-RevId: 273549830

10	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java

commit 0249058c1b90e384486023d5b53cc72b9bcc25ca
Author: olly <olly@google.com>
Date:   2019-10-07 16:30:04 +0100

    Parse Label elements for adaptation sets
    
    Issue: #6297
    PiperOrigin-RevId: 273297284

3	1	RELEASENOTES.md
32	0	library/core/src/main/java/com/google/android/exoplayer2/Format.java
52	12	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
21	0	library/dash/src/test/assets/sample_mpd_labels
40	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParserTest.java

commit 904e3f8d47bec69d26579fa9ab8f1c0fc9495087
Author: olly <olly@google.com>
Date:   2019-10-07 10:48:24 +0100

    Define default colors as constants
    
    It's confusing that app:played_color also modifies the colors
    that derive from it, but the corresponding setter does not. It
    seems generally clearer just to define constants.
    
    PiperOrigin-RevId: 273249557

8	0	RELEASENOTES.md
26	34	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit 97cfcb57e64630b05210984276385185b32a4bb5
Author: olly <olly@google.com>
Date:   2019-10-04 13:29:05 +0100

    Cleanup: Only clamp seek positions for FFWD/RWND
    
    It's confusing that seekTo(player, windowIndex, positionMs) does
    clamping, because it only makes sense if windowIndex is the current
    window.
    
    Note: This doesn't actually fix anything (other than code clarity).
    In cases where we were passing other windowIndices, we always
    passed 0 as the position and so the clamping logic wouldn't have
    had any effect.
    PiperOrigin-RevId: 272857104

10	9	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
11	10	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
11	10	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 02c344999cab39391005f999c011c8646d479463
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-04 13:32:59 +0100

    Merge pull request #6379 from wingyippp:flac-seek-map-two-points
    
    PiperOrigin-RevId: 272856747

18	6	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
4	4	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
9	2	extensions/flac/src/main/jni/flac_jni.cc
29	10	extensions/flac/src/main/jni/flac_parser.cc
2	1	extensions/flac/src/main/jni/include/flac_parser.h

commit fabdb841366b82295dab09c04a083f20ca0042ee
Author: ibaker <ibaker@google.com>
Date:   2019-10-04 13:20:03 +0100

    Exclude .li files in ExoPlayer's .hgignore
    
    These seem to be created by the Android Studio layout inspector
    
    PiperOrigin-RevId: 272856118

2	1	.hgignore

commit 5e090d81b41f8c6dfcb20dc641fe720e97f01cfb
Author: olly <olly@google.com>
Date:   2019-10-04 10:08:00 +0100

    Remove unnecessary DeleteLocalRef usage
    
    Keeping the ones inside loops, because theoretically they
    can be useful there (in practice, for this use case, it's
    highly unlikely to make any difference).
    
    PiperOrigin-RevId: 272834073

0	2	extensions/flac/src/main/jni/flac_jni.cc

commit 495b418fb13d6b997462c136e4df5b750d6ead04
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-03 15:12:21 +0100

    Add missing player null check
    
    PiperOrigin-RevId: 272654378

1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java

commit 722722d8df03a5388be0ac725510140cc66b0cd4
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-03 10:23:05 +0100

    Fix GL error logging
    
    Log only if an error occured.
    
    PiperOrigin-RevId: 272618322

1	1	library/core/src/main/java/com/google/android/exoplayer2/util/GlUtil.java

commit 32afc3331384a9a5605f08167a966eb06a701c47
Author: olly <olly@google.com>
Date:   2019-10-03 09:57:55 +0100

    Make factories return specific types
    
    PiperOrigin-RevId: 272614917

1	1	extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSourceFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/FileDataSourceFactory.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/ResolvingDataSource.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeDataSource.java

commit 2d0d4c78624c6482a6408779cc171bfff3354f34
Author: olly <olly@google.com>
Date:   2019-10-03 09:56:52 +0100

    Clean up DashManifestParserTest
    
    Also improve some tests by asserting the parser is left in
    the correct position (assertNextTag).
    
    PiperOrigin-RevId: 272614768

0	1	library/dash/src/test/assets/{sample_mpd_1 => sample_mpd}
0	1	library/dash/src/test/assets/{sample_mpd_4_event_stream => sample_mpd_event_stream}
0	1	library/dash/src/test/assets/{sample_mpd_3_segment_template => sample_mpd_segment_template}
0	1	library/dash/src/test/assets/{sample_mpd_2_unknown_mime_type => sample_mpd_unknown_mime_type}
99	15	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParserTest.java

commit e34685601c2887864a57a29663eb943117690fbf
Author: olly <olly@google.com>
Date:   2019-10-03 09:55:27 +0100

    Minor upstream cleanup
    
    PiperOrigin-RevId: 272614610

1	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSink.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSink.java

commit e0c8cbe21ea11bbce0bba57faa1f4bca18e2bcb3
Author: ibaker <ibaker@google.com>
Date:   2019-10-02 11:50:35 +0100

    Pass the raw ICY metadata through IcyInfo
    
    The ICY 'spec' isn't really clear/tight enough to do anything more
    specific than this I think.
    
    Issue:#6476
    PiperOrigin-RevId: 272405322

2	0	RELEASENOTES.md
1	8	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
18	8	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyInfo.java
38	8	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/{IcyStreamInfoTest.java => IcyInfoTest.java}

commit 15df31b99527be1421c8a6feaff006a0f44d2b56
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-09-30 18:21:04 +0100

    Remove references to cast_receiver_app
    
    PiperOrigin-RevId: 272010353

0	4	.gitignore
0	4	.hgignore

commit a09960b8f421d54bd4570b050d714ad05a9c2511
Author: ibaker <ibaker@google.com>
Date:   2019-09-30 16:07:44 +0100

    Move HLS mapped track picking into a separate method
    
    This helps reduce the amount of nesting in HlsSampleStreamWrapper.track()
    
    PiperOrigin-RevId: 271983779

38	14	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit d9b60edabf45060aaa7d3d010a49b9128ff54a95
Author: ibaker <ibaker@google.com>
Date:   2019-09-26 17:18:03 +0100

    Remove duplicated tracksEnded check in HlsSampleStreamWrapper
    
    PiperOrigin-RevId: 271364512

3	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 87138ceede5f5f88bfe81a17e9bedebc43d2258a
Author: ibaker <ibaker@google.com>
Date:   2019-09-26 17:16:29 +0100

    Reshuffle {audio,video}SampleQueue{Index,MappingDone} into fields mapped by type
    
    PiperOrigin-RevId: 271364200

23	37	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit ad59304f77b8472e08d09881deb5c84211d688f8
Author: tonihei <tonihei@google.com>
Date:   2019-09-26 15:41:51 +0100

    Forward isPlaying/playbackSuppressionReason changes to analytics listeners.
    
    PiperOrigin-RevId: 271347407

18	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
18	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java

commit 7e46d347889b0318d5d8bf3ea6f0a197181bc486
Author: tonihei <tonihei@google.com>
Date:   2019-09-26 15:41:27 +0100

    Add EventListener.onPlaybackSuppressionReasonChanged
    
    Adding this callback makes sense for completeness (we have similar callbacks
    for all other playback state properties), and also to detect audio focus loss
    while buffering which would currently trigger no callback because isPlaying
    is still false.
    
    Issue:#6203
    PiperOrigin-RevId: 271347351

6	0	RELEASENOTES.md
5	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
8	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java

commit a3667decf91bcee49e3ecc2c6817118c51545673
Author: olly <olly@google.com>
Date:   2019-09-24 23:32:01 +0100

    Try initializing ADAPTATION_WORKAROUND_BUFFER as a byte[]
    
    PiperOrigin-RevId: 270999947

10	6	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 76a1dd3da2039c2f4ac46e0b0993a4df163e4b83
Author: tonihei <tonihei@google.com>
Date:   2019-09-24 16:35:36 +0100

    Use Player.isPlaying in appropriate places.
    
    This method should be used where we previously checked for active playback
    by state==READY and playWhenReady=true. Using the new method ensures we take
    audio focus into account for these usages.
    
    Also update some method naming to avoid confusion with the isPlaying method.
    
    Issue:#6203
    PiperOrigin-RevId: 270910982

15	10	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
13	17	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 90b52123ce6663c09d705110967699869202bdf3
Author: ibaker <ibaker@google.com>
Date:   2019-09-24 11:02:51 +0100

    Simplify the ffmpeg build instructions a little
    
    In-line EXOPLAYER_ROOT which only has one reference. And change
    FFMPEG_EXT_PATH to always include "/jni"
    
    PiperOrigin-RevId: 270866662

3	4	extensions/ffmpeg/README.md

commit 719029d1950a23b6454474509cc2fe52d471d576
Author: ibaker <ibaker@google.com>
Date:   2019-09-23 15:18:25 +0100

    Add a `cd` command to ExoPlayer clone instructions
    
    With this missing, the `checkout` command errors with:
    $ git checkout release-v2
    fatal: not a git repository (or any of the parent directories): .git
    PiperOrigin-RevId: 270670796

1	0	README.md

commit fec82753316e952b10a31555b2db8ff081f30021
Author: tonihei <tonihei@google.com>
Date:   2019-09-23 15:15:41 +0100

    Change default bandwidth fraction in AdaptiveTrackSelection.
    
    A reduced fraction of 0.7 was shown to better balance the rebuffer/quality
    trade-off.
    
    PiperOrigin-RevId: 270670465

1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java

commit d01d8f034430e569b51d9c19589d7a59b4f5768a
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-10 18:29:56 +0100

    Use google cpu_features library
    
    Currently, ndk cpu-features is being used.
    This is now deprecated and google open-source
    cpu_features library is recommended.
    
    PiperOrigin-RevId: 273987647

9	1	extensions/av1/README.md
10	5	extensions/av1/src/main/jni/CMakeLists.txt
18	12	extensions/av1/src/main/jni/gav1_jni.cc

commit 58cb7d29caf4405402116e509f48f5489973740d
Author: krocard <krocard@google.com>
Date:   2019-10-10 17:16:57 +0100

    Update Gradle version
    
    PiperOrigin-RevId: 273971120

2	2	gradle/wrapper/gradle-wrapper.properties

commit 706668fde3d22001ed4e47a42aa457178700cf8a
Author: Julio Zynger <julioz92@gmail.com>
Date:   2019-10-10 19:49:09 +0200

    Name logged fields in EventLogger

2	2	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java

commit 62618f24ec012020b84200c37c0a8bc215018241
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-10 14:41:14 +0100

    Remove copybara exclusions and add extension to the demo app
    
    Issue: #3353
    PiperOrigin-RevId: 273949689

3	0	RELEASENOTES.md
2	0	core_settings.gradle
1	0	demos/main/build.gradle
0	4	extensions/av1/proguard-rules.txt
5	0	library/core/src/main/java/com/google/android/exoplayer2/C.java
27	0	library/core/src/main/java/com/google/android/exoplayer2/DefaultRenderersFactory.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit 60566721d4b173eb767a083d5e91e71fd3b46c0c
Author: ibaker <ibaker@google.com>
Date:   2019-10-10 13:10:41 +0100

    Enable ID3-in-EMSG for HLS streams
    
    This supports both chunkless & traditional preparation
    
    PiperOrigin-RevId: 273938344

2	0	RELEASENOTES.md
16	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java
5	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
32	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
34	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMetadataType.java
197	33	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
1	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java

commit a96a82588e9015380a2e16d6dfd566a545583a6d
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-10 13:02:27 +0100

    Update release notes for GL classes changes
    
    PiperOrigin-RevId: 273937090

2	0	RELEASENOTES.md

commit ad50f62eeccef4aab0002784ec05f10e95d2b60b
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-10 11:49:55 +0100

    Remove method for setting custom gav1 libraries
    
    PiperOrigin-RevId: 273929000

0	11	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Gav1Library.java

commit f098562208722b26c9bd0b5d0d7b1d13e69df1a5
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-10 11:46:05 +0100

    Fix comments in AV1 extension
    
    PiperOrigin-RevId: 273928626

2	2	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Gav1Decoder.java
1	1	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java

commit 51177303a36756a524f74b2f70b38ed4664ad948
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-10 10:41:47 +0100

    Add av1 extension to version control ignores
    
    PiperOrigin-RevId: 273919032

3	0	.gitignore
3	0	.hgignore

commit 357434596068aa80ce6cf070bbbd56dd49a27bdc
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-10 10:35:21 +0100

    Fail av1 extension build if CMake is missing
    
    If a user has checked out libgav1 they almost certainly want to
    build the extension, so fail if CMake is not present but
    libgav1 is present. Also add a note to the README linking to
    instructions for installing CMake.
    
    Also remove the NDK check, as ndk.dir is apparently deprecated
    and Android Studio appears to install this automatically anyway.
    
    PiperOrigin-RevId: 273918142

7	5	extensions/av1/README.md
4	9	extensions/av1/build.gradle

commit 5cf82a507912c02e8368e5a5f17575546bcd1093
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-09 17:24:08 +0100

    Support GL rendering with SimpleExoPlayer and PlayerView
    
    PiperOrigin-RevId: 273760294

14	11	extensions/av1/README.md
20	5	extensions/vp9/README.md
1	1	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
8	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java
40	22	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
16	17	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderRenderer.java
20	8	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderSurfaceView.java
12	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
1	0	library/ui/src/main/res/values/attrs.xml

commit a35a0925edf3e5e785a59640602beca9d957c11c
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-09 16:53:44 +0100

    Mask repeatMode in CastPlayer
    
    When the user calls setRepeatMode, the state modifications are
    observed as immediate, in spite of being sent to the receiver app
    as asynchronous operations.
    
    PiperOrigin-RevId: 273754931

30	9	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit 5775a470106cdccf26078ae6bcbf0207d3d4ae40
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-09 15:18:07 +0100

    Remove maybe prefix for cast setting methods
    
    Also move the masking internal state update before the message
    dispatch, so as to ensure the result of the operation prevails
    over the masking state.
    
    PiperOrigin-RevId: 273740585

20	21	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit 1312a542951d397f44f896341451a653189d6ff9
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-09 14:33:30 +0100

    Avoid sync failures if libgav1 isn't present
    
    PiperOrigin-RevId: 273734495

6	4	extensions/av1/build.gradle

commit 3d0886f4586d8a6bb00a2e8688751cc412cf41b4
Author: olly <olly@google.com>
Date:   2019-10-09 13:23:10 +0100

    Fix bogus reporting of audio focus loss
    
    Playback cannot be suppressed if playWhenReady=false
    
    PiperOrigin-RevId: 273726084

3	3	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
29	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit e6fe80fa880576b5739cb0e1672537298cf89cee
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-09 11:22:39 +0100

    Improve sample naming consistency
    
    PiperOrigin-RevId: 273712563

11	11	demos/main/src/main/assets/media.exolist.json

commit 70abbb9689b21553ab2447a75715f8cbd19779a8
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-09 10:36:58 +0100

    Add test AV1 video to demo app
    
    PiperOrigin-RevId: 273706425

4	0	demos/main/src/main/assets/media.exolist.json
105	0	extensions/av1/README.md
76	0	extensions/av1/build.gradle
11	0	extensions/av1/proguard-rules.txt
17	0	extensions/av1/src/main/AndroidManifest.xml
237	0	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Gav1Decoder.java
30	0	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Gav1DecoderException.java
47	0	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Gav1Library.java
195	0	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/Libgav1VideoRenderer.java
19	0	extensions/av1/src/main/java/com/google/android/exoplayer2/ext/av1/package-info.java
51	0	extensions/av1/src/main/jni/CMakeLists.txt
748	0	extensions/av1/src/main/jni/gav1_jni.cc
0	9	extensions/vp9/src/main/METADATA

commit 4026c8a01e07e56fc849ef378ed84cba6e889ad4
Merge: fab2a0d55 d2b221b95
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-08 20:55:25 +0100

    Merge pull request #6502 from caiiiyua:bug_default_dash_chunk_source_wrong_segmentnumshift
    
    PiperOrigin-RevId: 273549830

commit fab2a0d55e32dc05fc7e4eee14b15714b02216d0
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-08 15:33:38 +0100

    Fix VideoDecoderOutputBuffer supplemental data
    
    The limit of this.supplementalData was not reset.
    
    PiperOrigin-RevId: 273515718

2	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit a7db26c3524c3472cebf432cd69e30d9452e1933
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-08 13:52:33 +0100

    Delete the IMA demo
    
    This doesn't offer anything on top of the functionality in the main demo app.
    There's less code but we have a blog post and presentations that walk through
    how to use the extension, so it seems fine to delete the code so we don't need
    to maintain it. This also avoids potential confusion about what the demo app
    means on IMA-related GitHub issues.
    
    PiperOrigin-RevId: 273501720

0	4	demos/ima/README.md
0	59	demos/ima/build.gradle
0	38	demos/ima/src/main/AndroidManifest.xml
0	58	demos/ima/src/main/java/com/google/android/exoplayer2/imademo/MainActivity.java
0	123	demos/ima/src/main/java/com/google/android/exoplayer2/imademo/PlayerManager.java
0	21	demos/ima/src/main/res/layout/main_activity.xml
-	-	demos/ima/src/main/res/mipmap-hdpi/ic_launcher.png
-	-	demos/ima/src/main/res/mipmap-mdpi/ic_launcher.png
-	-	demos/ima/src/main/res/mipmap-xhdpi/ic_launcher.png
-	-	demos/ima/src/main/res/mipmap-xxhdpi/ic_launcher.png
-	-	demos/ima/src/main/res/mipmap-xxxhdpi/ic_launcher.png
0	24	demos/ima/src/main/res/values/strings.xml
0	23	demos/ima/src/main/res/values/styles.xml
0	2	settings.gradle

commit 711a16c88a16360916ae40abb4798054fccbe228
Author: ibaker <ibaker@google.com>
Date:   2019-10-08 10:10:12 +0100

    Remove the content_not_playing issue template
    
    PiperOrigin-RevId: 273475232

0	53	.github/ISSUE_TEMPLATE/content_not_playing.md

commit 176d211bfada12c34f55355b12016147e754712e
Author: Ian Baker <ibaker@google.com>
Date:   2019-10-08 10:08:38 +0100

    Remove the content_not_playing issue template

0	53	.github/ISSUE_TEMPLATE/content_not_playing.md

commit d2b221b95be69dd1e412155504a66d8ebc0dbffe
Author: Cai Yuanqing <caiiiyua@gmail.com>
Date:   2019-10-07 12:05:50 +1300

    Issue: #6501 Wrong segmentNumShift was calculated in copyWithNewRepresentation
    
    When newIndex overlaps oldIndex with newstarttime < oldstarttime, according to the segNum of endtime
    in newIndex and oldIndexLastSegnum to calculate the segmentNumShift.

5	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java

commit b052ea9bed269a61681387bf73a7eb7a126cc60f
Author: olly <olly@google.com>
Date:   2019-10-07 16:30:04 +0100

    Parse Label elements for adaptation sets
    
    Issue: #6297
    PiperOrigin-RevId: 273297284

5	2	RELEASENOTES.md
33	0	library/core/src/main/java/com/google/android/exoplayer2/Format.java
52	12	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
21	0	library/dash/src/test/assets/sample_mpd_labels
40	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParserTest.java

commit 48bfb37e93e23436f33330faf285470e1e3d5d4f
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-07 16:26:14 +0100

    Fix surfacedemo nullness issues
    
    PiperOrigin-RevId: 273296545

29	20	demos/surface/src/main/java/com/google/android/exoplayer2/surfacedemo/MainActivity.java

commit fed89d76cae21d125d79cfbdcd0a6a47a7f69902
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-07 16:25:42 +0100

    Migrate surfacedemo to new DRM APIs
    
    PiperOrigin-RevId: 273296461

15	25	demos/surface/src/main/java/com/google/android/exoplayer2/surfacedemo/MainActivity.java

commit 8d7f474fa607c74ac3a33d77429a178b942efebf
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-07 16:24:28 +0100

    Fix surfacedemo build
    
    PiperOrigin-RevId: 273296236

1	2	demos/surface/src/main/java/com/google/android/exoplayer2/surfacedemo/MainActivity.java

commit dddce4307ba56afb14aee1f7a5b0a3b3a9dcc7ec
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-07 15:47:21 +0100

    Mask playWhenReady state in CastPlayer
    
    When the user calls setPlayWhenReady, the state modifications are
    observed as immediate, in spite of being sent to the receiver app
    as asynchronous operations.
    
    PiperOrigin-RevId: 273289768

38	22	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit 29eebca5c5c656637d1a305d101c7a1089b30d43
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-07 13:41:44 +0100

    Fix section comments in CastPlayer
    
    PiperOrigin-RevId: 273270892

20	20	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit a8adb97b5dbf54f029726ce6dbe85c106d3bc8e5
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-07 12:46:28 +0100

    Move AudioFocusManager to different package & made default visibility.
    
    PiperOrigin-RevId: 273263822

3	5	library/core/src/main/java/com/google/android/exoplayer2/{audio => }/AudioFocusManager.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
5	6	library/core/src/test/java/com/google/android/exoplayer2/{audio => }/AudioFocusManagerTest.java

commit c269890259c13311f38d51d6e39cedaeb8370cd1
Author: olly <olly@google.com>
Date:   2019-10-07 10:48:24 +0100

    Define default colors as constants
    
    It's confusing that app:played_color also modifies the colors
    that derive from it, but the corresponding setter does not. It
    seems generally clearer just to define constants.
    
    PiperOrigin-RevId: 273249557

8	0	RELEASENOTES.md
26	34	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java

commit fa06f0b4ccc3b37daa7462b847c7801cb9951911
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-04 19:10:31 +0100

    Fix video decoder GL rendering
    
    Calculate stride and width ratio per each plane.
    
    PiperOrigin-RevId: 272916423

87	52	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderRenderer.java

commit 8f3a363dd24a25ce97396d2a7c619862e3e39633
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-04 18:05:52 +0100

    Add OpenGL support to av1 extension: Libgav1VideoRenderer
    
    Move reusable code from LibvpxVideoRenderer to SimpleDecoderVideoRenderer.
    Pass outputBuffer to renderOutputBuffer method instead of keeping the reference in the renderer.
    
    PiperOrigin-RevId: 272899549

18	73	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
144	83	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit 27b90fba0e04126db85b717e6692727d86faae12
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-04 17:05:33 +0100

    Make WakeLockManager package private.
    
    PiperOrigin-RevId: 272888174

1	1	library/core/src/main/java/com/google/android/exoplayer2/WakeLockManager.java

commit efe6e6408a4b1ca39770eb00fe62a6fc9c960d72
Author: olly <olly@google.com>
Date:   2019-10-04 13:29:05 +0100

    Cleanup: Only clamp seek positions for FFWD/RWND
    
    It's confusing that seekTo(player, windowIndex, positionMs) does
    clamping, because it only makes sense if windowIndex is the current
    window.
    
    Note: This doesn't actually fix anything (other than code clarity).
    In cases where we were passing other windowIndices, we always
    passed 0 as the position and so the clamping logic wouldn't have
    had any effect.
    PiperOrigin-RevId: 272857104

10	9	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
11	10	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
11	10	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 6e65a71806d72af5c08e6c9c0ad373927f617124
Merge: b2900aa56 8ce8e351e
Author: Oliver Woodman <olly@google.com>
Date:   2019-10-04 13:32:59 +0100

    Merge pull request #6379 from wingyippp:flac-seek-map-two-points
    
    PiperOrigin-RevId: 272856747

commit b2900aa560a3734fdc53e500a2347075be65bf78
Author: ibaker <ibaker@google.com>
Date:   2019-10-04 13:20:03 +0100

    Exclude .li files in ExoPlayer's .hgignore
    
    These seem to be created by the Android Studio layout inspector
    
    PiperOrigin-RevId: 272856118

2	1	.hgignore

commit 8453d07f542f087081fc107ffeeb57b7b5cd8de4
Author: olly <olly@google.com>
Date:   2019-10-04 10:08:00 +0100

    Remove unnecessary DeleteLocalRef usage
    
    Keeping the ones inside loops, because theoretically they
    can be useful there (in practice, for this use case, it's
    highly unlikely to make any difference).
    
    PiperOrigin-RevId: 272834073

0	2	extensions/flac/src/main/jni/flac_jni.cc

commit 4297800f38a188f858da96ddf888c20f010f86e2
Author: tonihei <tonihei@google.com>
Date:   2019-10-04 08:38:06 +0100

    Update logic to set isLoading.
    
    We currently set it to shouldContinueLoading, which isn't correct if
    shouldContinueLoading is set to false and we still have an ongoing load.
    
    Change it to also be true if the media period is still loading.
    
    PiperOrigin-RevId: 272823473

37	22	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 69cf7d130eae9dbaac6527d410c6258b959cd490
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-03 19:04:01 +0100

    Fix acquisition of placeholder sessions
    
    Issue:#4867
    PiperOrigin-RevId: 272698404

3	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit f326f7110fe9ae691491d790d8b970ac3d3b546c
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-03 17:51:12 +0100

    Added SendBroadcast as an Action.
    
    Removed a redundant TestSimpleExoPlayer subclass.
    
    PiperOrigin-RevId: 272681643

22	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
12	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
8	26	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit 3d5ab29da7b2969b8f102c50e7fbf10ece23889a
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-03 15:52:16 +0100

    Add @RequiresApi(18) for FrameworkMediaDrm
    
    Without this Android Studio shows a warning for newInstance.
    
    PiperOrigin-RevId: 272660373

3	3	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit 957387855e095fd442e69f951a593177c49a5124
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-10-03 15:12:21 +0100

    Add missing player null check
    
    PiperOrigin-RevId: 272654378

1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java

commit 433526e0343c109cab18a3433e8d7505962a6ee3
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-03 13:54:18 +0100

    Deprecate DefaultDrmSessionManager factory methods and migrate main demo app
    
    PiperOrigin-RevId: 272643202

28	57	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
1	1	demos/main/src/main/res/values/strings.xml
7	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 737b5cd82dd4a8f6705a38a95ae0bfc76c863fcf
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-10-03 10:23:05 +0100

    Fix GL error logging
    
    Log only if an error occured.
    
    PiperOrigin-RevId: 272618322

1	1	library/core/src/main/java/com/google/android/exoplayer2/util/GlUtil.java

commit 3c235dfc1ff6546d19c686de3eee3a2b58092c23
Author: olly <olly@google.com>
Date:   2019-10-03 09:57:55 +0100

    Make factories return specific types
    
    PiperOrigin-RevId: 272614917

1	1	extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSourceFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/FileDataSourceFactory.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/ResolvingDataSource.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeDataSource.java

commit e377e13d50f7d8b5909d0fca7f6840d1dae6fe1b
Author: olly <olly@google.com>
Date:   2019-10-03 09:56:52 +0100

    Clean up DashManifestParserTest
    
    Also improve some tests by asserting the parser is left in
    the correct position (assertNextTag).
    
    PiperOrigin-RevId: 272614768

0	1	library/dash/src/test/assets/{sample_mpd_1 => sample_mpd}
0	1	library/dash/src/test/assets/{sample_mpd_4_event_stream => sample_mpd_event_stream}
0	1	library/dash/src/test/assets/{sample_mpd_3_segment_template => sample_mpd_segment_template}
0	1	library/dash/src/test/assets/{sample_mpd_2_unknown_mime_type => sample_mpd_unknown_mime_type}
99	83	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParserTest.java

commit fbb4715646e9de4468f46a0872ce1cb0c1c4aa8a
Author: olly <olly@google.com>
Date:   2019-10-03 09:55:27 +0100

    Minor upstream cleanup
    
    PiperOrigin-RevId: 272614610

1	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSink.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSink.java

commit 9ec94a4bdc0678ec4a894d7adde7379b494a65af
Author: Cai Yuanqing <caiiiyua@gmail.com>
Date:   2019-10-04 13:55:25 +1300

    Check the new index contains the old index based on stat time instead of segNum

6	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java

commit 8ce8e351e15fb88b5261953e6603c10aee47beb8
Author: wingyippp <wingyip1988@gmail.com>
Date:   2019-10-03 14:40:39 +0800

    new int64_t[4] after check mSeekTable supported

1	1	extensions/flac/src/main/jni/flac_parser.cc

commit 03ba1c9a2fdc22f1b129288af53758429c93b5d0
Author: wingyippp <wingyip1988@gmail.com>
Date:   2019-10-03 13:50:17 +0800

    return null if Seek Table is not supported. proguard in flac-extension

10	0	extensions/flac/proguard-rules.txt
2	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
3	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
14	10	extensions/flac/src/main/jni/flac_jni.cc
1	2	extensions/flac/src/main/jni/flac_parser.cc
0	10	library/core/proguard-rules.txt

commit 4f640bc62e713ba13ff97fdc543824665156a17a
Author: tonihei <tonihei@google.com>
Date:   2019-10-02 16:43:26 +0100

    Add SequencableLoader.isLoading
    
    This method allows the player to figure out whether we still have an ongoing
    load even if LoadControl.shouldContinueLoading returns false.
    
    PiperOrigin-RevId: 272445577

1	0	RELEASENOTES.md
5	0	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaPeriod.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeSequenceableLoader.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaPeriod.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaPeriod.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/source/MergingMediaPeriod.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/source/SequenceableLoader.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/util/ConditionVariable.java
5	0	library/core/src/test/java/com/google/android/exoplayer2/source/CompositeSequenceableLoaderTest.java
5	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
5	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
5	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
5	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java
5	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java
5	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaPeriod.java

commit 9f78187678a949c84da94a3b82947bd259820b1c
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-02 16:40:01 +0100

    Migrate Cast demo app to use DefaultDrmSessionManager.Builder
    
    PiperOrigin-RevId: 272444896

9	34	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java

commit bc9a0860e0119957ecbe970fb62554b143b31a7f
Author: tonihei <tonihei@google.com>
Date:   2019-10-02 15:40:58 +0100

    Clear renderedFirstFrame at stream changes even if no reconfiguration is needed
    
    This ensures a more consistent playback behavior no matter if an item is the
    first playlist item or a later one. For example, each playlist item gets its
    own onRenderedFirstFrame callback and other logic within the renderer that
    force renders the first frame more quickly is also triggered.
    
    PiperOrigin-RevId: 272434814

3	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit f7b8d07cd2faac1dbe97a6c294548ca782ec6dd4
Author: ibaker <ibaker@google.com>
Date:   2019-10-02 11:53:03 +0100

    Add specific error message if file-not-found for path with fragment or query
    
    This doesn't change the current behaviour, just adds a clear error message
    to the developer with instructions on how to avoid it.
    
    Issue:#6470
    PiperOrigin-RevId: 272405556

2	0	RELEASENOTES.md
24	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/FileDataSource.java

commit 6780b802e0b6e613f242ef165d4beb907b192481
Author: ibaker <ibaker@google.com>
Date:   2019-10-02 11:50:35 +0100

    Pass the raw ICY metadata through IcyInfo
    
    The ICY 'spec' isn't really clear/tight enough to do anything more
    specific than this I think.
    
    Issue:#6476
    PiperOrigin-RevId: 272405322

2	0	RELEASENOTES.md
1	8	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
18	8	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyInfo.java
38	8	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/{IcyStreamInfoTest.java => IcyInfoTest.java}

commit db68aa94901f32f34d415b559f932e86b9b98f6b
Author: ibaker <ibaker@google.com>
Date:   2019-10-02 11:50:12 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/01f484cbe965f7858f9621c97fec94d30eef188a
    
    *** Original commit ***
    
    Modify EventMessageDecoder to return null if decoding fails (currently throws exceptions)
    
    This matches the documentation on MetadataDecoder.decode:
    "@return The decoded metadata object, or null if the metadata could not be decoded."
    
    ***
    
    PiperOrigin-RevId: 272405287

8	20	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
7	15	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
0	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java

commit f5873b8f00d339c9c8dabc6cdaeb4a58d8486010
Author: samrobinson <samrobinson@google.com>
Date:   2019-10-01 11:57:31 +0100

    WakeLock handling
    
    Created the WakeLockManager for use in SimpleExoPlayer.
    Added a setter in SimpleExoPlayer to adjust this functionality.
    
    Issue:#5846
    PiperOrigin-RevId: 272176998

4	0	RELEASENOTES.md
33	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
102	0	library/core/src/main/java/com/google/android/exoplayer2/WakeLockManager.java

commit 6c20616f87d8528d998b7120499f467a2235ac70
Author: bachinger <bachinger@google.com>
Date:   2019-10-01 11:56:39 +0100

    remove validation comments from github templates
    
    PiperOrigin-RevId: 272176894

0	5	.github/ISSUE_TEMPLATE/bug.md
0	5	.github/ISSUE_TEMPLATE/content_not_playing.md
0	5	.github/ISSUE_TEMPLATE/feature_request.md
0	5	.github/ISSUE_TEMPLATE/question.md

commit af9ce21e2f385b390cb291ee0333b5f10e35fcb1
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-10-01 10:26:52 +0100

    Log failures when instantiating Framework MediaDrms
    
    PiperOrigin-RevId: 272166041

3	1	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit c9029479f4023875a58b57b2f46aa5bfd04f0ba7
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-09-30 18:21:04 +0100

    Remove references to cast_receiver_app
    
    PiperOrigin-RevId: 272010353

0	4	.gitignore
0	4	.hgignore

commit 7d8bee799bd899b44b7457e3fed530c472426863
Author: tonihei <tonihei@google.com>
Date:   2019-09-30 18:01:22 +0100

    Add convenience Player.isCurrentWindowLive method.
    
    PiperOrigin-RevId: 272005632

6	0	library/core/src/main/java/com/google/android/exoplayer2/BasePlayer.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java

commit dd4f9bcaae74cf50d9d10b8bd4d3cb729d7dc51d
Author: tonihei <tonihei@google.com>
Date:   2019-09-30 17:30:14 +0100

    Add Timeline.Window.isLive
    
    This flag is currently merged into Window.isDynamic, which isn't always true
    because
    1. A window can be dynamic for other reasons (e.g. when the duration is still
    missing).
    2. A live stream can be become non-dynamic when it ends.
    
    Issue:#2668
    Issue:#5973
    PiperOrigin-RevId: 271999378

3	0	RELEASENOTES.md
1	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimeline.java
2	1	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
11	3	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
12	6	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java
15	2	library/core/src/main/java/com/google/android/exoplayer2/source/SinglePeriodTimeline.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaSource.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
51	9	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java
7	1	library/core/src/test/java/com/google/android/exoplayer2/source/SinglePeriodTimelineTest.java
9	6	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
4	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java
1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit 26dd4aad68d90eb35a547fa4cb507128e287de6b
Author: tonihei <tonihei@google.com>
Date:   2019-09-30 17:23:29 +0100

    Add missing methods to EventLogger.
    
    PiperOrigin-RevId: 271998087

54	7	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java

commit 6a2d04e3ce8edae196ddacb998c62b541bbfe02b
Author: tonihei <tonihei@google.com>
Date:   2019-09-30 17:22:00 +0100

    Reflect playback suppression in PlaybackStats states.
    
    Also split existing SUSPENDED state into ABANDONED and INTERUPTED_BY_AD for
    more clarity.
    
    PiperOrigin-RevId: 271997824

22	11	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStats.java
77	27	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java

commit f0723a27b7a1aee99c03c1da9cba16f7bffeba6d
Author: ibaker <ibaker@google.com>
Date:   2019-09-30 16:07:44 +0100

    Move HLS mapped track picking into a separate method
    
    This helps reduce the amount of nesting in HlsSampleStreamWrapper.track()
    
    PiperOrigin-RevId: 271983779

37	14	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 9cc927bc64eb8a507b4ee30d944f6686df574789
Author: tonihei <tonihei@google.com>
Date:   2019-09-30 16:04:42 +0100

    Don't block on a dead thread when waiting for messages.
    
    PiperOrigin-RevId: 271983192

11	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 7c199eb1ad86302e4ecd0adec3257ba44b5ef3bb
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-09-30 11:49:40 +0100

    Move vpx constant for setting output renderer to common constants file
    
    This will be used by both av1 and vp9 extensions.
    
    PiperOrigin-RevId: 271949754

5	0	RELEASENOTES.md
2	1	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
2	9	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/C.java

commit bab12af5973e67ee0345a1257e0f714f70b6e223
Author: ibaker <ibaker@google.com>
Date:   2019-09-30 11:46:44 +0100

    Tweak Id3Decoder error message to print hex instead of int
    
    Before: "Unexpected first three bytes of ID3 tag header: 6845556"
    After: "Unexpected first three bytes of ID3 tag header: 0x687474"
    PiperOrigin-RevId: 271949486

1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Decoder.java

commit 36d3fef2b5ee803fc7a5e41befc27bd8fd6a8b4e
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-09-30 10:58:32 +0100

    Update vpx README file
    
    PiperOrigin-RevId: 271942692

5	6	extensions/vp9/README.md

commit 9f8002f16a7cfa49607cff1c59e06df7d9016bb8
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-09-27 19:56:29 +0100

    Update LINT.IfChange for extension constants
    
    PiperOrigin-RevId: 271617996

4	0	extensions/vp9/src/main/jni/vpx_jni.cc
1	3	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit b50da6d72e0293f44c21545bfc0f942b5e70b151
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-27 16:42:58 +0100

    Add DefaultDrmSessionManager.Builder
    
    Issue:#6334
    Issue:#4721
    Issue:#6334
    Issue:#4867
    PiperOrigin-RevId: 271577773

11	5	RELEASENOTES.md
143	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 22c3be75ea9c07b8c7e076041f6c1634d029ebba
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-09-27 15:45:55 +0100

    Extract vpx code used for GL rendering to common classes
    
    This will be used by both vp9 and av1 Exoplayer extensions.
    
    PiperOrigin-RevId: 271568429

2	1	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
8	7	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
14	10	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
15	11	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.java
22	22	extensions/vp9/src/main/jni/vpx_jni.cc
5	0	library/core/proguard-rules.txt
28	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java
4	7	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxOutputBufferRenderer.java => library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBufferRenderer.java
16	15	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxRenderer.java => library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderRenderer.java
9	10	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxVideoSurfaceView.java => library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderSurfaceView.java

commit d632cb86c13edc398bcd0400a5bee0e3f6bad808
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-26 20:21:51 +0100

    Make multisession work well with placeholder session
    
    Issue:#4867
    PiperOrigin-RevId: 271404942

9	2	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit f0b9889ef6e218b1a41bbf18cb0948135fd994ee
Author: ibaker <ibaker@google.com>
Date:   2019-09-26 17:18:03 +0100

    Remove duplicated tracksEnded check in HlsSampleStreamWrapper
    
    PiperOrigin-RevId: 271364512

3	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit b57c356fbf771cfffd7bd90b83f9836cad53909f
Author: ibaker <ibaker@google.com>
Date:   2019-09-26 17:16:29 +0100

    Reshuffle {audio,video}SampleQueue{Index,MappingDone} into fields mapped by type
    
    PiperOrigin-RevId: 271364200

23	37	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 5a8c4b90f4f000b54ccace9bdf03387c1a0534ba
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-26 15:49:31 +0100

    Add getFlags implementation to DefaultDrmSessionManager
    
    Issue:#4867
    PiperOrigin-RevId: 271348533

10	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit d185cea73b778d690f5a59f8e22b389402614eaa
Author: tonihei <tonihei@google.com>
Date:   2019-09-26 15:41:51 +0100

    Forward isPlaying/playbackSuppressionReason changes to analytics listeners.
    
    PiperOrigin-RevId: 271347407

18	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
18	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java

commit 004b9e8e8c660dba38ab458f60de7255c87c447b
Author: tonihei <tonihei@google.com>
Date:   2019-09-26 15:41:27 +0100

    Add EventListener.onPlaybackSuppressionReasonChanged
    
    Adding this callback makes sense for completeness (we have similar callbacks
    for all other playback state properties), and also to detect audio focus loss
    while buffering which would currently trigger no callback because isPlaying
    is still false.
    
    Issue:#6203
    PiperOrigin-RevId: 271347351

3	0	RELEASENOTES.md
5	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
8	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java

commit 60a9cf68c9249211f7c633a632c41c421d5f5f5b
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-09-25 19:02:15 +0100

    Add OpenGL support to av1 extension: jni library
    
    Update native gav1GetFrame method.
    
    PiperOrigin-RevId: 271160989

2	0	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit c2bab7a7455467d6c2166871d04fe2f28f0143a8
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-25 16:18:30 +0100

    Introduce ExoMediaDrm.Provider into DefaultDrmSessionManager
    
    Issue:#4721
    PiperOrigin-RevId: 271127127

51	28	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java

commit e4cabcac0fa85f292e67557c28b4cc0bede5e9af
Author: olly <olly@google.com>
Date:   2019-09-24 23:32:01 +0100

    Try initializing ADAPTATION_WORKAROUND_BUFFER as a byte[]
    
    PiperOrigin-RevId: 270999947

10	6	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit fa803967f238ced4cbd0b1303794065cf1e92284
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-24 20:35:49 +0100

    Remove mediaDrm methods from DefaultDrmSessionManager
    
    DrmSessionManagers may now be in released state, in which case they
    may release their MediaDrm. In that case, it would be invalid to
    forward method calls to the underlying MediaDrms. Users should
    instead call these methods directly on the MediaDrm.
    
    Issue:#4721
    PiperOrigin-RevId: 270963393

0	48	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
0	28	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
3	3	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java

commit 4df2262bcff27ce4634adca3be49236a2a86be51
Author: tonihei <tonihei@google.com>
Date:   2019-09-24 16:35:36 +0100

    Use Player.isPlaying in appropriate places.
    
    This method should be used where we previously checked for active playback
    by state==READY and playWhenReady=true. Using the new method ensures we take
    audio focus into account for these usages.
    
    Also update some method naming to avoid confusion with the isPlaying method.
    
    Issue:#6203
    PiperOrigin-RevId: 270910982

15	10	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
13	17	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit c5b6c6229be5d22736ef58c7b6dde7a95c7be352
Author: ibaker <ibaker@google.com>
Date:   2019-09-24 11:02:51 +0100

    Simplify the ffmpeg build instructions a little
    
    In-line EXOPLAYER_ROOT which only has one reference. And change
    FFMPEG_EXT_PATH to always include "/jni"
    
    PiperOrigin-RevId: 270866662

3	4	extensions/ffmpeg/README.md

commit 4ad4e3e4fcf2480bc36e7034026a3538ec7664be
Author: bachinger <bachinger@google.com>
Date:   2019-09-23 19:59:09 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/3b22db33ba944df6829b1eff328efb0cd25e1678
    
    *** Original commit ***
    
    add top-level playlist API to ExoPlayer
    
    Public design doc:
    https://docs.google.com/document/d/11h0S91KI5TB3NNZUtsCzg0S7r6nyTnF_tDZZAtmY93g
    
    Issue: #6161
    
    ***
    
    PiperOrigin-RevId: 270728267

28	24	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
9	5	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
6	9	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakePlayer.java
1	3	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
18	138	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
1	9	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
56	237	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
97	236	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
13	11	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
16	9	library/core/src/main/java/com/google/android/exoplayer2/Player.java
0	708	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
42	137	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
0	69	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
8	9	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
29	21	library/core/src/main/java/com/google/android/exoplayer2/{ => source}/AbstractConcatenatedTimeline.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
5	7	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
6	4	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
0	37	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
238	844	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
55	56	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
0	510	library/core/src/test/java/com/google/android/exoplayer2/PlaylistTest.java
0	140	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
32	69	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
36	233	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
14	115	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
27	54	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
0	83	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java
0	58	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit cc8b774b41fbfadb99421af1fd6922042c6c82bc
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-23 16:28:22 +0100

    Remove DefaultDrmSessionManager factory methods that enforce MediaDrm leaks
    
    Inline invocations of these methods, which still leaks the MediaDrms.
    However, it will be fixed once the DefaultDrmSessionManager API is finalized
    and ExoMediaDrm.Providers are introduced.
    
    Issue:#4721
    PiperOrigin-RevId: 270681467

2	0	RELEASENOTES.md
0	60	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
8	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java

commit 198366784574d422362e8c3e6521c9b0360e3b60
Author: ibaker <ibaker@google.com>
Date:   2019-09-23 15:18:25 +0100

    Add a `cd` command to ExoPlayer clone instructions
    
    With this missing, the `checkout` command errors with:
    $ git checkout release-v2
    fatal: not a git repository (or any of the parent directories): .git
    PiperOrigin-RevId: 270670796

1	0	README.md

commit c8ea831a1e045aef0db28c0248ef55153410ca69
Author: tonihei <tonihei@google.com>
Date:   2019-09-23 15:15:41 +0100

    Change default bandwidth fraction in AdaptiveTrackSelection.
    
    A reduced fraction of 0.7 was shown to better balance the rebuffer/quality
    trade-off.
    
    PiperOrigin-RevId: 270670465

1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java

commit 5695bae9d8fde5e156fd38fa552e266c5611c71f
Author: christosts <christosts@google.com>
Date:   2019-09-23 14:27:35 +0100

    Remove DataSpec.FLAG_ALLOW_ICY_METADATA
    
    Remove the flag DataSpec.FLAG_ALLOW_ICY_METADATA. Instead, set the
    header IcyHeaders.REQUEST_HEADER_ENABLE_METADATA_NAME in the DataSpec
    httpRequestHeaders.
    
    BUG:134034248
    PiperOrigin-RevId: 270662676

3	0	RELEASENOTES.md
3	7	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
1	6	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
15	3	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
85	13	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
1	11	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
78	22	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSpecTest.java

commit 47ad497aa8d7dcf1a13e7a4f2d637814d5d1db46
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-09-23 11:25:46 +0100

    Add android config option for vp9 build
    
    PiperOrigin-RevId: 270640701

9	0	extensions/vp9/src/main/METADATA

commit c2d9960a6e3a6a790a11a3842e72f8cda5d6e946
Author: Cai Yuanqing <caiiiyua@gmail.com>
Date:   2019-10-02 13:25:26 +1300

    Issue: #6501 Wrong segmentNumShift was calculated in copyWithNewRepresentation
    
    In DefaultDashChunkSource.copyWithNewRepresentation, it will handle the logic that
    new MPD manifest file is updated and calculate a newSegmentNumShift for furthermore
    segNum index calculation in getSegmentUrl, when a shorter window MPD updated and then
    back to a longer window MPD, copyWithNewRepresentation will go into the overlap case
    but the new index actually contains the old index..

2	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java

commit 3e5c66ec854d9efd33878da0c970794aac8828f5
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-10-01 11:59:03 +0100

    Update question.md

0	5	.github/ISSUE_TEMPLATE/question.md

commit a291777829d5e99e361c9efbff5ac17e20aefe70
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-10-01 11:58:45 +0100

    Update feature_request.md

0	5	.github/ISSUE_TEMPLATE/feature_request.md

commit 00ddb251c55920a9db81373d0b157e2a0f1ff719
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-10-01 11:58:19 +0100

    Update content_not_playing.md

0	5	.github/ISSUE_TEMPLATE/content_not_playing.md

commit 242d50b004c02093a4ba05d21b732c8acd81c0d7
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-10-01 11:57:58 +0100

    removed validation comment

0	5	.github/ISSUE_TEMPLATE/bug.md

commit 258fff422ac02c9b046fac995dfd1e983ba1bfd4
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-09-21 20:34:15 +0100

    Publish SurfaceControl demo
    
    Issue: #677
    Issue: #5428
    PiperOrigin-RevId: 270466031

4	2	RELEASENOTES.md
21	0	demos/surface/README.md
51	0	demos/surface/build.gradle
41	0	demos/surface/src/main/AndroidManifest.xml
284	0	demos/surface/src/main/java/com/google/android/exoplayer2/surfacedemo/MainActivity.java
43	0	demos/surface/src/main/res/layout/main_activity.xml
-	-	demos/surface/src/main/res/mipmap-hdpi/ic_launcher.png
-	-	demos/surface/src/main/res/mipmap-mdpi/ic_launcher.png
-	-	demos/surface/src/main/res/mipmap-xhdpi/ic_launcher.png
-	-	demos/surface/src/main/res/mipmap-xxhdpi/ic_launcher.png
-	-	demos/surface/src/main/res/mipmap-xxxhdpi/ic_launcher.png
23	0	demos/surface/src/main/res/values/strings.xml
23	0	demos/surface/src/main/res/values/styles.xml
2	0	settings.gradle

commit 18b9304f253b854349933b36c392a3f6b7d4aec4
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-20 21:50:11 +0100

    Call prepare and release from MediaSources
    
    Issue:#4721
    PiperOrigin-RevId: 270342454

2	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
2	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
2	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 7fc9c848c6ff7083d7c9b798dd60061360e21eaa
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-20 21:17:53 +0100

    Add prepare and release to DrmSessionManager
    
    The added methods will manage ExoMediaDrms instances.
    
    Issue:#4721
    PiperOrigin-RevId: 270335916

15	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java

commit 1feb03db2dae0e0a1ed5563e15b4808764cc30f9
Author: olly <olly@google.com>
Date:   2019-09-20 20:37:30 +0100

    Pull HLS audio transition fix into 2.10.5
    
    PiperOrigin-RevId: 270327562

2	2	RELEASENOTES.md

commit 216f74ecc78612d06759c6009d28ef6a6b6ff516
Author: bachinger <bachinger@google.com>
Date:   2019-09-20 19:42:17 +0100

    avoid unexpected state changes with certain playlist states
    
    With the internal playlist some new situation may happen that were not possible before:
    
    - handlePlaylistInfoRefreshed in EPII called in IDLE state
    - handlePlaylistInfoRefreshed in EPII called in ENDED state with an empty playlist
    - seeks in ENDED state with an empty playlist
    
    PiperOrigin-RevId: 270316681

14	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
256	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
21	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
13	5	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
16	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit 67308ec3a67301c2d1392df4c2f2ab5c0271e7e4
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-22 00:07:23 +0100

    Javadoc 2.10.5

2	0	doc/reference/allclasses-frame.html
2	0	doc/reference/allclasses-noframe.html
40	9	doc/reference/com/google/android/exoplayer2/BasePlayer.html
128	228	doc/reference/com/google/android/exoplayer2/C.html
123	3	doc/reference/com/google/android/exoplayer2/DefaultLoadControl.html
3	3	doc/reference/com/google/android/exoplayer2/ExoPlayer.html
22	8	doc/reference/com/google/android/exoplayer2/Format.html
1	1	doc/reference/com/google/android/exoplayer2/Player.DefaultEventListener.html
30	10	doc/reference/com/google/android/exoplayer2/Player.EventListener.html
2	2	doc/reference/com/google/android/exoplayer2/Player.MetadataComponent.html
163	0	doc/reference/com/google/android/exoplayer2/Player.PlaybackSuppressionReason.html
2	2	doc/reference/com/google/android/exoplayer2/Player.RepeatMode.html
135	33	doc/reference/com/google/android/exoplayer2/Player.html
90	60	doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.html
7	0	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsCollector.html
1	1	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
56	28	doc/reference/com/google/android/exoplayer2/ext/cast/CastPlayer.html
26	5	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.html
24	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.html
26	5	doc/reference/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-tree.html
7	0	doc/reference/com/google/android/exoplayer2/extractor/mp4/MdtaMetadataEntry.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
2	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecSelector.html
2	2	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.html
67	4	doc/reference/com/google/android/exoplayer2/metadata/Metadata.Entry.html
19	2	doc/reference/com/google/android/exoplayer2/metadata/Metadata.html
96	4	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessage.html
19	8	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.html
1	2	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoder.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/emsg/package-summary.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/flac/PictureFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/flac/VorbisComment.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyHeaders.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyInfo.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/ApicFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/BinaryFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/ChapterFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/ChapterTocFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/CommentFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/GeobFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/Id3Frame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/InternalFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/MlltFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/PrivFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/TextInformationFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/id3/UrlLinkFrame.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/scte35/PrivateCommand.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceCommand.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceInsertCommand.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceNullCommand.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/scte35/SpliceScheduleCommand.html
7	0	doc/reference/com/google/android/exoplayer2/metadata/scte35/TimeSignalCommand.html
1	0	doc/reference/com/google/android/exoplayer2/package-frame.html
9	2	doc/reference/com/google/android/exoplayer2/package-summary.html
20	19	doc/reference/com/google/android/exoplayer2/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
7	0	doc/reference/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.html
1	1	doc/reference/com/google/android/exoplayer2/text/package-tree.html
6	3	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.AudioTrackScore.html
59	42	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.Parameters.html
210	72	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.ParametersBuilder.html
2	2	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.SelectionOverride.html
336	0	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.TextTrackScore.html
47	51	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.html
2	2	doc/reference/com/google/android/exoplayer2/trackselection/FixedTrackSelection.html
46	11	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.Builder.html
18	0	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.html
1	0	doc/reference/com/google/android/exoplayer2/trackselection/package-frame.html
19	13	doc/reference/com/google/android/exoplayer2/trackselection/package-summary.html
1	0	doc/reference/com/google/android/exoplayer2/trackselection/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/ui/DebugTextViewHelper.html
2	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
13	15	doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.Builder.html
26	5	doc/reference/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.html
4	4	doc/reference/com/google/android/exoplayer2/upstream/DefaultLoadErrorHandlingPolicy.html
20	4	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.html
4	4	doc/reference/com/google/android/exoplayer2/upstream/LoadErrorHandlingPolicy.html
39	7	doc/reference/com/google/android/exoplayer2/upstream/Loader.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
51	75	doc/reference/com/google/android/exoplayer2/util/Util.html
2	2	doc/reference/com/google/android/exoplayer2/util/package-tree.html
209	153	doc/reference/constant-values.html
8	2	doc/reference/deprecated-list.html
182	57	doc/reference/index-all.html
2	0	doc/reference/overview-tree.html

commit bef130ad17f11ab3997548653f2466e50bd6eb27
Merge: 85c10b025 c9fc0da74
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-21 15:37:41 -0700

    Merge pull request #6371 from google/dev-v2-r2.10.5
    
    r2.10.5

commit c9fc0da745a76189e62e0d930104674d4f61b636
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-20 13:56:34 +0100

    When the HLS container format is not packed audio, reset timestmap offset
    
    Issue:#6444
    PiperOrigin-RevId: 270252126

2	0	RELEASENOTES.md
4	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java

commit 47bfa0691ec2cb51d099d1880186ec8271782013
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-20 11:57:40 -0700

    Remove Player.State annotation from 2.10.5

1	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 38d6c31fa7ce2afa17594265b9c901302301f5b9
Author: olly <olly@google.com>
Date:   2019-09-20 18:09:59 +0100

    Add 2.10.5 release date
    
    PiperOrigin-RevId: 270295080

1	1	RELEASENOTES.md

commit d03c1dce0dfd3f3d3f9c588edb4801f1a774fd12
Author: tonihei <tonihei@google.com>
Date:   2019-09-20 16:42:23 +0100

    Add dates to releases in RELEASENOTES.
    
    PiperOrigin-RevId: 270276830

44	44	RELEASENOTES.md

commit d67926ef2bb9f83b7212251daac0fbbabd87f622
Author: olly <olly@google.com>
Date:   2019-09-20 18:11:20 +0100

    Pull focus fix into 2.10.5
    
    PiperOrigin-RevId: 270295428

5	5	RELEASENOTES.md

commit 600b5181a3c3a3642fefa94e39190c52f073b5f7
Author: olly <olly@google.com>
Date:   2019-09-20 18:09:59 +0100

    Add 2.10.5 release date
    
    PiperOrigin-RevId: 270295080

1	1	RELEASENOTES.md

commit ade65860e6e62aeea966c82a4ad08b7b7fad520f
Author: olly <olly@google.com>
Date:   2019-09-20 17:48:33 +0100

    Remove stray line of code (it's duplicated below)
    
    PiperOrigin-RevId: 270289374

0	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit bbb739d1deaadcc5f99f9b50d15e507354ffd9c5
Author: tonihei <tonihei@google.com>
Date:   2019-09-16 11:26:44 +0100

    Fix playback speed in MediaSessionConnector
    
    The playback speed set in MediaSession's PlaybackStateCompat needs to be the
    actual speed at which the playback position progresses and not the user-defined
    target speed.
    
    This fixed a bug where the position advances although the player lost audio
    focus.
    
    Issue:#6203
    PiperOrigin-RevId: 269295249

43	20	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit f8d81d05a48e7e445d2ca4cd42af30c733661304
Author: tonihei <tonihei@google.com>
Date:   2019-09-13 17:38:51 +0100

    Add Player.isPlaying and Player.getPlaybackSuppressionReason
    
    The player may suppress playback when waiting for audio focus even if the
    state==Player.READY. There is currently no getter or callback to obtain this
    piece of information for UI updates or analytics.
    
    Also, it's a important derived state to know whether the playback position is
    advancing. Add isPlaying and the corresponding callback to allow retrieving
    this information more easily.
    
    Issue:#6203
    PiperOrigin-RevId: 268921721

5	0	RELEASENOTES.md
12	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/BasePlayer.java
50	15	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
51	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java
13	2	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
6	0	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit 7fff1dfd9cfb97f01323d9b04a5085b2d8b1108d
Author: olly <olly@google.com>
Date:   2019-09-20 17:48:33 +0100

    Remove stray line of code (it's duplicated below)
    
    PiperOrigin-RevId: 270289374

0	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit b0e2ce40d6646be5a5c36711a3d25c34e8e3ea7c
Author: tonihei <tonihei@google.com>
Date:   2019-09-20 16:42:23 +0100

    Add dates to releases in RELEASENOTES.
    
    PiperOrigin-RevId: 270276830

44	44	RELEASENOTES.md

commit 0a854d6b84417f86fdb59375544ef377ba573b86
Author: olly <olly@google.com>
Date:   2019-09-20 15:11:51 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/dd7223df10e1e72d65a628404a4e851dad44148e
    
    *** Original commit ***
    
    Refactor HlsSampleStreamWrapper#track() to clarify the return paths
    
    I found the original implementation quite hard to follow, and I believe this is functionally identical.
    
    ***
    
    PiperOrigin-RevId: 270263186

36	34	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit e5f9a858d36ea5568d743a5a66b8ea466da2cfe6
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-20 13:56:34 +0100

    When the HLS container format is not packed audio, reset timestmap offset
    
    Issue:#6444
    PiperOrigin-RevId: 270252126

2	0	RELEASENOTES.md
4	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java

commit 0cc0444af81c1f58b2fa9beea724123dfb09889f
Author: tonihei <tonihei@google.com>
Date:   2019-09-20 13:40:49 +0100

    Restructure setup of default values in track selection parameter builders.
    
    PiperOrigin-RevId: 270250456

1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
45	44	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
12	19	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java

commit 6cd530520d79c3598bb25d9ade3487c56f567a67
Author: ibaker <ibaker@google.com>
Date:   2019-09-20 11:51:30 +0100

    Refactor HlsSampleStreamWrapper#track() to clarify the return paths
    
    I found the original implementation quite hard to follow, and I believe this is functionally identical.
    
    PiperOrigin-RevId: 270237641

34	36	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 31b9280e0e035bca84e7d7a3ce96e5cd75f064d7
Author: tonihei <tonihei@google.com>
Date:   2019-09-20 11:13:02 +0100

    Add track selection option to use accessiblity captioning manager settings
    
    This option allows to set the preferred text language and role flags based
    on the user's accessiblity captioning settings.
    
    Issue:#5749
    PiperOrigin-RevId: 270233205

5	0	RELEASENOTES.md
18	5	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
85	6	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java
17	3	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 531c5638a2285ab6e9ea32a7cfd6b8a524059b5d
Author: tonihei <tonihei@google.com>
Date:   2019-09-20 10:29:47 +0100

    Rename DEFAULT_WITHOUT_VIEWPORT to DEFAULT_WITHOUT_CONTEXT.
    
    PiperOrigin-RevId: 270227069

22	7	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
27	10	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit 852c3a53e70ed2e007512b96745447c559eeda12
Author: bachinger <bachinger@google.com>
Date:   2019-09-20 09:45:17 +0100

    copy masked timeline before notifying listeners
    
    PiperOrigin-RevId: 270221478

12	21	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
31	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit a60265b10669fc9f28db4febca0d22e5a512ece0
Author: bachinger <bachinger@google.com>
Date:   2019-09-19 12:09:01 +0100

    enable/disable media source correctly when added to playlist
    
    PiperOrigin-RevId: 270007370

14	4	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java

commit 826fe3ac27644b0718e1732f5babbb624a35eabd
Author: bachinger <bachinger@google.com>
Date:   2019-09-19 11:29:18 +0100

    adjust and extend the documentation around playlist API in the developer guide
    
    PiperOrigin-RevId: 270002330

2	0	RELEASENOTES.md

commit 78ef6c649644490effa4330be3af73eabecb5067
Author: olly <olly@google.com>
Date:   2019-09-18 23:29:54 +0100

    Update release notes
    
    - Fatal error handling fix is now in 2.10.5
    
    PiperOrigin-RevId: 269904669

0	1	RELEASENOTES.md

commit 4349b82dd59e6f75375477a2e9f0867e9cc814d9
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-09-19 15:23:41 +0100

    Add low-latency doc to public design docs.

2	0	design-documents.md

commit 9557868c1819ed773820acb2996994f9a8613ed8
Author: olly <olly@google.com>
Date:   2019-09-18 23:20:26 +0100

    Update release notes
    
    - Remove HTTP/2 Fix note, since the issue is still present
    - Add release note for fatal error handling fix
    
    PiperOrigin-RevId: 269902736

2	2	RELEASENOTES.md

commit 1be1b0abfb8ee65ad0010c281c10db0e79ea0993
Author: olly <olly@google.com>
Date:   2019-09-18 13:17:34 +0100

    Improve old release notes
    
    PiperOrigin-RevId: 269781924

3	3	RELEASENOTES.md

commit 556a9954a8c814f31ccc38398d3a92046d5e9fc4
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-18 13:08:22 +0100

    Avoid retrying fatal errors
    
    Also clear fatal errors on seek operations
    
    PiperOrigin-RevId: 269780886

5	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
13	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java
3	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
3	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 73e35abf27fc39a0ce47e26f7d6e6b96e2b7022f
Author: olly <olly@google.com>
Date:   2019-09-17 17:11:50 +0100

    Bump version to 2.10.5
    
    PiperOrigin-RevId: 269582832

2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit f4f908408b568551ed2b0a083c073bc4c88ad5b8
Author: olly <olly@google.com>
Date:   2019-09-18 23:20:26 +0100

    Update release notes
    
    - Remove HTTP/2 Fix note, since the issue is still present
    - Add release note for fatal error handling fix
    
    PiperOrigin-RevId: 269902736

2	2	RELEASENOTES.md

commit d22794111cae7d68661af4a71097b526d6d9eed3
Author: olly <olly@google.com>
Date:   2019-09-18 13:17:34 +0100

    Improve old release notes
    
    PiperOrigin-RevId: 269781924

3	3	RELEASENOTES.md

commit 9863cd33fa1a85ec8dab2f90f1af69f9bd4f6952
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-18 13:08:22 +0100

    Avoid retrying fatal errors
    
    Also clear fatal errors on seek operations
    
    PiperOrigin-RevId: 269780886

1	0	RELEASENOTES.md
5	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
13	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java
3	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
3	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 3b22db33ba944df6829b1eff328efb0cd25e1678
Author: bachinger <bachinger@google.com>
Date:   2019-09-17 17:20:11 +0100

    add top-level playlist API to ExoPlayer
    
    Public design doc:
    https://docs.google.com/document/d/11h0S91KI5TB3NNZUtsCzg0S7r6nyTnF_tDZZAtmY93g
    
    Issue: #6161
    PiperOrigin-RevId: 269584512

24	28	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
5	6	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
9	6	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakePlayer.java
3	1	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
4	8	library/core/src/main/java/com/google/android/exoplayer2/{source => }/AbstractConcatenatedTimeline.java
138	18	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
9	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
247	56	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
256	108	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
11	13	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
9	20	library/core/src/main/java/com/google/android/exoplayer2/Player.java
698	0	library/core/src/main/java/com/google/android/exoplayer2/Playlist.java
137	42	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
69	0	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
9	8	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
7	5	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
37	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
593	238	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
56	55	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
510	0	library/core/src/test/java/com/google/android/exoplayer2/PlaylistTest.java
140	0	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
64	35	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
231	111	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
105	14	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
62	38	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
83	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java
58	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/TestUtil.java

commit 75b9b11e208dad83c7f41331cd47da0b2bf2994d
Author: olly <olly@google.com>
Date:   2019-09-17 17:11:50 +0100

    Bump version to 2.10.5
    
    PiperOrigin-RevId: 269582832

40	24	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 27e7a319eac0b375e8a0d52c6b5536a40d8b5818
Author: Ian Baker <ibaker@google.com>
Date:   2019-09-18 17:07:42 +0100

    Add 'Unwrapping Nested Metadata' RFC to exoplayer.dev

2	0	design-documents.md

commit 2fca01b925e81cfc29206a9d0dbe48535e6cb049
Author: olly <olly@google.com>
Date:   2019-09-17 09:12:53 +0100

    Make flags contiguous: There's no reason for the gap :)
    
    PiperOrigin-RevId: 269514872

1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java

commit 57370b37ce05750f9e5a51c6f095a96c587d180c
Author: olly <olly@google.com>
Date:   2019-09-17 10:04:44 +0100

    Update translations
    
    PiperOrigin-RevId: 269521864

2	1	library/ui/src/main/res/values-af/strings.xml
2	1	library/ui/src/main/res/values-am/strings.xml
2	1	library/ui/src/main/res/values-ar/strings.xml
2	1	library/ui/src/main/res/values-az/strings.xml
2	1	library/ui/src/main/res/values-b+sr+Latn/strings.xml
2	1	library/ui/src/main/res/values-be/strings.xml
2	1	library/ui/src/main/res/values-bg/strings.xml
2	1	library/ui/src/main/res/values-bn/strings.xml
2	1	library/ui/src/main/res/values-bs/strings.xml
2	1	library/ui/src/main/res/values-ca/strings.xml
2	1	library/ui/src/main/res/values-cs/strings.xml
2	1	library/ui/src/main/res/values-da/strings.xml
2	1	library/ui/src/main/res/values-de/strings.xml
2	1	library/ui/src/main/res/values-el/strings.xml
2	1	library/ui/src/main/res/values-en-rAU/strings.xml
2	1	library/ui/src/main/res/values-en-rGB/strings.xml
2	1	library/ui/src/main/res/values-en-rIN/strings.xml
2	1	library/ui/src/main/res/values-es-rUS/strings.xml
2	1	library/ui/src/main/res/values-es/strings.xml
2	1	library/ui/src/main/res/values-et/strings.xml
2	1	library/ui/src/main/res/values-eu/strings.xml
2	1	library/ui/src/main/res/values-fa/strings.xml
2	1	library/ui/src/main/res/values-fi/strings.xml
2	1	library/ui/src/main/res/values-fr-rCA/strings.xml
2	1	library/ui/src/main/res/values-fr/strings.xml
2	1	library/ui/src/main/res/values-gl/strings.xml
2	1	library/ui/src/main/res/values-gu/strings.xml
2	1	library/ui/src/main/res/values-hi/strings.xml
2	1	library/ui/src/main/res/values-hr/strings.xml
2	1	library/ui/src/main/res/values-hu/strings.xml
2	1	library/ui/src/main/res/values-hy/strings.xml
2	1	library/ui/src/main/res/values-in/strings.xml
2	1	library/ui/src/main/res/values-is/strings.xml
2	1	library/ui/src/main/res/values-it/strings.xml
2	1	library/ui/src/main/res/values-iw/strings.xml
2	1	library/ui/src/main/res/values-ja/strings.xml
2	1	library/ui/src/main/res/values-ka/strings.xml
2	1	library/ui/src/main/res/values-kk/strings.xml
2	1	library/ui/src/main/res/values-km/strings.xml
2	1	library/ui/src/main/res/values-kn/strings.xml
2	1	library/ui/src/main/res/values-ko/strings.xml
2	1	library/ui/src/main/res/values-ky/strings.xml
2	1	library/ui/src/main/res/values-lo/strings.xml
2	1	library/ui/src/main/res/values-lt/strings.xml
2	1	library/ui/src/main/res/values-lv/strings.xml
2	1	library/ui/src/main/res/values-mk/strings.xml
2	1	library/ui/src/main/res/values-ml/strings.xml
2	1	library/ui/src/main/res/values-mn/strings.xml
2	1	library/ui/src/main/res/values-mr/strings.xml
2	1	library/ui/src/main/res/values-ms/strings.xml
2	1	library/ui/src/main/res/values-my/strings.xml
2	1	library/ui/src/main/res/values-nb/strings.xml
2	1	library/ui/src/main/res/values-ne/strings.xml
2	1	library/ui/src/main/res/values-nl/strings.xml
2	1	library/ui/src/main/res/values-pa/strings.xml
2	1	library/ui/src/main/res/values-pl/strings.xml
2	1	library/ui/src/main/res/values-pt-rPT/strings.xml
2	1	library/ui/src/main/res/values-pt/strings.xml
2	1	library/ui/src/main/res/values-ro/strings.xml
2	1	library/ui/src/main/res/values-ru/strings.xml
2	1	library/ui/src/main/res/values-si/strings.xml
2	1	library/ui/src/main/res/values-sk/strings.xml
2	1	library/ui/src/main/res/values-sl/strings.xml
2	1	library/ui/src/main/res/values-sq/strings.xml
2	1	library/ui/src/main/res/values-sr/strings.xml
1	0	library/ui/src/main/res/values-sv/strings.xml
2	1	library/ui/src/main/res/values-sw/strings.xml
2	1	library/ui/src/main/res/values-ta/strings.xml
2	1	library/ui/src/main/res/values-te/strings.xml
2	1	library/ui/src/main/res/values-th/strings.xml
2	1	library/ui/src/main/res/values-tl/strings.xml
2	1	library/ui/src/main/res/values-tr/strings.xml
2	1	library/ui/src/main/res/values-uk/strings.xml
2	1	library/ui/src/main/res/values-ur/strings.xml
3	2	library/ui/src/main/res/values-uz/strings.xml
2	1	library/ui/src/main/res/values-vi/strings.xml
2	1	library/ui/src/main/res/values-zh-rCN/strings.xml
2	1	library/ui/src/main/res/values-zh-rHK/strings.xml
2	1	library/ui/src/main/res/values-zh-rTW/strings.xml
2	1	library/ui/src/main/res/values-zu/strings.xml
14	0	library/ui/src/main/res/values/drawables.xml

commit 32a8625fb7c7efddd6ec165f2c80081dfdc4eff5
Author: bachinger <bachinger@google.com>
Date:   2019-09-11 17:45:32 +0100

    allowing 36 characters for shuffle mode off
    
    PiperOrigin-RevId: 268478545

2	2	library/ui/src/main/res/values/strings.xml

commit cf3cfa1d69e90633bdb5917df3e08cfb415372a2
Author: bachinger <bachinger@google.com>
Date:   2019-09-10 17:12:28 +0100

    allow 33 characters for strings of shuffle on/off
    
    PiperOrigin-RevId: 268238764

2	2	library/ui/src/main/res/values/strings.xml

commit b2aa0ae0877f15581247c7435fee4ec846287e0e
Author: bachinger <bachinger@google.com>
Date:   2019-09-03 10:17:27 +0100

    provide content description for shuffle on/off button
    
    PiperOrigin-RevId: 266884166

12	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
1	1	library/ui/src/main/res/layout/exo_playback_control_view.xml
15	1	library/ui/src/main/res/values-af/strings.xml
15	1	library/ui/src/main/res/values-am/strings.xml
15	1	library/ui/src/main/res/values-ar/strings.xml
15	1	library/ui/src/main/res/values-az/strings.xml
15	1	library/ui/src/main/res/values-b+sr+Latn/strings.xml
15	1	library/ui/src/main/res/values-be/strings.xml
15	1	library/ui/src/main/res/values-bg/strings.xml
15	1	library/ui/src/main/res/values-bn/strings.xml
15	1	library/ui/src/main/res/values-bs/strings.xml
15	1	library/ui/src/main/res/values-ca/strings.xml
15	1	library/ui/src/main/res/values-cs/strings.xml
15	1	library/ui/src/main/res/values-da/strings.xml
15	1	library/ui/src/main/res/values-de/strings.xml
15	1	library/ui/src/main/res/values-el/strings.xml
15	1	library/ui/src/main/res/values-en-rAU/strings.xml
15	1	library/ui/src/main/res/values-en-rGB/strings.xml
15	1	library/ui/src/main/res/values-en-rIN/strings.xml
15	1	library/ui/src/main/res/values-es-rUS/strings.xml
15	1	library/ui/src/main/res/values-es/strings.xml
15	1	library/ui/src/main/res/values-et/strings.xml
15	1	library/ui/src/main/res/values-eu/strings.xml
15	1	library/ui/src/main/res/values-fa/strings.xml
15	1	library/ui/src/main/res/values-fi/strings.xml
15	1	library/ui/src/main/res/values-fr-rCA/strings.xml
15	1	library/ui/src/main/res/values-fr/strings.xml
15	1	library/ui/src/main/res/values-gl/strings.xml
15	1	library/ui/src/main/res/values-gu/strings.xml
15	1	library/ui/src/main/res/values-hi/strings.xml
15	1	library/ui/src/main/res/values-hr/strings.xml
15	1	library/ui/src/main/res/values-hu/strings.xml
15	1	library/ui/src/main/res/values-hy/strings.xml
15	1	library/ui/src/main/res/values-in/strings.xml
15	1	library/ui/src/main/res/values-is/strings.xml
15	1	library/ui/src/main/res/values-it/strings.xml
15	1	library/ui/src/main/res/values-iw/strings.xml
15	1	library/ui/src/main/res/values-ja/strings.xml
15	1	library/ui/src/main/res/values-ka/strings.xml
15	1	library/ui/src/main/res/values-kk/strings.xml
15	1	library/ui/src/main/res/values-km/strings.xml
15	1	library/ui/src/main/res/values-kn/strings.xml
15	1	library/ui/src/main/res/values-ko/strings.xml
15	1	library/ui/src/main/res/values-ky/strings.xml
15	1	library/ui/src/main/res/values-lo/strings.xml
15	1	library/ui/src/main/res/values-lt/strings.xml
15	1	library/ui/src/main/res/values-lv/strings.xml
15	1	library/ui/src/main/res/values-mk/strings.xml
15	1	library/ui/src/main/res/values-ml/strings.xml
15	1	library/ui/src/main/res/values-mn/strings.xml
15	1	library/ui/src/main/res/values-mr/strings.xml
15	1	library/ui/src/main/res/values-ms/strings.xml
15	1	library/ui/src/main/res/values-my/strings.xml
15	1	library/ui/src/main/res/values-nb/strings.xml
15	1	library/ui/src/main/res/values-ne/strings.xml
15	1	library/ui/src/main/res/values-nl/strings.xml
15	1	library/ui/src/main/res/values-pa/strings.xml
15	1	library/ui/src/main/res/values-pl/strings.xml
15	1	library/ui/src/main/res/values-pt-rPT/strings.xml
15	1	library/ui/src/main/res/values-pt/strings.xml
15	1	library/ui/src/main/res/values-ro/strings.xml
15	1	library/ui/src/main/res/values-ru/strings.xml
15	1	library/ui/src/main/res/values-si/strings.xml
15	1	library/ui/src/main/res/values-sk/strings.xml
15	1	library/ui/src/main/res/values-sl/strings.xml
15	1	library/ui/src/main/res/values-sq/strings.xml
15	1	library/ui/src/main/res/values-sr/strings.xml
15	1	library/ui/src/main/res/values-sv/strings.xml
15	1	library/ui/src/main/res/values-sw/strings.xml
15	1	library/ui/src/main/res/values-ta/strings.xml
15	1	library/ui/src/main/res/values-te/strings.xml
15	1	library/ui/src/main/res/values-th/strings.xml
15	1	library/ui/src/main/res/values-tl/strings.xml
15	1	library/ui/src/main/res/values-tr/strings.xml
15	1	library/ui/src/main/res/values-uk/strings.xml
15	1	library/ui/src/main/res/values-ur/strings.xml
15	1	library/ui/src/main/res/values-uz/strings.xml
15	1	library/ui/src/main/res/values-vi/strings.xml
15	1	library/ui/src/main/res/values-zh-rCN/strings.xml
15	1	library/ui/src/main/res/values-zh-rHK/strings.xml
15	1	library/ui/src/main/res/values-zh-rTW/strings.xml
15	1	library/ui/src/main/res/values-zu/strings.xml
4	2	library/ui/src/main/res/values/strings.xml
0	5	library/ui/src/main/res/values/styles.xml

commit 656c97f1224734191c0050ea3635a9932a6025f2
Author: olly <olly@google.com>
Date:   2019-09-17 16:30:31 +0100

    Minor DefaultDrmSessionManager tweaks
    
    PiperOrigin-RevId: 269574864

33	29	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DummyExoMediaDrm.java

commit 5df2f142b4436c22856dfd4e5f1bc7b83fc971dd
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-17 14:17:06 +0100

    Don't retry fatal errors in DefaultDrmSession
    
    Issue:#6334
    PiperOrigin-RevId: 269553308

5	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java

commit b34a10bc1d5296a294aa713664375399a0f21640
Author: olly <olly@google.com>
Date:   2019-09-17 10:04:44 +0100

    Update translations
    
    PiperOrigin-RevId: 269521864

2	1	library/ui/src/main/res/values-af/strings.xml
2	1	library/ui/src/main/res/values-am/strings.xml
2	1	library/ui/src/main/res/values-ar/strings.xml
2	1	library/ui/src/main/res/values-az/strings.xml
2	1	library/ui/src/main/res/values-b+sr+Latn/strings.xml
2	1	library/ui/src/main/res/values-be/strings.xml
2	1	library/ui/src/main/res/values-bg/strings.xml
2	1	library/ui/src/main/res/values-bn/strings.xml
2	1	library/ui/src/main/res/values-bs/strings.xml
2	1	library/ui/src/main/res/values-ca/strings.xml
2	1	library/ui/src/main/res/values-cs/strings.xml
2	1	library/ui/src/main/res/values-da/strings.xml
2	1	library/ui/src/main/res/values-de/strings.xml
2	1	library/ui/src/main/res/values-el/strings.xml
2	1	library/ui/src/main/res/values-en-rAU/strings.xml
2	1	library/ui/src/main/res/values-en-rGB/strings.xml
2	1	library/ui/src/main/res/values-en-rIN/strings.xml
2	1	library/ui/src/main/res/values-es-rUS/strings.xml
2	1	library/ui/src/main/res/values-es/strings.xml
2	1	library/ui/src/main/res/values-et/strings.xml
2	1	library/ui/src/main/res/values-eu/strings.xml
2	1	library/ui/src/main/res/values-fa/strings.xml
2	1	library/ui/src/main/res/values-fi/strings.xml
2	1	library/ui/src/main/res/values-fr-rCA/strings.xml
2	1	library/ui/src/main/res/values-fr/strings.xml
2	1	library/ui/src/main/res/values-gl/strings.xml
2	1	library/ui/src/main/res/values-gu/strings.xml
2	1	library/ui/src/main/res/values-hi/strings.xml
2	1	library/ui/src/main/res/values-hr/strings.xml
2	1	library/ui/src/main/res/values-hu/strings.xml
2	1	library/ui/src/main/res/values-hy/strings.xml
2	1	library/ui/src/main/res/values-in/strings.xml
2	1	library/ui/src/main/res/values-is/strings.xml
2	1	library/ui/src/main/res/values-it/strings.xml
2	1	library/ui/src/main/res/values-iw/strings.xml
2	1	library/ui/src/main/res/values-ja/strings.xml
2	1	library/ui/src/main/res/values-ka/strings.xml
2	1	library/ui/src/main/res/values-kk/strings.xml
2	1	library/ui/src/main/res/values-km/strings.xml
2	1	library/ui/src/main/res/values-kn/strings.xml
2	1	library/ui/src/main/res/values-ko/strings.xml
2	1	library/ui/src/main/res/values-ky/strings.xml
2	1	library/ui/src/main/res/values-lo/strings.xml
2	1	library/ui/src/main/res/values-lt/strings.xml
2	1	library/ui/src/main/res/values-lv/strings.xml
2	1	library/ui/src/main/res/values-mk/strings.xml
2	1	library/ui/src/main/res/values-ml/strings.xml
2	1	library/ui/src/main/res/values-mn/strings.xml
2	1	library/ui/src/main/res/values-mr/strings.xml
2	1	library/ui/src/main/res/values-ms/strings.xml
2	1	library/ui/src/main/res/values-my/strings.xml
2	1	library/ui/src/main/res/values-nb/strings.xml
2	1	library/ui/src/main/res/values-ne/strings.xml
2	1	library/ui/src/main/res/values-nl/strings.xml
2	1	library/ui/src/main/res/values-pa/strings.xml
2	1	library/ui/src/main/res/values-pl/strings.xml
2	1	library/ui/src/main/res/values-pt-rPT/strings.xml
2	1	library/ui/src/main/res/values-pt/strings.xml
2	1	library/ui/src/main/res/values-ro/strings.xml
2	1	library/ui/src/main/res/values-ru/strings.xml
2	1	library/ui/src/main/res/values-si/strings.xml
2	1	library/ui/src/main/res/values-sk/strings.xml
2	1	library/ui/src/main/res/values-sl/strings.xml
2	1	library/ui/src/main/res/values-sq/strings.xml
2	1	library/ui/src/main/res/values-sr/strings.xml
1	0	library/ui/src/main/res/values-sv/strings.xml
2	1	library/ui/src/main/res/values-sw/strings.xml
2	1	library/ui/src/main/res/values-ta/strings.xml
2	1	library/ui/src/main/res/values-te/strings.xml
2	1	library/ui/src/main/res/values-th/strings.xml
2	1	library/ui/src/main/res/values-tl/strings.xml
2	1	library/ui/src/main/res/values-tr/strings.xml
2	1	library/ui/src/main/res/values-uk/strings.xml
2	1	library/ui/src/main/res/values-ur/strings.xml
3	2	library/ui/src/main/res/values-uz/strings.xml
2	1	library/ui/src/main/res/values-vi/strings.xml
2	1	library/ui/src/main/res/values-zh-rCN/strings.xml
2	1	library/ui/src/main/res/values-zh-rHK/strings.xml
2	1	library/ui/src/main/res/values-zh-rTW/strings.xml
2	1	library/ui/src/main/res/values-zu/strings.xml
14	0	library/ui/src/main/res/values/drawables.xml

commit 67e8024d84ab37fb3184d850422c31f2705f2006
Author: olly <olly@google.com>
Date:   2019-09-17 09:12:53 +0100

    Make flags contiguous: There's no reason for the gap :)
    
    PiperOrigin-RevId: 269514872

1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java

commit d3d9e288c8c10ba95042a07bdad2bc9803022c07
Author: olly <olly@google.com>
Date:   2019-09-17 02:01:36 +0100

    Improve ChunkSource.onChunkLoadError documentation
    
    PiperOrigin-RevId: 269463652

4	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSource.java

commit 66ba8d7793a18f50de31abf1887908030bda9c0d
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-08-14 16:37:26 +0100

    Fix propagation of HlsMetadataEntry's in HLS chunkless preparation
    
    PiperOrigin-RevId: 263356275

6	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java

commit 47e405ee113aa6a61b5d7f61c5034c6bcb6fa36e
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-08-14 12:37:44 +0100

    Add a metadata argument to Format factory methods used in HLS
    
    Required for propagation of HlsMetadataEntry's in chunkless preparation.
    
    PiperOrigin-RevId: 263324345

14	2	library/core/src/main/java/com/google/android/exoplayer2/Format.java
2	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
1	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashUtilTest.java
2	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
3	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
3	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java
2	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit b4a2f27cddb69a03370e2805a4abe59b720f759c
Author: ibaker <ibaker@google.com>
Date:   2019-08-14 18:46:12 +0100

    Expand FakeSampleStream to allow specifying a single sample
    
    I removed the buffer.flip() call because it seems incompatible with the way MetadataRenderer deals with the Stream - it calls flip() itself on line 126. Tests fail with flip() here, and pass without it...
    
    PiperOrigin-RevId: 263381799

20	7	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit 70731fe8b1ccffce0b79bdda4daf2a806770539a
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-16 18:24:54 -0700

    Further tweaking of release notes

9	7	RELEASENOTES.md

commit 772b13999a6e976346f705fd63e725a919990097
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-16 18:09:09 -0700

    Tweak release notes

7	4	RELEASENOTES.md

commit 1a4b1e1ea192d6702c536551b8e194473a3b4a54
Author: christosts <christosts@google.com>
Date:   2019-08-23 18:48:14 +0100

    Revert "Add HTTP request parameters (headers) to DataSpec."
    
    This reverts commit c3d6be3afdd7c0ca68dba15e443bc64aa3f61073.

6	54	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
0	128	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSpecTest.java

commit 26e293070e3f55fdb59331c6cf5caf1cadce3210
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-10 17:43:21 +0100

    Merge pull request #6158 from xirac:dev-v2
    
    PiperOrigin-RevId: 268240722

30	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
26	0	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit 560c8c8760cd6f5b085e51030442bce8a4d75ea8
Author: tonihei <tonihei@google.com>
Date:   2019-07-24 11:05:27 +0100

    Simplify and improve text selection logic.
    
    This changes the logic in the following ways:
     - If no preferred language is matched, prefer better scores for the selected
       audio language.
     - If a preferred language is matched, always prefer the better match
       irrespective of default or forced flags.
     - If a preferred language score and the isForced flag is the same, prefer
       tracks with a better selected audio language match.
    
    PiperOrigin-RevId: 259707430

2	0	RELEASENOTES.md
15	20	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit 9bc44977499bf503ad261cd838f76446d4b8ada4
Author: Toni <tonihei@google.com>
Date:   2019-07-24 12:33:37 +0100

    Merge pull request #6178 from xirac:feature/text-track-score
    
    PiperOrigin-RevId: 259707359

144	83	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit 06a374e74b0e9f279c962e3586166b9be84c9044
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-16 17:25:53 -0700

    Clean up release notes

19	18	RELEASENOTES.md

commit 480f73748dda46e586f0b47fc18a61f65dae1262
Author: olly <olly@google.com>
Date:   2019-09-13 13:46:02 +0100

    Upgrade to OkHttp 3.12.5
    
    Issue: #4078
    PiperOrigin-RevId: 268887744

3	1	RELEASENOTES.md
1	1	extensions/okhttp/build.gradle

commit 4eda96dd666a837b402ce5add86ef17592e1a187
Author: bachinger <bachinger@google.com>
Date:   2019-09-12 14:41:47 +0100

    disable seekbar in media style notification for live stream
    
    ISSUE: #6416
    PiperOrigin-RevId: 268673895

3	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 23ddfaa80a3564b7720dc2eab9b83109163c62d6
Author: olly <olly@google.com>
Date:   2019-09-10 17:42:15 +0100

    Add fLaC prefix to FLAC initialization data
    
    The fLaC prefix is included in the initialization data output
    from the MKV extractor, so this is highly likely ot be the
    right thing to do.
    
    Issue: #6397
    PiperOrigin-RevId: 268244365

2	1	RELEASENOTES.md
10	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit b9ffea68314628e6c45e7d09a7ff4ff85e2a4c1f
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-09-06 11:15:33 +0100

    Fix decoder selection for E-AC3 JOC streams
    
    Issue: #6398
    PiperOrigin-RevId: 267563795

2	0	RELEASENOTES.md
5	3	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecSelector.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 72aa150f02e03b89c0b24c1983fd030873330208
Author: tonihei <tonihei@google.com>
Date:   2019-09-06 10:00:53 +0100

    Handle potential timeline updates that switch from content to ad.
    
    We currently don't test if an ad needs to be played in case we are already
    playing content.
    
    This is to prevent recreating the current content period when
    an ad is marked as skipped. We prefer playing until the designated ad group
    position and appending another piece of content. This is less likely to cause
    visible discontinuities in case the ad group position is at a key frame
    boundary.
    
    However, this means we currently miss updates that require us to play an ad
    after a timeline update.
    
    PiperOrigin-RevId: 267553459

10	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 5a516baa7860597ffe5df28f61af05e7bdd817aa
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-09-06 07:54:35 +0100

    Fix init data handling for FLAC in MP4
    
    Issue: #6396
    PiperOrigin-RevId: 267536336

6	4	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit 332afc9f79bc9c2c7320f9e062ea095be32fce94
Author: bachinger <bachinger@google.com>
Date:   2019-09-03 09:49:32 +0100

    move transparency values of buttons to resources to make it accessible for customization
    
    PiperOrigin-RevId: 266880069

10	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
3	0	library/ui/src/main/res/values/constants.xml

commit c3f3b1bfa40674e6f7a6f5ced847ba569231a133
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-02 18:28:20 +0100

    Clarify LoadErrorHandlingPolicy's loadDurationMs javadocs
    
    PiperOrigin-RevId: 266797383

4	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/LoadErrorHandlingPolicy.java

commit c879bbf64cb8ce186491b431f03e90cce3a425d0
Author: bachinger <bachinger@google.com>
Date:   2019-09-02 18:05:18 +0100

    move transparency of shuffle mode off button to bitmap
    
    PiperOrigin-RevId: 266795413

9	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
26	0	library/ui/src/main/res/drawable-anydpi-v21/exo_controls_shuffle_off.xml
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_shuffle.xml => exo_controls_shuffle_on.xml}
-	-	library/ui/src/main/res/drawable-hdpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-ldpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-mdpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xhdpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
1	1	library/ui/src/main/res/values/styles.xml

commit 525d0320a7c213a100feef8695bc469835eed276
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-16 16:56:32 -0700

    Fix exception message
    
    PiperOrigin-RevId: 266790267

2	1	library/core/src/main/java/com/google/android/exoplayer2/util/AtomicFile.java

commit 4712bcfd5324cc8db5f401ea62109b26277a91f9
Author: bachinger <bachinger@google.com>
Date:   2019-09-02 16:05:31 +0100

    use isPlaying to determine which notification action to display in compact view
    
    PiperOrigin-RevId: 266782250

2	0	RELEASENOTES.md
3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 284a672bb325b67a330dda65f1093e7e033719e9
Author: kimvde <kimvde@google.com>
Date:   2019-09-02 13:43:42 +0100

    Bypass sniffing for single extractor
    
    Sniffing is performed in ProgressiveMediaPeriod even if a single
    extractor is provided. Skip it in that case to improve performances.
    
    Issue:#6325
    PiperOrigin-RevId: 266766373

2	0	RELEASENOTES.md
20	13	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit 6ae3e0983a4538e7aea2c797e55e490ddc7846ef
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-16 19:18:41 +0100

    Add default implementations for ExoMediaDrm.Provider
    
    Issue:#4721
    PiperOrigin-RevId: 269378440

22	0	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
28	5	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit 56302731559b25521ae24412a64596415c2ed1d9
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-16 13:56:27 +0100

    Add DummyExoMediaDrm
    
    Allows streamlining the way we handle unsupported DRM. In general, either:
    
    * The device does not support the CDM. For example, phones don't support
      PlayReady.
    * The device does not support the protection scheme. For example, API < 25
      devices do not support AES-CBC.
    
    Currently we handle both cases differently. A dummy ExoMediaDrm will allow
    the existence of dummy DefaultDrmSessionManagers.
    
    PiperOrigin-RevId: 269315687

1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
138	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DummyExoMediaDrm.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java

commit 9face09361e2233dd06ca92e0909ce57c6d10e11
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-16 12:40:05 +0100

    Add ExoMediaDrm.Provider
    
    Allows shared ownership of ExoMediaDrms. Shared ownership will
    allow users to pre-create ExoMediaDrms in their apps, as opposed
    to having the DrmSessionManager create the ExoMediaDrm.
    
    Issue:#4721
    PiperOrigin-RevId: 269305850

24	3	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit c5ceefd6097a84c07159e2293316b7ff9fb7954f
Author: tonihei <tonihei@google.com>
Date:   2019-09-16 11:26:44 +0100

    Fix playback speed in MediaSessionConnector
    
    The playback speed set in MediaSession's PlaybackStateCompat needs to be the
    actual speed at which the playback position progresses and not the user-defined
    target speed.
    
    This fixed a bug where the position advances although the player lost audio
    focus.
    
    Issue:#6203
    PiperOrigin-RevId: 269295249

43	21	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 73654e27dab854fe40204b286bf0ad9afbd88f29
Author: olly <olly@google.com>
Date:   2019-09-14 17:58:15 +0100

    Minor cleanup to Loader documentation
    
    PiperOrigin-RevId: 269092322

3	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java

commit e784d2c507df8e35846f48ef29612362f4d4fa66
Author: tonihei <tonihei@google.com>
Date:   2019-09-13 17:38:51 +0100

    Add Player.isPlaying and Player.getPlaybackSuppressionReason
    
    The player may suppress playback when waiting for audio focus even if the
    state==Player.READY. There is currently no getter or callback to obtain this
    piece of information for UI updates or analytics.
    
    Also, it's a important derived state to know whether the playback position is
    advancing. Add isPlaying and the corresponding callback to allow retrieving
    this information more easily.
    
    Issue:#6203
    PiperOrigin-RevId: 268921721

5	0	RELEASENOTES.md
13	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/BasePlayer.java
50	15	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
51	0	library/core/src/main/java/com/google/android/exoplayer2/Player.java
13	2	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
7	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit d443be2a46fdea3cfcf95e61e95ec7b3a958924f
Author: olly <olly@google.com>
Date:   2019-09-13 14:39:11 +0100

    Clear supplementalData in DecoderInputBuffer.clear
    
    PiperOrigin-RevId: 268894250

13	6	library/core/src/main/java/com/google/android/exoplayer2/decoder/DecoderInputBuffer.java

commit 1d3d92ee4bbf4d39402be9efe4fa21958357a69e
Author: olly <olly@google.com>
Date:   2019-09-13 13:46:02 +0100

    Upgrade to OkHttp 3.12.5
    
    Issue: #4078
    PiperOrigin-RevId: 268887744

3	1	RELEASENOTES.md
5	1	extensions/okhttp/build.gradle

commit 20c66e6a82cc62564521d44a584d8ab0f0224b08
Author: olly <olly@google.com>
Date:   2019-09-13 12:38:16 +0100

    Use Util.toLowerInvariant instead of String.toLowerCase
    
    PiperOrigin-RevId: 268880519

2	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 65748fa8ee43d4a8ade26f46cd13d9e3b42dd63c
Author: tonihei <tonihei@google.com>
Date:   2019-09-12 17:39:59 +0100

    Mark dropped buffers while joining as skipped.
    
    These buffers are intentionally dropped to catch up with the playing audio.
    Mark them as skipped accordingly.
    
    PiperOrigin-RevId: 268703410

23	5	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit dc12982bd103f0d23c4e838a61ccc72083d6958f
Author: tonihei <tonihei@google.com>
Date:   2019-09-12 17:10:14 +0100

    Don't force render first frame when joining.
    
    We currently force render the first frame in all cases. However, when joining
    video to an ongoing playback, there is no defined first frame and we should
    rather drop frames if we are late until we caught up with the audio playback.
    
    PiperOrigin-RevId: 268698093

8	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit f08258e48d5240624283d787e7f34e0b22b4cd22
Author: bachinger <bachinger@google.com>
Date:   2019-09-12 14:41:47 +0100

    disable seekbar in media style notification for live stream
    
    ISSUE: #6416
    PiperOrigin-RevId: 268673895

3	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit e68b96dc784c984dcc02c289dc839713726647d8
Author: tonihei <tonihei@google.com>
Date:   2019-09-12 11:21:44 +0100

    Keep newly assigned window sequence number if queue is still empty.
    
    When the queue is empty, we may still get multiple requests for a window
    sequence number using the same periodUid. We should keep the initially
    assigned number because no window change happened.
    
    PiperOrigin-RevId: 268649009

7	1	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java

commit 62eb84576359587976f26458dd1f6bed31362033
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-11 19:36:16 +0100

    Attempt acquisition of a placeholder session if format.drmInitData is null
    
    Issue:#4867
    PiperOrigin-RevId: 268505056

7	7	library/core/src/main/java/com/google/android/exoplayer2/source/DecryptableSampleQueueReader.java

commit 143d7d6cca549e408ad60ce66aedf4ba933d8a08
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-11 19:04:45 +0100

    Implement acquirePlaceholderSession in DefaultDrmSessionManager
    
    Issue:#4867
    PiperOrigin-RevId: 268497377

59	22	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
10	0	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaCrypto.java
1	11	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit f7e9e185f7eb3ad5aba62cf401254a036253ec67
Author: bachinger <bachinger@google.com>
Date:   2019-09-11 17:45:32 +0100

    allowing 36 characters for shuffle mode off
    
    PiperOrigin-RevId: 268478545

2	2	library/ui/src/main/res/values/strings.xml

commit 82a31eed2fad49a5864fe1bc5a641a39ef64db12
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-11 17:17:31 +0100

    Add a placeholder mode for DefaultDrmSessions
    
    Issue:#4867
    PiperOrigin-RevId: 268473094

10	2	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 0cc1e5143b20fb670e860c286df24bdac87d00d9
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-11 17:15:12 +0100

    Add acquirePlaceholderSession to DrmSessionManager
    
    Issue:#4867
    PiperOrigin-RevId: 268472704

17	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java

commit 890700fa0ffd7461a00c874c818a9d8198108563
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-11 12:35:18 +0100

    Push formatHolder up to the BaseRenderer class
    
    PiperOrigin-RevId: 268431514

10	0	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
2	6	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
2	6	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
2	6	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java
1	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeRenderer.java

commit bbe8c25832d7e12f7d2200557e432866c66cd829
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-11 11:13:06 +0100

    Make minor simplifications in DefaultDrmSession
    
    PiperOrigin-RevId: 268422418

1	6	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java

commit d3a2728a630ef82e6c9f5ce710451af782cc5bef
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-09-13 09:40:11 +0100

    Fix test runner in OEM documentation
    
    Issue:#6418

1	1	oems.md

commit 07066250893914fad7e707fda92ffe88b9c86cb0
Author: olly <olly@google.com>
Date:   2019-09-10 17:42:15 +0100

    Add fLaC prefix to FLAC initialization data
    
    The fLaC prefix is included in the initialization data output
    from the MKV extractor, so this is highly likely ot be the
    right thing to do.
    
    Issue: #6397
    PiperOrigin-RevId: 268244365

10	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit 755b4a25e43af38b99999cba8b3ed644df8bb2b0
Merge: e567f8edd 5f4887173
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-10 17:43:21 +0100

    Merge pull request #6158 from xirac:dev-v2
    
    PiperOrigin-RevId: 268240722

commit e567f8edd0ddb5075a8fccd88abb4171eaa5a25c
Author: bachinger <bachinger@google.com>
Date:   2019-09-10 17:12:28 +0100

    allow 33 characters for strings of shuffle on/off
    
    PiperOrigin-RevId: 268238764

2	2	library/ui/src/main/res/values/strings.xml

commit 070aab7225a5ca7d75c11b06f882e1b8316f11e4
Author: wingyippp <wingyip1988@gmail.com>
Date:   2019-09-10 20:19:51 +0800

    return SeekPoints directly for flacGetSeekPoints JNI method. update the proguard-rules.txt

6	4	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
3	9	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
12	6	extensions/flac/src/main/jni/flac_jni.cc
3	3	extensions/flac/src/main/jni/flac_parser.cc
1	1	extensions/flac/src/main/jni/include/flac_parser.h
10	0	library/core/proguard-rules.txt

commit 73b922ee59fa565a1fabaf5411bdea7ca81ee3fc
Author: kimvde <kimvde@google.com>
Date:   2019-09-09 19:11:02 +0100

    Add capture policy option to AudioAttributes
    
    PiperOrigin-RevId: 268035329

2	0	RELEASENOTES.md
16	0	library/core/src/main/java/com/google/android/exoplayer2/C.java
40	16	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioAttributes.java

commit e21467f653ed5d0bc1cbdeab59d571be9f33630f
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-09-09 13:58:59 +0100

    Fix Dolby Vision fallback to AVC and HEVC
    
    PiperOrigin-RevId: 267979637

1	0	RELEASENOTES.md
4	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
13	4	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtilTest.java

commit 0aba89b60e02e4b0aab9ad518d71d85d71480491
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-06 17:38:30 +0100

    Make live HLS default start position at least 2*target duration from live edge
    
    Issue:#6360
    PiperOrigin-RevId: 267615050

12	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java

commit 5e8f611f06ffdbe3614a1f413dc67343adacf421
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-06 17:24:27 +0100

    Replace pendingFormat with waitingForFirstSampleInFormat in SimpleDecoderVideoRenderer
    
    PiperOrigin-RevId: 267612438

14	14	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit 2866b2b3e4d1f0161a7d7f7b39562b75cae897aa
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-06 13:12:16 +0100

    Make renderers ignore drmInitData if the MediaSource provides a DrmSession
    
    Will allows to use a DrmSession for clear periods.
    
    Issue:#4867
    PiperOrigin-RevId: 267576982

33	0	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
8	26	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
7	26	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
7	26	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit f1ccb47c3b68de20f0ec924f2dc11303ec65375f
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-09-06 11:15:33 +0100

    Fix decoder selection for E-AC3 JOC streams
    
    Issue: #6398
    PiperOrigin-RevId: 267563795

2	0	RELEASENOTES.md
5	3	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecSelector.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 77ed9302510471eb5c9a4e1c199c2071199a9ee6
Author: tonihei <tonihei@google.com>
Date:   2019-09-06 10:19:47 +0100

    Add Timeline.Window.uid.
    
    This allows to uniquely identify a window within a Timeline. The value is set
    correctly for all Window instances, but is not used anywhere yet.
    
    PiperOrigin-RevId: 267556516

1	0	RELEASENOTES.md
1	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimeline.java
20	2	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
12	6	library/core/src/main/java/com/google/android/exoplayer2/source/AbstractConcatenatedTimeline.java
43	22	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/SinglePeriodTimeline.java
1	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java

commit de915bd6a100f7fdea9d2b88b0f5f8814f90fbab
Author: tonihei <tonihei@google.com>
Date:   2019-09-06 10:00:53 +0100

    Handle potential timeline updates that switch from content to ad.
    
    We currently don't test if an ad needs to be played in case we are already
    playing content.
    
    This is to prevent recreating the current content period when
    an ad is marked as skipped. We prefer playing until the designated ad group
    position and appending another piece of content. This is less likely to cause
    visible discontinuities in case the ad group position is at a key frame
    boundary.
    
    However, this means we currently miss updates that require us to play an ad
    after a timeline update.
    
    PiperOrigin-RevId: 267553459

10	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit b77688533bef85c01855edc0530cc05065428ad2
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-09-06 07:54:35 +0100

    Fix init data handling for FLAC in MP4
    
    Issue: #6396
    PiperOrigin-RevId: 267536336

2	0	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit 5f4887173143bc53d069f7e61165141b7d206ea2
Author: Yannick RUI <yannick.rui@netplus.pro>
Date:   2019-09-05 17:31:24 +0200

    Count the number of matches for role flags.
    Select a track with matching role flags even if someone specifies a preferred role flgs without providing a preferred language
    Prefer track without captions or describing music and sound flag when no role flag preference is provided.

18	6	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit 75435b4210c9bf5a3453612f8865906c12f49534
Merge: 33eb49ca0 3198b9efa
Author: Toni <tonihei@google.com>
Date:   2019-09-05 10:56:35 +0100

    Merge pull request #6286 from sr1990:dev-v2
    
    PiperOrigin-RevId: 267323559

commit 33eb49ca0d2fb63663cb3a39791ee943d9cec764
Author: sr1990 <sr1990003@gmail.com>
Date:   2019-08-19 18:07:56 -0700

    Support negative value of the @r attrbute of S in SegmentTimeline element

9	8	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit b4a1d55fe44710e7e835e860232e756652dd8b45
Author: sr1990 <sr1990003@gmail.com>
Date:   2019-08-12 18:18:12 -0700

    Support negative value of the @r attrbute of S in SegmentTimeline element

22	12	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit b57c55619473cc5e52c5df29ca57daebc3c2299b
Author: tonihei <tonihei@google.com>
Date:   2019-09-05 09:41:06 +0100

    Remove deprecated Timeline.getWindow method.
    
    Removing this method requires custom MediaSource implementations to switch
    to the new version. While this breaks the implmentation, it also avoids problems
    with accidentely forwarding to the wrong method or with accidental stack
    overflows when none of the two methods gets implemented.
    
    It's unlikely any callers are affected because this is only the extended version
    with the defaultProjectionPositionUs parameter that no caller except the
    internal player will use.
    
    PiperOrigin-RevId: 267323042

2	11	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
0	6	library/core/src/main/java/com/google/android/exoplayer2/source/ForwardingTimeline.java

commit 40870b87809e1e75f3018fdf1432b8db35b39d13
Author: olly <olly@google.com>
Date:   2019-09-04 20:34:49 +0100

    Prevent audio pops on audio format change. We'd like to switch opus audio bitrates in the middle of playback based on network conditions.
    
    Changing between different bitrates on the same codec should not require decoder initialization.
    
    PiperOrigin-RevId: 267208043

21	8	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java

commit 0e7740f576dfb4379df96cd44ef3eeb862fe1c10
Author: olly <olly@google.com>
Date:   2019-09-04 13:44:11 +0100

    Clear FormatHolder before and after reading from the source.
    
    PiperOrigin-RevId: 267135256

7	0	library/core/src/main/java/com/google/android/exoplayer2/FormatHolder.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeRenderer.java

commit 578398c2977be948000347245cea56db216a573a
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-03 13:55:12 +0100

    Move DefaultLoadErrorHandling creation to DefaultDrmSessionManager
    
    Issue:#6334
    PiperOrigin-RevId: 266910499

4	7	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
21	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 260db03167419a7b94a8946f3388f1f47027cf66
Author: christosts <christosts@google.com>
Date:   2019-09-03 11:48:08 +0100

    Use DataSpec request params in HttpDataSource impls
    
    Include Dataspec.httpRequestHeaders in CronetDataSource,
    and OkHttpDataSource. Updated documentation of
    HttpDataSource.open() to suggest that it should set request
    headers (in decreasing priority) from (1) the passed DataSpec,
    (2) parameters set with setRequestProperty() and (3) default
    parameters set in the HttpDataSource.Factory. No mechanism
    has been put in place to enforce this.
    
    PiperOrigin-RevId: 266895574

4	0	RELEASENOTES.md
15	12	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
75	7	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceTest.java
2	0	extensions/okhttp/build.gradle
18	6	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
20	0	extensions/okhttp/src/test/AndroidManifest.xml
128	0	extensions/okhttp/src/test/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSourceTest.java
11	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/HttpDataSource.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSourceTest.java

commit a12c6641d9a3c49a6d36ab89da7ac6888aedcfa6
Author: bachinger <bachinger@google.com>
Date:   2019-09-03 10:17:27 +0100

    provide content description for shuffle on/off button
    
    PiperOrigin-RevId: 266884166

12	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
1	1	library/ui/src/main/res/layout/exo_playback_control_view.xml
15	1	library/ui/src/main/res/values-af/strings.xml
15	1	library/ui/src/main/res/values-am/strings.xml
15	1	library/ui/src/main/res/values-ar/strings.xml
15	1	library/ui/src/main/res/values-az/strings.xml
15	1	library/ui/src/main/res/values-b+sr+Latn/strings.xml
15	1	library/ui/src/main/res/values-be/strings.xml
15	1	library/ui/src/main/res/values-bg/strings.xml
15	1	library/ui/src/main/res/values-bn/strings.xml
15	1	library/ui/src/main/res/values-bs/strings.xml
15	1	library/ui/src/main/res/values-ca/strings.xml
15	1	library/ui/src/main/res/values-cs/strings.xml
15	1	library/ui/src/main/res/values-da/strings.xml
15	1	library/ui/src/main/res/values-de/strings.xml
15	1	library/ui/src/main/res/values-el/strings.xml
15	1	library/ui/src/main/res/values-en-rAU/strings.xml
15	1	library/ui/src/main/res/values-en-rGB/strings.xml
15	1	library/ui/src/main/res/values-en-rIN/strings.xml
15	1	library/ui/src/main/res/values-es-rUS/strings.xml
15	1	library/ui/src/main/res/values-es/strings.xml
15	1	library/ui/src/main/res/values-et/strings.xml
15	1	library/ui/src/main/res/values-eu/strings.xml
15	1	library/ui/src/main/res/values-fa/strings.xml
15	1	library/ui/src/main/res/values-fi/strings.xml
15	1	library/ui/src/main/res/values-fr-rCA/strings.xml
15	1	library/ui/src/main/res/values-fr/strings.xml
15	1	library/ui/src/main/res/values-gl/strings.xml
15	1	library/ui/src/main/res/values-gu/strings.xml
15	1	library/ui/src/main/res/values-hi/strings.xml
15	1	library/ui/src/main/res/values-hr/strings.xml
15	1	library/ui/src/main/res/values-hu/strings.xml
15	1	library/ui/src/main/res/values-hy/strings.xml
15	1	library/ui/src/main/res/values-in/strings.xml
15	1	library/ui/src/main/res/values-is/strings.xml
15	1	library/ui/src/main/res/values-it/strings.xml
15	1	library/ui/src/main/res/values-iw/strings.xml
15	1	library/ui/src/main/res/values-ja/strings.xml
15	1	library/ui/src/main/res/values-ka/strings.xml
15	1	library/ui/src/main/res/values-kk/strings.xml
15	1	library/ui/src/main/res/values-km/strings.xml
15	1	library/ui/src/main/res/values-kn/strings.xml
15	1	library/ui/src/main/res/values-ko/strings.xml
15	1	library/ui/src/main/res/values-ky/strings.xml
15	1	library/ui/src/main/res/values-lo/strings.xml
15	1	library/ui/src/main/res/values-lt/strings.xml
15	1	library/ui/src/main/res/values-lv/strings.xml
15	1	library/ui/src/main/res/values-mk/strings.xml
15	1	library/ui/src/main/res/values-ml/strings.xml
15	1	library/ui/src/main/res/values-mn/strings.xml
15	1	library/ui/src/main/res/values-mr/strings.xml
15	1	library/ui/src/main/res/values-ms/strings.xml
15	1	library/ui/src/main/res/values-my/strings.xml
15	1	library/ui/src/main/res/values-nb/strings.xml
15	1	library/ui/src/main/res/values-ne/strings.xml
15	1	library/ui/src/main/res/values-nl/strings.xml
15	1	library/ui/src/main/res/values-pa/strings.xml
15	1	library/ui/src/main/res/values-pl/strings.xml
15	1	library/ui/src/main/res/values-pt-rPT/strings.xml
15	1	library/ui/src/main/res/values-pt/strings.xml
15	1	library/ui/src/main/res/values-ro/strings.xml
15	1	library/ui/src/main/res/values-ru/strings.xml
15	1	library/ui/src/main/res/values-si/strings.xml
15	1	library/ui/src/main/res/values-sk/strings.xml
15	1	library/ui/src/main/res/values-sl/strings.xml
15	1	library/ui/src/main/res/values-sq/strings.xml
15	1	library/ui/src/main/res/values-sr/strings.xml
15	1	library/ui/src/main/res/values-sv/strings.xml
15	1	library/ui/src/main/res/values-sw/strings.xml
15	1	library/ui/src/main/res/values-ta/strings.xml
15	1	library/ui/src/main/res/values-te/strings.xml
15	1	library/ui/src/main/res/values-th/strings.xml
15	1	library/ui/src/main/res/values-tl/strings.xml
15	1	library/ui/src/main/res/values-tr/strings.xml
15	1	library/ui/src/main/res/values-uk/strings.xml
15	1	library/ui/src/main/res/values-ur/strings.xml
15	1	library/ui/src/main/res/values-uz/strings.xml
15	1	library/ui/src/main/res/values-vi/strings.xml
15	1	library/ui/src/main/res/values-zh-rCN/strings.xml
15	1	library/ui/src/main/res/values-zh-rHK/strings.xml
15	1	library/ui/src/main/res/values-zh-rTW/strings.xml
15	1	library/ui/src/main/res/values-zu/strings.xml
4	2	library/ui/src/main/res/values/strings.xml
0	5	library/ui/src/main/res/values/styles.xml

commit e4eb6b7ea90cf273591f47a9ed19f2439d74a8f7
Author: bachinger <bachinger@google.com>
Date:   2019-09-03 09:49:32 +0100

    move transparency values of buttons to resources to make it accessible for customization
    
    PiperOrigin-RevId: 266880069

10	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
3	0	library/ui/src/main/res/values/constants.xml

commit 64829a0373b73870f52549ede17197abfa860b72
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-02 21:29:09 +0100

    Calculate loadDurationMs in DefaultDrmSession key and provisioning requests
    
    PiperOrigin-RevId: 266812110

47	28	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java

commit 52edbaa9a327abe285a47b6fa6ed452188d1d7c2
Author: olly <olly@google.com>
Date:   2019-09-02 19:51:17 +0100

    Update cronet and workmanager dependencies
    
    PiperOrigin-RevId: 266803888

1	1	extensions/cronet/build.gradle
1	1	extensions/workmanager/build.gradle

commit bb89f69bbbe3595dcd7f494648b9b705e9f618a1
Author: olly <olly@google.com>
Date:   2019-09-02 19:44:54 +0100

    Migrate extensions to androidx.collection
    
    PiperOrigin-RevId: 266803466

1	0	constants.gradle

commit 0dc997103b5c4fe37bf2f87072ee8c538da6ed1c
Author: olly <olly@google.com>
Date:   2019-09-02 19:31:28 +0100

    Use constant to define androidx media version
    
    PiperOrigin-RevId: 266802551

1	0	constants.gradle
1	1	extensions/mediasession/build.gradle
1	1	library/ui/build.gradle

commit a564c8011fc7e53dcc875c48a991bee94eef2ef4
Author: olly <olly@google.com>
Date:   2019-09-02 19:29:36 +0100

    Remove seemingly unused dependency
    
    PiperOrigin-RevId: 266802447

0	1	demos/cast/build.gradle

commit 2d0b10a73a511ed38f1e48d51caf8feaf7065286
Author: olly <olly@google.com>
Date:   2019-09-02 19:19:00 +0100

    Use constant to define androidx annotation version
    
    PiperOrigin-RevId: 266801762

2	1	constants.gradle
1	1	demos/gvr/build.gradle
1	1	demos/ima/build.gradle
1	1	demos/main/build.gradle
1	1	extensions/cast/build.gradle
1	1	extensions/cronet/build.gradle
1	1	extensions/ffmpeg/build.gradle
2	2	extensions/flac/build.gradle
1	1	extensions/gvr/build.gradle
1	1	extensions/ima/build.gradle
1	1	extensions/leanback/build.gradle
1	1	extensions/okhttp/build.gradle
3	3	extensions/opus/build.gradle
1	1	extensions/rtmp/build.gradle
3	3	extensions/vp9/build.gradle
5	5	library/core/build.gradle
1	1	library/dash/build.gradle
1	1	library/hls/build.gradle
1	1	library/smoothstreaming/build.gradle
1	1	library/ui/build.gradle
3	3	playbacktests/build.gradle
3	3	testutils/build.gradle

commit d37c18abfe6cbfc869a91e71f7bff7add9a68128
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-02 18:28:20 +0100

    Clarify LoadErrorHandlingPolicy's loadDurationMs javadocs
    
    PiperOrigin-RevId: 266797383

4	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/LoadErrorHandlingPolicy.java

commit d2c056eb91614aecca00345380ffa308195069ba
Author: bachinger <bachinger@google.com>
Date:   2019-09-02 18:05:18 +0100

    move transparency of shuffle mode off button to bitmap
    
    PiperOrigin-RevId: 266795413

9	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
26	0	library/ui/src/main/res/drawable-anydpi-v21/exo_controls_shuffle_off.xml
0	0	library/ui/src/main/res/drawable-anydpi-v21/{exo_controls_shuffle.xml => exo_controls_shuffle_on.xml}
-	-	library/ui/src/main/res/drawable-hdpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-hdpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-ldpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-ldpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-mdpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-mdpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xhdpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-xhdpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
-	-	library/ui/src/main/res/drawable-xxhdpi/exo_controls_shuffle_off.png
-	-	library/ui/src/main/res/drawable-xxhdpi/{exo_controls_shuffle.png => exo_controls_shuffle_on.png}
1	1	library/ui/src/main/res/values/styles.xml

commit bcd7de5316ff4625edd4c80f97b29d6c89d4d1bc
Author: olly <olly@google.com>
Date:   2019-09-02 17:13:57 +0100

    Fix exception message
    
    PiperOrigin-RevId: 266790267

2	1	library/core/src/main/java/com/google/android/exoplayer2/util/AtomicFile.java

commit eedf50fdcad5263fa3509db2fc702f79b88f0810
Author: bachinger <bachinger@google.com>
Date:   2019-09-02 16:05:31 +0100

    use isPlaying to determine which notification action to display in compact view
    
    PiperOrigin-RevId: 266782250

3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 494b6f6f3bcc854ab4d224c426b5d6b3546623e8
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-09-02 14:35:44 +0100

    Re-use local variable in replacement of unnecessary indirections
    
    PiperOrigin-RevId: 266772364

3	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 82d10e2ea8baf001679140e75acc773ec63b5edc
Author: kimvde <kimvde@google.com>
Date:   2019-09-02 13:43:42 +0100

    Bypass sniffing for single extractor
    
    Sniffing is performed in ProgressiveMediaPeriod even if a single
    extractor is provided. Skip it in that case to improve performances.
    
    Issue:#6325
    PiperOrigin-RevId: 266766373

2	0	RELEASENOTES.md
20	13	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit aff9e731b253a8ad65f06f5b6aa62944d2c4af4c
Author: tonihei <tonihei@google.com>
Date:   2019-09-02 11:46:14 +0100

    Move DefaultHttpDataSource request header explanation to class Javadoc.
    
    The Javadoc for open() won't be read by anyone because it's an overridden method
    of the interface and not called directly from application code.
    
    Move doc to class documentation as this is a generic explanation about the
    functionality of the class. Also added "all" to clarify that all the parameters
    will be added and the order of preference just applies in case of key clashes.
    
    PiperOrigin-RevId: 266753249

4	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java

commit d9042a2985c2b7cb3e84bcd6192ed7d91ceadee7
Author: tonihei <tonihei@google.com>
Date:   2019-09-02 10:53:18 +0100

    Move effectively private method further down.
    
    @VisibleForTesting sets the actual visiblity to private (except for tests),
    so the method should be further down in code.
    
    PiperOrigin-RevId: 266746628

6	7	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java

commit 33ef4184e8dbc9e6aa818670f11aa76706b1e458
Author: tonihei <tonihei@google.com>
Date:   2019-09-02 10:15:12 +0100

    Publish test utils modules as release artificats.
    
    This allows external users to easily write unit tests involving ExoPlayer
    instances.
    
    Issue:#6267
    PiperOrigin-RevId: 266741790

2	0	RELEASENOTES.md
10	0	testutils/README.md
11	0	testutils/build.gradle
3	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java

commit 31f53bb5a8cc92df44e192aa6e74ab7c84c71873
Merge: 49a971e1c 03543ec7b
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-04 14:00:56 +0100

    Merge pull request #6387 from root-ansh/patch-2
    
    updated function name from issue  #6385

commit 03543ec7bfedfdd6999caedce2a0ba4e67f7183e
Merge: 475f0a2f4 49a971e1c
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-04 14:00:24 +0100

    Merge branch 'gh-pages' into patch-2

commit 49a971e1c312a39c642c5150b847a2ef47b02d63
Merge: 04eb8f3c0 c86b17860
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-04 13:59:38 +0100

    Merge pull request #6386 from root-ansh/patch-1
    
    update function name highlighted in issue #6385

commit 475f0a2f4ff7b50a858f4f390fee077627c56405
Author: Ansh Sachdeva <anshsachdevaprofessional@gmail.com>
Date:   2019-09-04 18:06:14 +0530

    updated function name
    
    `setId3Output` to `addMetadataOutput`

1	1	hello-world.md

commit c86b178607a836241088bcd80e550410e11af85f
Author: Ansh Sachdeva <anshsachdevaprofessional@gmail.com>
Date:   2019-09-04 17:54:05 +0530

    update function name highlighted in issue #6385

1	1	hello-world.md

commit d9529479fac6e91a002b215d71027159ffa25cda
Author: wingyippp <wingyip1988@gmail.com>
Date:   2019-09-04 00:32:16 +0800

    get 2 SeekPoints from the getSeekPosition() in flac_parser

2	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
8	3	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
6	2	extensions/flac/src/main/jni/flac_jni.cc
19	4	extensions/flac/src/main/jni/flac_parser.cc
1	1	extensions/flac/src/main/jni/include/flac_parser.h

commit fe422dbde4b97cf00439010758567be2c0904d20
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-01 22:02:38 +0100

    Merge pull request #6303 from ittiam-systems:rtmp-3.1.0
    
    PiperOrigin-RevId: 266407058

5	0	RELEASENOTES.md

commit f05d67b7c794ce96e5e89aee2d901a1908dd0250
Author: olly <olly@google.com>
Date:   2019-08-30 17:35:29 +0100

    Simplify androidTest manifests & fix links to use https
    
    PiperOrigin-RevId: 266396506

1	1	extensions/flac/src/androidTest/AndroidManifest.xml
1	1	extensions/opus/src/androidTest/AndroidManifest.xml
1	1	extensions/vp9/src/androidTest/AndroidManifest.xml
1	1	library/core/src/androidTest/AndroidManifest.xml
1	1	playbacktests/src/androidTest/AndroidManifest.xml

commit 407dbf075eeddda4c51b9bf84ac8d2a6129eafcf
Author: olly <olly@google.com>
Date:   2019-08-29 21:41:19 +0100

    Add HttpDataSource.getResponseCode to provide the status code associated with the most recent HTTP response.
    
    PiperOrigin-RevId: 266218104

2	0	RELEASENOTES.md
7	0	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
5	0	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/HttpDataSource.java

commit ad699b8ff665b013ea3181662ecfc8f334635a91
Author: olly <olly@google.com>
Date:   2019-08-27 13:28:07 +0100

    seenCacheError should be set for all errors
    
    PiperOrigin-RevId: 265662686

6	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java

commit c3d6be3afdd7c0ca68dba15e443bc64aa3f61073
Author: christosts <christosts@google.com>
Date:   2019-08-23 18:48:14 +0100

    Add HTTP request parameters (headers) to DataSpec.
    
    Adds HTTP request parameters in DataSpec. Keeps DataSpec behavior to be immutable as before.
    
    PiperOrigin-RevId: 265087782

54	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
128	0	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSpecTest.java

commit 46bf710cb34a5c4491ca4d8578cdc2915813df67
Author: tonihei <tonihei@google.com>
Date:   2019-08-23 16:57:14 +0100

    Do not compare bitrates of audio tracks with different languages.
    
    The last selection criteria is the audio bitrate to prefer higher-quality
    streams. We shouldn't apply this criterium though if the languages of the
    tracks are different.
    
    Issue:#6335
    PiperOrigin-RevId: 265064756

2	0	RELEASENOTES.md
7	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
68	23	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit 0085a7e761130b6a00d17546463e7e8c67fd0669
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-23 16:16:07 +0100

    Defer adsManager.init until the timeline has loaded
    
    If the app seeks after we get an ads manager but before the player exposes the
    timeline with ads, we would end up expecting to play a preroll even after the
    seek request arrived. This caused the player to get stuck.
    
    Wait until a non-empty timeline has been exposed via onTimelineChanged before
    initializing IMA (at which point it can start polling the player position). Seek
    requests are not handled while an ad is playing.
    
    PiperOrigin-RevId: 265058325

12	8	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java
2	1	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java

commit 7cefb56eda56d285d6b4cc8a3c96475f9a18487b
Author: olly <olly@google.com>
Date:   2019-08-23 09:57:26 +0100

    Update comment to indicate correct int value of "FLAG_ALLOW_CACHE_FRAGMENTATION" in ExoPlayer2 upstream DataSpec
    
    Currently the value of FLAG_ALLOW_CACHE_FRAGMENTATION is defined as "1 << 4" but commented as "8". Either the value of FLAG_ALLOW_CACHE_FRAGMENTATION should be "1 << 3", or the comment should be 16. Here I am modifying the comment since it does not affect any current behavior.
    
    PiperOrigin-RevId: 265011839

1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java

commit 886fe910a88ec32997472fbec3248d558a52a47c
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-22 08:44:39 +0100

    Avoid potential ArrayStoreException with audio processors
    
    The app is able to pass a more specialized array type, so the Arrays.copyOf call
    produces an array into which it's not valid to store arbitrary AudioProcessors.
    
    Create a new array and copy into it to avoid this problem.
    
    PiperOrigin-RevId: 264779164

9	2	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
7	0	library/core/src/test/java/com/google/android/exoplayer2/audio/DefaultAudioSinkTest.java

commit 9e3bee89e1f1a67f189d81b718df7dfc86541dfb
Author: tonihei <tonihei@google.com>
Date:   2019-08-21 15:22:47 +0100

    Prevent NPE in ImaAdsLoader onPositionDiscontinuity.
    
    Any seek before the first timeline becomes available will result in a NPE.
    Change it to handle that case gracefully.
    
    Issue:#5831
    PiperOrigin-RevId: 264603061

4	4	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit 5b2b21da86684d78d22c2eaf4be689b06691c6c7
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-20 08:40:44 +0100

    Fix handling of delayed AdsLoader.start
    
    AdsMediaSource posts AdsLoader.start to the main thread during preparation, but
    the app may call AdsLoader.setPlayer(null) before it actually runs (e.g., if
    initializing then quickly backgrounding the player).
    
    This is valid usage of the API so handle this case instead of asserting. Because
    not calling setPlayer at all is a pitfall of the API, track whether setPlayer
    has been called and still assert that in AdsLoader.start.
    
    PiperOrigin-RevId: 264329632

10	2	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit c60b355f9c508ee5fa85f4169f45d38aed4ea27e
Author: ibaker <ibaker@google.com>
Date:   2019-08-19 12:03:55 +0100

    Add support for the AOM scheme_id for ID3-in-EMSG
    
    https://developer.apple.com/documentation/http_live_streaming/about_the_common_media_application_format_with_http_live_streaming
    
    PiperOrigin-RevId: 264126140

14	6	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java

commit 47e0580d80bd9276aa2d377bb0672982921a1c3a
Author: ibaker <ibaker@google.com>
Date:   2019-08-16 15:40:43 +0100

    Unwrap SCTE-35 messages in emsg boxes
    
    PiperOrigin-RevId: 263768428

20	5	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java
42	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java

commit d3d192e36e8644086c6243b56dfbbd9aec34a95b
Author: ibaker <ibaker@google.com>
Date:   2019-08-16 15:39:57 +0100

    Extend EventMessage.toString to include durationMs
    
    This field is used in .equals(), so it makes sense to include it in toString() too.
    
    PiperOrigin-RevId: 263768329

8	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java

commit 9ec346a2e181360bacef4903a1ed33c2d2a340d6
Author: ibaker <ibaker@google.com>
Date:   2019-08-16 15:31:05 +0100

    Modify EventMessageDecoder to return null if decoding fails (currently throws exceptions)
    
    This matches the documentation on MetadataDecoder.decode:
    "@return The decoded metadata object, or null if the metadata could not be decoded."
    
    PiperOrigin-RevId: 263767144

20	9	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
14	6	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
3	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java

commit 08bb42ddc5bea8e6193f54024b90a5ce386a373a
Author: Venkatarama NG. Avadhani <venkatarama.avadhani@ittiam.com>
Date:   2019-08-16 10:37:48 +0530

    Upgrade librtmp-client to 3.1.0

1	1	extensions/rtmp/build.gradle

commit 5100e67c831a279122bf03eb37b153a186dc6e41
Author: ibaker <ibaker@google.com>
Date:   2019-08-15 12:09:48 +0100

    Support unwrapping nested Metadata messages in MetadataRenderer
    
    Initially this supports ID3-in-EMSG, but can also be used to support SCTE35-in-EMSG too.
    
    PiperOrigin-RevId: 263535925

22	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/Metadata.java
42	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
22	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java
153	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java

commit 2de1a204e2be4918210052224f5b86dbed87f06b
Author: ibaker <ibaker@google.com>
Date:   2019-08-14 14:13:32 +0100

    Add Metadata.toString that prints the contents of `entries`
    
    entries are used in .equals(), so it's good to have them printed in toString() too (for test failures) and it makes logging easier too.
    
    PiperOrigin-RevId: 263335503

5	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/Metadata.java

commit dcac4aa67f250dfaedf2a52fc808bd2d9e760cba
Author: ibaker <ibaker@google.com>
Date:   2019-08-14 14:12:51 +0100

    Add description to TextInformationFrame.toString() output
    
    This field is used in .equals(), we should print it in toString() too
    
    PiperOrigin-RevId: 263335432

1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/TextInformationFrame.java

commit 90b62c67fbf29bff2406d16979539da4ec126166
Author: tonihei <tonihei@google.com>
Date:   2019-08-14 13:09:21 +0100

    Change default video buffer size to 32MB.
    
    The current max video buffer is 13MB which is too small for high quality
    streams and doesn't allow the DefaultLoadControl to buffer up to its default
    max buffer time of 50 seconds.
    
    Also move util method and constants only used by DefaultLoadControl into this
    class.
    
    PiperOrigin-RevId: 263328088

2	0	RELEASENOTES.md
0	19	library/core/src/main/java/com/google/android/exoplayer2/C.java
41	1	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
0	29	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit a381cbf5362c2a2e44c52c36a0330a0c29758f97
Author: tonihei <tonihei@google.com>
Date:   2019-08-12 10:43:26 +0100

    Make reset on network change the default.
    
    PiperOrigin-RevId: 262886490

1	0	RELEASENOTES.md
3	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java

commit 4656196daeb223ff3b64335ef3268c52c6539b26
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-09 08:33:42 +0100

    Upgrade IMA dependency version
    
    PiperOrigin-RevId: 262511088

1	1	extensions/ima/build.gradle

commit 921ff02c90a1c43477bb234058c83da37174b67a
Author: olly <olly@google.com>
Date:   2019-08-08 16:56:57 +0100

    Only read from FormatHolder when a format has been read
    
    I think we need to start clearing the holder as part of the
    DRM rework. When we do this, it'll only be valid to read
    from the holder immediately after it's been populated.
    
    PiperOrigin-RevId: 262362725

1	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java

commit a08b537e8eefcc04747c5810344d3080988d2a1a
Author: ibaker <ibaker@google.com>
Date:   2019-08-07 15:56:25 +0100

    Simplify EventMessageEncoder/Decoder serialization
    
    We're no longer tied to the emsg spec, so we can skip unused fields
    and assume ms for duration.
    
    Also remove @Nullable annotation from EventMessageEncoder#encode, it
    seems the current implementation never returns null
    
    PiperOrigin-RevId: 262135009

1	14	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
0	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoder.java
11	8	library/core/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoderTest.java
28	41	library/core/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoderTest.java

commit bb6b0e1a5aff65742e779817fc41a08757894361
Author: ibaker <ibaker@google.com>
Date:   2019-08-07 14:18:22 +0100

    Expose a method on EventMessageDecoder that returns EventMessage directly
    
    PiperOrigin-RevId: 262121134

7	3	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java

commit acdb19e99d119110af4d062f1e3431198ca6fa41
Author: tonihei <tonihei@google.com>
Date:   2019-08-07 11:36:41 +0100

    Clean up documentation of DefaultTrackSelector.ParametersBuilder.
    
    We don't usually refer to other classes when documenting method parameters
    but rather duplicate the actual definition.
    
    PiperOrigin-RevId: 262102714

95	36	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
14	6	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java

commit c4ac166f2f89173b756ec6c386a996e531bd5b49
Author: tonihei <tonihei@google.com>
Date:   2019-08-06 17:28:15 +0100

    Add allowAudioMixedChannelCountAdaptiveness parameter to DefaultTrackSelector.
    
    We already allow mixed mime type and mixed sample rate adaptation on request,
    so for completeness, we can also allow mixed channel count adaptation.
    
    Issue:#6257
    PiperOrigin-RevId: 261930046

7	0	RELEASENOTES.md
46	9	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit 9f486336beda728b8e90324559b316e0eeebede9
Author: ibaker <ibaker@google.com>
Date:   2019-08-06 11:16:40 +0100

    Migrate literal usages of 1000 to (new) C.MILLIS_PER_SECOND
    
    This only covers calls to scaleLargeTimestamp()
    
    PiperOrigin-RevId: 261878019

6	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit 97183ef55866170807910cd626264d82d41d46d4
Author: ibaker <ibaker@google.com>
Date:   2019-08-06 11:16:02 +0100

    Add inband emsg-v1 support to FragmentedMp4Extractor
    
    This also decouples EventMessageEncoder's serialization schema from the emesg spec (it happens to still match the emsg-v0 spec, but this is no longer required).
    
    PiperOrigin-RevId: 261877918

4	3	library/core/src/main/java/com/google/android/exoplayer2/C.java
61	31	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
1	7	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java

commit a02237de20a88db91258d150a29939483ccefdf9
Author: olly <olly@google.com>
Date:   2019-09-01 21:52:02 +0100

    Fix imports
    
    PiperOrigin-RevId: 266676413

2	2	demos/cast/build.gradle
9	9	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/MainActivity.java
1	1	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/PlayerActivity.java
0	2	demos/main/build.gradle
1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
3	3	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
2	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java
6	6	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java
1	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimeline.java
1	1	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
3	3	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.java
1	1	extensions/ima/build.gradle
2	2	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java
1	1	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
1	1	extensions/leanback/src/main/java/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.java
3	3	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
1	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/RepeatModeActionProvider.java
2	2	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.java
1	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.java
1	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
1	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
1	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxVideoSurfaceView.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/C.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/Player.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManager.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStats.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmInitData.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/HttpMediaDrmCallback.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/WidevineUtil.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/LatmReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/TsExtractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdsLoader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkExtractorWrapper.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/CaptionStyleCompat.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea708Cue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlNode.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlStyle.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/CssParser.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCssStyle.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParser.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/BufferSizeAdaptationBuilder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/MappingTrackSelector.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSchemeDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/HttpDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/RawResourceDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/Assertions.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/CodecSpecificDataUtil.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/Log.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/UriUtil.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/DummySurface.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoFrameReleaseTimeHelper.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoRendererEventListener.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndexTest.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
1	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/AspectRatioFrameLayout.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java
3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/SimpleExoPlayerView.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/TimeBar.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/TrackSelectionDialogBuilder.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/TrackSelectionView.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/CanvasRenderer.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/GlViewGroup.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/OrientationListener.java
4	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SphericalSurfaceView.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/TouchTracker.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.java

commit 51ed8ead6dbe19f2bbe5a12602c2ae9e551bc616
Merge: d720d2c3f 674771447
Author: Oliver Woodman <olly@google.com>
Date:   2019-09-01 22:02:38 +0100

    Merge pull request #6303 from ittiam-systems:rtmp-3.1.0
    
    PiperOrigin-RevId: 266407058

commit d720d2c3f6d8cfb94c50a3b2ed1bef9e00cda274
Author: olly <olly@google.com>
Date:   2019-08-30 17:35:29 +0100

    Simplify androidTest manifests & fix links to use https
    
    PiperOrigin-RevId: 266396506

1	1	extensions/flac/src/androidTest/AndroidManifest.xml
1	1	extensions/opus/src/androidTest/AndroidManifest.xml
1	1	extensions/vp9/src/androidTest/AndroidManifest.xml
1	1	library/core/src/androidTest/AndroidManifest.xml
1	1	playbacktests/src/androidTest/AndroidManifest.xml

commit 967abdf0f5f749cb80731fad412032ab33c3c0bb
Author: christosts <christosts@google.com>
Date:   2019-08-30 12:19:09 +0100

    Use DataSpec request params in DefaultHttpDataSource
    
    DefaultHttpDataSource.open() also includes the request parameters that
    are inside the DataSpec.
    
    PiperOrigin-RevId: 266350573

33	11	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
142	0	library/core/src/test/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSourceTest.java

commit 9508146840c68215fe6b71eea7045de8efdf3866
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-08-30 11:27:40 +0100

    Introduce LoadErrorHandling policy in DefaultDrmSession
    
    This is a no-op interim change to introduce key request error
    handling customization. Following changes will allow users to
    inject their own LoadErrorHandlingPolicy implementations.
    
    Issue:#6334
    PiperOrigin-RevId: 266344399

27	10	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java

commit 48555550d7fcf6953f2382466818c74092b26355
Author: kimvde <kimvde@google.com>
Date:   2019-08-30 10:17:02 +0100

    Surface MediaCodecInfo methods added in Android Q
    
    - Surface information provided by methods isHardwareAccelerated,
      isSoftwareOnly and isVendor added in Android Q in MediaCodecInfo
      class.
    - Estimate this information based on the codec name for earlier API
      levels.
    
    Issue:#5839
    PiperOrigin-RevId: 266334850

3	0	RELEASENOTES.md
45	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
75	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit f5c1e8b5e31895c0497f1e89ebb64f59a99961f5
Author: olly <olly@google.com>
Date:   2019-08-29 21:41:19 +0100

    Add HttpDataSource.getResponseCode to provide the status code associated with the most recent HTTP response.
    
    PiperOrigin-RevId: 266218104

2	0	RELEASENOTES.md
7	0	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
5	0	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/HttpDataSource.java

commit 2451211294de865d307b6476b974f1429f13d121
Author: olly <olly@google.com>
Date:   2019-08-29 21:34:13 +0100

    Tweak TrackSelectionDialog
    
    PiperOrigin-RevId: 266216274

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java

commit 1b3cb639b3a897c7dc9707e61b8d80b4d6bc0014
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-29 09:17:34 +0100

    Signal when supplemental data is present for vp9
    
    PiperOrigin-RevId: 266085854

1	0	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit 0a0ab8d5e7a3e7fd3894dcf4e736b5007d5b3174
Author: olly <olly@google.com>
Date:   2019-08-27 18:05:41 +0100

    Avoid infinite recursion if cache file modified underneath cache
    
    This generalizes our "does file still exist" check to also check
    that the file is the expected length. If it's not, we don't trust
    it. This avoids infinite recursion in CacheDataSource if a cache
    file is truncated underneath the cache.
    
    Issue: #6165
    PiperOrigin-RevId: 265707928

6	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit aa6ead3d080d6d3c8cc2971d70ebb5b3dc02ea83
Author: olly <olly@google.com>
Date:   2019-08-27 13:28:07 +0100

    seenCacheError should be set for all errors
    
    PiperOrigin-RevId: 265662686

6	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java

commit 9ca5b0fc61e441b1220fdef74dc9592e85f7c070
Author: tonihei <tonihei@google.com>
Date:   2019-08-26 11:03:39 +0100

    Add back deprecated getWindow to ForwardingTimeline.
    
    Implementations of ForwardingTimeline may override any of the two variants of
    this method. We need to ensure that the customized override is always called.
    
    Add back the deprecated method and make it final to forward to the
    non-deprecated method in all cases for ForwardingTimelines.
    
    PiperOrigin-RevId: 265419830

6	0	library/core/src/main/java/com/google/android/exoplayer2/source/ForwardingTimeline.java

commit ce37b7eea20c7af2db20486a604d8985d13f7233
Author: christosts <christosts@google.com>
Date:   2019-08-23 18:48:14 +0100

    Add HTTP request parameters (headers) to DataSpec.
    
    Adds HTTP request parameters in DataSpec. Keeps DataSpec behavior to be immutable as before.
    
    PiperOrigin-RevId: 265087782

54	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
128	0	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSpecTest.java

commit d1084f27284d44e8ad1652e33df9f1fae335ad9e
Author: tonihei <tonihei@google.com>
Date:   2019-08-23 16:57:14 +0100

    Do not compare bitrates of audio tracks with different languages.
    
    The last selection criteria is the audio bitrate to prefer higher-quality
    streams. We shouldn't apply this criterium though if the languages of the
    tracks are different.
    
    Issue:#6335
    PiperOrigin-RevId: 265064756

2	0	RELEASENOTES.md
7	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
68	23	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit 34cc5f4cb8841930da6d2498370904cbea0d8026
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-23 16:16:07 +0100

    Defer adsManager.init until the timeline has loaded
    
    If the app seeks after we get an ads manager but before the player exposes the
    timeline with ads, we would end up expecting to play a preroll even after the
    seek request arrived. This caused the player to get stuck.
    
    Wait until a non-empty timeline has been exposed via onTimelineChanged before
    initializing IMA (at which point it can start polling the player position). Seek
    requests are not handled while an ad is playing.
    
    PiperOrigin-RevId: 265058325

12	8	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java
2	1	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java

commit 75f744ae4077baa10ab3e1170ed330319739905c
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-23 10:53:03 +0100

    Fix VpxDecoder error codes to match the ones in vpx_jni.cc
    
    PiperOrigin-RevId: 265018783

4	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java

commit aae64151e041c0361bd5c8b71e6aba6e4c1bc5dc
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-23 10:42:23 +0100

    Add @CallSuper annotations in SimpleDecoder
    
    The implementation can't work properly unless these methods are called by
    subclasses, so annotate them to require calling the super implementation when
    overriding.
    
    PiperOrigin-RevId: 265017433

3	0	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleDecoder.java

commit 29af6899feebdb4e348cd50ea5eb595af059771a
Author: tonihei <tonihei@google.com>
Date:   2019-08-23 10:18:26 +0100

    Move playback error into PlaybackInfo.
    
    The error is closely related to the playback state IDLE and should be updated
    in sync with the state to prevent unexpected event ordering and/or keeping the
    error after re-preparation.
    
    Issue:#5407
    PiperOrigin-RevId: 265014630

20	13	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
19	10	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
36	0	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java

commit 7883eabb38afb53a53500d15dc6b97d81437b333
Author: olly <olly@google.com>
Date:   2019-08-23 09:57:26 +0100

    Update comment to indicate correct int value of "FLAG_ALLOW_CACHE_FRAGMENTATION" in ExoPlayer2 upstream DataSpec
    
    Currently the value of FLAG_ALLOW_CACHE_FRAGMENTATION is defined as "1 << 4" but commented as "8". Either the value of FLAG_ALLOW_CACHE_FRAGMENTATION should be "1 << 3", or the comment should be 16. Here I am modifying the comment since it does not affect any current behavior.
    
    PiperOrigin-RevId: 265011839

1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java

commit 6748eeca6afc6273a6a1df760995ce89c3680c54
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-22 08:44:39 +0100

    Avoid potential ArrayStoreException with audio processors
    
    The app is able to pass a more specialized array type, so the Arrays.copyOf call
    produces an array into which it's not valid to store arbitrary AudioProcessors.
    
    Create a new array and copy into it to avoid this problem.
    
    PiperOrigin-RevId: 264779164

9	2	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
7	0	library/core/src/test/java/com/google/android/exoplayer2/audio/DefaultAudioSinkTest.java

commit 51476fa2c8d600490e41677f44ca309e2092741b
Author: tonihei <tonihei@google.com>
Date:   2019-08-21 15:22:47 +0100

    Prevent NPE in ImaAdsLoader onPositionDiscontinuity.
    
    Any seek before the first timeline becomes available will result in a NPE.
    Change it to handle that case gracefully.
    
    Issue:#5831
    PiperOrigin-RevId: 264603061

4	4	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit 6a1331f125a2e4a501bdb0be4d443cf014c97502
Author: tonihei <tonihei@google.com>
Date:   2019-08-21 14:59:05 +0100

    Gracefully handle chunkful preparation without chunks.
    
    This situation happens if the first chunk to load is already behind the end
    of the stream. In this case, the preparation never completes because
    HlsSampleStreamWrapper gets stuck in a prepared=false and loadingFinished=true
    state.
    
    Gracefully handle this situation by attempting to load the last chunk if still
    unprepared to ensure that track information is obtained as far as possible.
    Otherwise, it wouldn't be possible to play anything even when seeking back.
    
    Issue:#6314
    PiperOrigin-RevId: 264599465

2	0	RELEASENOTES.md
16	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java
10	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit f0aae7aee5db46c2386128cdd5fe49f31f3a5389
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-21 12:47:45 +0100

    Support out-of-band HDR10+ metadata for VP9
    
    Extract supplemental data from block additions in WebM/Matroska.
    
    Allow storing supplemental data alongside samples in the SampleQueue and write
    it as a separate field in DecoderInputBuffers.
    
    Handle supplemental data in the VP9 extension by propagating it to the output
    buffer.
    
    Handle supplemental data for HDR10+ in MediaCodecVideoRenderer by passing it to
    MediaCodec.setParameters, if supported by the component.
    
    PiperOrigin-RevId: 264582805

1	0	RELEASENOTES.md
4	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/C.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/decoder/Buffer.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/decoder/DecoderInputBuffer.java
65	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
12	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
18	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
41	11	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
42	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
20	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit c361e3abc3cff2d63f16233547b48813c3d32c60
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-20 08:40:44 +0100

    Fix handling of delayed AdsLoader.start
    
    AdsMediaSource posts AdsLoader.start to the main thread during preparation, but
    the app may call AdsLoader.setPlayer(null) before it actually runs (e.g., if
    initializing then quickly backgrounding the player).
    
    This is valid usage of the API so handle this case instead of asserting. Because
    not calling setPlayer at all is a pitfall of the API, track whether setPlayer
    has been called and still assert that in AdsLoader.start.
    
    PiperOrigin-RevId: 264329632

10	2	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit ebf8dc997392de2e1ed856f5dd16789a8baf59ea
Author: tonihei <tonihei@google.com>
Date:   2019-08-19 14:48:42 +0100

    Extend ExoPlayer builders with useLazyPreparations and AnalyticsCollector.
    
    Both values are needed to set-up the ExoPlayer instances for playlists.
    
    PiperOrigin-RevId: 264146052

43	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
23	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 17d8e3728fa4fa42898ac0c81c971a9d69bb143e
Author: ibaker <ibaker@google.com>
Date:   2019-08-19 12:03:55 +0100

    Add support for the AOM scheme_id for ID3-in-EMSG
    
    https://developer.apple.com/documentation/http_live_streaming/about_the_common_media_application_format_with_http_live_streaming
    
    PiperOrigin-RevId: 264126140

14	6	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java

commit 20fd4e16d247739e6c046e8aac2f0d9d6a837057
Author: tonihei <tonihei@google.com>
Date:   2019-08-19 10:50:22 +0100

    Deprecate setTag parameter in Timeline.getWindow.
    
    There is no point in having this parameter as the tag should always be a single
    immutable object instantiated at the time the Timeline is created or earlier.
    
    So there is no preformance benefit and it's error-prone in case people
    forget to set setTag=true.
    
    PiperOrigin-RevId: 264117041

1	0	RELEASENOTES.md
2	4	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimeline.java
2	6	library/core/src/main/java/com/google/android/exoplayer2/BasePlayer.java
18	20	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/source/AbstractConcatenatedTimeline.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaSource.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/source/ForwardingTimeline.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/source/SinglePeriodTimeline.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/source/ads/SinglePeriodAdTimeline.java
3	6	library/core/src/test/java/com/google/android/exoplayer2/source/SinglePeriodTimelineTest.java
2	4	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java
3	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/TimelineAsserts.java

commit 652c2f9c188bf9d9d6e323ff5333e5026454a082
Author: tonihei <tonihei@google.com>
Date:   2019-08-16 16:32:49 +0100

    Advance playing period even if the next one isn't prepared yet.
    
    This solves various issues around event association for buffering and
    error throwing around period discontinuities.
    
    The main changes are:
     - Logic around being "ready" at the end of a period no longer checks if the
       next period is prepared.
     - Advancing the playing period no longer checks if the next one is prepared.
     - Prepare errors are always thrown for the playing period.
    
    This changes the semantics and assumptions about the "playing" period:
     1. The playing period can no longer assumed to be prepared.
     2. We no longer have a case where the queue is non-empty and the playing or
        reading periods are unassigned (=null).
    Most other code changes ensure that these changed assumptions are handled.
    
    Issue:#5407
    PiperOrigin-RevId: 263776304

2	0	RELEASENOTES.md
94	91	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
29	47	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
5	3	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java

commit 14f77cb8b133fe3e6807542827fc3990e798c79b
Author: ibaker <ibaker@google.com>
Date:   2019-08-16 15:40:43 +0100

    Unwrap SCTE-35 messages in emsg boxes
    
    PiperOrigin-RevId: 263768428

20	5	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java
42	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java

commit 424f9910790ad2d83a66de71cf8b42fdeae1497a
Author: ibaker <ibaker@google.com>
Date:   2019-08-16 15:39:57 +0100

    Extend EventMessage.toString to include durationMs
    
    This field is used in .equals(), so it makes sense to include it in toString() too.
    
    PiperOrigin-RevId: 263768329

8	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java

commit 01f484cbe965f7858f9621c97fec94d30eef188a
Author: ibaker <ibaker@google.com>
Date:   2019-08-16 15:31:05 +0100

    Modify EventMessageDecoder to return null if decoding fails (currently throws exceptions)
    
    This matches the documentation on MetadataDecoder.decode:
    "@return The decoded metadata object, or null if the metadata could not be decoded."
    
    PiperOrigin-RevId: 263767144

20	9	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
14	6	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java
3	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java

commit 89dd10503436629bce46cf48a2c26bcb5b0bdd6d
Author: tonihei <tonihei@google.com>
Date:   2019-08-16 15:07:53 +0100

    Update window/period doc in Timeline.
    
    Most users are likely to be only interested in the playlist items. So put the
    Window definition first and explicitly mention that this is a playlist
    item.
    
    PiperOrigin-RevId: 263764515

68	72	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java

commit 9dd04baef67ac9082064978913f3a67011f9fff6
Author: tonihei <tonihei@google.com>
Date:   2019-08-16 10:51:19 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/9f55045eeb07120d5c001db48ef7c7c622089cbd
    
    *** Original commit ***
    
    Rollback of https://github.com/google/ExoPlayer/commit/bbe681a904d58fe1f84f6c7c6e3390d932c86249
    
    *** Original commit ***
    
    PiperOrigin-RevId: 263736897

1	0	constants.gradle
1	2	library/core/build.gradle
2	1	library/core/proguard-rules.txt
3	5	library/core/src/main/java/com/google/android/exoplayer2/util/NonNullApi.java

commit bc655839ddd5ad869fa7921fcde552e88b5419ad
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-16 08:04:18 +0100

    Remove superfluous logging
    
    PiperOrigin-RevId: 263718527

13	15	extensions/vp9/src/main/jni/vpx_jni.cc

commit efb0549416921af5c0202f403964421ca35b686b
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-08-15 14:42:14 +0100

    Remove 2 deprecated SimpleExoPlayer constructors
    
    PiperOrigin-RevId: 263552552

1	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
0	72	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 3198b9efacd8d6c2e0dd2607f067ee16b1d57ba5
Author: sr1990 <sr1990003@gmail.com>
Date:   2019-08-19 18:07:56 -0700

    Support negative value of the @r attrbute of S in SegmentTimeline element

9	8	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit 04eb8f3c0fd54fe887a4bb25f36599a2c5435cab
Merge: 1f6097896 7c606929b
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-08-19 10:48:05 +0100

    Merge pull request #6301 from ened/patch-2
    
    Correct issue link to device specific bugs

commit 67477144796dce618b7de16925a8b1f1f664a820
Author: Venkatarama NG. Avadhani <venkatarama.avadhani@ittiam.com>
Date:   2019-08-16 10:37:48 +0530

    Upgrade librtmp-client to 3.1.0

1	1	extensions/rtmp/build.gradle

commit e267550d95a72ba7261eddad6dea8f8ce379e8e8
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-15 14:17:18 +0100

    Throw for unsupported libvpx output formats
    
    Currently we fail silently for high bit depth output when using ANativeWindow
    output mode.
    
    PiperOrigin-RevId: 263549384

8	2	extensions/vp9/src/main/jni/vpx_jni.cc

commit ebb72e358f8bc6dd3fa39d3e7bce46269641074c
Author: ibaker <ibaker@google.com>
Date:   2019-08-15 12:09:48 +0100

    Support unwrapping nested Metadata messages in MetadataRenderer
    
    Initially this supports ID3-in-EMSG, but can also be used to support SCTE35-in-EMSG too.
    
    PiperOrigin-RevId: 263535925

22	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/Metadata.java
42	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
22	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessage.java
153	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/MetadataRendererTest.java

commit 567d078e9e0082a721751588607868d74a9c528c
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-15 12:00:30 +0100

    Fix createDecoder method declaration
    
    PiperOrigin-RevId: 263534628

2	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit 6a122f4740ef5da4e23445309a20762da2f95639
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-08-15 11:38:05 +0100

    Document injection of DrmSessionManagers into MediaSources instead of Renderers
    
    PiperOrigin-RevId: 263532499

2	0	RELEASENOTES.md
51	10	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
47	20	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
6	8	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
7	10	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java

commit 4b75d3338e01b809c4ac7928deef9e572153203f
Author: ibaker <ibaker@google.com>
Date:   2019-08-14 18:46:12 +0100

    Expand FakeSampleStream to allow specifying a single sample
    
    I removed the buffer.flip() call because it seems incompatible with the way MetadataRenderer deals with the Stream - it calls flip() itself on line 126. Tests fail with flip() here, and pass without it...
    
    PiperOrigin-RevId: 263381799

20	7	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit bdc87908962649985d3b883d73ac6f9180d340ce
Author: tonihei <tonihei@google.com>
Date:   2019-08-14 16:39:08 +0100

    Remove experimental track bitrate estimator features.
    
    We are not planning to use them in the near future, so remove the experimental
    flags and related features.
    
    PiperOrigin-RevId: 263356590

5	51	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
0	53	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackBitrateEstimator.java
0	266	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionUtil.java
0	66	library/core/src/main/java/com/google/android/exoplayer2/trackselection/WindowedTrackBitrateEstimator.java
0	53	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java
0	617	library/core/src/test/java/com/google/android/exoplayer2/trackselection/TrackSelectionUtilTest.java
0	175	library/core/src/test/java/com/google/android/exoplayer2/trackselection/WindowedTrackBitrateEstimatorTest.java

commit f3a1b099e6717c650966ff0b12e43c5ecbaa0605
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-08-14 16:37:26 +0100

    Fix propagation of HlsMetadataEntry's in HLS chunkless preparation
    
    PiperOrigin-RevId: 263356275

6	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java

commit 76a6f5b0d05708f7872e798d2c94960715be6398
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-14 16:24:03 +0100

    Remove RenderersFactory from javadoc
    
    The builder takes renderers instead of using a factory.
    
    PiperOrigin-RevId: 263354003

0	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java

commit cd4571161ae2bbe97788a2bf8ba51ed0580d407d
Author: tonihei <tonihei@google.com>
Date:   2019-08-14 14:41:40 +0100

    Add builders for SimpleExoPlayer and ExoPlayer.
    
    The current ExoPlayerFactory is growing too big and usage becomes increasingly
    complicated because it's not possible to set individual components without
    specifying many other defaults.
    
    Adding new builder classes makes building easier and more future-proof.
    
    PiperOrigin-RevId: 263339078

2	0	RELEASENOTES.md
1	2	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
3	2	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/PlayerActivity.java
1	2	demos/ima/src/main/java/com/google/android/exoplayer2/imademo/PlayerManager.java
3	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
10	10	extensions/ffmpeg/README.md
10	10	extensions/flac/README.md
1	5	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
10	10	extensions/opus/README.md
1	5	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
10	10	extensions/vp9/README.md
1	5	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/DefaultRenderersFactory.java
164	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
62	205	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
227	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
15	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java
4	8	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
7	10	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java

commit 69965ddf26f2855ebebd52825714d085c2e514fa
Author: ibaker <ibaker@google.com>
Date:   2019-08-14 14:13:32 +0100

    Add Metadata.toString that prints the contents of `entries`
    
    entries are used in .equals(), so it's good to have them printed in toString() too (for test failures) and it makes logging easier too.
    
    PiperOrigin-RevId: 263335503

5	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/Metadata.java

commit 5482bd05e40e1b23dffe6b3f426cef2ac9a8a629
Author: ibaker <ibaker@google.com>
Date:   2019-08-14 14:12:51 +0100

    Add description to TextInformationFrame.toString() output
    
    This field is used in .equals(), we should print it in toString() too
    
    PiperOrigin-RevId: 263335432

1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/TextInformationFrame.java

commit 6dd3d49093377290b8a506cca866b8c6db68f77d
Author: tonihei <tonihei@google.com>
Date:   2019-08-14 13:09:21 +0100

    Change default video buffer size to 32MB.
    
    The current max video buffer is 13MB which is too small for high quality
    streams and doesn't allow the DefaultLoadControl to buffer up to its default
    max buffer time of 50 seconds.
    
    Also move util method and constants only used by DefaultLoadControl into this
    class.
    
    PiperOrigin-RevId: 263328088

2	0	RELEASENOTES.md
0	19	library/core/src/main/java/com/google/android/exoplayer2/C.java
41	1	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
0	29	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit a572fb3f22d73c60ce5ab3eaa7db9dd1e3356dcb
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-08-14 12:37:44 +0100

    Add a metadata argument to Format factory methods used in HLS
    
    Required for propagation of HlsMetadataEntry's in chunkless preparation.
    
    PiperOrigin-RevId: 263324345

10	6	library/core/src/main/java/com/google/android/exoplayer2/Format.java
2	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
1	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashUtilTest.java
2	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
3	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
3	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java
2	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit 213912b328b5b8bef4199bae0cbedb7b6baa8447
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-14 11:32:04 +0100

    Update default input buffer size documentation
    
    PiperOrigin-RevId: 263317893

5	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java

commit 81a290f1ee7c36144de53215e7be974664526f28
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-14 10:48:18 +0100

    Add internal method for format support
    
    PiperOrigin-RevId: 263312721

10	5	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
14	9	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit b77b9f5c024b0cf24edc91135f9c177bedb62987
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-13 17:18:51 +0100

    Update dequeueOutputBuffer method
    
    Add @Nullable annotation in the LibvpxVideoRenderer.
    
    PiperOrigin-RevId: 263150736

1	0	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java

commit 0e33123938368b6606d1d55496e6b746465a42f6
Author: tonihei <tonihei@google.com>
Date:   2019-08-13 15:45:43 +0100

    Turn on non-null-by-default for some core library packages.
    
    And add missing some missing annotations to the publicly visible API of these
    packages.
    
    PiperOrigin-RevId: 263134804

4	3	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegDecoder.java
2	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
3	2	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusDecoder.java
2	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/BaseRenderer.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/NoSampleRenderer.java
6	5	library/core/src/main/java/com/google/android/exoplayer2/Renderer.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/package-info.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/Ac3Util.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/audio/Ac4Util.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioAttributes.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/audio/DtsUtil.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/audio/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/database/package-info.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/decoder/Decoder.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/decoder/DecoderInputBuffer.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleDecoder.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleOutputBuffer.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/decoder/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/drm/package-info.java
7	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/package-info.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Decoder.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/package-info.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/scheduler/package-info.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/trackselection/package-info.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/util/AtomicFile.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/util/HandlerWrapper.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/util/SystemHandlerWrapper.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/util/UriUtil.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
17	0	library/core/src/main/java/com/google/android/exoplayer2/util/package-info.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/video/package-info.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/package-info.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/EventSampleStream.java

commit 860aa2f952468b777cb691e45da8f7cbc8700398
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-13 11:25:54 +0100

    Remove video decoder buffers from nullness blacklist
    
    PiperOrigin-RevId: 263104935

2	1	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderInputBuffer.java
9	4	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit 9f0fd870e7c82d703ec0957ac47bb971aa763956
Author: olly <olly@google.com>
Date:   2019-08-13 02:10:57 +0100

    Add haveRenderedFirstFrame
    
    PiperOrigin-RevId: 263046027

5	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 79c4f1878e308b2095087b8b363eadd5d15d284d
Author: tonihei <tonihei@google.com>
Date:   2019-08-12 16:39:16 +0100

    Fix JavaDoc generation errors.
    
    This fixes the errors that prevent the JavaDoc generation with the Gradle
    script to run through.
    
    PiperOrigin-RevId: 262930857

4	4	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java

commit 5fcc4de1fd10f597936582e3a3459ba4ef3fb434
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-12 12:56:50 +0100

    Add SimpleDecoder video base renderer
    
    This renderer will be extended by both vp9 and av1 renderers.
    
    PiperOrigin-RevId: 262900391

59	773	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
907	0	library/core/src/main/java/com/google/android/exoplayer2/video/SimpleDecoderVideoRenderer.java

commit e5fcee40e57b35ea9ab3a689d891f7d21ab54f49
Author: tonihei <tonihei@google.com>
Date:   2019-08-12 10:43:26 +0100

    Make reset on network change the default.
    
    PiperOrigin-RevId: 262886490

1	0	RELEASENOTES.md
3	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java

commit 7c606929b22ea381963587e10b88ee55bb651aad
Author: Sebastian Roth <sebastian.roth@gmail.com>
Date:   2019-08-15 11:37:30 +0100

    Correct issue link to device specific bugs
    
    As the device specific label name has changed.

1	1	supported-devices.md

commit 4e50682fa79a7c0aaf47bb27c02abe4222375dba
Author: sr1990 <sr1990003@gmail.com>
Date:   2019-08-12 18:18:12 -0700

    Support negative value of the @r attrbute of S in SegmentTimeline element

22	12	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit eb458555a69724ac6ac53941580ec785332339d7
Merge: ec6604b4f 8967dd9c4
Author: sr90 <sr1990003@gmail.com>
Date:   2019-08-12 13:38:39 -0700

    Merge pull request #1 from google/dev-v2
    
    Dev v2 - 1

commit 0c4df84eaa2d2b9a6d53cf900a72199a2bfc4607
Merge: 831de75f8 8967dd9c4
Author: Yannick RUI <yannick.rui@netplus.pro>
Date:   2019-08-12 08:24:10 +0200

    Merge remote-tracking branch 'upstream/dev-v2' into dev-v2
    
    # Conflicts:
    #       library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java

commit 85c10b02567b66ecfaaaacfd0ba9389b41bf919e
Merge: 51acd8150 d1ac2727a
Author: Oliver Woodman <olly@google.com>
Date:   2019-08-09 21:01:05 +0100

    Merge pull request #6279 from google/dev-v2-r2.10.4
    
    r2.10.4

commit 1f6097896769ae799b752272d0a9b514fefdc608
Author: Oliver Woodman <olly@google.com>
Date:   2019-08-09 20:57:18 +0100

    Javadoc 2.10.4

5	1	doc/reference/allclasses-frame.html
5	1	doc/reference/allclasses-noframe.html
1	1	doc/reference/com/google/android/exoplayer2/audio/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
28	32	doc/reference/com/google/android/exoplayer2/ext/cast/CastPlayer.html
17	5	doc/reference/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.html
2	2	doc/reference/com/google/android/exoplayer2/ext/jobdispatcher/package-summary.html
2	1	doc/reference/com/google/android/exoplayer2/ext/opus/OpusLibrary.html
4	2	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxLibrary.html
2	2	doc/reference/com/google/android/exoplayer2/ext/vp9/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/ext/vp9/package-tree.html
317	0	doc/reference/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.SchedulerWorker.html
347	0	doc/reference/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.html
19	0	doc/reference/com/google/android/exoplayer2/ext/workmanager/package-frame.html
146	0	doc/reference/com/google/android/exoplayer2/ext/workmanager/package-summary.html
142	0	doc/reference/com/google/android/exoplayer2/ext/workmanager/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/DummyTrackOutput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/TrackOutput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-tree.html
2	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/Track.html
2	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/TrackEncryptionBox.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
42	44	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/Metadata.Entry.html
2	2	doc/reference/com/google/android/exoplayer2/metadata/emsg/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/metadata/emsg/package-tree.html
548	0	doc/reference/com/google/android/exoplayer2/metadata/flac/PictureFrame.html
445	0	doc/reference/com/google/android/exoplayer2/metadata/flac/VorbisComment.html
19	0	doc/reference/com/google/android/exoplayer2/metadata/flac/package-frame.html
146	0	doc/reference/com/google/android/exoplayer2/metadata/flac/package-summary.html
134	0	doc/reference/com/google/android/exoplayer2/metadata/flac/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/metadata/icy/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/metadata/icy/package-tree.html
37	3	doc/reference/com/google/android/exoplayer2/offline/DownloadService.html
1	1	doc/reference/com/google/android/exoplayer2/offline/package-tree.html
17	17	doc/reference/com/google/android/exoplayer2/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/Scheduler.html
4	1	doc/reference/com/google/android/exoplayer2/source/ClippingMediaPeriod.html
4	1	doc/reference/com/google/android/exoplayer2/source/DeferredMediaPeriod.html
4	1	doc/reference/com/google/android/exoplayer2/source/MediaPeriod.html
1	1	doc/reference/com/google/android/exoplayer2/source/SampleQueue.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
22	2	doc/reference/com/google/android/exoplayer2/source/dash/DashChunkSource.html
24	1	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.PlayerTrackEmsgHandler.html
4	1	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.html
1	1	doc/reference/com/google/android/exoplayer2/source/package-tree.html
24	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.html
22	2	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsChunkSource.html
33	17	doc/reference/com/google/android/exoplayer2/text/Cue.html
4	3	doc/reference/com/google/android/exoplayer2/text/SimpleSubtitleDecoder.html
2	2	doc/reference/com/google/android/exoplayer2/text/package-tree.html
2	1	doc/reference/com/google/android/exoplayer2/text/ssa/SsaDecoder.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/WebvttCue.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/package-tree.html
5	2	doc/reference/com/google/android/exoplayer2/ui/AspectRatioFrameLayout.html
4	0	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.html
103	28	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.html
1	0	doc/reference/com/google/android/exoplayer2/ui/SubtitleView.html
1	6	doc/reference/com/google/android/exoplayer2/upstream/DataSchemeDataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/util/EventLogger.html
78	57	doc/reference/com/google/android/exoplayer2/util/{FlacStreamInfo.html => FlacStreamMetadata.html}
2	2	doc/reference/com/google/android/exoplayer2/util/GlUtil.html
40	6	doc/reference/com/google/android/exoplayer2/util/NotificationUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/package-frame.html
2	2	doc/reference/com/google/android/exoplayer2/util/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/util/package-tree.html
5	2	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.html
3	3	doc/reference/constant-values.html
105	78	doc/reference/deprecated-list.html
190	36	doc/reference/index-all.html
2	0	doc/reference/overview-frame.html
20	12	doc/reference/overview-summary.html
15	1	doc/reference/overview-tree.html
2	0	doc/reference/package-list

commit 8967dd9c4c48980e433027b8dfb295b1cf99d7cd
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-09 08:33:42 +0100

    Upgrade IMA dependency version
    
    PiperOrigin-RevId: 262511088

1	1	extensions/ima/build.gradle

commit 389eca6e077549fbe740e5975fe93daf573aaa2d
Author: tonihei <tonihei@google.com>
Date:   2019-08-08 16:59:19 +0100

    Merge robolectric_testutils into testutils.
    
    We no longer need two modules as AndroidX-Test takes care of the system
    abstraction and we no longer have Robolectric Handler/Looper workarounds.
    
    PiperOrigin-RevId: 262363201

0	2	core_settings.gradle
2	1	extensions/cast/build.gradle
2	1	extensions/cronet/build.gradle
2	1	extensions/ffmpeg/build.gradle
2	1	extensions/flac/build.gradle
2	1	extensions/ima/build.gradle
2	1	extensions/opus/build.gradle
2	1	extensions/rtmp/build.gradle
2	1	extensions/vp9/build.gradle
0	1	library/core/build.gradle
2	1	library/dash/build.gradle
2	1	library/hls/build.gradle
2	1	library/smoothstreaming/build.gradle
2	1	library/ui/build.gradle
3	1	testutils/build.gradle
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/CacheAsserts.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/DefaultRenderersFactoryAsserts.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaChunk.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaChunkIterator.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaClockRenderer.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/FakeShuffleOrder.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackSelection.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/FakeTrackSelector.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/OggTestData.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java
0	0	{testutils_robolectric => testutils}/src/main/java/com/google/android/exoplayer2/testutil/TimelineAsserts.java
0	46	testutils_robolectric/build.gradle
0	17	testutils_robolectric/src/main/AndroidManifest.xml

commit a14df33dc76d628b1f7c1d90fd58128a2dae442d
Author: olly <olly@google.com>
Date:   2019-08-08 16:56:57 +0100

    Only read from FormatHolder when a format has been read
    
    I think we need to start clearing the holder as part of the
    DRM rework. When we do this, it'll only be valid to read
    from the holder immediately after it's been populated.
    
    PiperOrigin-RevId: 262362725

1	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java

commit 9f55045eeb07120d5c001db48ef7c7c622089cbd
Author: olly <olly@google.com>
Date:   2019-08-08 12:08:51 +0100

    Rollback of https://github.com/google/ExoPlayer/commit/bbe681a904d58fe1f84f6c7c6e3390d932c86249
    
    *** Original commit ***
    
    Make Kotlin JVM annotations available and use in ExoPlayer.
    
    NoExternal
    
    ***
    
    PiperOrigin-RevId: 262323737

0	1	constants.gradle
2	1	library/core/build.gradle
1	2	library/core/proguard-rules.txt
5	3	library/core/src/main/java/com/google/android/exoplayer2/util/NonNullApi.java

commit bbe681a904d58fe1f84f6c7c6e3390d932c86249
Author: tonihei <tonihei@google.com>
Date:   2019-08-08 11:09:33 +0100

    Make Kotlin JVM annotations available and use in ExoPlayer.
    
    NoExternal
    
    PiperOrigin-RevId: 262316962

1	0	constants.gradle
1	2	library/core/build.gradle
2	1	library/core/proguard-rules.txt
3	5	library/core/src/main/java/com/google/android/exoplayer2/util/NonNullApi.java

commit 313bd109517351e758f5c0a0085b9d780a459e6e
Author: tonihei <tonihei@google.com>
Date:   2019-08-08 09:44:58 +0100

    Fix SS module API nullability issues and add package-level non-null-by-default
    
    PiperOrigin-RevId: 262306255

1	0	library/smoothstreaming/build.gradle
7	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java
15	15	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java
35	11	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifest.java
12	9	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java
19	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/package-info.java
19	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/offline/package-info.java
19	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/package-info.java

commit 70b912c23e445ce89aa8932a88ad7d149fcd52d2
Author: tonihei <tonihei@google.com>
Date:   2019-08-08 09:22:26 +0100

    Fix API nullability of remaining extensions and mark them as non-null-by-default
    
    PiperOrigin-RevId: 262303610

8	8	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
15	5	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
3	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxVideoSurfaceView.java
19	0	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/package-info.java

commit 79d627d441bc2f49cc1f7832a959085907953c70
Author: ibaker <ibaker@google.com>
Date:   2019-08-07 15:56:25 +0100

    Simplify EventMessageEncoder/Decoder serialization
    
    We're no longer tied to the emsg spec, so we can skip unused fields
    and assume ms for duration.
    
    Also remove @Nullable annotation from EventMessageEncoder#encode, it
    seems the current implementation never returns null
    
    PiperOrigin-RevId: 262135009

1	14	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
0	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoder.java
11	8	library/core/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoderTest.java
28	41	library/core/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoderTest.java

commit 58d4fd93dd07d9ad7af8b76eed111be5550bb0d1
Author: tonihei <tonihei@google.com>
Date:   2019-08-07 14:42:47 +0100

    Fix HLS module API nullability issues and add package-level non-null-by-default
    
    PiperOrigin-RevId: 262124441

1	0	library/hls/build.gradle
2	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/Aes128DataSource.java
3	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java
4	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java
4	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.java
7	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
3	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/WebvttExtractor.java
19	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/offline/package-info.java
19	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/package-info.java
3	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
3	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylist.java
19	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/package-info.java

commit 074b6f8ebd14371ccfa699fadacb8b15dcdc1b57
Author: tonihei <tonihei@google.com>
Date:   2019-08-07 14:36:57 +0100

    Fix DASH module API nullability issues and add package-level non-null-by-default
    
    PiperOrigin-RevId: 262123595

1	0	library/dash/build.gradle
7	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
15	15	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
10	6	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashUtil.java
3	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
7	9	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifest.java
54	40	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
4	8	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/Descriptor.java
10	6	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/ProgramInformation.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/RangedUri.java
26	19	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/Representation.java
33	17	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.java
19	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/package-info.java
19	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/offline/package-info.java
19	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/package-info.java

commit 79e962c55a42844cde02710fec1e9644c9221cc5
Author: ibaker <ibaker@google.com>
Date:   2019-08-07 14:18:22 +0100

    Expose a method on EventMessageDecoder that returns EventMessage directly
    
    PiperOrigin-RevId: 262121134

7	3	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java

commit 113e25dc740490104c69afb454315ca210b0b23d
Author: tonihei <tonihei@google.com>
Date:   2019-08-07 11:36:41 +0100

    Clean up documentation of DefaultTrackSelector.ParametersBuilder.
    
    We don't usually refer to other classes when documenting method parameters
    but rather duplicate the actual definition.
    
    PiperOrigin-RevId: 262102714

95	36	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
14	6	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java

commit 6617862f0b3a4a829892a51f01fa914b86104122
Author: tonihei <tonihei@google.com>
Date:   2019-08-06 17:28:15 +0100

    Add allowAudioMixedChannelCountAdaptiveness parameter to DefaultTrackSelector.
    
    We already allow mixed mime type and mixed sample rate adaptation on request,
    so for completeness, we can also allow mixed channel count adaptation.
    
    Issue:#6257
    PiperOrigin-RevId: 261930046

4	0	RELEASENOTES.md
46	9	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit fd803a39a3470bb9b806d7cf76594e1192ee9d28
Author: olly <olly@google.com>
Date:   2019-08-06 16:18:33 +0100

    Further MediaPeriod.selectTracks documentation tweak
    
    PiperOrigin-RevId: 261917229

6	4	library/core/src/main/java/com/google/android/exoplayer2/source/MediaPeriod.java

commit 831de75f89f2c3230323277d3899def6b1306788
Author: Yannick RUI <yannick.rui@netplus.pro>
Date:   2019-08-09 10:42:12 +0200

    Missing documentation link

1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit 73d6a0f2bdd48b8a335b485511bc088ad748e158
Author: Yannick RUI <yannick.rui@netplus.pro>
Date:   2019-08-08 09:17:55 +0200

    Automatically show closed captioning/hearing impaired text track

16	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
26	0	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java

commit a9b93d7ec2b30450c1f15dbf1b1abefd0c8cb705
Author: tonihei <tonihei@google.com>
Date:   2019-08-06 15:34:36 +0100

    Fix some remaining extension API nullability issues.
    
    PiperOrigin-RevId: 261910303

2	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastUtils.java
3	3	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.java
3	3	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
3	3	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
24	7	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusDecoder.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
17	14	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java

commit b0330edc0b83105a034b95cb9dca096a2ed1e1c6
Author: tonihei <tonihei@google.com>
Date:   2019-08-06 12:46:39 +0100

    Fix some Android Studio nullness warning created by new @NonNullApi.
    
    PiperOrigin-RevId: 261888086

15	13	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
1	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFile.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java

commit 3b9288b805e2bf26d4d4ce2c131075afd007f3ae
Author: ibaker <ibaker@google.com>
Date:   2019-08-06 11:16:40 +0100

    Migrate literal usages of 1000 to (new) C.MILLIS_PER_SECOND
    
    This only covers calls to scaleLargeTimestamp()
    
    PiperOrigin-RevId: 261878019

6	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit 4603188165e465cdec9d5e971c649cb398c50c43
Author: ibaker <ibaker@google.com>
Date:   2019-08-06 11:16:02 +0100

    Add inband emsg-v1 support to FragmentedMp4Extractor
    
    This also decouples EventMessageEncoder's serialization schema from the emesg spec (it happens to still match the emsg-v0 spec, but this is no longer required).
    
    PiperOrigin-RevId: 261877918

4	3	library/core/src/main/java/com/google/android/exoplayer2/C.java
61	31	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
1	7	library/core/src/main/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.java

commit 591bd6e46a0c10138fe0ea466c42378c030fbc89
Author: tonihei <tonihei@google.com>
Date:   2019-08-06 10:34:15 +0100

    Fix UI module API nullability annotations and make non-null-by-default.
    
    PiperOrigin-RevId: 261872025

6	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
15	8	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
19	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/package-info.java
19	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/package-info.java

commit d1ac2727a6e1d2928d203791c6453908e77038e5
Author: tonihei <tonihei@google.com>
Date:   2019-08-05 16:57:44 +0100

    Update stale TrackSelections in chunk sources when keeping the streams.
    
    If we keep streams in chunk sources after selecting new tracks, we also keep
    a reference to a stale disabled TrackSelection object. Fix this by updating
    the TrackSelection object when keeping the stream. The static part of the
    selection (i.e. the subset of selected tracks) stays the same in all cases.
    
    Issue:#6256
    PiperOrigin-RevId: 261696082

3	0	RELEASENOTES.md
4	1	library/core/src/main/java/com/google/android/exoplayer2/source/MediaPeriod.java
7	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashChunkSource.java
13	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
6	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
4	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java
10	7	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
6	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.java
7	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsChunkSource.java
1	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java

commit 936a7789c98484616bef4df30bed8ccf79786734
Author: tonihei <tonihei@google.com>
Date:   2019-08-05 10:43:50 +0100

    Check if controller is used when performing click directly.
    
    Issue:#6260
    PiperOrigin-RevId: 261647858

3	0	RELEASENOTES.md
3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit 346f8e670af19b33e4575fa200f90008c7360cba
Author: tonihei <tonihei@google.com>
Date:   2019-08-05 17:21:31 +0100

    Turn on non-null-by-default for most extensions.
    
    PiperOrigin-RevId: 261700729

19	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/package-info.java
19	0	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/package-info.java
19	0	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/package-info.java
19	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/package-info.java
1	1	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java
19	0	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/package-info.java
19	0	extensions/jobdispatcher/src/main/java/com/google/android/exoplayer2/ext/jobdispatcher/package-info.java
19	0	extensions/leanback/src/main/java/com/google/android/exoplayer2/ext/leanback/package-info.java
19	0	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/package-info.java
19	0	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/package-info.java
19	0	extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/package-info.java
19	0	extensions/workmanager/src/main/java/com/google/android/exoplayer2/ext/workmanager/package-info.java

commit 17a9030e1d02220efbf32e8c65ca925f630e66ad
Author: tonihei <tonihei@google.com>
Date:   2019-08-05 16:57:44 +0100

    Update stale TrackSelections in chunk sources when keeping the streams.
    
    If we keep streams in chunk sources after selecting new tracks, we also keep
    a reference to a stale disabled TrackSelection object. Fix this by updating
    the TrackSelection object when keeping the stream. The static part of the
    selection (i.e. the subset of selected tracks) stays the same in all cases.
    
    Issue:#6256
    PiperOrigin-RevId: 261696082

3	0	RELEASENOTES.md
4	1	library/core/src/main/java/com/google/android/exoplayer2/source/MediaPeriod.java
7	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashChunkSource.java
13	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
6	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
4	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java
10	7	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
6	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.java
7	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsChunkSource.java
1	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java

commit b6441a02f5eb8a8377e90db1b392ae2ad9b372e1
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-05 16:40:20 +0100

    Introduce common output buffer class for video decoders
    
    PiperOrigin-RevId: 261693054

3	110	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.java
125	0	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderOutputBuffer.java

commit c9b73cba8c06cb3928c077bdb47bfa4873b92684
Author: olly <olly@google.com>
Date:   2019-08-05 11:13:07 +0100

    Update release notes
    
    PiperOrigin-RevId: 261651655

3	3	RELEASENOTES.md

commit 790deb71db4a344fe65e06e8f17e9c31744c13a7
Author: tonihei <tonihei@google.com>
Date:   2019-08-05 10:43:50 +0100

    Check if controller is used when performing click directly.
    
    Issue:#6260
    PiperOrigin-RevId: 261647858

3	0	RELEASENOTES.md
3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit d6e74bc19b05a3c4cc1d6c7684a4692aea5ce1e3
Author: tonihei <tonihei@google.com>
Date:   2019-08-05 10:21:55 +0100

    Ensure position reset keep window sequence number.
    
    We currently keep the sequence number if we don't reset the position. However,
    the sequence number should be kept if we don't reset the state. Otherwise
    re-prepare with position reset is counted as new playback although it's still
    the same.
    
    PiperOrigin-RevId: 261644924

1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
14	5	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
42	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit b0c2b1a0fa762a9c09ecad0c300193dd768827ce
Author: olly <olly@google.com>
Date:   2019-08-02 19:03:03 +0100

    Bump annotations dependency
    
    PiperOrigin-RevId: 261353271

1	1	demos/ima/build.gradle
1	1	demos/main/build.gradle
1	1	extensions/cast/build.gradle
1	1	extensions/cronet/build.gradle
1	1	extensions/ffmpeg/build.gradle
1	1	extensions/flac/build.gradle
1	1	extensions/gvr/build.gradle
1	1	extensions/ima/build.gradle
1	1	extensions/leanback/build.gradle
1	1	extensions/okhttp/build.gradle
1	1	extensions/opus/build.gradle
1	1	extensions/rtmp/build.gradle
1	1	extensions/vp9/build.gradle
1	1	library/core/build.gradle
1	1	library/dash/build.gradle
1	1	library/hls/build.gradle
1	1	library/smoothstreaming/build.gradle
1	1	library/ui/build.gradle
1	1	playbacktests/build.gradle
1	1	testutils/build.gradle
1	1	testutils_robolectric/build.gradle

commit fb0481c520b5b7eefa51abe01625a16b5009013d
Author: olly <olly@google.com>
Date:   2019-08-02 19:03:03 +0100

    Bump annotations dependency + update release notes
    
    PiperOrigin-RevId: 261353271

10	10	RELEASENOTES.md
1	1	demos/gvr/build.gradle
1	1	demos/ima/build.gradle
1	1	demos/main/build.gradle
1	1	extensions/cast/build.gradle
1	1	extensions/cronet/build.gradle
1	1	extensions/ffmpeg/build.gradle
1	1	extensions/flac/build.gradle
1	1	extensions/gvr/build.gradle
1	1	extensions/ima/build.gradle
1	1	extensions/leanback/build.gradle
1	1	extensions/okhttp/build.gradle
1	1	extensions/opus/build.gradle
1	1	extensions/rtmp/build.gradle
1	1	extensions/vp9/build.gradle
1	1	library/core/build.gradle
1	1	library/dash/build.gradle
1	1	library/hls/build.gradle
1	1	library/smoothstreaming/build.gradle
1	1	library/ui/build.gradle
1	1	playbacktests/build.gradle
1	1	testutils/build.gradle
1	1	testutils_robolectric/build.gradle

commit f3e5aaae3dddf779aa26be1d8f3cb7fd71a6596c
Author: olly <olly@google.com>
Date:   2019-08-02 18:05:17 +0100

    Upgrade dependency versions
    
    PiperOrigin-RevId: 261341256

1	1	extensions/cast/build.gradle
1	1	extensions/cronet/build.gradle
1	1	extensions/workmanager/build.gradle

commit f2cff05c6914b1f987120e11ab4aedf05de210e7
Author: olly <olly@google.com>
Date:   2019-08-02 18:02:21 +0100

    Remove obsolete workaround
    
    PiperOrigin-RevId: 261340526

0	8	build.gradle

commit 6f014749b3e96d573a081837e92a66805b992de1
Author: olly <olly@google.com>
Date:   2019-08-02 18:05:17 +0100

    Upgrade dependency versions
    
    PiperOrigin-RevId: 261341256

1	1	extensions/cast/build.gradle
1	1	extensions/cronet/build.gradle
1	1	extensions/workmanager/build.gradle

commit 818ef62fb0626f878089a5c50edfe0da49e32a32
Author: olly <olly@google.com>
Date:   2019-08-02 18:02:21 +0100

    Remove obsolete workaround
    
    PiperOrigin-RevId: 261340526

0	8	build.gradle

commit cd7fe05db72011154508087753f85cb198981a45
Author: olly <olly@google.com>
Date:   2019-08-02 16:49:17 +0100

    Constraint seek targetGranule within bounds + simplify tests
    
    PiperOrigin-RevId: 261328701

4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
5	21	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
34	24	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggTestFile.java

commit f497bb96100bf86ba15f01dfe6007757ab9e5b8e
Author: olly <olly@google.com>
Date:   2019-08-02 15:48:44 +0100

    Move DefaultOggSeeker tests into a single class
    
    PiperOrigin-RevId: 261320318

136	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
0	162	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerUtilMethodsTest.java

commit 1da5689ea08a527efebcd9a0391703fa75d7dcc6
Author: olly <olly@google.com>
Date:   2019-08-02 15:29:12 +0100

    Improve extractor tests based on ExtractorAsserts
    
    - Test seeking to (timeUs=0, position=0), which should always work
      and produce the same output as initially reading from the start
      of the stream.
    - Reset the input when testing seeking, to ensure IO errors are
      simulated for this case.
    
    PiperOrigin-RevId: 261317898

13	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java
9	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorInput.java
6	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 3c8c5a3346eb05db16a9125072b8d101b8e222e2
Author: olly <olly@google.com>
Date:   2019-08-02 15:20:35 +0100

    Fix DefaultOggSeeker seeking
    
    - When in STATE_SEEK with targetGranule==0, seeking would exit
      without checking that the input was positioned at the correct
      place.
    - Seeking could fail due to trying to read beyond the end of the
      stream.
    - Seeking was not robust against IO errors during the skip phase
      that occurs after the binary search has sufficiently converged.
    
    PiperOrigin-RevId: 261317035

75	98	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java
45	64	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
7	88	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerUtilMethodsTest.java

commit 80bc50b647b2cf3555f1ba4c2d4cf1900bba8858
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-01 19:36:18 +0100

    Revert to using header bitrate for CBR MP3s
    
    A previous change switched to calculation of the bitrate based on the
    first MPEG audio header in the stream. This had the effect of fixing
    seeking to be consistent with playing from the start for streams where
    every frame has the same padding value, but broke streams where the
    encoder (correctly) modifies the padding value to match the declared
    bitrate in the header.
    
    Issue: #6238
    PiperOrigin-RevId: 261163904

5	3	RELEASENOTES.md
0	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/MpegAudioHeader.java
1	1	library/core/src/test/assets/mp3/play-trimmed.mp3.0.dump
1	1	library/core/src/test/assets/mp3/play-trimmed.mp3.1.dump
1	1	library/core/src/test/assets/mp3/play-trimmed.mp3.2.dump
1	1	library/core/src/test/assets/mp3/play-trimmed.mp3.3.dump

commit f179feb292fca717cf7a1af02b8c31a308810ed2
Author: olly <olly@google.com>
Date:   2019-08-02 16:49:17 +0100

    Constraint seek targetGranule within bounds + simplify tests
    
    PiperOrigin-RevId: 261328701

4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
5	21	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
34	24	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggTestFile.java

commit 173eadc70ed0d63eeab7935d4d3ee3c58ea89fc1
Author: olly <olly@google.com>
Date:   2019-08-02 15:48:44 +0100

    Move DefaultOggSeeker tests into a single class
    
    PiperOrigin-RevId: 261320318

136	1	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
0	162	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerUtilMethodsTest.java

commit 5e98d76e8b5ca816006400fb2e84e44b4d3a90c4
Author: olly <olly@google.com>
Date:   2019-08-02 15:29:12 +0100

    Improve extractor tests based on ExtractorAsserts
    
    - Test seeking to (timeUs=0, position=0), which should always work
      and produce the same output as initially reading from the start
      of the stream.
    - Reset the input when testing seeking, to ensure IO errors are
      simulated for this case.
    
    PiperOrigin-RevId: 261317898

13	4	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java
9	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorInput.java
6	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorOutput.java

commit 91c62ea26f99f04c67fde77cf7380f21d0729e54
Author: olly <olly@google.com>
Date:   2019-08-02 15:20:35 +0100

    Fix DefaultOggSeeker seeking
    
    - When in STATE_SEEK with targetGranule==0, seeking would exit
      without checking that the input was positioned at the correct
      place.
    - Seeking could fail due to trying to read beyond the end of the
      stream.
    - Seeking was not robust against IO errors during the skip phase
      that occurs after the binary search has sufficiently converged.
    
    PiperOrigin-RevId: 261317035

75	98	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java
45	64	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
7	88	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerUtilMethodsTest.java

commit 90ab05c574dd2f9b2ffb635fc3c3c4128040191d
Author: olly <olly@google.com>
Date:   2019-08-02 14:42:14 +0100

    Add DRM samples to Cast demo app
    
    PiperOrigin-RevId: 261312509

39	1	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DemoUtil.java

commit 851218aca931c855247acef48eaa791daa3aae7c
Author: tonihei <tonihei@google.com>
Date:   2019-08-02 14:20:15 +0100

    Fix AnalyticsCollectorTest flakiness.
    
    Two tests have very low propability flakiness (1:1000) due to not waiting for
    a seek in one case and the chance of already being ended in another case.
    
    Fix these and also adjust wrong comments about state changes.
    
    PiperOrigin-RevId: 261309976

7	4	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit 4482db40e1b96e5ead3258cec90a738883ee1f5e
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-02 11:44:48 +0100

    Move output modes to constants file
    
    PiperOrigin-RevId: 261295173

12	11	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
4	9	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
6	4	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.java
15	0	library/core/src/main/java/com/google/android/exoplayer2/C.java

commit 39317048e975042b34dde82283018f41d4880274
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-02 10:27:35 +0100

    Add video decoder exception class
    
    This will be used in common video renderer and decoder classes.
    
    PiperOrigin-RevId: 261287124

3	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoderException.java
40	0	library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderException.java

commit 0887ab059c1e78257ebc45ec86c9807c05094698
Author: tonihei <tonihei@google.com>
Date:   2019-08-02 09:28:17 +0100

    Remove nullablity of track groups and selections in MediaPeriodHolder.
    
    These values can easily default to the empty track group and the empty
    selection. As a result we can remove restrictions about not calling
    holder.getTrackGroups before the period finished preparation.
    
    PiperOrigin-RevId: 261280927

11	9	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
20	28	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
7	2	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectorResult.java
9	1	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java

commit 88b68e5902c52ccf407a074aabd587d9fb473110
Author: Oliver Woodman <olly@google.com>
Date:   2019-08-01 21:06:56 +0100

    Fix ExoPlayerTest

1	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit f5e92134af3c0f112ec8ad7644d7282b7e8e2ce8
Author: olly <olly@google.com>
Date:   2019-08-01 16:32:29 +0100

    Shorten data length if it exceeds length of input
    
    Issue: #6241
    PiperOrigin-RevId: 261126968

2	0	RELEASENOTES.md
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
22	16	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
10	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java

commit 6d20a5cf0cc080f2bff03c60fd8e5321faea2dac
Author: olly <olly@google.com>
Date:   2019-07-31 19:54:12 +0100

    WavExtractor: Skip to data start position if position reset to 0
    
    PiperOrigin-RevId: 260970865

2	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
20	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java

commit c373ff0a1c72c39e811dea1cc0ddb1da3915c28f
Author: olly <olly@google.com>
Date:   2019-07-31 13:27:57 +0100

    Don't print warning when skipping RIFF and FMT chunks
    
    They're not unexpected!
    
    PiperOrigin-RevId: 260907687

5	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java

commit 7ec7aab320eb13a5a1459cb7b158fac1b0c94fc5
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-18 14:15:38 +0100

    Move E-AC3 workaround out of MediaCodecUtil
    
    PiperOrigin-RevId: 244173887

11	2	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit 7162bd81537723c1f92137b3000e0e9c916541cb
Author: olly <olly@google.com>
Date:   2019-08-01 18:39:20 +0100

    Propagate non-standard MIME type aliases
    
    Issue: #5938
    PiperOrigin-RevId: 261150349

4	2	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
25	24	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
86	87	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 23ace1936984238e8dbf616ad5a1751687fcb0c2
Author: olly <olly@google.com>
Date:   2019-08-01 16:14:12 +0100

    Standardize ALAC initialization data
    
    Android considers ALAC initialization data to consider of the magic
    cookie only, where-as FFmpeg requires a full atom. Standardize around
    the Android definition, since it makes more sense (the magic cookie
    being contained within an atom is container specific, where-as the
    decoder shouldn't care what container the media stream is carried in)
    
    Issue: #5938
    PiperOrigin-RevId: 261124155

34	13	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegDecoder.java
1	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit 520275ec71fd886b5f50a834deaaf60038a1650e
Author: olly <olly@google.com>
Date:   2019-08-01 13:06:45 +0100

    Make OggSeeker.startSeek take a granule rather than a time
    
    PiperOrigin-RevId: 261102180

2	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggSeeker.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java

commit 740502103fac125a5ae948ce7b60fcf7d1baff54
Author: olly <olly@google.com>
Date:   2019-08-01 13:05:07 +0100

    Some no-op cleanup for DefaultOggSeeker
    
    PiperOrigin-RevId: 261102008

48	60	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java

commit 4438cdb282b4413c2b2ec0261094ebc95d86cc47
Author: bachinger <bachinger@google.com>
Date:   2019-08-01 12:15:59 +0100

    return lg specific mime type as codec supported type for OMX.lge.alac.decoder
    
    ISSUE: #5938
    PiperOrigin-RevId: 261097045

13	7	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 309d043ceeb9d1adb392ebebf12f7e300b45780c
Author: Oliver Woodman <olly@google.com>
Date:   2019-08-01 20:37:19 +0100

    Merge pull request #6239 from ittiam-systems:vorbis-picture-parse
    
    PiperOrigin-RevId: 261087432

1	1	RELEASENOTES.md
3	0	extensions/flac/proguard-rules.txt
2	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
34	6	extensions/flac/src/main/jni/flac_jni.cc
21	0	extensions/flac/src/main/jni/flac_parser.cc
22	1	extensions/flac/src/main/jni/include/flac_parser.h
144	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/flac/PictureFrame.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/{vorbis => flac}/VorbisComment.java
20	12	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
42	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/flac/PictureFrameTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/{vorbis => flac}/VorbisCommentTest.java
9	5	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java
23	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit e159e3acd0ce45d41dc67ae001ab5bd2a08933cb
Author: olly <olly@google.com>
Date:   2019-08-01 10:34:11 +0100

    Mp3Extractor: Avoid outputting non-zero position seek frame as a sample
    
    Checking inputPosition == 0 isn't sufficient because the synchronization
    at the top of read() may advance the input (i.e. in the case where there's
    some garbage prior to the seek frame).
    
    PiperOrigin-RevId: 261086901

8	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java

commit 3e99e7af547f625ad3a616538947e88adaf7e123
Author: olly <olly@google.com>
Date:   2019-07-31 18:02:21 +0100

    Clean up some Ogg comments & document granulePosition
    
    PiperOrigin-RevId: 260947018

14	14	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
10	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeader.java

commit b5ca187e85930228fee353a29c270af3ea43049b
Author: olly <olly@google.com>
Date:   2019-07-31 16:44:19 +0100

    Mp3Extractor: Avoid outputting seek frame as a sample
    
    This could previously occur when seeking back to position=0
    
    PiperOrigin-RevId: 260933636

5	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java

commit 58e70e8351a2de018f41f91be63f388220268e01
Author: olly <olly@google.com>
Date:   2019-07-30 16:14:06 +0100

    Update javadoc for TrackOutput#sampleData to make it more clear that implementors aren't expected to rewind with setPosition()
    
    PiperOrigin-RevId: 260718614

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/TrackOutput.java

commit 8c1b60f2db09ce063d5f3815c74ee02f1d54a257
Author: olly <olly@google.com>
Date:   2019-07-29 22:41:58 +0100

    Tweak Firebase JobDispatcher extension README
    
    PiperOrigin-RevId: 260583198

0	1	extensions/jobdispatcher/README.md

commit 5eab519925c0d125074f770eae722121700ef2c5
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-08-01 19:36:18 +0100

    Revert to using header bitrate for CBR MP3s
    
    A previous change switched to calculation of the bitrate based on the
    first MPEG audio header in the stream. This had the effect of fixing
    seeking to be consistent with playing from the start for streams where
    every frame has the same padding value, but broke streams where the
    encoder (correctly) modifies the padding value to match the declared
    bitrate in the header.
    
    Issue: #6238
    PiperOrigin-RevId: 261163904

2	0	RELEASENOTES.md
0	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/MpegAudioHeader.java
1	1	library/core/src/test/assets/mp3/play-trimmed.mp3.0.dump
1	1	library/core/src/test/assets/mp3/play-trimmed.mp3.1.dump
1	1	library/core/src/test/assets/mp3/play-trimmed.mp3.2.dump
1	1	library/core/src/test/assets/mp3/play-trimmed.mp3.3.dump

commit 42d3ca273ba94c85169f8a6697a8e9282a4a5737
Author: olly <olly@google.com>
Date:   2019-08-01 18:39:20 +0100

    Propagate non-standard MIME type aliases
    
    Issue: #5938
    PiperOrigin-RevId: 261150349

2	0	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
20	21	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
63	53	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 4c40878b6b8d6662fd12e4068ed885e7332e2701
Author: olly <olly@google.com>
Date:   2019-08-01 16:32:29 +0100

    Shorten data length if it exceeds length of input
    
    Issue: #6241
    PiperOrigin-RevId: 261126968

2	0	RELEASENOTES.md
3	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
22	16	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
10	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java

commit 79b86de619c5b43fc70680e85518b79db87b1153
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-08-01 16:22:17 +0100

    Use per-media source DRM in the Cast demo app
    
    PiperOrigin-RevId: 261125341

16	0	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/MainActivity.java
109	7	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
4	0	demos/cast/src/main/res/values/strings.xml

commit cb8983afd10af000443119fcf3b4f0dcc7637749
Author: olly <olly@google.com>
Date:   2019-08-01 16:14:12 +0100

    Standardize ALAC initialization data
    
    Android considers ALAC initialization data to consider of the magic
    cookie only, where-as FFmpeg requires a full atom. Standardize around
    the Android definition, since it makes more sense (the magic cookie
    being contained within an atom is container specific, where-as the
    decoder shouldn't care what container the media stream is carried in)
    
    Issue: #5938
    PiperOrigin-RevId: 261124155

34	13	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegDecoder.java
1	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit 95ed5ce65d278d9793f409535a3035e8977cb6e9
Author: olly <olly@google.com>
Date:   2019-08-01 13:06:45 +0100

    Make OggSeeker.startSeek take a granule rather than a time
    
    PiperOrigin-RevId: 261102180

2	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggSeeker.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/StreamReader.java

commit cbc1385fd32b55e44768df5416d323936541ff07
Author: olly <olly@google.com>
Date:   2019-08-01 13:05:07 +0100

    Some no-op cleanup for DefaultOggSeeker
    
    PiperOrigin-RevId: 261102008

48	60	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java

commit 1bb0703f2b61f0093d80c65211cd51ba30fd6f03
Author: bachinger <bachinger@google.com>
Date:   2019-08-01 12:15:59 +0100

    return lg specific mime type as codec supported type for OMX.lge.alac.decoder
    
    ISSUE: #5938
    PiperOrigin-RevId: 261097045

13	7	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit b2c71e8b3f5162f74e33295009b3dd4a10d51f4b
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-08-01 10:55:50 +0100

    Extract VpxInputBuffer to a common class
    
    This class will be shared by both vp9 and av1 extension.
    
    PiperOrigin-RevId: 261089225

3	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
8	9	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
5	8	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxInputBuffer.java => library/core/src/main/java/com/google/android/exoplayer2/video/VideoDecoderInputBuffer.java

commit b57aa34b66554097b0ea2296b05c828847e1fdd2
Merge: a2cf427b4 27a4f96cb
Author: Oliver Woodman <olly@google.com>
Date:   2019-08-01 20:37:19 +0100

    Merge pull request #6239 from ittiam-systems:vorbis-picture-parse
    
    PiperOrigin-RevId: 261087432

commit a2cf427b4b2f6c4922d5f6c108f830e7460cdafd
Author: olly <olly@google.com>
Date:   2019-08-01 10:34:11 +0100

    Mp3Extractor: Avoid outputting non-zero position seek frame as a sample
    
    Checking inputPosition == 0 isn't sufficient because the synchronization
    at the top of read() may advance the input (i.e. in the case where there's
    some garbage prior to the seek frame).
    
    PiperOrigin-RevId: 261086901

8	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java

commit 561949a2251b6fc8c96f36771328c0a5e43fe4e2
Author: tonihei <tonihei@google.com>
Date:   2019-08-01 09:45:57 +0100

    Remove AnalyticsCollector.Factory.
    
    This factory was only needed in the past when we didn't have
    AnalyticsCollector.setPlayer. Code becomes easier to use without this factory.
    
    PiperOrigin-RevId: 261081860

2	0	RELEASENOTES.md
14	14	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
10	9	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
2	25	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit 526cc72e0490760f723d50695d7a46fcf11059e5
Author: olly <olly@google.com>
Date:   2019-07-31 19:54:12 +0100

    WavExtractor: Skip to data start position if position reset to 0
    
    PiperOrigin-RevId: 260970865

2	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavExtractor.java
20	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java

commit 288aa52decf6afacf90964f2d3a425c152677fea
Author: olly <olly@google.com>
Date:   2019-07-31 18:02:21 +0100

    Clean up some Ogg comments & document granulePosition
    
    PiperOrigin-RevId: 260947018

14	14	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeeker.java
10	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeader.java

commit 80ab74748d3e8ee0a2c393830a2cc7593704af0a
Author: olly <olly@google.com>
Date:   2019-07-31 16:44:19 +0100

    Mp3Extractor: Avoid outputting seek frame as a sample
    
    This could previously occur when seeking back to position=0
    
    PiperOrigin-RevId: 260933636

5	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java

commit af8f67c0686ecd6c12562aa55f0b4dd8edc8751b
Author: olly <olly@google.com>
Date:   2019-07-31 13:27:57 +0100

    Don't print warning when skipping RIFF and FMT chunks
    
    They're not unexpected!
    
    PiperOrigin-RevId: 260907687

5	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java

commit 6f2e24915d98a869f9ea360a1aa967bf8fcfed4b
Author: tonihei <tonihei@google.com>
Date:   2019-07-31 11:16:48 +0100

    Add @NonNullApi and annotate two packages with it.
    
    This new annotation declares everything as non-null by default and can be
    used as a package annotation in package-info.java.
    
    In this change the core lib offline package and the mediasession extension is
    annotated that way as initial example usage.
    
    PiperOrigin-RevId: 260894548

1	0	constants.gradle
19	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/package-info.java
3	0	library/core/build.gradle
19	0	library/core/src/main/java/com/google/android/exoplayer2/offline/package-info.java
36	0	library/core/src/main/java/com/google/android/exoplayer2/util/NonNullApi.java

commit 78350cd17dd2dd03441267a2cbe3df0fe6a614c5
Author: olly <olly@google.com>
Date:   2019-07-30 16:14:06 +0100

    Update javadoc for TrackOutput#sampleData to make it more clear that implementors aren't expected to rewind with setPosition()
    
    PiperOrigin-RevId: 260718614

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/TrackOutput.java

commit ce2e2797cb0a91496c27ee8650a90c064c05e935
Author: tonihei <tonihei@google.com>
Date:   2019-07-30 12:47:31 +0100

    Improve DefaultMediaClock behaviour.
    
    DefaultMediaClock has currently two non-ideal behaviours:
    1. One part of checking if it should use the renderer clock is checking whether
       the associated renderer finished reading its stream. This only makes sense
       if the renderer isn't already reading ahead into the next period. This can
       be solved by forwarding if we are reading ahead to the sync command.
    2. When switching from stand-alone to renderer clock we assume they are
       exactly at the same position. This is true in theory, but in practise there
       may be small differences due to the different natures of these clocks. To
       prevent jumping backwards in time, we can temporarily stop the stand-alone
       clock and only switch once the renderer clock reached the same position.
    
    PiperOrigin-RevId: 260690468

54	34	library/core/src/main/java/com/google/android/exoplayer2/DefaultMediaClock.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
54	25	library/core/src/test/java/com/google/android/exoplayer2/DefaultMediaClockTest.java

commit 39d5867c978e1c4e117aacbbbc4d378457fa4773
Author: tonihei <tonihei@google.com>
Date:   2019-07-30 11:32:40 +0100

    Make blocking fixed track bandwidth the default and remove experimental flag.
    
    PiperOrigin-RevId: 260682878

29	47	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
3	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java

commit 40926618ad887b72221e2301ab8e7118925cbcb1
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-30 11:21:52 +0100

    Return the removed media source from ConcatenatingMediaSource.removeMediaSource
    
    PiperOrigin-RevId: 260681773

8	2	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java

commit 58006ac3adf61504b83f4ac879ab2c663d0037ec
Author: olly <olly@google.com>
Date:   2019-07-29 22:41:58 +0100

    Tweak Firebase JobDispatcher extension README
    
    PiperOrigin-RevId: 260583198

2	3	extensions/jobdispatcher/README.md

commit 27a4f96cb17b727935f85e5a8c99e766b0711c72
Author: Venkatarama NG. Avadhani <venkatarama.avadhani@ittiam.com>
Date:   2019-07-30 11:47:33 +0530

    Clean up FLAC picture parsing

2	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
21	27	extensions/flac/src/main/jni/flac_jni.cc
17	13	extensions/flac/src/main/jni/flac_parser.cc
7	7	extensions/flac/src/main/jni/include/flac_parser.h
4	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/flac/PictureFrame.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/flac/{PictureTest.java => PictureFrameTest.java}
4	4	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java
14	7	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit f5980a54a3f96537f8b905b9df47d722a6c3f8a0
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-29 16:08:37 +0100

    Ensure the SilenceMediaSource position is in range
    
    Issue: #6229
    PiperOrigin-RevId: 260500986

2	0	RELEASENOTES.md
8	2	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java

commit 8be78d47ac5eeac8ae7b21abbe6e61c8f887f10e
Author: olly <olly@google.com>
Date:   2019-07-29 20:26:53 +0100

    Cast: Add JSON serialization/deserialization for MediaItem
    
    This will allow the Cast extension to reconstruct MediaItems from MediaQueueItems
    obtained from the receiver's queue.
    
    PiperOrigin-RevId: 260554381

107	21	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultMediaItemConverter.java
7	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/MediaItemConverter.java
66	0	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/DefaultMediaItemConverterTest.java

commit 46855884f583f95680e5928a0613ce494d08be58
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-29 20:22:00 +0100

    Fix samples' text in Cast demo app
    
    PiperOrigin-RevId: 260553467

10	0	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/MainActivity.java

commit 961adb7e36f409c6a51e0d7f6ace017e3a23cd49
Author: olly <olly@google.com>
Date:   2019-07-29 19:54:39 +0100

    Cast: Add MediaItemConverter
    
    For now this just moves some code from the demo app to the extension.
    Eventually the goal would be to have CastPlayer playlist methods take
    MediaItem, have CastPlayer convert them internally to MediaQueueItem
    for sending to the Cast SDK, and also allow reverse conversion so we
    can reconstruct MediaItems from the Cast SDK's queue.
    
    PiperOrigin-RevId: 260548020

6	53	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
81	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultMediaItemConverter.java
32	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/MediaItemConverter.java

commit 06f94815050b9f9e990c7c9d3d7b7eb0bbebecc1
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-29 17:41:04 +0100

    Support different drm schemes in playlists in the demo app
    
    This CL changes PlayerActivity's VIEW_LIST action intent contract:
    Each media item configuration is provided by indexing the entries.
    For example, the URI of the first item is passed as "uri_0", the
    second one is "uri_1", etc. Optionally, the extra parameters, like
    the extensions, are passed as "extension_1", where the intent extras
    with matching indices, refer to the same media sample.
    
    The VIEW action's contract remains unchanged.
    
    PiperOrigin-RevId: 260518118

141	116	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
187	0	demos/main/src/main/java/com/google/android/exoplayer2/demo/Sample.java
21	127	demos/main/src/main/java/com/google/android/exoplayer2/demo/SampleChooserActivity.java
2	0	demos/main/src/main/res/values/strings.xml

commit 3051e5e9adcb059d9692d5f05ffd2e6377eeda70
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-29 16:08:37 +0100

    Ensure the SilenceMediaSource position is in range
    
    Issue: #6229
    PiperOrigin-RevId: 260500986

2	0	RELEASENOTES.md
8	2	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java

commit d77d661e5283cb3ae55cbc2f29098e2f964e30b5
Author: olly <olly@google.com>
Date:   2019-07-29 13:41:48 +0100

    Default viewport constraints to match primary display
    
    PiperOrigin-RevId: 260479923

2	0	RELEASENOTES.md
1	6	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
1	2	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/PlayerActivity.java
10	9	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
2	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
1	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
1	1	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
1	1	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerFactory.java
98	15	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
64	12	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
56	63	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
3	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadHelperTest.java
3	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/DownloadHelperTest.java
3	1	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/offline/DownloadHelperTest.java
1	3	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit 7703676c87a220277dbb89f80a53e164e01451cb
Author: tonihei <tonihei@google.com>
Date:   2019-07-29 11:06:50 +0100

    Swap reading and playing media period updates.
    
    Both periods are rarely updated in the same iteration. If they are, advancing
    the reading period first seems more logical and also more efficient as it may
    avoid one extra doSomeWork iteration.
    
    PiperOrigin-RevId: 260463735

27	27	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 846e0666dfe3de143668fcbfe932a14995893763
Author: tonihei <tonihei@google.com>
Date:   2019-07-29 11:06:24 +0100

    Restructure updatePeriods code for better readability.
    
    Moved update of reading and playing periods in their own respective method.
    This is a no-op change.
    
    PiperOrigin-RevId: 260463668

94	70	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java

commit ea64ecf2c40854deed3120d2fb38b68f67ec516d
Author: Venkatarama NG. Avadhani <venkatarama.avadhani@ittiam.com>
Date:   2019-07-29 14:24:42 +0530

    Parse Picture Metadata in FLAC

2	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
50	10	extensions/flac/src/main/jni/flac_jni.cc
19	0	extensions/flac/src/main/jni/flac_parser.cc
21	0	extensions/flac/src/main/jni/include/flac_parser.h
154	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/flac/PictureFrame.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/{vorbis => flac}/VorbisComment.java
11	5	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamMetadata.java
43	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/flac/PictureTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/metadata/{vorbis => flac}/VorbisCommentTest.java
13	5	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java
19	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit d279c3d281a7affcbc72a4b81ad2dddf088e0303
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-28 20:29:55 +0100

    Update README.md

1	1	extensions/jobdispatcher/README.md

commit d395db97df3f493fe9fe4913f81cf83d934eac38
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-28 20:29:29 +0100

    Update README.md

1	5	extensions/jobdispatcher/README.md

commit e56deba9fe3bd5108a91bea9caa46e3297d2758e
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-28 20:27:35 +0100

    Update README.md

2	0	extensions/jobdispatcher/README.md

commit 926ad198229fd19286a562790880699c4d916209
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-28 20:26:55 +0100

    Update README.md

4	2	extensions/jobdispatcher/README.md

commit 9c88e54837f4b9f7ac0ef885597d09c6b64e8115
Author: eguven <eguven@google.com>
Date:   2019-05-21 16:01:24 +0100

    Deprecate JobDispatcherScheduler
    
    PiperOrigin-RevId: 249250184

4	0	extensions/jobdispatcher/README.md
3	0	extensions/jobdispatcher/src/main/java/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.java

commit d76bf4bfcae925c2bd3799225f9ba5b8ca5aa96d
Author: olly <olly@google.com>
Date:   2019-07-26 18:07:02 +0100

    Bump version to 2.10.4
    
    PiperOrigin-RevId: 260164426

2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 95d2988490f7335474059154cdc7807150a253d1
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-26 17:20:45 +0100

    Fix handling of channel count changes with speed adjustment
    
    When using speed adjustment it was possible for playback to get stuck at a
    period transition when the channel count changed: SonicAudioProcessor would be
    drained at the point of the period transition in preparation for creating a new
    AudioTrack with the new channel count, but during draining the incorrect (new)
    channel count was used to calculate the output buffer size for pending data from
    Sonic. This meant that, for example, if the channel count changed from stereo to
    mono we could have an output buffer size that stored an non-integer number of
    audio frames, and in turn this would cause writing to the AudioTrack to get
    stuck as the AudioTrack would prevent writing a partial audio frame.
    
    Use Sonic's current channel count when draining output to fix the issue.
    
    PiperOrigin-RevId: 260156541

4	3	library/core/src/main/java/com/google/android/exoplayer2/audio/Sonic.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java

commit 09835c454bfb9a5b542290a4028472bb1d53b378
Author: olly <olly@google.com>
Date:   2019-07-26 18:07:02 +0100

    Bump version to 2.10.4
    
    PiperOrigin-RevId: 260164426

14	10	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 6f7b765a1cf9ba78bf5c1c793d03fc2c754c2ede
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-26 17:20:45 +0100

    Fix handling of channel count changes with speed adjustment
    
    When using speed adjustment it was possible for playback to get stuck at a
    period transition when the channel count changed: SonicAudioProcessor would be
    drained at the point of the period transition in preparation for creating a new
    AudioTrack with the new channel count, but during draining the incorrect (new)
    channel count was used to calculate the output buffer size for pending data from
    Sonic. This meant that, for example, if the channel count changed from stereo to
    mono we could have an output buffer size that stored an non-integer number of
    audio frames, and in turn this would cause writing to the AudioTrack to get
    stuck as the AudioTrack would prevent writing a partial audio frame.
    
    Use Sonic's current channel count when draining output to fix the issue.
    
    PiperOrigin-RevId: 260156541

4	3	library/core/src/main/java/com/google/android/exoplayer2/audio/Sonic.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/SonicAudioProcessor.java

commit 70978cee78ff83959b7937c74b0902f0c25480e5
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-26 17:01:47 +0100

    Update release notes

9	8	RELEASENOTES.md

commit 0b756a9646e3e979a2645219acc4fd6fec960e2b
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-18 19:40:34 +0100

    Merge pull request #6042 from Timbals:dev-v2
    
    PiperOrigin-RevId: 258812820

2	0	RELEASENOTES.md
2	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java
34	5	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
24	4	library/core/src/main/java/com/google/android/exoplayer2/util/NotificationUtil.java
55	5	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 78d6393213bdb8973508a2b91ff38046af723c9e
Author: olly <olly@google.com>
Date:   2019-07-26 16:08:56 +0100

    Add A10-70L to output surface workaround
    
    Issue: #6222
    PiperOrigin-RevId: 260146226

1	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 97e98ab4ed6a7bed687777a17e9a1c4d853c8a92
Author: olly <olly@google.com>
Date:   2019-07-23 19:59:55 +0100

    Cast: Remove obsolete flavor dimension
    
    PiperOrigin-RevId: 259582498

0	11	demos/cast/build.gradle
1	1	demos/cast/src/main/AndroidManifest.xml

commit 40fd11d9e8fe094a8cf2d3d66c2d00407c423897
Author: tonihei <tonihei@google.com>
Date:   2019-07-18 16:18:49 +0100

    Further language normalization tweaks for API < 21.
    
    1. Using the Locale on API<21 doesn't make any sense because it's a no-op
       anyway. Slightly restructured the code to avoid that.
    2. API<21 often reports languages with non-standard underscores instead of
       dashes. Normalize that too.
    3. Some invalid language tags on API>21 get normalized to "und". Use original
       tag in such a case.
    
    Issue:#6153
    PiperOrigin-RevId: 258773463

3	0	RELEASENOTES.md
28	29	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
15	0	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit f82920926d107252f3bceea78c8a5da215b43d47
Author: tonihei <tonihei@google.com>
Date:   2019-07-18 10:08:19 +0100

    Switch language normalization to 2-letter language codes.
    
    2-letter codes (ISO 639-1) are the standard Android normalization and thus we
    should prefer them to 3-letter codes (although both are technically allowed
    according the BCP47).
    
    This helps in two ways:
     1. It simplifies app interaction with our normalized language codes as the
        Locale class makes it easy to convert a 2-letter to a 3-letter code but
        not the other way round.
     2. It better normalizes codes on API<21 where we previously had issues with
        language+country codes (see tests).
     3. It allows us to normalize both ISO 639-2/T and ISO 639-2/B codes to the same
        language.
    
    PiperOrigin-RevId: 258729728

2	0	RELEASENOTES.md
5	5	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
70	10	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
36	10	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit e181d4bd3520756a590078b6248a891e915c0977
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-17 18:22:04 +0100

    Fix DataSchemeDataSource re-opening and range requests
    
    Issue:#6192
    PiperOrigin-RevId: 258592902

2	0	RELEASENOTES.md
20	10	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSchemeDataSource.java
56	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSchemeDataSourceTest.java

commit 962d5e7040d1aeb6e1098488851965e42f862e33
Author: tonihei <tonihei@google.com>
Date:   2019-07-17 17:33:36 +0100

    Keep default start position (TIME_UNSET) as content position for preroll ads.
    
    If we use the default start position, we currently resolve it immediately
    even if we need to play an ad first, and later try to project forward again
    if we believe that the default start position should be used.
    
    This causes problems if a specific start position is set and the later
    projection after the preroll ad shouldn't take place.
    
    The problem is solved by keeping the content position as TIME_UNSET (= default
    position) if an ad needs to be played first. The content after the ad can
    then be resolved to its current default position if needed.
    
    PiperOrigin-RevId: 258583948

1	0	RELEASENOTES.md
3	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
5	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodInfo.java
12	9	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
51	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit fa691035d3cb51debd041fa10d157b68aa8294a0
Author: olly <olly@google.com>
Date:   2019-07-17 10:10:39 +0100

    Extend RK video_decoder workaround to newer API levels
    
    Issue: #6184
    PiperOrigin-RevId: 258527533

2	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit bba0a27cb6fda742e29ef31aa5b52889076fb181
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-14 16:24:00 +0100

    Merge pull request #6151 from ittiam-systems:bug-5527
    
    PiperOrigin-RevId: 257668797

2	0	RELEASENOTES.md
1	1	extensions/flac/proguard-rules.txt
8	2	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
11	11	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
5	5	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
8	8	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
30	26	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
34	10	extensions/flac/src/main/jni/flac_jni.cc
22	0	extensions/flac/src/main/jni/flac_parser.cc
14	0	extensions/flac/src/main/jni/include/flac_parser.h
19	9	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
99	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/vorbis/VorbisComment.java
45	15	library/core/src/main/java/com/google/android/exoplayer2/util/{FlacStreamInfo.java => FlacStreamMetadata.java}
42	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/vorbis/VorbisCommentTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/util/ColorParserTest.java
83	0	library/core/src/test/java/com/google/android/exoplayer2/util/FlacStreamMetadataTest.java

commit b6777e030e7cec89ef7b735515be8c2d0ef5bb82
Author: olly <olly@google.com>
Date:   2019-07-06 11:09:36 +0100

    Remove some UI classes from nullness blacklist
    
    PiperOrigin-RevId: 256751627

8	6	library/ui/src/main/java/com/google/android/exoplayer2/ui/AspectRatioFrameLayout.java
7	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
10	5	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java

commit b5e3ae454249af6b5932145d2a417452d113f53a
Author: olly <olly@google.com>
Date:   2019-07-05 17:07:38 +0100

    Add Nullable annotations to CastPlayer
    
    PiperOrigin-RevId: 256680382

17	9	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit 383c0adcca44a907699b3873489a17563ad5f064
Author: olly <olly@google.com>
Date:   2019-07-04 20:02:20 +0100

    Remove more low hanging fruit from nullness blacklist
    
    PiperOrigin-RevId: 256573352

17	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/ScriptTagPayloadReader.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Track.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/TrackEncryptionBox.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/text/SimpleSubtitleDecoder.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/text/SubtitleOutputBuffer.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/text/pgs/PgsDecoder.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaSubtitle.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripSubtitle.java
11	5	library/core/src/main/java/com/google/android/exoplayer2/text/tx3g/Tx3gDecoder.java

commit a2a14146231a803ecc5bd3a0afde0cfa0e842d7b
Author: olly <olly@google.com>
Date:   2019-07-04 11:38:48 +0100

    Remove FlacExtractor from nullness blacklist
    
    PiperOrigin-RevId: 256526365

1	0	extensions/flac/build.gradle
31	11	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java

commit 008efd10a4ba4aff4c68be7be5c46601e79373c1
Author: olly <olly@google.com>
Date:   2019-07-04 11:32:20 +0100

    Make FlacExtractor output methods static
    
    This gives a caller greater confidence that the methods have no
    side effects, and remove any nullness issues with these methods
    accessing @Nullable member variables.
    
    PiperOrigin-RevId: 256525739

41	24	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java

commit 98714235ad93caee62f586c6fa66f3fe3b9b572a
Author: olly <olly@google.com>
Date:   2019-07-04 11:23:52 +0100

    Simplify FlacExtractor (step toward enabling nullness checking)
    
    - Inline some unnecessarily split out helper methods
    - Clear ExtractorInput from FlacDecoderJni data after usage
    - Clean up exception handling for StreamInfo decode failures
    
    PiperOrigin-RevId: 256524955

2	2	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
1	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorTest.java
4	4	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
23	11	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
83	99	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java

commit 67ad84f121767da42b185aa475daa9105724aa66
Author: olly <olly@google.com>
Date:   2019-07-02 19:15:08 +0100

    Remove more classes from nullness blacklist
    
    PiperOrigin-RevId: 256202135

2	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultCastOptionsProvider.java
2	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
25	17	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
1	0	extensions/opus/build.gradle
2	0	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusDecoder.java
3	3	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusLibrary.java
4	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
4	3	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxLibrary.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleDecoder.java

commit f045bb2d0791dba27752269d5262195d0fb39720
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-20 15:12:57 +0100

    Merge pull request #5617 from loki666:workmanager
    
    PiperOrigin-RevId: 248533906

4	0	RELEASENOTES.md
2	0	core_settings.gradle
22	0	extensions/workmanager/README.md
49	0	extensions/workmanager/build.gradle
18	0	extensions/workmanager/src/main/AndroidManifest.xml
161	0	extensions/workmanager/src/main/java/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.java

commit 9c41bcfe2445bc188b83fe354a7262bde4294b94
Author: olly <olly@google.com>
Date:   2019-07-26 16:08:56 +0100

    Add A10-70L to output surface workaround
    
    Issue: #6222
    PiperOrigin-RevId: 260146226

1	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 596be3b71ba1e37fe02dd82b13d3042d97711ff9
Author: olly <olly@google.com>
Date:   2019-07-25 22:32:04 +0100

    Cast: Simplify MediaItem/Sample to a single MediaItem class
    
    PiperOrigin-RevId: 260021990

20	68	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DemoUtil.java
6	25	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/MainActivity.java
20	18	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
79	146	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/MediaItem.java
23	33	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/MediaItemTest.java

commit 1b9e2497ff0fc451f31a155424b17347047187af
Author: sofijajvc <sofijajvc@google.com>
Date:   2019-07-25 11:42:11 +0100

    Add comment about AV1 levels
    
    PiperOrigin-RevId: 259918196

2	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 074307dd4c4a591dd851afe3a7ce315505585ffc
Author: tonihei <tonihei@google.com>
Date:   2019-07-24 15:34:29 +0100

    Improve knowledge of last playing period in AnalyticsCollector.
    
    We keep track of the last publicly known playing period to report it as part
    of events happening after the period has been released.
    
    In cases where a period briefly becomes the playing one and is released
    immediately afterwards, we currently don't save it as the "last known playing
    one". Improve that by saving an explicit reference.
    
    Issue:#5407
    PiperOrigin-RevId: 259737218

1	1	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
9	10	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java

commit 59331c3c887ce8d42b76aa2e1c46106028f862dc
Author: tonihei <tonihei@google.com>
Date:   2019-07-24 15:34:07 +0100

    Report mediaPeriodCreated/Released in MaskingMediaSource.
    
    Creating a period in MaskingMediaSource may result in delayed event reporting
    depending on when the actual period gets created. To avoid event reporting
    inaccuracies, report the mediaPeriodCreated and mediaPeriodReleased events
    directly.
    
    Issue:#5407
    PiperOrigin-RevId: 259737170

24	6	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java
19	2	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java

commit a0ca79abcc97f010cc829b05d9e98e5524aed450
Author: tonihei <tonihei@google.com>
Date:   2019-07-24 12:17:05 +0100

    Fix doc for preferred audio and text language.
    
    Both tags allow any BCP47 compliant code, not just the ISO 639-2/T ones.
    
    PiperOrigin-RevId: 259714587

5	19	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java

commit e84d88e90f62d1755317cd692496bac58c5b07d3
Author: tonihei <tonihei@google.com>
Date:   2019-07-24 11:05:27 +0100

    Simplify and improve text selection logic.
    
    This changes the logic in the following ways:
     - If no preferred language is matched, prefer better scores for the selected
       audio language.
     - If a preferred language is matched, always prefer the better match
       irrespective of default or forced flags.
     - If a preferred language score and the isForced flag is the same, prefer
       tracks with a better selected audio language match.
    
    PiperOrigin-RevId: 259707430

2	0	RELEASENOTES.md
15	20	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit feb807897f2aca8a6360b356f36689888c1a88ab
Merge: 7d2bfdfc6 8b554dc30
Author: Toni <tonihei@google.com>
Date:   2019-07-24 12:33:37 +0100

    Merge pull request #6178 from xirac:feature/text-track-score
    
    PiperOrigin-RevId: 259707359

commit 7d2bfdfc626aab2e561d25818b5910ee738ebc1f
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-24 08:23:28 +0100

    Add AudioFocusGain IntDef in AudioFocusManager
    
    PiperOrigin-RevId: 259687632

4	3	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioFocusManager.java

commit 5e88621ab00d1192c73f4dc792b8d16f136b93ad
Author: olly <olly@google.com>
Date:   2019-07-23 22:12:49 +0100

    Make LibopusAudioRenderer non-final
    
    PiperOrigin-RevId: 259608495

2	4	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java

commit 223cc5f1794b18c693e48ec8b8281a11da942223
Author: olly <olly@google.com>
Date:   2019-07-23 20:21:10 +0100

    Cast extension: Remove unused parts of MediaItem
    
    PiperOrigin-RevId: 259586520

5	11	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/MainActivity.java
7	133	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/MediaItem.java
9	57	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/MediaItemTest.java

commit 2c318d7b8472917a11930659fa1afa1bdd057cf7
Author: olly <olly@google.com>
Date:   2019-07-23 19:59:55 +0100

    Cast: Remove obsolete flavor dimension
    
    PiperOrigin-RevId: 259582498

0	11	demos/cast/build.gradle
1	1	demos/cast/src/main/AndroidManifest.xml

commit 39574b5a614b134ae65b6d95175ae659daa0eddc
Author: tonihei <tonihei@google.com>
Date:   2019-07-23 15:33:29 +0100

    Make one of the ExoPlayerTest tests more sensible.
    
    Some variables were defined although they are the default and other things
    were set-up in a non-sensible way, e.g. asserting that audio is selected
    although no audio renderer is available, or using unset duration for
    everything.
    
    PiperOrigin-RevId: 259532782

7	11	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit e5b3c32c983bb5b4c328a6793b50f167104afef8
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-23 15:07:43 +0100

    Remove DrmSessionManager from Renderer creation in the main demo app
    
    PiperOrigin-RevId: 259529691

1	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java

commit 3c3777d4debacbd714acde2e264470aee6eba445
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-23 14:20:00 +0100

    Fix release of DecryptableSampleQueueReaders in ProgressiveMediaPeriod
    
    PiperOrigin-RevId: 259523450

6	3	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit 2a8cf2f5efa97bd4bcdc2a25cd93fb17f0d2d922
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-23 13:53:59 +0100

    Plumb DrmSessionManager into HlsMediaSource
    
    PiperOrigin-RevId: 259520431

3	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
8	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
23	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
4	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStream.java
47	16	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
2	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java

commit e6bafec41842a30495018231416a72371417afa7
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-23 08:02:24 +0100

    Deduplicate ID3 header constants
    
    PiperOrigin-RevId: 259479785

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/Id3Peeker.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Extractor.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac4Extractor.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java
6	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Id3Reader.java

commit 3a53543a9af343e23d34af6fdfa551d9baf05464
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-22 19:27:05 +0100

    Move HLS DrmInitData adjustment to the writing side
    
    + Emulates what's done for ID3 stripping.
    + Also avoid a copy if fields will not change because of the
      copy.
    
    PiperOrigin-RevId: 259369101

10	30	library/core/src/main/java/com/google/android/exoplayer2/Format.java
0	20	library/core/src/main/java/com/google/android/exoplayer2/source/DecryptableSampleQueueReader.java
15	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 8b554dc30a8d17f1f9d64b72e079e5c2bb82c31e
Author: Yannick RUI <yannick.rui@netplus.pro>
Date:   2019-07-19 08:38:47 +0200

    Improve code readability and fix an issue with text tracks that should not be selected

30	32	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit 0e7f015020b515d0b33e3d80c41448ae35488293
Merge: 421f6e030 04524a688
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-18 19:40:34 +0100

    Merge pull request #6042 from Timbals:dev-v2
    
    PiperOrigin-RevId: 258812820

commit 421f6e0303d324010a7e2c32c6b5fa9fe36987be
Author: olly <olly@google.com>
Date:   2019-07-18 18:37:55 +0100

    Add AV1 HDR profile recognition
    
    Recognize AV1ProfileMain10HDR when getting codec profile and level.
    
    PiperOrigin-RevId: 258799457

10	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
68	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtilTest.java

commit 08624113d409a448b4aa227c9532c4eedeeb2266
Author: tonihei <tonihei@google.com>
Date:   2019-07-18 17:40:57 +0100

    Correctly mask playback info changes in ExoPlayerImpl.
    
    PlaybackInfo changes are one of the last ones not masked and reported in the same
    way as all other changes.
    
    The main change to support this is to also mask the parameters set in
    DefaultAudioSink.
    
    PiperOrigin-RevId: 258787744

5	6	library/core/src/main/java/com/google/android/exoplayer2/DefaultMediaClock.java
22	5	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
22	6	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
4	7	library/core/src/main/java/com/google/android/exoplayer2/Player.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioSink.java
10	11	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
4	5	library/core/src/main/java/com/google/android/exoplayer2/util/MediaClock.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/util/StandaloneMediaClock.java
9	39	library/core/src/test/java/com/google/android/exoplayer2/DefaultMediaClockTest.java
90	3	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit aeb2fefe483323ed07ab1e0881ae351fedda13c9
Author: tonihei <tonihei@google.com>
Date:   2019-07-18 16:18:49 +0100

    Further language normalization tweaks for API < 21.
    
    1. Using the Locale on API<21 doesn't make any sense because it's a no-op
       anyway. Slightly restructured the code to avoid that.
    2. API<21 often reports languages with non-standard underscores instead of
       dashes. Normalize that too.
    3. Some invalid language tags on API>21 get normalized to "und". Use original
       tag in such a case.
    
    Issue:#6153
    PiperOrigin-RevId: 258773463

3	0	RELEASENOTES.md
28	29	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
15	0	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java

commit e4f849076c01b2327a9083bfa5d62f0d877149e3
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-18 14:00:18 +0100

    Remove unused extractor constructors
    
    PiperOrigin-RevId: 258754710

1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.java
2	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Extractor.java
1	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac4Extractor.java
6	12	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java
1	3	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorSeekTest.java
1	4	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorTest.java

commit c67f18764f038f8a39a1c6aaacea5458f136427d
Author: olly <olly@google.com>
Date:   2019-07-18 13:45:00 +0100

    Move Format equality check back to write side of sample queue
    
    PiperOrigin-RevId: 258752996

15	4	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
29	2	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java

commit e25340be3d424f8cdba2531984e2db6624382392
Author: olly <olly@google.com>
Date:   2019-07-18 12:40:40 +0100

    Pass format instead of codec string when getting profile and level
    
    AV1 profile recognition requires additional info contained in format.
    
    PiperOrigin-RevId: 258746315

14	15	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
14	15	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
41	3	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtilTest.java

commit c779e84cbb911b33357a909624804a5870b99340
Author: tonihei <tonihei@google.com>
Date:   2019-07-18 10:08:19 +0100

    Switch language normalization to 2-letter language codes.
    
    2-letter codes (ISO 639-1) are the standard Android normalization and thus we
    should prefer them to 3-letter codes (although both are technically allowed
    according the BCP47).
    
    This helps in two ways:
     1. It simplifies app interaction with our normalized language codes as the
        Locale class makes it easy to convert a 2-letter to a 3-letter code but
        not the other way round.
     2. It better normalizes codes on API<21 where we previously had issues with
        language+country codes (see tests).
     3. It allows us to normalize both ISO 639-2/T and ISO 639-2/B codes to the same
        language.
    
    PiperOrigin-RevId: 258729728

2	0	RELEASENOTES.md
5	5	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
70	10	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
36	10	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 80d5dabd525727f55a4ad5b74ba67d58b1a9fd32
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-17 18:22:04 +0100

    Fix DataSchemeDataSource re-opening and range requests
    
    Issue:#6192
    PiperOrigin-RevId: 258592902

2	0	RELEASENOTES.md
14	10	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSchemeDataSource.java
56	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSchemeDataSourceTest.java

commit bee35ed9d7aff3d7957d68b291b307054f3e5704
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-17 18:07:28 +0100

    Fix DeprecationMismatch errors
    
    PiperOrigin-RevId: 258590215

12	0	library/core/src/main/java/com/google/android/exoplayer2/Format.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/HttpDataSource.java

commit 049f3cf5cda00fb5acdd9151f6d9040a15e843d9
Author: tonihei <tonihei@google.com>
Date:   2019-07-17 17:33:36 +0100

    Keep default start position (TIME_UNSET) as content position for preroll ads.
    
    If we use the default start position, we currently resolve it immediately
    even if we need to play an ad first, and later try to project forward again
    if we believe that the default start position should be used.
    
    This causes problems if a specific start position is set and the later
    projection after the preroll ad shouldn't take place.
    
    The problem is solved by keeping the content position as TIME_UNSET (= default
    position) if an ad needs to be played first. The content after the ad can
    then be resolved to its current default position if needed.
    
    PiperOrigin-RevId: 258583948

1	0	RELEASENOTES.md
3	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
5	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodInfo.java
12	9	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
51	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java

commit 1a479387f2a4939d298ee8c27d8c98862bd54842
Author: olly <olly@google.com>
Date:   2019-07-17 16:32:11 +0100

    Fix the equals check
    
    PiperOrigin-RevId: 258574110

1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java

commit a3ded59f28e05495446a739aa2f014013859be58
Author: olly <olly@google.com>
Date:   2019-07-17 13:59:14 +0100

    Check codec profile/level for AV1
    
    Add appropriate unit tests.
    
    PiperOrigin-RevId: 258552404

74	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
25	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtilTest.java

commit 5e4f52541d668f5a8950a80b28f6a8bbcaca83b1
Author: olly <olly@google.com>
Date:   2019-07-17 10:10:39 +0100

    Extend RK video_decoder workaround to newer API levels
    
    Issue: #6184
    PiperOrigin-RevId: 258527533

2	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 01376443b36f70c1fe377e4898959dfa34f6024a
Author: tonihei <tonihei@google.com>
Date:   2019-07-16 16:39:23 +0100

    Add MediaSource.enable/disable.
    
    These methods helps to indicate that a media source isn't used to create new
    periods in the immediate term and thus limited resources can be released.
    
    PiperOrigin-RevId: 258373069

2	0	RELEASENOTES.md
43	3	library/core/src/main/java/com/google/android/exoplayer2/source/BaseMediaSource.java
40	1	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java
46	2	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
40	8	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java

commit 09147ff5481e9741a29534a795d99a3bda486a72
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-16 13:03:10 +0100

    Add missing consts for consistency
    
    These getters do not modify the instance.
    
    PiperOrigin-RevId: 258345084

4	2	extensions/flac/src/main/jni/include/flac_parser.h

commit 7760eca238d68c2729bb95747bf01e64cbb2fd7b
Author: olly <olly@google.com>
Date:   2019-07-16 03:30:40 +0100

    Deep compare formats in SampleMetadataQueue instead of shallow compare
    
    PiperOrigin-RevId: 258285645

3	4	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java

commit 2b5c42e02770475c72e45c887f9f2db8a688db4f
Author: tonihei <tonihei@google.com>
Date:   2019-07-15 15:48:09 +0100

    Fix some inline parameter name comments.
    
    The name of this parameter recently changed in https://github.com/google/ExoPlayer/commit/3fe0b1a6fee8e7631caa5a6f84306396ee6999ad and I forgot
    to change these inline comment usages.
    
    PiperOrigin-RevId: 258160659

2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 1d4d10517448e5428e7c2db969d1a8c330938be6
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-15 09:04:20 +0100

    Compile with SDK 29 (Android Q)
    
    PiperOrigin-RevId: 258110603

1	0	RELEASENOTES.md
1	1	constants.gradle

commit 1909987dc8d63ef6504d7c872e3ce28b9cc560c7
Author: Yannick RUI <yannick.rui@netplus.pro>
Date:   2019-07-15 16:05:01 +0200

    Change all the conditions and scores that are currently in the constructor of TextTrackScore to comparisons in TextTrackScore.compareTo

41	32	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit af98883a7bffc6b8a760b84737012ddd5cfcd622
Author: Yannick RUI <yannick.rui@netplus.pro>
Date:   2019-07-15 11:35:32 +0200

    Reintroducing existing logic as requested here https://github.com/google/ExoPlayer/pull/6178#pullrequestreview-261298162

76	57	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit fa397f5e6eff7f5713b8a4c0cd5f7f5a80e88008
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-14 18:17:50 +0100

    Javadoc 2.10.3

11	7	doc/reference/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/audio/package-tree.html
1	0	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.OnEventListener.html
5	4	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.html
5	4	doc/reference/com/google/android/exoplayer2/drm/FrameworkMediaDrm.html
1	1	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
7	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.DefaultMediaMetadataProvider.html
7	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.MediaMetadataProvider.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
9	5	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/offline/package-tree.html
14	14	doc/reference/com/google/android/exoplayer2/package-tree.html
46	27	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.html
7	2	doc/reference/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.SegmentTemplate.html
2	2	doc/reference/com/google/android/exoplayer2/text/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
2	24	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSink.html
1	19	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSinkFactory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/util/package-tree.html
29	19	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.html
3	3	doc/reference/constant-values.html
13	19	doc/reference/index-all.html

commit 51acd8150c25a2064c3e0c49e04540bd4e2db6f9
Merge: 1ab402cf2 1275217bc
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-14 18:01:01 +0100

    Merge pull request #6150 from google/dev-v2-r2.10.3
    
    r2.10.3

commit 1275217bca00184d52f0c374d59db985ebf070c1
Author: olly <olly@google.com>
Date:   2019-07-11 18:11:08 +0100

    Add missing file header
    
    PiperOrigin-RevId: 257630168

1	0	publish.gradle

commit bbcd1126b214596006b35fe104d7a3a78ba2ae5a
Author: tonihei <tonihei@google.com>
Date:   2019-07-14 15:36:00 +0100

    Remove DownloadService from nullness blacklist.
    
    PiperOrigin-RevId: 258038961

14	12	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 3fe0b1a6fee8e7631caa5a6f84306396ee6999ad
Author: tonihei <tonihei@google.com>
Date:   2019-07-12 18:32:58 +0100

    Rename SourceInfoRefreshListener to MediaSourceCaller.
    
    This better reflects its usage as a caller identifier and not just a listener.
    
    PiperOrigin-RevId: 257827188

4	3	RELEASENOTES.md
3	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
10	11	library/core/src/main/java/com/google/android/exoplayer2/source/BaseMediaSource.java
9	16	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/MediaPeriod.java
18	24	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
4	7	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.java

commit 510f1883b055b042425555378cdf7302decf88b1
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-12 12:01:18 +0100

    Plumb DrmSessionManager into ProgressiveMediaSource
    
    PiperOrigin-RevId: 257777513

3	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
30	12	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
23	0	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java

commit df81bd6a682289ec7781cea2249353f6a71bceab
Author: tonihei <tonihei@google.com>
Date:   2019-07-12 08:55:08 +0100

    Make ExtractorMediaSource a CompositeMediaSource instead of just wrapping.
    
    It's easy to forget to forward methods when using basic wrapping. For example,
    ExtractorMediaSource.addEventListener is currently a no-op because it's not
    forwarded.
    
    PiperOrigin-RevId: 257757556

6	15	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java

commit ccc82cdb4acf174a77b120a2dbf898b7865bcb3d
Author: tonihei <tonihei@google.com>
Date:   2019-07-12 08:54:41 +0100

    Remove some remaining references to manifests.
    
    PiperOrigin-RevId: 257757496

2	2	library/core/src/main/java/com/google/android/exoplayer2/Player.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java

commit 56a922c121ac6955d1d1782051958b19222d3251
Merge: 31d20a9a9 4b776ffe4
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-14 16:24:00 +0100

    Merge pull request #6151 from ittiam-systems:bug-5527
    
    PiperOrigin-RevId: 257668797

commit 31d20a9a973c3310990c87b60e392a538304fda0
Author: olly <olly@google.com>
Date:   2019-07-11 18:11:08 +0100

    Add missing file header
    
    PiperOrigin-RevId: 257630168

1	0	publish.gradle

commit b9ab0cf137495eba377311c1b7dc572b78797a01
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-11 17:38:31 +0100

    Plumb DrmSessionManager into SsMediaSource
    
    PiperOrigin-RevId: 257624043

3	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
19	4	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java
26	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java
2	0	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriodTest.java

commit bbcd46e98aac55245f8ec90925dd20e0213f998f
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-11 14:42:51 +0100

    Change HlsSampleStreamWrapper.prepareWithMasterPlaylistInfo to take a TrackGroup[]
    
    Non-functional change. Makes it easier to add the ExoMediaCrypto type information
    to the formats.
    
    PiperOrigin-RevId: 257598282

6	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
17	13	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 3f24d4433ae36004672567b8d22cfb0f88fa4c96
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-11 11:33:38 +0100

    Optimize DrmSession reference replacement
    
    Potentially avoids up to two calls to synchronized methods
    
    PiperOrigin-RevId: 257578304

6	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java

commit 91750b80098a0c721bbc45158912737517f80c69
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-11 11:16:54 +0100

    Plumb DrmSessionManager into DashMediaSource
    
    PiperOrigin-RevId: 257576791

16	5	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/source/DecryptableSampleQueueReader.java
15	8	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
21	4	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
26	0	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashMediaPeriodTest.java
2	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadHelperTest.java
2	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java
2	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java

commit 6796b179a6a0be7e85a9237bed7806e6d059b489
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-10 22:11:55 +0100

    Make onInputFormatChanged methods in Renderers take FormatHolders
    
    PiperOrigin-RevId: 257478434

7	7	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java

commit 972c6c2f5c5b164dea996c4dae6ed5d5308fd163
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-10 20:34:33 +0100

    Avoid acquiring DrmSessions using the dummy DrmSessionManager
    
    This is a temporary workaround until we have migrated all MediaSources uses.
    This change avoids having to migrate all uses of MediaSources immediately.
    
    PiperOrigin-RevId: 257459138

20	11	library/core/src/main/java/com/google/android/exoplayer2/source/DecryptableSampleQueueReader.java

commit 6606a4ff010fcade2bd73c0dfad902075fd7f25c
Author: olly <olly@google.com>
Date:   2019-07-10 20:21:42 +0100

    CronetDataSource: Fix invalid Javadoc tag
    
    PiperOrigin-RevId: 257456890

1	1	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java

commit d4e3e8f2e085d0bc74a09b0bc5373af61212da06
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-10 17:38:03 +0100

    Add overridingDrmInitData to DecryptableSampleQueueReader
    
    To use in HLS when session keys are provided
    
    PiperOrigin-RevId: 257421156

20	0	library/core/src/main/java/com/google/android/exoplayer2/source/DecryptableSampleQueueReader.java

commit 49a2e5a5cba54c6f0099d5ba7df91059cc99a833
Author: bachinger <bachinger@google.com>
Date:   2019-07-10 09:52:53 +0100

    add manifest to Timeline.Window
    
    - Remove manifest argument from callbacks of Player.EventListener and
      SourceInfoRefreshListener. Instead make it accessible through
      Player.getCurrentManifest() and Timeline.Window.manifest.
    - Fix all MediaSource implementation to include the manifest in the
      Timeline instead of passing it to the SourceInfoRefreshListener.
    - Refactor ExoPlayerTestRunner, FakeTimeline, FakeMediaSource to
      reflect these changes and make tests pass.
    
    PiperOrigin-RevId: 257359662

3	0	RELEASENOTES.md
1	2	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
1	7	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
1	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimeline.java
1	2	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java
1	3	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakePlayer.java
1	2	extensions/leanback/src/main/java/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.java
1	2	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
11	3	library/core/src/main/java/com/google/android/exoplayer2/BasePlayer.java
4	14	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
6	9	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
3	17	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
42	3	library/core/src/main/java/com/google/android/exoplayer2/Player.java
0	7	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
6	5	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
5	9	library/core/src/main/java/com/google/android/exoplayer2/source/BaseMediaSource.java
2	5	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaSource.java
9	6	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java
2	6	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
2	3	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/MediaPeriod.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java
2	7	library/core/src/main/java/com/google/android/exoplayer2/source/MergingMediaSource.java
5	2	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java
17	3	library/core/src/main/java/com/google/android/exoplayer2/source/SinglePeriodTimeline.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaSource.java
4	10	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdsMediaSource.java
59	76	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
14	23	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
5	3	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
13	4	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java
16	17	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/LoopingMediaSourceTest.java
2	3	library/core/src/test/java/com/google/android/exoplayer2/source/MergingMediaSourceTest.java
8	1	library/core/src/test/java/com/google/android/exoplayer2/source/SinglePeriodTimelineTest.java
2	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
4	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
4	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java
1	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java
2	6	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
7	23	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
1	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaSource.java
4	9	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaSource.java
17	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeTimeline.java
1	1	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/MediaSourceTestRunner.java
0	5	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit 29a099cf03236edc6d46a262d64621dfcdac8989
Author: Yannick RUI <yannick.rui@netplus.pro>
Date:   2019-07-12 13:28:41 +0200

    Switch text track score from the score based logic to a comparison based logic similar to the one we use for audio track selection (see AudioTrackScore).

84	70	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit 4c0459289196bd8158944390797bd416a2b680f7
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-07-12 09:39:59 +0100

    Publish bandwidth estimation analysis doc on webpage.

2	0	design-documents.md

commit 4b776ffe4264a93be7266c50fecc03f87db4d18b
Author: Venkatarama NG. Avadhani <venkatarama.avadhani@ittiam.com>
Date:   2019-07-10 20:41:18 +0530

    Refactor FlacStreamInfo to FlacStreamMetadata

1	1	extensions/flac/proguard-rules.txt
2	2	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
11	11	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeeker.java
5	5	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
7	7	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
22	22	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
1	1	extensions/flac/src/main/jni/flac_jni.cc
19	9	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/FlacReader.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/util/{FlacStreamInfo.java => FlacStreamMetadata.java}
6	6	library/core/src/test/java/com/google/android/exoplayer2/metadata/vorbis/VorbisCommentDecoderTest.java

commit fb1f91b2a1b2e50d684e1df503c7962bcf05ce8b
Author: Venkatarama NG. Avadhani <venkatarama.avadhani@ittiam.com>
Date:   2019-07-10 17:23:01 +0530

    Clean up vorbis comment extraction

0	10	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
2	19	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
30	31	extensions/flac/src/main/jni/flac_jni.cc
8	17	extensions/flac/src/main/jni/flac_parser.cc
14	11	extensions/flac/src/main/jni/include/flac_parser.h
0	59	library/core/src/main/java/com/google/android/exoplayer2/metadata/vorbis/VorbisCommentDecoder.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/metadata/vorbis/VorbisCommentFrame.java
81	0	library/core/src/main/java/com/google/android/exoplayer2/util/FlacStreamInfo.java
20	20	library/core/src/test/java/com/google/android/exoplayer2/metadata/vorbis/VorbisCommentDecoderTest.java

commit ae653e23353828c4c08c472086cc0b1b14601928
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-07-10 15:47:22 +0100

    Added  design documents page to navigation

2	0	_data/navigation.yml

commit eb1ac50abdc0c4b29f5ec533dcb31423ca3aff8d
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-07-10 15:45:38 +0100

    Created design-documents.md

14	0	design-documents.md

commit f314be583aef39e3bfc07ebb39c58fb98ce465d5
Author: bachinger <bachinger@google.com>
Date:   2019-07-09 15:11:11 +0100

    fix typo in release notes
    
    PiperOrigin-RevId: 257185017

1	1	RELEASENOTES.md

commit 1273f18e809dada00649799fb72c0d1071f0faec
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-09 15:06:12 +0100

    Fix syntax error in publish.gradle
    
    PiperOrigin-RevId: 257184313

1	1	publish.gradle

commit 877923ce5f0cf3c33465d7558edff911c1e0ee11
Author: bachinger <bachinger@google.com>
Date:   2019-07-09 15:11:11 +0100

    fix typo in release notes
    
    PiperOrigin-RevId: 257185017

1	1	RELEASENOTES.md

commit 54abdfc85b413ae6884efb0122fdfe52bae9c1e1
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-09 15:06:12 +0100

    Fix syntax error in publish.gradle
    
    PiperOrigin-RevId: 257184313

1	1	publish.gradle

commit 77e1e4cc1e3a90219bc1f1e128f4d74c7f7a9700
Author: Venkatarama NG. Avadhani <venkatarama.avadhani@ittiam.com>
Date:   2019-07-09 12:17:54 +0530

    Add vorbis comments support to flac extractor
    
    Decode and add vorbis comments from the flac file to metadata.
    
     #5527

10	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
22	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
26	0	extensions/flac/src/main/jni/flac_jni.cc
28	0	extensions/flac/src/main/jni/flac_parser.cc
14	0	extensions/flac/src/main/jni/include/flac_parser.h
59	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/vorbis/VorbisCommentDecoder.java
102	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/vorbis/VorbisCommentFrame.java
90	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/vorbis/VorbisCommentDecoderTest.java
43	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/vorbis/VorbisCommentFrameTest.java

commit fdef76c8431a3577f206605c629f68452a8652ec
Author: olly <olly@google.com>
Date:   2019-07-09 11:50:56 +0100

    Bump version to 2.10.3
    
    PiperOrigin-RevId: 257161518

2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 65d9c11027a1321eb3d59aabfc93e10b0750822d
Author: olly <olly@google.com>
Date:   2019-07-09 11:50:56 +0100

    Bump version to 2.10.3
    
    PiperOrigin-RevId: 257161518

17	10	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit be9fea89a6a669a2d7125a90a90054810c9a4d0b
Author: olly <olly@google.com>
Date:   2019-07-09 11:18:50 +0100

    Fix race condition in DownloadHelper
    
    Sending MESSAGE_PREPARE_SOURCE should happen last in the constructor.
    It was previously happening before initialization finished (and in
    particular before pendingMediaPeriods was instantiated).
    
    Issue: #6146
    PiperOrigin-RevId: 257158275

3	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit b3d258b6cf5953acf643688390157b1efae805a2
Author: olly <olly@google.com>
Date:   2019-07-09 11:18:50 +0100

    Fix race condition in DownloadHelper
    
    Sending MESSAGE_PREPARE_SOURCE should happen last in the constructor.
    It was previously happening before initialization finished (and in
    particular before pendingMediaPeriods was instantiated).
    
    Issue: #6146
    PiperOrigin-RevId: 257158275

3	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 92fb654ab6c3ee3af1ef7992b36f10e23e7733a4
Author: tonihei <tonihei@google.com>
Date:   2019-07-09 10:11:26 +0100

    Update Robolectric to stable version 4.3.
    
    We currently use an alpha version which allowed us to access new threading
    features. The stable version of this has been released now and we can
    switch back.
    
    PiperOrigin-RevId: 257149681

1	1	constants.gradle

commit dbabb7c9a3ba6640c51230bc7932c7ab471284d8
Author: tonihei <tonihei@google.com>
Date:   2019-07-04 12:54:56 +0100

    Apply playback parameters in a consistent way.
    
    Currently, we sometimes apply new playback parameters directly and sometimes
    through the list of playbackParameterCheckpoints. Only when using the checkpoints,
    we also reset the offset and corresponding position for speedup position
    calculation. However, these offsets need to be changed in all cases to prevent
    calculation errors during speedup calculation[1].
    
    This change channels all playback parameters changes through the checkpoints to
    ensure the offsets get updated accordingly. This fixes an issue introduced in
    https://github.com/google/ExoPlayer/commit/31911ca54a13b0003d6cf902b95c2ed445afa930.
    
    [1] - The speed up is calculated using the ratio of input and output bytes in
    SonicAudioProcessor.scaleDurationForSpeedUp. Whenever we set new playback
    parameters to the audio processor these two counts are reset. If we don't reset
    the offsets too, the scaled timestamp can be a large value compared to the input
    and output bytes causing massive inaccuracies (like the +20 seconds in the
    linked issue).
    
    Issue:#6117
    PiperOrigin-RevId: 256533780

2	0	RELEASENOTES.md
24	23	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 1d766c4603a9767f8ef69c8db2445af709c71547
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-23 09:18:03 +0100

    Play out remaining data on reconfiguration
    
    Before this change we'd release the audio track and create a new one as soon
    as audio processors had drained when reconfiguring.
    
    Fix this behavior by stop()ing the AudioTrack to play out all written data.
    
    Issue: #2446
    PiperOrigin-RevId: 244812402

3	0	RELEASENOTES.md
33	24	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
1	1	library/ui/build.gradle

commit b3495dfe66da2b5c364df21f97f2a679f067aecf
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-09 11:36:42 +0100

    Update release notes

7	5	RELEASENOTES.md

commit 6fd235f95a7393675a1ed63ebac1bbf2cec08a91
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-09 08:50:01 +0100

    Merge pull request #5732 from ToxicBakery:feature/add-license-to-pom
    
    PiperOrigin-RevId: 257138448

1	0	build.gradle
35	0	publish.gradle

commit d035f24e878f6106dbb71e414164836568e78ce0
Author: tonihei <tonihei@google.com>
Date:   2019-07-08 17:24:18 +0100

    CEA608: Fix repeated Special North American chars.
    
    We currently handle most the control code logic after handling special
    characters. This includes filtering out repeated control codes and checking
    for the correct channel. As the special character sets are control codes as well,
    these checks should happen before parsing the characters.
    
    Issue:#6133
    PiperOrigin-RevId: 256993672

2	0	RELEASENOTES.md
43	48	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea608Decoder.java

commit 1538e5d9661f5d20b756784d9ba4692768692b0d
Author: tonihei <tonihei@google.com>
Date:   2019-07-05 16:20:17 +0100

    CEA608: no-op readability clean-up
    
    PiperOrigin-RevId: 256676196

47	36	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea608Decoder.java

commit 91728d41de971a1d7b43fa280172968dded8e6df
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-02 17:49:45 +0100

    Merge pull request #5908 from sr1990:dev-v2
    
    PiperOrigin-RevId: 256147805

49	8	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
15	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.java

commit 3d5d23778abc9cdc1bc94da6930be6feacad5815
Author: olly <olly@google.com>
Date:   2019-07-02 13:42:05 +0100

    FLV extractor fixes
    
    1. Only output video starting from a keyframe
    2. When calculating the timestamp offset to adjust live streams to start
       at t=0, use the timestamp of the first tag from which a sample is actually
       output, rather than just the first audio/video tag. The test streams in
       the referenced GitHub issue start with a video tag whose packet type is
       AVC_PACKET_TYPE_SEQUENCE_HEADER (i.e. does not contain a sample) and whose
       timestamp is set to 0 (i.e. isn't set). The timestamp is set correctly on
       tags that from which a sample is actually output.
    
    Issue: #6111
    PiperOrigin-RevId: 256147747

2	0	RELEASENOTES.md
6	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/AudioTagPayloadReader.java
17	9	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/FlvExtractor.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/ScriptTagPayloadReader.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/TagPayloadReader.java
14	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/VideoTagPayloadReader.java

commit c4c7f4bafa4cfa91e1ca2c10ee0674e60ac9f728
Author: bachinger <bachinger@google.com>
Date:   2019-07-01 19:13:03 +0100

    MediaSessionConnector: Document how to provide metadata asynchronously
    
    Issue: #6047
    PiperOrigin-RevId: 255992898

7	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 71e0f2e81cedbb927526a587b6dbcf6fb3f54b72
Author: tonihei <tonihei@google.com>
Date:   2019-07-01 13:03:07 +0100

    Don't consume touch events if no controller is attached.
    
    Issue:#6109
    PiperOrigin-RevId: 255933121

6	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit 5365272b609b5c18ddaf5532621d9e25f704b60b
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-06-28 13:21:43 +0100

    Use the floor of the frame rate for capability checks
    
    PiperOrigin-RevId: 255584000

9	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java

commit d3e7ea89d94ada524a52e3444213887222855218
Author: bachinger <bachinger@google.com>
Date:   2019-06-27 21:51:41 +0100

    call setPlayWhenReady in any case
    
    ISSUE: #6093
    PiperOrigin-RevId: 255471282

2	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit cdf70edf6e2228300f9d4974912266008bee866f
Author: olly <olly@google.com>
Date:   2019-06-27 13:26:47 +0100

    Remove unnecessary FileDescriptor sync
    
    PiperOrigin-RevId: 255380796

0	16	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSink.java
1	15	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSinkFactory.java

commit d57a8587d2b379555786eae63ba514931fd3c583
Author: olly <olly@google.com>
Date:   2019-06-26 15:16:22 +0100

    Add threading model note to hello-word page
    
    Also add layer of indirection between code and the guide, to
    make moving content easier going forward.
    
    PiperOrigin-RevId: 255182216

1	2	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit e3f1332b1e7c2b8fb186494807586c72aad9e441
Author: Nam Nguyen Hoai <mr.nguyenhoainam@gmail.com>
Date:   2019-07-02 18:04:08 +0900

    Update TrackSelectionDialog.java
    
    Fix a super tiny typo.

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java

commit 18f1b06a688dbfe6980f49b8358af7458f0d8b47
Author: tonihei <tonihei@google.com>
Date:   2019-06-17 09:56:50 +0100

    Fix all FIXME comments.
    
    These are mostly nullability issues.
    
    PiperOrigin-RevId: 253537068

1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java

commit feefaacb31561c0272b038905fd4d030bdd695c2
Author: tonihei <tonihei@google.com>
Date:   2019-06-18 11:31:54 +0100

    Gracefully handle revoked ACCESS_NETWORK_STATE permission.
    
    This permission has normal access right and can't be revoked by the user.
    However, an app can choose to revoke it when using ExoPlayer, e.g. if
    no network is required and the app doesn't want to list this permission.
    
    Support this use case by gracefully catching the exception in the relevant
    places.
    
    Issue:#6019
    PiperOrigin-RevId: 253759332

2	0	RELEASENOTES.md

commit 1c7bb2899ccaaf26855700bf2c9d890812b092f5
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-21 18:22:40 +0100

    Merge pull request #6055 from xirac:dev-v2
    
    PiperOrigin-RevId: 254182080

1	0	RELEASENOTES.md
15	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit 913dcb3e1dafc1f9340e5592df099ee460cb5c26
Author: tonihei <tonihei@google.com>
Date:   2019-06-04 14:20:51 +0100

    Display last frame when seeking to end of stream.
    
    We currently don't display the last frame because the seek time is behind the
    last frame's timestamps and it's thus marked as decodeOnly.
    
    This case can be detected by checking whether all data sent to the codec is
    marked as decodeOnly at the time we read the end of stream signal. If so, we
    can re-enable the last frame. This should work for almost all cases because the
    end-of-stream signal is read in the same feedInputBuffer loop as the last
    frame and we therefore haven't released the last frame buffer yet.
    
    Issue:#2568
    PiperOrigin-RevId: 251425870

5	0	RELEASENOTES.md
3	2	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
32	10	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
15	10	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
5	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/DebugRenderersFactory.java

commit 3ac8b6acee0b729176c8105fe641b58c53c99904
Merge: e3af045ad 70530cd1e
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-09 08:50:01 +0100

    Merge pull request #5732 from ToxicBakery:feature/add-license-to-pom
    
    PiperOrigin-RevId: 257138448

commit e3af045adbc7c385ad1ce6a97bc35befc3e009c2
Author: tonihei <tonihei@google.com>
Date:   2019-07-08 17:24:18 +0100

    CEA608: Fix repeated Special North American chars.
    
    We currently handle most the control code logic after handling special
    characters. This includes filtering out repeated control codes and checking
    for the correct channel. As the special character sets are control codes as well,
    these checks should happen before parsing the characters.
    
    Issue:#6133
    PiperOrigin-RevId: 256993672

2	0	RELEASENOTES.md
43	48	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea608Decoder.java

commit ecd88c71d2ee5beb08a553091a418fb2e442b87b
Author: olly <olly@google.com>
Date:   2019-07-06 11:09:36 +0100

    Remove some UI classes from nullness blacklist
    
    PiperOrigin-RevId: 256751627

8	6	library/ui/src/main/java/com/google/android/exoplayer2/ui/AspectRatioFrameLayout.java
7	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
10	5	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitleView.java

commit e852ff1dfa1cc1b2339773c47d406c7506507040
Author: olly <olly@google.com>
Date:   2019-07-05 17:07:38 +0100

    Add Nullable annotations to CastPlayer
    
    PiperOrigin-RevId: 256680382

17	9	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit d66f0c51a4e6789430cff22194996d2a859b5900
Author: tonihei <tonihei@google.com>
Date:   2019-07-05 16:20:17 +0100

    CEA608: no-op readability clean-up
    
    PiperOrigin-RevId: 256676196

47	36	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea608Decoder.java

commit fbb76243bdd4c910a1bf2ca725d50cb0269033b4
Author: olly <olly@google.com>
Date:   2019-07-04 20:02:32 +0100

    Clean up DRM post requests
    
    - Explicitly specify HTTP_METHOD_POST (previously this was
      implicit as a result of the body data being non-null)
    - Use null when there's no body data (it's converted to
      null inside of the DataSpec constructor anyway)
    
    PiperOrigin-RevId: 256573384

4	3	library/core/src/main/java/com/google/android/exoplayer2/drm/HttpMediaDrmCallback.java

commit 924cfac96657c70c1c97cfd906952af62d6a8160
Author: olly <olly@google.com>
Date:   2019-07-04 20:02:20 +0100

    Remove more low hanging fruit from nullness blacklist
    
    PiperOrigin-RevId: 256573352

17	5	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/ScriptTagPayloadReader.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Track.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/TrackEncryptionBox.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/text/SimpleSubtitleDecoder.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/text/SubtitleOutputBuffer.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/text/pgs/PgsDecoder.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaSubtitle.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripSubtitle.java
11	5	library/core/src/main/java/com/google/android/exoplayer2/text/tx3g/Tx3gDecoder.java

commit b1790f9dccffd09fa6de91b8b11ee167af314f37
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-07-04 14:55:39 +0100

    Fix IMA test build issue
    
    PiperOrigin-RevId: 256545951

0	5	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakeAdsRequest.java

commit 81e7b31be187c1ca7de2129d942b62fdff0079d6
Author: tonihei <tonihei@google.com>
Date:   2019-07-04 12:54:56 +0100

    Apply playback parameters in a consistent way.
    
    Currently, we sometimes apply new playback parameters directly and sometimes
    through the list of playbackParameterCheckpoints. Only when using the checkpoints,
    we also reset the offset and corresponding position for speedup position
    calculation. However, these offsets need to be changed in all cases to prevent
    calculation errors during speedup calculation[1].
    
    This change channels all playback parameters changes through the checkpoints to
    ensure the offsets get updated accordingly. This fixes an issue introduced in
    https://github.com/google/ExoPlayer/commit/31911ca54a13b0003d6cf902b95c2ed445afa930.
    
    [1] - The speed up is calculated using the ratio of input and output bytes in
    SonicAudioProcessor.scaleDurationForSpeedUp. Whenever we set new playback
    parameters to the audio processor these two counts are reset. If we don't reset
    the offsets too, the scaled timestamp can be a large value compared to the input
    and output bytes causing massive inaccuracies (like the +20 seconds in the
    linked issue).
    
    Issue:#6117
    PiperOrigin-RevId: 256533780

5	2	RELEASENOTES.md
24	23	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 0f364dfffc0c9af03316f473edd2ee49b7f20a2b
Author: olly <olly@google.com>
Date:   2019-07-04 11:38:48 +0100

    Remove FlacExtractor from nullness blacklist
    
    PiperOrigin-RevId: 256526365

1	0	extensions/flac/build.gradle
31	11	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java

commit 948d69b774ec23136431c4142bd82947a35a6981
Author: olly <olly@google.com>
Date:   2019-07-04 11:32:20 +0100

    Make FlacExtractor output methods static
    
    This gives a caller greater confidence that the methods have no
    side effects, and remove any nullness issues with these methods
    accessing @Nullable member variables.
    
    PiperOrigin-RevId: 256525739

41	24	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java

commit 1060c767fcb491780095a02f670f8e76850a885c
Author: olly <olly@google.com>
Date:   2019-07-04 11:23:52 +0100

    Simplify FlacExtractor (step toward enabling nullness checking)
    
    - Inline some unnecessarily split out helper methods
    - Clear ExtractorInput from FlacDecoderJni data after usage
    - Clean up exception handling for StreamInfo decode failures
    
    PiperOrigin-RevId: 256524955

2	2	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
1	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorTest.java
4	4	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
24	11	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
83	99	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java

commit 0145edb60d218a939d869f0dbab0ab7fc0a34477
Author: tonihei <tonihei@google.com>
Date:   2019-07-03 15:07:55 +0100

    Move MediaSource masking code into separate class.
    
    The masking logic for unprepared MediaSources is currently part of
    ConcatanatingMediaSource. Moving it to its own class nicely separates the
    code responsibilities and allows reuse.
    
    PiperOrigin-RevId: 256360904

30	244	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
314	0	library/core/src/main/java/com/google/android/exoplayer2/source/MaskingMediaSource.java
0	7	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java

commit d8c29e82114ad9a7768760c44e5d284bca8716ea
Author: tonihei <tonihei@google.com>
Date:   2019-07-03 09:22:45 +0100

    Remove unnecessary warning suppression.
    
    PiperOrigin-RevId: 256320563

1	2	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java

commit 4c2f211e28b33bd2b60aeb7cd25f8c01f78e4401
Author: olly <olly@google.com>
Date:   2019-07-02 20:14:38 +0100

    Remove Flac and Opus renderers from nullness blacklist
    
    PiperOrigin-RevId: 256213895

4	3	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.java
27	9	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
1	1	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusLibrary.java
1	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxLibrary.java

commit 7964e51e0e46bd89f81c9f4b7ad75221ea24d8a4
Author: olly <olly@google.com>
Date:   2019-07-02 19:15:08 +0100

    Remove more classes from nullness blacklist
    
    PiperOrigin-RevId: 256202135

2	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultCastOptionsProvider.java
2	0	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoder.java
25	17	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacDecoderJni.java
1	0	extensions/opus/build.gradle
2	0	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusDecoder.java
4	4	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusLibrary.java
4	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
5	4	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxLibrary.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/decoder/SimpleDecoder.java

commit 7408b4355a990f9a450815ddea9c62945ea9543a
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-07-02 15:33:50 +0100

    Add DRM format support checks for MediaSource provided DRM
    
    PiperOrigin-RevId: 256161522

6	2	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.java
17	1	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusLibrary.java
7	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
17	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxLibrary.java
96	22	library/core/src/main/java/com/google/android/exoplayer2/Format.java
5	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
6	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
14	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/FormatTest.java

commit 16bf7f9106258eb92f66dbaedff39b28e21ae0fb
Merge: 6febc88dc ec6604b4f
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-02 17:49:45 +0100

    Merge pull request #5908 from sr1990:dev-v2
    
    PiperOrigin-RevId: 256147805

commit 6febc88dce52501d40d5dda2c83289584f8d5a09
Author: olly <olly@google.com>
Date:   2019-07-02 13:42:05 +0100

    FLV extractor fixes
    
    1. Only output video starting from a keyframe
    2. When calculating the timestamp offset to adjust live streams to start
       at t=0, use the timestamp of the first tag from which a sample is actually
       output, rather than just the first audio/video tag. The test streams in
       the referenced GitHub issue start with a video tag whose packet type is
       AVC_PACKET_TYPE_SEQUENCE_HEADER (i.e. does not contain a sample) and whose
       timestamp is set to 0 (i.e. isn't set). The timestamp is set correctly on
       tags that from which a sample is actually output.
    
    Issue: #6111
    PiperOrigin-RevId: 256147747

2	0	RELEASENOTES.md
6	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/AudioTagPayloadReader.java
17	9	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/FlvExtractor.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/ScriptTagPayloadReader.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/TagPayloadReader.java
14	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/VideoTagPayloadReader.java

commit 47bc70d48068ef622a66d43fe3af5bca1f78c114
Merge: 259bea165 a5fd77464
Author: Oliver Woodman <olly@google.com>
Date:   2019-07-02 17:49:03 +0100

    Merge pull request #6119 from eneim:patch-1
    
    PiperOrigin-RevId: 256147742

commit 259bea1652dc44cff0f06d0d865707c12096d4de
Author: bachinger <bachinger@google.com>
Date:   2019-07-01 19:13:03 +0100

    MediaSessionConnector: Document how to provide metadata asynchronously
    
    Issue: #6047
    PiperOrigin-RevId: 255992898

7	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 7798c07f64d58a5363ff2af1a72cdcad9a8ae2de
Author: olly <olly@google.com>
Date:   2019-07-01 16:52:36 +0100

    Remove ExoCast
    
    PiperOrigin-RevId: 255964199

0	310	cast_receiver_app/BUILD
0	72	cast_receiver_app/README.md
0	38	cast_receiver_app/WORKSPACE
0	156	cast_receiver_app/app-desktop/html/index.css
0	55	cast_receiver_app/app-desktop/html/index.html
0	170	cast_receiver_app/app-desktop/src/main.js
0	164	cast_receiver_app/app-desktop/src/player_controls.js
0	70	cast_receiver_app/app-desktop/src/samples.js
0	79	cast_receiver_app/app-desktop/src/samples_internal.js
0	39	cast_receiver_app/app/html/index.css
0	40	cast_receiver_app/app/html/index.html
0	59	cast_receiver_app/app/html/playback_info_view.css
0	55	cast_receiver_app/app/src/main.js
0	234	cast_receiver_app/app/src/message_dispatcher.js
0	191	cast_receiver_app/app/src/receiver.js
0	163	cast_receiver_app/app/src/validation.js
0	93	cast_receiver_app/assemble.bazel.sh
0	489	cast_receiver_app/externs/protocol.js
0	68	cast_receiver_app/externs/shaka.js
0	90	cast_receiver_app/src/configuration_factory.js
0	140	cast_receiver_app/src/constants.js
0	233	cast_receiver_app/src/playback_info_view.js
0	1522	cast_receiver_app/src/player.js
0	68	cast_receiver_app/src/timeout.js
0	62	cast_receiver_app/src/util.js
0	33	cast_receiver_app/test/caf_bootstrap.js
0	86	cast_receiver_app/test/configuration_factory_test.js
0	36	cast_receiver_app/test/externs.js
0	49	cast_receiver_app/test/message_dispatcher_test.js
0	277	cast_receiver_app/test/mocks.js
0	242	cast_receiver_app/test/playback_info_view_test.js
0	470	cast_receiver_app/test/player_test.js
0	166	cast_receiver_app/test/queue_test.js
0	1027	cast_receiver_app/test/receiver_test.js
0	84	cast_receiver_app/test/shaka_error_handling_test.js
0	87	cast_receiver_app/test/util.js
0	266	cast_receiver_app/test/validation_test.js
0	437	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DefaultReceiverPlayerManager.java
5	0	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DemoUtil.java
0	421	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/ExoCastPlayerManager.java
7	28	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/MainActivity.java
391	25	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/PlayerManager.java
0	2	demos/cast/src/main/res/values/strings.xml
0	86	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastSessionManager.java
1	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultCastOptionsProvider.java
0	187	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultCastSessionManager.java
0	118	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastConstants.java
0	474	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastMessage.java
0	40	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastOptionsProvider.java
0	958	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastPlayer.java
0	342	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastTimeline.java
0	160	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/MediaItemInfo.java
0	85	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/MediaItemQueue.java
0	633	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ReceiverAppStateUpdate.java
0	436	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/ExoCastMessageTest.java
0	1018	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/ExoCastPlayerTest.java
0	466	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/ExoCastTimelineTest.java
0	378	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/ReceiverAppStateUpdateTest.java

commit 04959ec648389d6ce71cabf54dc0e8bc1fcfe22d
Author: tonihei <tonihei@google.com>
Date:   2019-07-01 14:49:35 +0100

    Remove unnecessary variables from ConcatenatingMediaSource.
    
    The total window and period count, as well as the period offset for each holder
    are not actually needed and can be removed.
    
    Also added a TODO to remove two other variables if possible.
    
    PiperOrigin-RevId: 255945584

31	54	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java

commit 71de1d37ac58ce28df70c8fa3017b0688c0cf266
Author: tonihei <tonihei@google.com>
Date:   2019-07-01 13:03:07 +0100

    Don't consume touch events if no controller is attached.
    
    Issue:#6109
    PiperOrigin-RevId: 255933121

6	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit 6fe70ca43d982ad51ee30b7afbb26ca079b19c84
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-06-28 13:21:43 +0100

    Use the floor of the frame rate for capability checks
    
    PiperOrigin-RevId: 255584000

9	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java

commit ae0aeb046b11cc21a2f8470f5eb2f6cb211a0e1e
Author: bachinger <bachinger@google.com>
Date:   2019-06-27 21:51:41 +0100

    call setPlayWhenReady in any case
    
    ISSUE: #6093
    PiperOrigin-RevId: 255471282

2	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 244c202c5667600e1e6613da426f01018ceb20a4
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-06-27 19:26:56 +0100

    Fix hidden API warnings from Metalava
    
    PiperOrigin-RevId: 255442455

1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/H262Reader.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/SeiReader.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbDecoder.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/text/ssa/SsaDecoder.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/text/subrip/SubripDecoder.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlDecoder.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoder.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoder.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
9	8	library/core/src/test/java/com/google/android/exoplayer2/text/ssa/SsaDecoderTest.java
15	14	library/core/src/test/java/com/google/android/exoplayer2/text/subrip/SubripDecoderTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheTest.java

commit 2a765f6b5a51144a171e5e2bfcb93f95ad638330
Author: tonihei <tonihei@google.com>
Date:   2019-06-27 17:03:54 +0100

    Visibility clean-up: Don't extend visibility of protected methods in overrides.
    
    PiperOrigin-RevId: 255412493

2	2	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/LoopingMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/MergingMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdsMediaSource.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
2	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaSource.java

commit 1bd73eb70ed4341acb9dfd815665ddf683100e57
Author: tonihei <tonihei@google.com>
Date:   2019-06-27 16:52:57 +0100

    Cleanup: Remove DynamicConcatenatingMediaSource
    
    PiperOrigin-RevId: 255410268

28	29	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
0	46	library/core/src/main/java/com/google/android/exoplayer2/source/DynamicConcatenatingMediaSource.java

commit cf68d4eb474d8ece404e6e0d920826832eeb0a28
Author: olly <olly@google.com>
Date:   2019-06-27 13:28:18 +0100

    Cleanup: Remove deprecated text and metadata output interfaces
    
    PiperOrigin-RevId: 255380951

0	6	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
0	6	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java

commit 1d36edc2148234cd8023fefd9b7620e7a7d5c76b
Author: olly <olly@google.com>
Date:   2019-06-27 13:26:47 +0100

    Remove unnecessary FileDescriptor sync
    
    PiperOrigin-RevId: 255380796

0	16	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSink.java
1	15	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSinkFactory.java

commit 2a366e76b778a01e9c58844a3caaf90275b582d4
Author: olly <olly@google.com>
Date:   2019-06-27 13:14:00 +0100

    Cleanup: Remove deprecated message sending functionality
    
    PiperOrigin-RevId: 255379393

0	37	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java
0	41	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
0	14	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
0	14	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit c974f74b1f626874c92dbe0ad4fdc6cbcc865eed
Author: olly <olly@google.com>
Date:   2019-06-27 13:04:32 +0100

    Cleanup: Remove deprecated DataSpec.postBody
    
    PiperOrigin-RevId: 255378274

2	5	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java

commit 3c2afb16e63ea71155da39f5647aa227c6b36f26
Author: olly <olly@google.com>
Date:   2019-06-27 12:59:56 +0100

    Cleanup: Remove deprecated ChunkSampleStream constructor
    
    PiperOrigin-RevId: 255377347

0	41	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java

commit 8faac0344b4340fbd34e623620da15575a67a4f7
Author: tonihei <tonihei@google.com>
Date:   2019-06-27 12:08:23 +0100

    Fix checkerframework 2.8.2 warnings.
    
    The updated version issues more warnings than before.
    Most of the changes are related to annotation placement.
    
    PiperOrigin-RevId: 255371743

14	14	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ReceiverAppStateUpdate.java
6	6	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManager.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStats.java
8	7	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/DecryptableSampleQueueReader.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/ByteArrayDataSink.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/TrackSelectionView.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/CanvasRenderer.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/ProjectionRenderer.java

commit 40d44c48e59c31da8abec4492dbe96ba68152471
Author: olly <olly@google.com>
Date:   2019-06-26 15:16:22 +0100

    Add threading model note to hello-word page
    
    Also add layer of indirection between code and the guide, to
    make moving content easier going forward.
    
    PiperOrigin-RevId: 255182216

1	2	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 4e504bc485cfaef7b56deb7da6f7a33ce12b494b
Author: tonihei <tonihei@google.com>
Date:   2019-06-26 11:49:08 +0100

    Rename DeferredMediaPeriod to MaskingMediaPeriod.
    
    This better reflects its usage and fits into our general naming pattern.
    
    PiperOrigin-RevId: 255157159

5	5	library/core/src/main/java/com/google/android/exoplayer2/source/ConcatenatingMediaSource.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/source/{DeferredMediaPeriod.java => MaskingMediaPeriod.java}
23	23	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdsMediaSource.java

commit 883b3c8783468e98108581d3d0f284f514c81cde
Author: olly <olly@google.com>
Date:   2019-06-24 18:13:31 +0100

    Update isMediaCodecException to return true for generic ISE on API 21+ if the
    stack trace contains MediaCodec.
    
    PiperOrigin-RevId: 254781909

2	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 0ddd3c2bd019325ff51db88399d33d081d2749b2
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-24 14:31:54 +0100

    Implement DecryptableSampleQueueReader.isReady
    
    PiperOrigin-RevId: 254746146

310	0	cast_receiver_app/BUILD
72	0	cast_receiver_app/README.md
38	0	cast_receiver_app/WORKSPACE
156	0	cast_receiver_app/app-desktop/html/index.css
55	0	cast_receiver_app/app-desktop/html/index.html
170	0	cast_receiver_app/app-desktop/src/main.js
164	0	cast_receiver_app/app-desktop/src/player_controls.js
70	0	cast_receiver_app/app-desktop/src/samples.js
79	0	cast_receiver_app/app-desktop/src/samples_internal.js
39	0	cast_receiver_app/app/html/index.css
40	0	cast_receiver_app/app/html/index.html
59	0	cast_receiver_app/app/html/playback_info_view.css
55	0	cast_receiver_app/app/src/main.js
234	0	cast_receiver_app/app/src/message_dispatcher.js
191	0	cast_receiver_app/app/src/receiver.js
163	0	cast_receiver_app/app/src/validation.js
93	0	cast_receiver_app/assemble.bazel.sh
489	0	cast_receiver_app/externs/protocol.js
68	0	cast_receiver_app/externs/shaka.js
90	0	cast_receiver_app/src/configuration_factory.js
140	0	cast_receiver_app/src/constants.js
233	0	cast_receiver_app/src/playback_info_view.js
1522	0	cast_receiver_app/src/player.js
68	0	cast_receiver_app/src/timeout.js
62	0	cast_receiver_app/src/util.js
33	0	cast_receiver_app/test/caf_bootstrap.js
86	0	cast_receiver_app/test/configuration_factory_test.js
36	0	cast_receiver_app/test/externs.js
49	0	cast_receiver_app/test/message_dispatcher_test.js
277	0	cast_receiver_app/test/mocks.js
242	0	cast_receiver_app/test/playback_info_view_test.js
470	0	cast_receiver_app/test/player_test.js
166	0	cast_receiver_app/test/queue_test.js
1027	0	cast_receiver_app/test/receiver_test.js
84	0	cast_receiver_app/test/shaka_error_handling_test.js
87	0	cast_receiver_app/test/util.js
266	0	cast_receiver_app/test/validation_test.js
421	0	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/ExoCastPlayerManager.java
86	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastSessionManager.java
187	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultCastSessionManager.java
118	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastConstants.java
474	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastMessage.java
40	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastOptionsProvider.java
958	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastPlayer.java
342	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ExoCastTimeline.java
160	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/MediaItemInfo.java
633	0	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/ReceiverAppStateUpdate.java
436	0	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/ExoCastMessageTest.java
1018	0	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/ExoCastPlayerTest.java
466	0	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/ExoCastTimelineTest.java
378	0	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/ReceiverAppStateUpdateTest.java
18	0	library/core/src/main/java/com/google/android/exoplayer2/source/DecryptableSampleQueueReader.java
22	0	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
35	0	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java

commit a5fd774647cdffff2af64072fae8c714b974bb8a
Author: Nam Nguyen Hoai <mr.nguyenhoainam@gmail.com>
Date:   2019-07-02 18:04:08 +0900

    Update TrackSelectionDialog.java
    
    Fix a super tiny typo.

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java

commit ec6604b4f716b01d4cd0d99019bf30ce2d029630
Author: sr1990 <sr1990003@gmail.com>
Date:   2019-06-26 20:29:37 -0700

    [Patch V4] Support signalling of last segment number via supplemental descriptor in mpd.

25	37	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
7	37	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.java

commit bef4d0f429679f423d24e9e87b6be338acff9dc5
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-26 11:09:49 +0100

    Update player-accessed-on-wrong-thread.md

1	1	issues/player-accessed-on-wrong-thread.md

commit a81a52c260723a4ac00eb895a416d6b09536a665
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-26 11:08:29 +0100

    Create player-accessed-on-wrong-thread.md

5	0	issues/player-accessed-on-wrong-thread.md

commit 1ab402cf27ab3c52d671ef15b25a1cdde1fe84c8
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-26 09:59:55 +0100

    Create player-accessed-on-wrong-thread.md

5	0	issues/player-accessed-on-wrong-thread.md

commit 449d783115218cd77115ce06f7c58bebc0e32364
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-26 09:58:22 +0100

    Delete player-accessed-on-wrong-thread.md

0	5	code/player-accessed-on-wrong-thread.md

commit edeea090ae5f465500c45b54f6dc42ef7624b957
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-26 09:54:10 +0100

    Update player-accessed-on-wrong-thread.md

1	1	code/player-accessed-on-wrong-thread.md

commit 24619d3f2c759822f24a1767f441f11615181005
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-26 09:52:39 +0100

    Update player-accessed-on-wrong-thread.md

1	0	code/player-accessed-on-wrong-thread.md

commit 01e9bc38a4eb3b784f938a7b34b3fd7c4b47c990
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-26 09:51:12 +0100

    Add wrong thread redirect

4	0	code/player-accessed-on-wrong-thread.md

commit f6297f4f51f00c20d5b937d8f636ef215d89730f
Merge: 7e407089f b9c8861b3
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-23 16:15:27 +0100

    Merge pull request #5986 from google/dev-v2-r2.10.2
    
    r2.10.2

commit f53941af9e3124f89ffcadde50a431a0efd93dc3
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-23 16:13:21 +0100

    Javadoc 2.10.2

5	1	doc/reference/allclasses-frame.html
5	1	doc/reference/allclasses-noframe.html
2	2	doc/reference/com/google/android/exoplayer2/C.Encoding.html
139	121	doc/reference/com/google/android/exoplayer2/C.html
41	7	doc/reference/com/google/android/exoplayer2/DefaultRenderersFactory.html
94	27	doc/reference/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/audio/package-tree.html
38	10	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.PlaybackPreparer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-summary.html
22	4	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
1	4	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/offline/package-tree.html
17	17	doc/reference/com/google/android/exoplayer2/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/BaseMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/MediaSource.html
2	2	doc/reference/com/google/android/exoplayer2/source/ShuffleOrder.UnshuffledShuffleOrder.html
422	0	doc/reference/com/google/android/exoplayer2/source/SilenceMediaSource.html
2	2	doc/reference/com/google/android/exoplayer2/source/SinglePeriodTimeline.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
1	0	doc/reference/com/google/android/exoplayer2/source/package-frame.html
10	4	doc/reference/com/google/android/exoplayer2/source/package-summary.html
2	1	doc/reference/com/google/android/exoplayer2/source/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/package-tree.html
52	5	doc/reference/com/google/android/exoplayer2/ui/DefaultTimeBar.html
2	2	doc/reference/com/google/android/exoplayer2/ui/PlaybackControlView.html
37	37	doc/reference/com/google/android/exoplayer2/ui/{spherical/SphericalSurfaceView.SurfaceListener.html => PlayerControlView.ProgressUpdateListener.html}
2	2	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.VisibilityListener.html
49	12	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.html
6	7	doc/reference/com/google/android/exoplayer2/ui/PlayerView.html
1	0	doc/reference/com/google/android/exoplayer2/ui/package-frame.html
14	8	doc/reference/com/google/android/exoplayer2/ui/package-summary.html
3	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
5	40	doc/reference/com/google/android/exoplayer2/ui/spherical/SphericalSurfaceView.html
0	1	doc/reference/com/google/android/exoplayer2/ui/spherical/package-frame.html
0	7	doc/reference/com/google/android/exoplayer2/ui/spherical/package-summary.html
0	1	doc/reference/com/google/android/exoplayer2/ui/spherical/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSource.html
1	0	doc/reference/com/google/android/exoplayer2/upstream/DefaultDataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/RawResourceDataSource.RawResourceDataSourceException.html
295	0	doc/reference/com/google/android/exoplayer2/upstream/ResolvingDataSource.Factory.html
267	0	doc/reference/com/google/android/exoplayer2/upstream/ResolvingDataSource.Resolver.html
472	0	doc/reference/com/google/android/exoplayer2/upstream/ResolvingDataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/StatsDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-tree.html
3	0	doc/reference/com/google/android/exoplayer2/upstream/package-frame.html
18	0	doc/reference/com/google/android/exoplayer2/upstream/package-summary.html
4	1	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/util/package-tree.html
2	8	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.html
128	121	doc/reference/constant-values.html
101	23	doc/reference/index-all.html
5	1	doc/reference/overview-tree.html

commit 5f6a7fc7f10134db7815e2f0c08e97fe427eedc3
Author: sr1990 <sr1990003@gmail.com>
Date:   2019-06-22 18:56:06 -0700

    [Patch V3] Support signalling of last segment number via supplemental descriptor in mpd.

41	16	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
4	5	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.java

commit b9c8861b3ecc37412b137c69d48c7e8c95133fe8
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-21 19:58:27 +0100

    Disable publishEnabled
    
    Issue: #6016

1	1	build.gradle

commit 4703ce1b26285d6627867147c6464bea42861508
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-06-21 13:14:06 +0100

    Fix ad pod index offset calculation without preroll
    
    Issue: #5928
    PiperOrigin-RevId: 254379085

2	0	RELEASENOTES.md
13	9	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit fbf58425b23aea392453e8d108a1f1be103e5489
Author: olly <olly@google.com>
Date:   2019-06-20 09:59:53 +0100

    Release notes language tweaks
    
    PiperOrigin-RevId: 254156143

3	3	RELEASENOTES.md

commit 99054325461b6b8ff0917e0e5edc65dcd41f6312
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-06-21 13:14:06 +0100

    Fix ad pod index offset calculation without preroll
    
    Issue: #5928
    PiperOrigin-RevId: 254379085

2	0	RELEASENOTES.md
13	9	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit 88f1dfcbc1da3a1417163db8618d199bf1e59bda
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-21 12:18:45 +0100

    Add generic DrmSessionManager.getDummyDrmSessionManager
    
    PiperOrigin-RevId: 254372134

6	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java

commit 04aaf25aa282b2c52a49d93ead08d587a7880f4d
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-20 15:33:22 +0100

    Add DecryptableSampleQueueReader
    
    Reads from a SampleQueue, associating each read format with a
    DrmSession, if needed.
    
    PiperOrigin-RevId: 254192562

182	0	library/core/src/main/java/com/google/android/exoplayer2/source/DecryptableSampleQueueReader.java

commit acad64cae873c32092ffc01c31625a4d4c54774c
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-20 14:51:45 +0100

    Rename FormatHolder.decryptionResourceIsProvided to FormatHolder.includesDrmSession
    
    PiperOrigin-RevId: 254187403

1	1	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
2	5	library/core/src/main/java/com/google/android/exoplayer2/FormatHolder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit ae969397bbf2370ccc7b4a8f863974adef51ac21
Merge: 1701a5f32 b29731d50
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-21 18:22:40 +0100

    Merge pull request #6055 from xirac:dev-v2
    
    PiperOrigin-RevId: 254182080

commit 1701a5f329a227e64a96e75ab9bac939ef1b1f7f
Author: tonihei <tonihei@google.com>
Date:   2019-06-20 12:38:20 +0100

    PUBLIC: Update ExoPlayer dependency and remove legacy method.
    
    PiperOrigin-RevId: 254172906

0	1	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java

commit 0b7227ece5b978d8742eb92ec173918e741f749b
Author: olly <olly@google.com>
Date:   2019-06-20 09:59:53 +0100

    Release notes language tweaks
    
    PiperOrigin-RevId: 254156143

3	3	RELEASENOTES.md

commit 6838b0b29cca2d17a1abd61058e12da6dcfa402d
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-19 20:32:46 +0100

    Relax DrmSessionManager-in-Renderer requirement for MediaSource-provided DRM
    
    PiperOrigin-RevId: 254048233

4	4	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 2f8bd42b0e7cb81b46d65fdac21642b87558be21
Author: olly <olly@google.com>
Date:   2019-06-19 20:19:54 +0100

    Remove Utils.equals() check for object equality that is fragile.
    
    PiperOrigin-RevId: 254046126

3	3	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java

commit 679909793025fb4682a37fd031a62cf2f0f91f1e
Author: Andrew Lewis <andrewlewis@users.noreply.github.com>
Date:   2019-06-21 11:50:12 +0100

    Fix decoder fallback for E-AC3 JOC to E-AC3
    
    
    Issue: #6073

1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit c8955ed5ff134e197143da98bb52edecd3efd090
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-19 18:59:31 +0100

    Fix build

1	0	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java

commit 66e1211350b11bf701c1f70336873931cf20cc3b
Author: bachinger <bachinger@google.com>
Date:   2019-06-19 10:41:54 +0100

    allow multiple style rules in a STYLE block of a webvtt file
    
    PiperOrigin-RevId: 253959976

38	26	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/CssParser.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoder.java
0	2	library/core/src/test/assets/webvtt/with_css_styles
40	24	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/CssParserTest.java

commit 5d544974e9c5531c2e014e68a276de7248e5e557
Author: bachinger <bachinger@google.com>
Date:   2019-06-19 10:27:38 +0100

    keep notification when stop(false) is called
    
    ISSUE: #6041
    PiperOrigin-RevId: 253958225

2	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 0f514a093b14b2b661caa044e9bbe2b7c4e46032
Author: olly <olly@google.com>
Date:   2019-06-18 17:52:54 +0100

    Update release notes for 2.10.2 cherrypicks
    
    PiperOrigin-RevId: 253808562

8	8	RELEASENOTES.md

commit 8286e1d725f4a39e03ae3fad24e72fc44dfd59e1
Author: tonihei <tonihei@google.com>
Date:   2019-06-18 16:02:50 +0100

    Prevent negative renderer timestamps when seeking back.
    
    We are currently queuing periods in a way such that the new start position
    lines up with the end of the previous period (to ensure continuous playback).
    However, if the start position of the new period is larger than the total of
    all previously played period durations, we may end up with negative renderer
    timestamps when seeking back to the beginning of this new period. Negative
    timestamps should be avoided as most decoders have problems handling them
    correctly.
    
    This change forces a renderer reset if we detect such a seek to a negative
    renderer time and also resets the renderer offset to 0 every time all
    renderers are disabled, as this is the only time where we can savely change
    the offset of an existing media period.
    
    Also, if playback starts with an ad, we choose the content position as
    renderer offset to prevent the whole issue from occurring for the seek-behind-
    midroll case.
    
    Issue:#6009
    Issue:#5323
    PiperOrigin-RevId: 253790054

2	0	RELEASENOTES.md
9	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
11	3	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java

commit def01f68b98f2eacbaa2987f3997f4c5f18e157d
Author: olly <olly@google.com>
Date:   2019-06-18 15:24:53 +0100

    Let AudioTrack write headers on SDK_INT >= 26
    
    Issue: #6031
    PiperOrigin-RevId: 253784986

4	5	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit d072a5261eaf9d26745c04f018fdd7ca27464010
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-18 14:59:11 +0100

    Fix application of maxAudioBitrate for adaptive audio track groups
    
    Issue:#6006
    PiperOrigin-RevId: 253781533

2	0	RELEASENOTES.md
12	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
70	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit 9da2c3305b5f492288f9046c37c7ba0867e0e567
Author: tonihei <tonihei@google.com>
Date:   2019-06-18 14:50:06 +0100

    Prevent negative total buffered duration at the point where it is calculated.
    
    In some edge cases the renderer position may be slightly ahead of the
    buffered position and the total buffered duration is thus negative. We already
    filter that in ExoPlayerImpl for the publicly accessible value. However, we
    forward the unfiltered value to other components like the LoadControl, which
    may be confusing.
    
    Issue:#6015
    PiperOrigin-RevId: 253780460

1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit a090f7ecca5cc079bbd70a7fed07e31298a81381
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-18 12:03:54 +0100

    Remove unused variable
    
    PiperOrigin-RevId: 253762488

0	1	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit e1ff3d028f4ff323d43cd070d73cd26776c49896
Author: tonihei <tonihei@google.com>
Date:   2019-06-18 11:31:54 +0100

    Gracefully handle revoked ACCESS_NETWORK_STATE permission.
    
    This permission has normal access right and can't be revoked by the user.
    However, an app can choose to revoke it when using ExoPlayer, e.g. if
    no network is required and the app doesn't want to list this permission.
    
    Support this use case by gracefully catching the exception in the relevant
    places.
    
    Issue:#6019
    PiperOrigin-RevId: 253759332

2	0	RELEASENOTES.md
2	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 76b9175072993d8a4ec2ba65c98bf0aa987f0e54
Author: bachinger <bachinger@google.com>
Date:   2019-06-17 17:13:32 +0100

    Add bug report section to question and content_not_playing issue templates.
    
    PiperOrigin-RevId: 253593267

5	4	.github/ISSUE_TEMPLATE/bug.md
11	3	.github/ISSUE_TEMPLATE/content_not_playing.md
17	0	.github/ISSUE_TEMPLATE/question.md

commit 7f435b4787c838ed5d8cbae92ae7f6fc928d6fa1
Author: Toni <tonihei@google.com>
Date:   2019-06-14 16:50:10 +0100

    Merge pull request #6036 from angelrc96:dev-v2
    
    PiperOrigin-RevId: 253228214

2	0	RELEASENOTES.md
3	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultDataSource.java

commit 692f4152d5ff6495d65e1695d880960408c9f871
Author: arodriguez <arodriguez@arantia.com>
Date:   2019-06-14 08:24:31 +0200

    Support for UDP data source

19	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultDataSource.java

commit ba5e2a4a778b42ea0308ff60098c55cb7861ccea
Author: tonihei <tonihei@google.com>
Date:   2019-06-19 12:07:33 +0100

    Fix test build.
    
    Builds now fail when raw generics are used.
    
    PiperOrigin-RevId: 253969682

1	4	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactoryTest.java

commit aaf57c76cf20fda30d1169dc7dc5f2aae7ca39ff
Author: bachinger <bachinger@google.com>
Date:   2019-06-19 10:41:54 +0100

    allow multiple style rules in a STYLE block of a webvtt file
    
    PiperOrigin-RevId: 253959976

37	27	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/CssParser.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoder.java
0	2	library/core/src/test/assets/webvtt/with_css_styles
40	24	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/CssParserTest.java

commit 1952988f84e60b4cc2611dddb671e5030dd34273
Author: bachinger <bachinger@google.com>
Date:   2019-06-19 10:27:38 +0100

    keep notification when stop(false) is called
    
    ISSUE: #6041
    PiperOrigin-RevId: 253958225

2	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit b9859c47873dfa7701843e320997fea15e735cad
Author: olly <olly@google.com>
Date:   2019-06-18 21:48:23 +0100

    [Checker Framework Upgrade] Suppress warnings emitted by Checker Framework version 2.8.2
    
    More information (LSC)
    https://docs.google.com/document/d/16tpK6aXqN68PvTyvt4siM-m7f0NXi_8xEeitLDzr8xY/edit?usp=sharing
    
    Tested:
        tap_presubmit: http://test/OCL:253818309:BASE:253788332:1560879553629:9dc07a48
        Some tests failed; test failures are believed to be unrelated to this CL
    PiperOrigin-RevId: 253858263

2	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java

commit 7e407089f96b4ea77c26935e4522a779e6b7b108
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-06-18 19:43:29 +0100

    add sections for bug report and link to test content

17	0	.github/ISSUE_TEMPLATE/question.md

commit 67879f9557d2165e964a6d1ea1cd434d39ed8575
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-06-18 19:42:39 +0100

    add sections asking for bug report

11	3	.github/ISSUE_TEMPLATE/content_not_playing.md

commit 95c08ad8642cc5c85aaa2b2bd80c2181adc2dcee
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-06-18 19:41:01 +0100

    tell user that #1234 should be the issue number

5	4	.github/ISSUE_TEMPLATE/bug.md

commit 9308ff26bcd15472fcdd4f3b3fba48c1de1bfb64
Author: olly <olly@google.com>
Date:   2019-06-18 17:52:54 +0100

    Update release notes for 2.10.2 cherrypicks
    
    PiperOrigin-RevId: 253808562

8	8	RELEASENOTES.md

commit 9ed7b42af6a825221f36b05727dda7549174e193
Author: tonihei <tonihei@google.com>
Date:   2019-06-18 16:02:50 +0100

    Prevent negative renderer timestamps when seeking back.
    
    We are currently queuing periods in a way such that the new start position
    lines up with the end of the previous period (to ensure continuous playback).
    However, if the start position of the new period is larger than the total of
    all previously played period durations, we may end up with negative renderer
    timestamps when seeking back to the beginning of this new period. Negative
    timestamps should be avoided as most decoders have problems handling them
    correctly.
    
    This change forces a renderer reset if we detect such a seek to a negative
    renderer time and also resets the renderer offset to 0 every time all
    renderers are disabled, as this is the only time where we can savely change
    the offset of an existing media period.
    
    Also, if playback starts with an ad, we choose the content position as
    renderer offset to prevent the whole issue from occurring for the seek-behind-
    midroll case.
    
    Issue:#6009
    Issue:#5323
    PiperOrigin-RevId: 253790054

2	0	RELEASENOTES.md
9	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
11	3	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodHolder.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java

commit 38000b87865c65e29d80f867794b05d74313f7d5
Author: olly <olly@google.com>
Date:   2019-06-18 15:24:53 +0100

    Let AudioTrack write headers on SDK_INT >= 26
    
    Issue: #6031
    PiperOrigin-RevId: 253784986

4	5	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit 5aeaa6e8bf34cf8cda135be542805be007f02e80
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-18 14:59:11 +0100

    Fix application of maxAudioBitrate for adaptive audio track groups
    
    Issue:#6006
    PiperOrigin-RevId: 253781533

2	0	RELEASENOTES.md
12	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
70	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit b89dc8fbfd191e78727b0bf297741688cbb480c4
Author: tonihei <tonihei@google.com>
Date:   2019-06-18 14:50:06 +0100

    Prevent negative total buffered duration at the point where it is calculated.
    
    In some edge cases the renderer position may be slightly ahead of the
    buffered position and the total buffered duration is thus negative. We already
    filter that in ExoPlayerImpl for the publicly accessible value. However, we
    forward the unfiltered value to other components like the LoadControl, which
    may be confusing.
    
    Issue:#6015
    PiperOrigin-RevId: 253780460

1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
6	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit e174d8a989bdcb0f8660cd15a08ae2361e91d54b
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-18 12:03:54 +0100

    Remove unused variable
    
    PiperOrigin-RevId: 253762488

0	1	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit 0a74e36f7b00aacfb0110817061aed978b4dcddf
Author: tonihei <tonihei@google.com>
Date:   2019-06-18 11:31:54 +0100

    Gracefully handle revoked ACCESS_NETWORK_STATE permission.
    
    This permission has normal access right and can't be revoked by the user.
    However, an app can choose to revoke it when using ExoPlayer, e.g. if
    no network is required and the app doesn't want to list this permission.
    
    Support this use case by gracefully catching the exception in the relevant
    places.
    
    Issue:#6019
    PiperOrigin-RevId: 253759332

2	0	RELEASENOTES.md
2	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java
6	1	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit af5eb5e55274dc5b7d51c32722bf29ad831d880c
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-17 19:36:36 +0100

    Add DummyDrmSessionManager
    
    Avoids nullable DrmSessionManagers and simplifies sample reading.
    To be used as default value for MediaSources.
    
    PiperOrigin-RevId: 253624465

18	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java

commit 3204cf8ffadb6edb5e0c7243f7d59ad73e73ca93
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-17 17:51:31 +0100

    Make DrmSessionException extend IOException
    
    Makes it throwable from SampleStream.maybeThrowError
    
    PiperOrigin-RevId: 253600396

3	4	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java

commit c05cb3f6f46a9c03e7de913c151e8155e1f20aeb
Author: bachinger <bachinger@google.com>
Date:   2019-06-17 17:13:32 +0100

    Add bug report section to question and content_not_playing issue templates.
    
    PiperOrigin-RevId: 253593267

5	4	.github/ISSUE_TEMPLATE/bug.md
11	3	.github/ISSUE_TEMPLATE/content_not_playing.md
17	0	.github/ISSUE_TEMPLATE/question.md

commit f90cbcdffd066761789fa40c87147992ae819b92
Author: olly <olly@google.com>
Date:   2019-06-17 16:30:10 +0100

    Add MRC continuous play API to IMA android sdk.
    
    Details in
    go/ima-mrc-continuous-play
    
    Corresponding js webcore changes is in <unknown commit>.
    
    NoExternal
    
    PiperOrigin-RevId: 253585186

5	0	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakeAdsRequest.java

commit b449269552537b2cb0a8b46e29cccc7c42c0807d
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-06-17 14:26:55 +0100

    Remove Objects.equals use from CronetDataSource
    
    Objects was added in API 19.
    
    PiperOrigin-RevId: 253567490

3	3	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java

commit 1266d5967be77af9f0be5636d10eea940e983b43
Author: tonihei <tonihei@google.com>
Date:   2019-06-17 09:56:50 +0100

    Fix all FIXME comments.
    
    These are mostly nullability issues.
    
    PiperOrigin-RevId: 253537068

1	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/drm/ExoMediaDrm.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java

commit b29731d501c9ee97bdc3248f2a20e3c0e9374ea8
Author: Yannick RUI <yannick.rui@netplus.pro>
Date:   2019-06-18 11:27:37 +0200

    Parse text track subtype into Format.roleflags.

15	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit 04524a688ded24b108abc574360f1902e077860c
Author: Tim Balsfulland <timbalsfulland@gmail.com>
Date:   2019-06-15 15:59:57 +0200

    Add convenience constructors for notification channel descriptions

43	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
37	0	library/core/src/main/java/com/google/android/exoplayer2/util/NotificationUtil.java
61	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit da1f3f01faa3d20e7d5a47a5fa83d8d74f96eedd
Merge: 30ac71d41 28ee05f65
Author: Toni <tonihei@google.com>
Date:   2019-06-14 16:50:10 +0100

    Merge pull request #6036 from angelrc96:dev-v2
    
    PiperOrigin-RevId: 253228214

commit 30ac71d4135203613c6844b508e4b2bfbe19be1b
Merge: 2ce28a162 624bb6b8d
Author: Toni <tonihei@google.com>
Date:   2019-06-14 16:41:10 +0100

    Merge branch 'dev-v2' of https://github.com/google/ExoPlayer into dev-v2

commit 2ce28a1620672faced2a9e08931c40f3053b397c
Author: arodriguez <arodriguez@arantia.com>
Date:   2019-06-14 08:24:31 +0200

    Support for UDP data source

13	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultDataSource.java

commit 3fcae68432ae1cd07b8293cba0cb490f5aefdb4b
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-13 12:57:09 +0100

    Add flags to DrmSessionManager
    
    PiperOrigin-RevId: 253006112

30	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java

commit cc337a3e2d42118acfa32bd33eff0b7d207605ca
Author: olly <olly@google.com>
Date:   2019-06-07 23:09:13 +0100

    Update nullness annotations.
    
    PiperOrigin-RevId: 252127811

2	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/BaseMediaChunk.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkHolder.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/MediaChunk.java

commit 3bff79f56f5c2f80f225f626b86166034300017d
Author: tonihei <tonihei@google.com>
Date:   2019-06-07 16:35:56 +0100

    Wrap MediaCodec exceptions in DecoderException and report as renderer error.
    
    We currently report MediaCodec exceptions as unexpected exceptions instead of
    as renderer error. All such exceptions are now wrapped in a new DecoderException
    to allow adding more details to the exception.
    
    PiperOrigin-RevId: 252054486

2	0	RELEASENOTES.md
2	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
92	38	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
23	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 8a2871ed51d336a84c1dd2ea2306f33895aa2c3e
Author: olly <olly@google.com>
Date:   2019-06-07 01:26:45 +0100

    Allow protected access to surface in MediaCodecVideoRenderer
    
    PiperOrigin-RevId: 251961318

4	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit e525c1c59ea0415d9c8c912c613cf363272e89fe
Author: olly <olly@google.com>
Date:   2019-06-06 21:31:11 +0100

    Add CronetDataSource.read(ByteBuffer) method that writes directly into caller's buffer.
    
    PiperOrigin-RevId: 251915459

164	25	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
328	0	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceTest.java

commit 1fb105bbb2bef0f543eb5e2bd909dddef623d420
Author: olly <olly@google.com>
Date:   2019-06-06 01:00:22 +0100

    Attach timestamp to ExoPlaybackException
    
    PiperOrigin-RevId: 251748542

6	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlaybackException.java

commit 28ee05f657c2051f6128fb0e35c859431570a5fd
Author: arodriguez <arodriguez@arantia.com>
Date:   2019-06-14 08:24:31 +0200

    Support for UDP data source

13	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultDataSource.java

commit 5b02f92dad9c5725ed32e67f326b1499ca3e5dde
Author: sr1990 <sr1990003@gmail.com>
Date:   2019-06-10 22:15:04 -0700

    [Patch V2] Support signalling of last segment number via supplemental descriptor in mpd

1	27	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
26	9	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
73	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/SegmentBase.java

commit d3967b557a044f2cdbed77e70a0ecfd0c13c0457
Author: olly <olly@google.com>
Date:   2019-06-06 00:42:40 +0100

    Don't throw DecoderQueryException from getCodecMaxSize
    
    It's only thrown in an edge case on API level 20 and below. If it
    is thrown it causes playback failure when playback could succeed,
    by throwing up through configureCodec.
    
    It seems better just to catch the exception and have the codec be
    configured using the format's own width and height.
    
    PiperOrigin-RevId: 251745539

1	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
18	17	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
1	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/DebugRenderersFactory.java

commit f638634fe2c7eab3b8a4334ee07a9d321ba9a921
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-05 12:28:37 +0100

    Simplify re-creation of the CastPlayer queue in the Cast demo app
    
    PiperOrigin-RevId: 251617354

1	7	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DefaultReceiverPlayerManager.java

commit 2f8c8b609f6d526c8404088a9b7602d726001b0e
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-05 12:14:14 +0100

    Fix detection of current window index in CastPlayer
    
    Issue:#5955
    PiperOrigin-RevId: 251616118

2	0	RELEASENOTES.md
11	12	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit 83a6d51fd12371758e79a1f46e078f33b4a2c065
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-04 10:19:29 +0100

    Use listener notification batching in CastPlayer
    
    PiperOrigin-RevId: 251399230

76	31	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit 624bb6b8d1709852e8cffc5c67eb7d5debd9e848
Author: olly <olly@google.com>
Date:   2019-06-06 01:00:22 +0100

    Attach timestamp to ExoPlaybackException
    
    PiperOrigin-RevId: 251748542

6	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlaybackException.java

commit cfa837df5c20a217de574f6d8d53ef161716f973
Author: olly <olly@google.com>
Date:   2019-06-06 00:42:40 +0100

    Don't throw DecoderQueryException from getCodecMaxSize
    
    It's only thrown in an edge case on API level 20 and below. If it
    is thrown it causes playback failure when playback could succeed,
    by throwing up through configureCodec.
    
    It seems better just to catch the exception and have the codec be
    configured using the format's own width and height.
    
    PiperOrigin-RevId: 251745539

1	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
18	17	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
1	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/DebugRenderersFactory.java

commit 3490bea339e4b7c7177a70bf878050506acad794
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-05 12:28:37 +0100

    Simplify re-creation of the CastPlayer queue in the Cast demo app
    
    PiperOrigin-RevId: 251617354

1	7	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DefaultReceiverPlayerManager.java

commit 8bd2b5b3d794ac36972731ccac650b0a9d4d6961
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-05 12:14:14 +0100

    Fix detection of current window index in CastPlayer
    
    Issue:#5955
    PiperOrigin-RevId: 251616118

2	0	RELEASENOTES.md
11	12	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit e4feaa68f228a1fc4a35a4decef065252820c436
Author: eguven <eguven@google.com>
Date:   2019-06-04 18:03:32 +0100

    Add VR player demo
    
    PiperOrigin-RevId: 251460113

1	0	RELEASENOTES.md
4	0	demos/gvr/README.md
59	0	demos/gvr/build.gradle
74	0	demos/gvr/src/main/AndroidManifest.xml
243	0	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/PlayerActivity.java
133	0	demos/gvr/src/main/java/com/google/android/exoplayer2/gvrdemo/SampleChooserActivity.java
25	0	demos/gvr/src/main/res/layout/sample_chooser_activity.xml
-	-	demos/gvr/src/main/res/mipmap-hdpi/ic_launcher.png
-	-	demos/gvr/src/main/res/mipmap-mdpi/ic_launcher.png
-	-	demos/gvr/src/main/res/mipmap-xhdpi/ic_launcher.png
-	-	demos/gvr/src/main/res/mipmap-xxhdpi/ic_launcher.png
-	-	demos/gvr/src/main/res/mipmap-xxxhdpi/ic_launcher.png
28	0	demos/gvr/src/main/res/values/strings.xml
4	1	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.java
2	0	settings.gradle

commit be88499615d478095eab35922782759b9724aeb1
Author: tonihei <tonihei@google.com>
Date:   2019-06-04 14:20:51 +0100

    Display last frame when seeking to end of stream.
    
    We currently don't display the last frame because the seek time is behind the
    last frame's timestamps and it's thus marked as decodeOnly.
    
    This case can be detected by checking whether all data sent to the codec is
    marked as decodeOnly at the time we read the end of stream signal. If so, we
    can re-enable the last frame. This should work for almost all cases because the
    end-of-stream signal is read in the same feedInputBuffer loop as the last
    frame and we therefore haven't released the last frame buffer yet.
    
    Issue:#2568
    PiperOrigin-RevId: 251425870

2	0	RELEASENOTES.md
3	2	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
32	10	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
15	10	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
5	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/DebugRenderersFactory.java

commit 44aa73147663fc91f29999c11ad73179ba73d053
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-06-04 10:19:29 +0100

    Use listener notification batching in CastPlayer
    
    PiperOrigin-RevId: 251399230

76	31	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java

commit 9ca6f60c3a1cd1642ee3e3a8e579184c6228cb07
Author: olly <olly@google.com>
Date:   2019-06-03 23:35:34 +0100

    Preserve postBody in CacheDataSource when reading from upstream.
    Set appropriate Content-Type when posting clientAbrState proto in post body.
    
    PiperOrigin-RevId: 251322860

5	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java

commit edee3dd3409710abf8d3c7a6301ca1be62f8a5a2
Author: olly <olly@google.com>
Date:   2019-06-03 14:11:16 +0100

    Bump to 2.10.2
    
    PiperOrigin-RevId: 251216822

14	14	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 871a88a921564d727f8b2429631d9ed6825f8524
Author: olly <olly@google.com>
Date:   2019-06-03 19:09:58 +0100

    Clean up release notes
    
    PiperOrigin-RevId: 251269746

12	13	RELEASENOTES.md

commit a9de1477ee9018063b5cb1f08e11c780a6d82396
Author: olly <olly@google.com>
Date:   2019-06-03 14:11:16 +0100

    Bump to 2.10.2
    
    PiperOrigin-RevId: 251216822

16	13	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit b47f37fbcd8a15dfef38bd7e5afccd2231a65d76
Author: olly <olly@google.com>
Date:   2019-05-30 23:11:19 +0100

    Add HlsTrackMetadataEntry.toString
    
    It's printed out by EventLogger, and currently looks pretty ugly
    
    PiperOrigin-RevId: 250772010

5	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.java

commit 7e187283cd4a08f4915124ba586f895a4773fb20
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-30 18:53:19 +0100

    Add MediaSource-provided-DRM support to Renderer implementations
    
    PiperOrigin-RevId: 250719155

10	5	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
10	5	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
10	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 578abccf1658c92b7c91b909075a8fc3297f2c60
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-17 18:34:07 +0100

    Add SilenceMediaSource
    
    Issue: #5735
    PiperOrigin-RevId: 248745617

2	0	RELEASENOTES.md
242	0	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java

commit d11778dbc800fbb171c5de2eedd18a726797301d
Author: tonihei <tonihei@google.com>
Date:   2019-05-21 13:50:28 +0100

    Add ResolvingDataSource for just-in-time resolution of DataSpecs.
    
    Issue:#5779
    PiperOrigin-RevId: 249234058

2	0	RELEASENOTES.md
134	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/ResolvingDataSource.java

commit 19de134aa659beaf6ad3255f39d0a1d3f675e56b
Author: Oliver Woodman <olly@google.com>
Date:   2019-06-03 16:34:41 +0100

    CEA608: Handling XDS and TEXT modes

2	0	RELEASENOTES.md
63	7	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea608Decoder.java

commit c231e1120eb980f8ca9c658ff9336faf6db3ce23
Author: eguven <eguven@google.com>
Date:   2019-05-30 14:41:03 +0100

    Fix misreporting cached bytes when caching is paused
    
    When caching is resumed, it starts from the initial position. This makes
    more data to be reported as cached.
    
    Issue:#5573
    PiperOrigin-RevId: 250678841

2	6	RELEASENOTES.md
26	18	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java

commit 811cdf06ac932a5ba232978f4c5c5ff9522da1d3
Author: eguven <eguven@google.com>
Date:   2019-05-30 10:47:28 +0100

    Modify DashDownloaderTest to test if content length is stored
    
    PiperOrigin-RevId: 250655481

6	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloaderTest.java
4	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
14	11	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloaderTest.java
64	34	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/CacheAsserts.java

commit bbf8a9ac13861b16afd065f8accdd78ea826467a
Author: eguven <eguven@google.com>
Date:   2019-05-30 10:40:00 +0100

    Simplify CacheUtil
    
    PiperOrigin-RevId: 250654697

17	15	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java

commit 92e2581e238e1d5996e45e150b9326a0969e61b7
Author: eguven <eguven@google.com>
Date:   2019-05-29 20:42:25 +0100

    Fix CacheUtil.cache() use too much data
    
    cache() opens all connections with unset length to avoid position errors.
    This makes more data then needed to be downloading by the underlying
    network stack.
    
    This fix makes makes it open connections for only required length.
    
    Issue:#5927
    PiperOrigin-RevId: 250546175

12	3	RELEASENOTES.md
4	18	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
43	20	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
10	6	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/CacheAsserts.java

commit 25e93a178adea0e54ca2954fbcc29c38c32e7131
Author: tonihei <tonihei@google.com>
Date:   2019-04-25 13:48:36 +0100

    Toggle playback controls according to standard Android click handling.
    
    We currently toggle the view in onTouchEvent ACTION_DOWN which is non-standard
    and causes problems when used in a ViewGroup intercepting touch events.
    
    Switch to standard Android click handling instead which is also what most
    other player apps are doing.
    
    Issue:#5784
    PiperOrigin-RevId: 245219728

2	0	RELEASENOTES.md
15	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit b9f3fd429d6c2e90d67e8e15103d9af22ff4cc43
Author: tonihei <tonihei@google.com>
Date:   2019-05-30 15:08:51 +0100

    Make parallel adaptive track selection more robust.
    
    Using parallel adaptation for Formats without bitrate information currently
    causes an exception. Handle this gracefully and also cases where all formats
    have the same bitrate.
    
    Issue:#5971
    PiperOrigin-RevId: 250682127

3	0	RELEASENOTES.md
3	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java

commit d626e4bc54d0e78560cb411b452d1dcdd40c0b32
Author: tonihei <tonihei@google.com>
Date:   2019-05-30 13:40:49 +0100

    Rename host_activity.xml to avoid manifest merge conflicts.
    
    PiperOrigin-RevId: 250672752

2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/HostActivity.java
0	0	testutils/src/main/res/layout/{host_activity.xml => exo_testutils_host_activity.xml}

commit 7cdcd89873e5874e3a33a97502dec3d2e2dd728a
Author: olly <olly@google.com>
Date:   2019-05-30 12:19:33 +0100

    Update cast extension build
    
    PiperOrigin-RevId: 250664791

1	1	extensions/cast/build.gradle

commit 9860c486e0409f4c410cb28877e83cae85a7175e
Author: olly <olly@google.com>
Date:   2019-05-30 11:54:15 +0100

    Keep controller visible on d-pad key events
    
    PiperOrigin-RevId: 250661977

2	0	RELEASENOTES.md
14	5	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit 9da9941e384322134f442ea93f3b0099ce37abdb
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-29 18:36:01 +0100

    Fix TTML bitmap subtitles
    
    + Use start for anchoring, instead of center.
    + Add the height to the TTML bitmap cue rendering layout.
    
    Issue:#5633
    PiperOrigin-RevId: 250519710

3	0	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlDecoder.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlNode.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlRegion.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java

commit 082aee692b5d42a8ce9c3da01e2eab2bc2ca3606
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-29 18:25:27 +0100

    Allow passthrough of E-AC3-JOC streams
    
    PiperOrigin-RevId: 250517338

5	2	library/core/src/main/java/com/google/android/exoplayer2/C.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
28	3	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java

commit 41ab7ef7c092b73e809963696463779750233b19
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-29 10:09:54 +0100

    Fix video size reporting in surface YUV mode
    
    In surface YUV output mode the width/height fields of the VpxOutputBuffer were
    never populated. Fix this by adding a new method to set the width/height and
    calling it from JNI like we do for GL YUV mode.
    
    PiperOrigin-RevId: 250449734

11	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.java
7	0	extensions/vp9/src/main/jni/vpx_jni.cc

commit 8bc14bc2a9cb336956bc5a8c309bf7977c20efe3
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-28 17:40:50 +0100

    Allow enabling decoder fallback in DefaultRenderersFactory
    
    Also allow enabling decoder fallback with MediaCodecAudioRenderer.
    
    Issue: #5942
    PiperOrigin-RevId: 250301422

2	0	RELEASENOTES.md
28	2	library/core/src/main/java/com/google/android/exoplayer2/DefaultRenderersFactory.java
39	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/DebugRenderersFactory.java

commit 5d72942a4927928d86f4587072faa1f750d6bf76
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-28 16:36:09 +0100

    Fix VP9 build setup
    
    Update configuration script to use an external build, so we can remove use of
    isysroot which is broken in the latest NDK r19c. Also switch from gnustl_static
    to c++_static so that ndk-build with NDK r19c succeeds.
    
    Issue: #5922
    PiperOrigin-RevId: 250287551

2	1	extensions/vp9/README.md
2	2	extensions/vp9/src/main/jni/Application.mk
14	30	extensions/vp9/src/main/jni/generate_libvpx_android_configs.sh

commit 42ffc5215fc2c300b37246dbc47bbed109750316
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-28 12:20:14 +0100

    Fix anchor usage in SubtitlePainter's setupBitmapLayout
    
    According to Cue's constructor (for bitmaps) documentation:
    + cuePositionAnchor does horizontal anchoring.
    + cueLineAnchor does vertical anchoring.
    
    Usage is currently inverted.
    
    Issue:#5633
    PiperOrigin-RevId: 250253002

10	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitlePainter.java

commit 9b104f6ec09e3ae0cd7cb6d4be52da8903f6149a
Author: olly <olly@google.com>
Date:   2019-05-24 13:53:22 +0100

    Reset upstream format when empty track selection happens
    
    PiperOrigin-RevId: 249819080

1	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 2e1ea379c3858f960c7e2402ac20722b43b2002d
Author: olly <olly@google.com>
Date:   2019-05-23 10:56:58 +0100

    Fix IndexOutOfBounds when there are no available codecs
    
    PiperOrigin-RevId: 249610014

4	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit cf93b8e73e2f996744247de54b554dc598892911
Author: tonihei <tonihei@google.com>
Date:   2019-05-22 14:54:41 +0100

    Release DownloadHelper automatically if preparation failed.
    
    This prevents further unexpected updates if the MediaSource happens to
    finish its preparation at a later point.
    
    Issue:#5915
    PiperOrigin-RevId: 249439246

3	0	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit b1ff911e6a09a2ce9a4ba3e3c9f4c674b2557955
Author: eguven <eguven@google.com>
Date:   2019-05-22 11:27:57 +0100

    Remove mistakenly left link in vp9 readme
    
    PiperOrigin-RevId: 249417898

0	1	extensions/vp9/README.md

commit 7e587ae98f586ff9193189c395512b0f42ce39f9
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-22 09:17:49 +0100

    Add missing annotations dependency
    
    Issue: #5926
    PiperOrigin-RevId: 249404152

1	0	extensions/ima/build.gradle

commit 94c10f1984b9197ba37f42ce81974cc5001e1bca
Author: olly <olly@google.com>
Date:   2019-05-21 16:05:56 +0100

    Propagate attributes to DefaultTimeBar
    
    Issue: #5765
    PiperOrigin-RevId: 249251150

3	0	RELEASENOTES.md
21	6	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java
31	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
10	7	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
1	2	library/ui/src/main/res/layout/exo_playback_control_view.xml
68	20	library/ui/src/main/res/values/attrs.xml
1	0	library/ui/src/main/res/values/ids.xml

commit 1d0618ee1abf5a78465c86a2410bddab8112dbe6
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-21 15:02:16 +0100

    Update surface directly from SphericalSurfaceView
    
    The SurfaceListener just sets the surface on the VideoComponent, but
    SphericalSurfaceView already accesses the VideoComponent directly so it seems
    simpler to update the surface directly.
    
    PiperOrigin-RevId: 249242185

0	16	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
4	28	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SphericalSurfaceView.java

commit e4d66c4105bf8c74f7e49e0dd4e8c77f5c66228f
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-20 17:53:08 +0100

    Update a reference to SimpleExoPlayerView
    
    PiperOrigin-RevId: 249068395

1	1	library/ui/src/main/res/values/attrs.xml

commit b4d72d12f7cb90c2d5693f1008d036f3af7a8323
Author: bachinger <bachinger@google.com>
Date:   2019-05-20 17:48:15 +0100

    Add ProgressUpdateListener
    
    Issue: #5834
    PiperOrigin-RevId: 249067445

2	0	RELEASENOTES.md
26	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java

commit e961def004243546830770cc0f3b9fe4725bf7e6
Author: bachinger <bachinger@google.com>
Date:   2019-05-16 17:29:32 +0100

    Add playWhenReady to prepareXyz methods of PlaybackPreparer.
    
    Issue: #5891
    PiperOrigin-RevId: 248541827

7	0	RELEASENOTES.md
41	32	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 0a5a8f547f076f7c64e142004c8c1184b19e2191
Author: bachinger <bachinger@google.com>
Date:   2019-05-15 19:20:27 +0100

    don't call stop before preparing the player
    
    Issue: #5891
    PiperOrigin-RevId: 248369509

11	12	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 090f359895825db92ecc48c2f13429dd90e53db8
Author: tonihei <tonihei@google.com>
Date:   2019-05-30 15:08:51 +0100

    Make parallel adaptive track selection more robust.
    
    Using parallel adaptation for Formats without bitrate information currently
    causes an exception. Handle this gracefully and also cases where all formats
    have the same bitrate.
    
    Issue:#5971
    PiperOrigin-RevId: 250682127

3	0	RELEASENOTES.md
3	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java

commit f9d6f314e2b15e8e348fa57a64d02f5950b6159f
Author: eguven <eguven@google.com>
Date:   2019-05-30 14:41:03 +0100

    Fix misreporting cached bytes when caching is paused
    
    When caching is resumed, it starts from the initial position. This makes
    more data to be reported as cached.
    
    Issue:#5573
    PiperOrigin-RevId: 250678841

2	0	RELEASENOTES.md
26	18	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java

commit 126aad58822b7212bf3d74a322e2b2e61aa7e2d9
Author: tonihei <tonihei@google.com>
Date:   2019-05-30 13:40:49 +0100

    Rename host_activity.xml to avoid manifest merge conflicts.
    
    PiperOrigin-RevId: 250672752

2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/HostActivity.java
0	0	testutils/src/main/res/layout/{host_activity.xml => exo_testutils_host_activity.xml}

commit fd1179aaa14b4973ba335fe001ac0224678f6b02
Author: tonihei <tonihei@google.com>
Date:   2019-05-30 13:02:01 +0100

    Add remaining PlaybackStatsListener metrics.
    
    This adds all the non-playback-state metrics, like format, error, bandwidth and
    renderer performance metrics.
    
    PiperOrigin-RevId: 250668854

2	0	RELEASENOTES.md
32	0	library/core/src/main/java/com/google/android/exoplayer2/Format.java
419	16	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStats.java
389	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java

commit 77595da1592836bd988d3a6f9bba473701e30456
Author: tonihei <tonihei@google.com>
Date:   2019-05-30 13:01:33 +0100

    Add initial PlaybackStats listener version.
    
    This version includes all playback state related metrics and the general
    listener set-up.
    
    PiperOrigin-RevId: 250668729

567	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStats.java
614	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackStatsListener.java

commit c09a6eb8eed94bebd224d7eb68062eced1e688e2
Author: olly <olly@google.com>
Date:   2019-05-30 12:19:33 +0100

    Update cast extension build
    
    PiperOrigin-RevId: 250664791

1	1	extensions/cast/build.gradle

commit 6e7012413bf0f6ae7f3885caa1001988cc5d5f89
Author: olly <olly@google.com>
Date:   2019-05-30 11:54:15 +0100

    Keep controller visible on d-pad key events
    
    PiperOrigin-RevId: 250661977

2	0	RELEASENOTES.md
14	5	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit b8ec05aea19be5eb3ef317a7daf10ed1d36154b4
Author: tonihei <tonihei@google.com>
Date:   2019-05-30 11:42:20 +0100

    Handle gzip in DefaultHttpDataSource.
    
    Setting the requested encoding in all cases ensures we receive the relevant
    response headers indicating whether gzip was used. Doing that allows to
    detect the content length in cases where gzip was requested, but the server
    replied with uncompressed content.
    
    PiperOrigin-RevId: 250660890

3	3	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
13	7	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java

commit 00b26a51df6bfcd0422cd4d1747c8f9490e0611f
Author: eguven <eguven@google.com>
Date:   2019-05-30 10:47:28 +0100

    Modify DashDownloaderTest to test if content length is stored
    
    PiperOrigin-RevId: 250655481

6	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloaderTest.java
4	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
14	11	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloaderTest.java
64	34	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/CacheAsserts.java

commit e2452f8103a2a45eeeaeab385b2c3005ebad13a8
Author: eguven <eguven@google.com>
Date:   2019-05-30 10:40:00 +0100

    Simplify CacheUtil
    
    PiperOrigin-RevId: 250654697

17	15	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java

commit 42ba6abf5a548c05120c586edf2af411f579ca14
Author: eguven <eguven@google.com>
Date:   2019-05-29 20:42:25 +0100

    Fix CacheUtil.cache() use too much data
    
    cache() opens all connections with unset length to avoid position errors.
    This makes more data then needed to be downloading by the underlying
    network stack.
    
    This fix makes makes it open connections for only required length.
    
    Issue:#5927
    PiperOrigin-RevId: 250546175

7	4	RELEASENOTES.md
2	16	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
43	20	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
10	6	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/CacheAsserts.java

commit ed5ce2396d50672522f0f9888969ad8f2243208b
Author: olly <olly@google.com>
Date:   2019-05-29 19:23:42 +0100

    SimpleCache: Tweak comments related to blocking
    
    "Write case, lock not available" was a bit confusing. When the
    content is not cached and the lock is held, it's neither a read
    or a write case. It's a "can't do anything" case. When blocking,
    it may subsequently turn into either a read or a write.
    
    PiperOrigin-RevId: 250530722

7	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit 71418f9411daa0f131091c18f480132fef8ad061
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-29 18:36:01 +0100

    Fix TTML bitmap subtitles
    
    + Use start for anchoring, instead of center.
    + Add the height to the TTML bitmap cue rendering layout.
    
    Issue:#5633
    PiperOrigin-RevId: 250519710

5	2	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlDecoder.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlNode.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/text/ttml/TtmlRegion.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java

commit 1151848f590bd3a68f2e2d96395903789c0dbd53
Author: olly <olly@google.com>
Date:   2019-05-29 18:33:25 +0100

    No-op move of span touching into helper method
    
    PiperOrigin-RevId: 250519114

63	53	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit 09b00c7fb06253d6171a6098ad4bdb82a5a7c9d7
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-29 18:25:27 +0100

    Allow passthrough of E-AC3-JOC streams
    
    PiperOrigin-RevId: 250517338

5	2	library/core/src/main/java/com/google/android/exoplayer2/C.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
28	3	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java

commit 94d668567c27e66fc9441f5fe1eccd42e83bbd2c
Author: olly <olly@google.com>
Date:   2019-05-29 11:26:08 +0100

    Migrate org.mockito.Matchers#any* to org.mockito.ArgumentMatchers
    
    The former is deprecated and replaced by the latter in Mockito 2. However, there is a
    functional difference: ArgumentMatchers will reject `null` and check the type
    if the matcher specified a type (e.g. `any(Class)` or `anyInt()`). `any()` will
    remain to accept anything.
    
    PiperOrigin-RevId: 250458607

2	2	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedRegionTrackerTest.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java

commit 8912db5ed9df8624ce8574f99b3b2972193a7656
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-29 10:12:27 +0100

    Remove DecryptionResource
    
    Reference count was built into DrmSession
    
    PiperOrigin-RevId: 250449988

0	72	library/core/src/main/java/com/google/android/exoplayer2/drm/DecryptionResource.java

commit 8a0fb6b78f64005fe0d1403e0ad42b601a221bd9
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-29 10:09:54 +0100

    Fix video size reporting in surface YUV mode
    
    In surface YUV output mode the width/height fields of the VpxOutputBuffer were
    never populated. Fix this by adding a new method to set the width/height and
    calling it from JNI like we do for GL YUV mode.
    
    PiperOrigin-RevId: 250449734

11	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.java
7	0	extensions/vp9/src/main/jni/vpx_jni.cc

commit 90325c699e735bcd80b92ed6d7386ce75585f8b8
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-28 17:40:50 +0100

    Allow enabling decoder fallback in DefaultRenderersFactory
    
    Also allow enabling decoder fallback with MediaCodecAudioRenderer.
    
    Issue: #5942
    PiperOrigin-RevId: 250301422

2	0	RELEASENOTES.md
28	2	library/core/src/main/java/com/google/android/exoplayer2/DefaultRenderersFactory.java
39	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
1	0	testutils/src/main/java/com/google/android/exoplayer2/testutil/DebugRenderersFactory.java

commit 04f38885501f8f6091c35d7a091e6dd43ded95c8
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-28 17:26:19 +0100

    Add allowOnlyClearBuffers to SampleQueue#read
    
    Removes the need for duplicate calls to SampleQueue#read when
    implementing DecryptionResources acquisition in the MediaSources.
    
    PiperOrigin-RevId: 250298175

6	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
12	2	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
12	2	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
103	11	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
8	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.java
6	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit c495a3f55e7a6ee1bfe653068967d7300d07acc0
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-28 16:36:09 +0100

    Fix VP9 build setup
    
    Update configuration script to use an external build, so we can remove use of
    isysroot which is broken in the latest NDK r19c. Also switch from gnustl_static
    to c++_static so that ndk-build with NDK r19c succeeds.
    
    Issue: #5922
    PiperOrigin-RevId: 250287551

2	1	extensions/vp9/README.md
2	2	extensions/vp9/src/main/jni/Application.mk
14	30	extensions/vp9/src/main/jni/generate_libvpx_android_configs.sh

commit 47cc567dcaf26bf9ee673e0346317dc15a80ac1e
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-28 15:33:57 +0100

    Add reference counting to DrmSession
    
    This CL should not introduce any functional changes.
    
    PiperOrigin-RevId: 250277165

5	15	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/FormatHolder.java
5	15	library/core/src/main/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.java
43	39	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
1	10	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
28	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSession.java
4	8	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmSessionManager.java
9	0	library/core/src/main/java/com/google/android/exoplayer2/drm/ErrorStateDrmSession.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
5	15	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 6b68bc0c9d977e3cace2b5c13184563d971ba249
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-28 12:20:14 +0100

    Fix anchor usage in SubtitlePainter's setupBitmapLayout
    
    According to Cue's constructor (for bitmaps) documentation:
    + cuePositionAnchor does horizontal anchoring.
    + cueLineAnchor does vertical anchoring.
    
    Usage is currently inverted.
    
    Issue:#5633
    PiperOrigin-RevId: 250253002

10	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/SubtitlePainter.java

commit 2c4eb1cd9bff6dd39a51a946872de79635ba19ea
Author: eguven <eguven@google.com>
Date:   2019-05-28 11:30:23 +0100

    Demo app change.
    
    PiperOrigin-RevId: 250248268

2	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java

commit 3afdd7ac5ab48284a481e6bdabe562e3a2d814b0
Author: olly <olly@google.com>
Date:   2019-05-24 15:19:05 +0100

    Put @Nullable annotation in the right place
    
    PiperOrigin-RevId: 249828748

2	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
1	1	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegDecoder.java
2	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorSeekTest.java
1	1	extensions/flac/src/main/java/com/google/android/exoplayer2/ext/flac/FlacExtractor.java
4	4	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java
2	1	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
3	3	extensions/leanback/src/main/java/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.java
2	1	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
3	3	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSourceFactory.java
1	1	extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSourceFactory.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/DefaultMediaClock.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
10	10	library/core/src/main/java/com/google/android/exoplayer2/Format.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/MediaPeriodQueue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/PlayerMessage.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
14	8	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioFocusManager.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioTimestampPoller.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioTrackPositionTracker.java
8	6	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmInitData.java
8	4	library/core/src/main/java/com/google/android/exoplayer2/drm/ErrorStateDrmSession.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/amr/AmrExtractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/XingSeeker.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Atom.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecSelector.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/ApicFrame.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Decoder.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/TextInformationFrame.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/UrlLinkFrame.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/CompositeMediaSource.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceEventListener.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SinglePeriodTimeline.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/Chunk.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/text/TextRenderer.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/trackselection/FixedTrackSelection.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/MappingTrackSelector.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/RandomTrackSelection.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionArray.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelector.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/BaseDataSource.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java
9	8	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultDataSourceFactory.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSourceFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/FileDataSourceFactory.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/Loader.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/PriorityDataSource.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/StatsDataSource.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/TeeDataSource.java
8	7	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSource.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheSpan.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSource.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/util/EGLSurfaceTexture.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/util/ParsableByteArray.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/util/TimedValueQueue.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/ColorInfo.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/video/DummySurface.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/HevcConfig.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/BaseDataSourceTest.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
3	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java
2	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/RangedUri.java
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/Aes128DataSource.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
2	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
2	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriod.java
2	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java
3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java
2	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/ProjectionRenderer.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SceneRenderer.java
4	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SphericalSurfaceView.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/TouchTracker.java
2	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ActionSchedule.java
3	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeAdaptiveMediaPeriod.java
3	3	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeDataSet.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaSource.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeSampleStream.java

commit 11c0c6d2662c5a7c04ae61f436d1dcbdd655a5b9
Author: olly <olly@google.com>
Date:   2019-05-24 13:53:22 +0100

    Reset upstream format when empty track selection happens
    
    PiperOrigin-RevId: 249819080

1	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 3e990a3d24e28eeaefd57f7e5bfb5b3522f05adb
Author: tonihei <tonihei@google.com>
Date:   2019-05-23 16:54:45 +0100

    Fix nullness warning for MediaSource/MediaPeriod classes.
    
    PiperOrigin-RevId: 249652301

6	1	library/core/src/main/java/com/google/android/exoplayer2/source/AbstractConcatenatedTimeline.java
17	12	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaPeriod.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/source/ClippingMediaSource.java
24	17	library/core/src/main/java/com/google/android/exoplayer2/source/DeferredMediaPeriod.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
21	14	library/core/src/main/java/com/google/android/exoplayer2/source/MergingMediaPeriod.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/source/MergingMediaSource.java
13	8	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java
19	14	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdPlaybackState.java
28	23	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdsMediaSource.java

commit 14c46bc4062ebc2cf45f96138dc8a5e36bf41da5
Author: olly <olly@google.com>
Date:   2019-05-23 14:59:17 +0100

    Remove contentTypePredicate from DataSource constructors
    
    The only known use case for contentTypePredicate is to catch
    the case when a paywall web page is returned via a DataSource,
    rather than the data that was being requested. These days streaming
    providers should be using HTTPS, where this problem does not exist.
    Devices have also gotten a lot better at showing their own
    notifications when paywalls are detected, which largely mitigates
    the need for the app to show a more optimal error message or
    redirect the user to a browser.
    
    It therefore makes sense to deprioritize this feature. In
    particular by removing the arg from constructors, where nearly
    all applications are probably passing null.
    
    PiperOrigin-RevId: 249634594

103	14	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
31	52	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceFactory.java
19	19	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceTest.java
49	11	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
0	1	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSourceFactory.java
69	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSourceFactory.java

commit 3314391932394feef441d6f619651c6ea5f3d5f7
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-23 13:29:56 +0100

    Add basic DRM support to CastPlayer's demo app
    
    PiperOrigin-RevId: 249624829

1	0	RELEASENOTES.md
42	4	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DefaultReceiverPlayerManager.java
30	26	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DemoUtil.java
11	2	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/MainActivity.java
24	2	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/DefaultCastOptionsProvider.java

commit 82ad2f54d13051c5fc9fe7e3934738e460695b30
Author: Andrew Lewis <andrewlewis@users.noreply.github.com>
Date:   2019-05-23 16:39:11 +0100

    Fix broken links in demo-application.md

2	0	demo-application.md

commit 8d329fb41f19cb9303f90158c6b84ced1af955d3
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-23 13:24:01 +0100

    Move DefaultDrmSession resource acquisition to acquire
    
    PiperOrigin-RevId: 249624318

20	19	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
7	0	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java

commit 2f12374f1a4128a7844c3c6d804e08f0ecb7b53f
Author: olly <olly@google.com>
Date:   2019-05-23 10:56:58 +0100

    Fix IndexOutOfBounds when there are no available codecs
    
    PiperOrigin-RevId: 249610014

4	5	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 073256ead06d96b60ad878a07f93af930e5a259f
Author: bachinger <bachinger@google.com>
Date:   2019-05-22 19:44:46 +0100

    improve issue templates
    
    PiperOrigin-RevId: 249489446

6	3	.github/ISSUE_TEMPLATE/bug.md
4	1	.github/ISSUE_TEMPLATE/content_not_playing.md
3	2	.github/ISSUE_TEMPLATE/feature_request.md
6	2	.github/ISSUE_TEMPLATE/question.md

commit cfefdbc134101e6efca35bd5b781f7eaa8020c7d
Author: tonihei <tonihei@google.com>
Date:   2019-05-22 14:54:41 +0100

    Release DownloadHelper automatically if preparation failed.
    
    This prevents further unexpected updates if the MediaSource happens to
    finish its preparation at a later point.
    
    Issue:#5915
    PiperOrigin-RevId: 249439246

3	0	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 118218cc73efecb62d1ae3be39a490eaca5edd5c
Author: olly <olly@google.com>
Date:   2019-05-22 13:55:46 +0100

    Remove cronet extension nullness blacklist
    
    PiperOrigin-RevId: 249432337

1	0	extensions/cronet/build.gradle
84	62	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
1	0	library/core/build.gradle

commit f74d2294be0160fe1391b420a4e357c2dce5baf7
Author: olly <olly@google.com>
Date:   2019-05-22 13:47:59 +0100

    Remove media-session extension nullness blacklist
    
    PiperOrigin-RevId: 249431620

1	0	extensions/mediasession/build.gradle
54	30	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
2	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/RepeatModeActionProvider.java
0	1	library/core/build.gradle

commit 10ee7d8e861132a0d937ebf585a437ff491cf1b4
Author: olly <olly@google.com>
Date:   2019-05-22 13:40:12 +0100

    Remove more classes from nullness blacklist
    
    PiperOrigin-RevId: 249431027

2	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
6	4	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java
19	11	library/core/src/main/java/com/google/android/exoplayer2/text/CaptionStyleCompat.java
11	14	library/core/src/main/java/com/google/android/exoplayer2/text/Cue.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/text/SubtitleOutputBuffer.java
16	11	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/CssParser.java
15	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit d836957138ba56db4d6459dbe87210ce24d97166
Author: olly <olly@google.com>
Date:   2019-05-22 11:43:37 +0100

    Remove some DataSource implementations from nullness blacklist
    
    PiperOrigin-RevId: 249419193

9	5	library/core/src/main/java/com/google/android/exoplayer2/upstream/AssetDataSource.java
10	5	library/core/src/main/java/com/google/android/exoplayer2/upstream/ByteArrayDataSink.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/ByteArrayDataSource.java
16	8	library/core/src/main/java/com/google/android/exoplayer2/upstream/ContentDataSource.java
12	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSchemeDataSource.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/DummyDataSource.java
15	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/FileDataSource.java
20	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/RawResourceDataSource.java
7	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/UdpDataSource.java
12	7	library/core/src/main/java/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSink.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSource.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/crypto/CryptoUtil.java

commit a4d18a7457c9e5cdd7528189666c7ca8ca4d45f9
Author: eguven <eguven@google.com>
Date:   2019-05-22 11:27:57 +0100

    Remove mistakenly left link in vp9 readme
    
    PiperOrigin-RevId: 249417898

0	1	extensions/vp9/README.md

commit 6abd5dc66f93b088693e351e4514fea296291924
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-22 09:17:49 +0100

    Add missing annotations dependency
    
    Issue: #5926
    PiperOrigin-RevId: 249404152

1	0	extensions/ima/build.gradle

commit 21be28431840f8adf73ea1cbed3e2c7fa7cf86c7
Author: olly <olly@google.com>
Date:   2019-05-21 22:36:17 +0100

    Replace runtime lookups of string integer codes
    
    Make these values compile-time constants, which can be inlined.
    
    PiperOrigin-RevId: 249327464

4	4	library/core/src/main/java/com/google/android/exoplayer2/audio/WavUtil.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/flv/FlvExtractor.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java
110	111	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Atom.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
29	30	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/MetadataUtil.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java
27	28	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Sniffer.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeader.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/OpusReader.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractor.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Extractor.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac4Extractor.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.java
4	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/TsExtractor.java
4	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/wav/WavHeaderReader.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Decoder.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/text/cea/CeaUtil.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/text/tx3g/Tx3gDecoder.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoder.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/video/spherical/ProjectionDecoder.java

commit 8669d6dc102f7a8c99e8fed6f5d29b973fa8503a
Author: olly <olly@google.com>
Date:   2019-05-21 20:04:42 +0100

    Fix missing import
    
    PiperOrigin-RevId: 249298093

1	0	extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.java

commit 3efe3205354125d1d28bd41932278a8100a841cd
Author: olly <olly@google.com>
Date:   2019-05-21 18:23:51 +0100

    Remove deprecated DataSource constructors
    
    PiperOrigin-RevId: 249276112

0	14	extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.java
0	14	library/core/src/main/java/com/google/android/exoplayer2/upstream/AssetDataSource.java
0	14	library/core/src/main/java/com/google/android/exoplayer2/upstream/ContentDataSource.java
3	82	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultDataSource.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultDataSourceFactory.java
2	85	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
0	12	library/core/src/main/java/com/google/android/exoplayer2/upstream/FileDataSource.java
0	14	library/core/src/main/java/com/google/android/exoplayer2/upstream/RawResourceDataSource.java
0	44	library/core/src/main/java/com/google/android/exoplayer2/upstream/UdpDataSource.java

commit 52888ab55b6bc8c8ebe8f6723937efe27c9a6a4d
Author: olly <olly@google.com>
Date:   2019-05-21 18:21:42 +0100

    Remove CronetEngineWrapper from nullness test blacklist
    
    PiperOrigin-RevId: 249275623

7	4	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetEngineWrapper.java

commit a727acd29280969a7c11b3ee5db73257a11e5970
Author: olly <olly@google.com>
Date:   2019-05-21 18:14:38 +0100

    Remove nullness test blacklist for RTMP extension
    
    PiperOrigin-RevId: 249274122

6	3	extensions/rtmp/src/main/java/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.java

commit 37fc1d879d6728debd2685ea21167704c7dbcfb1
Author: olly <olly@google.com>
Date:   2019-05-21 16:05:56 +0100

    Propagate attributes to DefaultTimeBar
    
    Issue: #5765
    PiperOrigin-RevId: 249251150

5	2	RELEASENOTES.md
21	6	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java
31	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
10	7	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
1	2	library/ui/src/main/res/layout/exo_playback_control_view.xml
68	20	library/ui/src/main/res/values/attrs.xml
1	0	library/ui/src/main/res/values/ids.xml

commit b6d6d8c41148cb32073cf3e32e5abd151243508f
Author: eguven <eguven@google.com>
Date:   2019-05-21 16:01:24 +0100

    Deprecate JobDispatcherScheduler
    
    PiperOrigin-RevId: 249250184

4	0	extensions/jobdispatcher/README.md
3	0	extensions/jobdispatcher/src/main/java/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.java

commit 491edd1edc8b1d681bf008e83ab37c654099802b
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-21 15:02:16 +0100

    Update surface directly from SphericalSurfaceView
    
    The SurfaceListener just sets the surface on the VideoComponent, but
    SphericalSurfaceView already accesses the VideoComponent directly so it seems
    simpler to update the surface directly.
    
    PiperOrigin-RevId: 249242185

0	16	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
4	28	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SphericalSurfaceView.java

commit ecb7b8758cd6a700b72275a56d22b3dc56959764
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-05-22 19:50:10 +0100

    Update issue template for questions

6	2	.github/ISSUE_TEMPLATE/question.md

commit 762a13253703456b8c5b4641031898022ef62882
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-05-22 19:48:45 +0100

    Update issue template for feature requests

3	2	.github/ISSUE_TEMPLATE/feature_request.md

commit a5d18f3fa73c749b14e72f84302d76e065180aa3
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-05-22 19:47:45 +0100

    Update issue template for content_not_playing

4	1	.github/ISSUE_TEMPLATE/content_not_playing.md

commit 6fa58f8d695657f901f59c9e4d2807c7949a33ce
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-05-22 19:45:48 +0100

    Update issue template for bugs

6	3	.github/ISSUE_TEMPLATE/bug.md

commit 9aeaf2dbb098e58c9350b6f9014d53ce98b6d6b1
Author: tonihei <tonihei@google.com>
Date:   2019-05-21 13:50:28 +0100

    Add ResolvingDataSource for just-in-time resolution of DataSpecs.
    
    Issue:#5779
    PiperOrigin-RevId: 249234058

2	0	RELEASENOTES.md
134	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/ResolvingDataSource.java

commit 468296c2bcdcd20fc1181a2957fa88542c7a2962
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-21 11:00:54 +0100

    Suppress remaining ConstantCaseForConstant warnings
    
    PiperOrigin-RevId: 249217126

16	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
7	3	library/core/src/main/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoder.java

commit f3f885c6aafb84c3f6fcd7978892b09b45b21266
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-20 17:53:08 +0100

    Update a reference to SimpleExoPlayerView
    
    PiperOrigin-RevId: 249068395

1	1	library/ui/src/main/res/values/attrs.xml

commit a4586355402075736f1b2ac91aea7ca11f257537
Author: bachinger <bachinger@google.com>
Date:   2019-05-20 17:48:15 +0100

    Add ProgressUpdateListener
    
    Issue: #5834
    PiperOrigin-RevId: 249067445

2	0	RELEASENOTES.md
26	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java

commit 07c4569b5f05e3737db90d216b40cb0ac6beab8f
Author: tonihei <tonihei@google.com>
Date:   2019-05-20 17:28:26 +0100

    Limit tests with specific SDK level to max=TARGET_SDK.
    
    The unspecified default is the highest available SDK which may be larger
    than TARGET_SDK (as specified by the manifest).
    
    PiperOrigin-RevId: 249064173

5	4	library/core/src/test/java/com/google/android/exoplayer2/audio/AudioFocusManagerTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/audio/DefaultAudioSinkTest.java

commit 33c677846aaa221ad79b5f479695e05d880eb5ff
Author: tonihei <tonihei@google.com>
Date:   2019-05-20 17:08:19 +0100

    Use versioned manifest in all Robolectric tests.
    
    We are currently defaulting to targetSdk=1 as no targetSdk is specified. Only
    tests which explicitly ask for another SDK use another test SDK. With the
    versioned manifest, all tests run using the targetSDK by default.
    
    PiperOrigin-RevId: 249060796

3	1	extensions/cast/src/test/AndroidManifest.xml
3	1	extensions/cronet/src/test/AndroidManifest.xml
3	1	extensions/ffmpeg/src/test/AndroidManifest.xml
3	1	extensions/flac/src/test/AndroidManifest.xml
3	1	extensions/ima/src/test/AndroidManifest.xml
3	1	extensions/opus/src/test/AndroidManifest.xml
3	1	extensions/rtmp/src/test/AndroidManifest.xml
3	1	extensions/vp9/src/test/AndroidManifest.xml
3	1	library/core/src/test/AndroidManifest.xml
3	1	library/dash/src/test/AndroidManifest.xml
3	1	library/hls/src/test/AndroidManifest.xml
3	1	library/smoothstreaming/src/test/AndroidManifest.xml
3	1	library/ui/src/test/AndroidManifest.xml
3	1	testutils/src/test/AndroidManifest.xml

commit 435a50f7c28a508a382653ecb6cea57abb0cf545
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-20 17:48:54 +0100

    Update navigation

3	1	_data/navigation.yml

commit 39890e83e332d394f2ae81766daec835895a285c
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-20 17:46:30 +0100

    Add missing file

33	0	supported-formats-progressive.md

commit 0ed662086931f9ca421510d86fe27783de130ea2
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-20 17:43:39 +0100

    Update website

17	17	dash.md
19	9	downloading-media.md
18	21	hls.md
2	1	media-sources.md
119	0	progressive.md
8	9	smoothstreaming.md
2	32	supported-formats.md
16	5	troubleshooting.md

commit 6d50fe81861d67deb36f6b6a79a43f3473af2a1c
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-20 17:41:13 +0100

    Javadoc 2.10.1

7	7	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsListener.EventTime.html
1	1	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
28	2	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSource.html
22	1	doc/reference/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
26	2	doc/reference/com/google/android/exoplayer2/offline/DefaultDownloadIndex.html
43	18	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.html
23	7	doc/reference/com/google/android/exoplayer2/offline/DownloadManager.html
112	34	doc/reference/com/google/android/exoplayer2/offline/DownloadService.html
23	2	doc/reference/com/google/android/exoplayer2/offline/WritableDownloadIndex.html
16	16	doc/reference/com/google/android/exoplayer2/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/PlatformScheduler.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/text/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
21	5	doc/reference/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
22	15	doc/reference/constant-values.html
34	2	doc/reference/index-all.html

commit 35e030f56b4e3312e863e44a1e8fe27aef4310b7
Merge: 44293e8f4 9ec330e7c
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-20 17:39:18 +0100

    Merge pull request #5895 from google/dev-v2-r2.10.1
    
    r2.10.1

commit e39996e95f0ced767cb3f4d253b7986370d02b75
Merge: bfeec25b2 7f79db072
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-20 15:39:59 +0100

    Merge pull request #5907 from adamjrichter:dev-v2
    
    PiperOrigin-RevId: 249044271

commit bfeec25b2a4579e18f0d9ffe02ec2ad273790638
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-17 18:34:07 +0100

    Add SilenceMediaSource
    
    Issue: #5735
    PiperOrigin-RevId: 248745617

5	2	RELEASENOTES.md
242	0	library/core/src/main/java/com/google/android/exoplayer2/source/SilenceMediaSource.java

commit 128ded5ba0210fc57c7b66f91d72c03708f0cb0e
Author: bachinger <bachinger@google.com>
Date:   2019-05-16 17:29:32 +0100

    add playWhenReady to prepareXyz methods of PlaybackPreparer.
    
    Issue: #5891
    PiperOrigin-RevId: 248541827

4	0	RELEASENOTES.md
41	32	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 92532d3ac5b9e39661b9f59519e84683ce9cc05d
Merge: 835d1f3af 6c5a39ac8
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-20 15:12:57 +0100

    Merge pull request #5617 from loki666:workmanager
    
    PiperOrigin-RevId: 248533906

commit 2091aa5cf971055857209c10ec7f9f12b58f419f
Author: sr1990 <sr1990003@gmail.com>
Date:   2019-05-18 19:41:30 -0700

    Support signalling of last segment number via supplemental descriptor in mpd

26	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java

commit 9ec330e7c771d33b8cb7ac043eb52aee4af4b316
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-16 12:38:07 +0100

    Fix platform scheduler javadoc
    
    PiperOrigin-RevId: 248503971

1	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java

commit 15b319cba24fcca91c18de6a111b0994651bbee1
Author: olly <olly@google.com>
Date:   2019-05-16 12:30:13 +0100

    Bump release to 2.10.1 and update release notes
    
    PiperOrigin-RevId: 248503235

4	4	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 9e4b89d1cb21a97c230321311cf0446540726249
Author: tonihei <tonihei@google.com>
Date:   2019-05-16 11:42:05 +0100

    Ignore empty timelines in ImaAdsLoader.
    
    We previously only checked whether the reason for the timeline change is
    RESET which indicates an empty timeline. Change this to an explicit check
    for empty timelines to also ignore empty media or intermittent timeline
    changes to an empty timeline which are not marked as RESET.
    
    Issue:#5831
    PiperOrigin-RevId: 248499118

2	2	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit 835d1f3afedbddab6b5049c49834bf553ec51ff8
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-16 12:38:07 +0100

    Fix platform scheduler javadoc
    
    PiperOrigin-RevId: 248503971

1	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java

commit b5a512b6737408f6450cddefbd53308d5f047456
Author: olly <olly@google.com>
Date:   2019-05-16 12:30:13 +0100

    Bump release to 2.10.1 and update release notes
    
    PiperOrigin-RevId: 248503235

14	12	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 819d589b226d6e77a4f4bfd5ed8039e149b75cd4
Author: tonihei <tonihei@google.com>
Date:   2019-05-16 11:42:05 +0100

    Ignore empty timelines in ImaAdsLoader.
    
    We previously only checked whether the reason for the timeline change is
    RESET which indicates an empty timeline. Change this to an explicit check
    for empty timelines to also ignore empty media or intermittent timeline
    changes to an empty timeline which are not marked as RESET.
    
    Issue:#5831
    PiperOrigin-RevId: 248499118

2	2	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java

commit 6e581f5270f5cfa9f09633ae83daefa62d83152d
Author: bachinger <bachinger@google.com>
Date:   2019-05-15 19:20:27 +0100

    Revert "don't call stop before preparing the player"
    
    This reverts commit 8efaf5fd7d5bdf1f55f35109a43380e8f7f6be0b.

12	11	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 7f79db072437fe8a221b53c05a7431996090f769
Author: Adam Richter <adamrichter4@gmail.com>
Date:   2019-05-15 13:44:26 -0700

    Split a few assertThat(a && b).isTrue() calls into separate assertions for more precise diagnostics.

2	1	library/core/src/test/java/com/google/android/exoplayer2/source/ShuffleOrderTest.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSourceInputStreamTest.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/FakeExtractorInput.java

commit 8efaf5fd7d5bdf1f55f35109a43380e8f7f6be0b
Author: bachinger <bachinger@google.com>
Date:   2019-05-15 19:20:27 +0100

    don't call stop before preparing the player
    
    Issue: #5891
    PiperOrigin-RevId: 248369509

11	12	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 59b2dd2701eba68ff6247ac23e9bb147933c47f0
Author: bachinger <bachinger@google.com>
Date:   2019-05-15 19:20:27 +0100

    don't call stop before preparing the player
    
    Issue: #5891
    PiperOrigin-RevId: 248369509

11	12	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 4ca670bed3534aa7c925a7575e6fb7cf70d7fc64
Author: eguven <eguven@google.com>
Date:   2019-05-15 19:13:34 +0100

    Use MediaSourceFactory interface to simplify DownloadHelper
    
    PiperOrigin-RevId: 248367983

3	2	demos/ima/src/main/java/com/google/android/exoplayer2/imademo/PlayerManager.java
3	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
0	6	library/core/proguard-rules.txt
45	53	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/source/ExtractorMediaSource.java
51	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSourceFactory.java
6	7	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java
1	21	library/core/src/main/java/com/google/android/exoplayer2/source/ads/AdsMediaSource.java
23	29	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
23	29	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
23	29	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 7f89fa9a8ce63d56f840352c79e7360e445d5402
Author: olly <olly@google.com>
Date:   2019-05-15 17:50:50 +0100

    Add simpler HttpDataSource constructors
    
    PiperOrigin-RevId: 248350557

19	5	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
9	0	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
1	1	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaChunk.java

commit 6e9df31e7d432d1c1c5196a35cfcd26d12bd8bef
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-14 23:18:42 +0100

    Add links to the developer guide in some READMEs
    
    PiperOrigin-RevId: 248221982

2	0	library/dash/README.md
2	0	library/hls/README.md
2	0	library/smoothstreaming/README.md
2	0	library/ui/README.md

commit 3ce0d89c56fa8d0a53b3ed82bd4dc67e58ef877a
Author: olly <olly@google.com>
Date:   2019-05-14 13:42:16 +0100

    Allow empty values in ICY metadata
    
    Issue: #5876
    PiperOrigin-RevId: 248119726

1	1	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
11	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java

commit cea3071b333618161d09931ee4dcab3d14fa3125
Author: bachinger <bachinger@google.com>
Date:   2019-05-14 12:33:19 +0100

    Fix rendering DVB subtitle on API 28.
    
    Issue: #5862
    PiperOrigin-RevId: 248112524

2	0	RELEASENOTES.md
6	5	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java

commit 035686e58cd45916aac05e15e6c24f30350a77b6
Author: tonihei <tonihei@google.com>
Date:   2019-05-13 16:21:33 +0100

    Fix Javadoc generation.
    
    Accessing task providers (like javaCompileProvider) at sync time is not
    possible. That's why the source sets of all generateJavadoc tasks is empty.
    
    The set of source directories can also be accessed directly through the static
    sourceSets field. Combining these allows to statically provide the relevant
    source files to the javadoc task without needing to access the run-time task
    provider.
    
    PiperOrigin-RevId: 247938176

4	1	javadoc_library.gradle

commit 48de1010a8ca84dcc89c0f6c139d644719acc6e0
Author: olly <olly@google.com>
Date:   2019-05-13 16:05:34 +0100

    Allow line terminators in ICY metadata
    
    Issue: #5876
    PiperOrigin-RevId: 247935822

2	0	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
11	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java

commit bef386bea8c9fe4ef3e765a46503a49a0401d1ae
Author: tonihei <tonihei@google.com>
Date:   2019-05-13 11:56:35 +0100

    Increase gradle heap size
    
    The update to Gradle 5.1.1 decreased the default heap size to 512MB and our
    build runs into Out-of-Memory errors.
    
    Setting the gradle flags to higher values instead.
    
    See https://developer.android.com/studio/releases/gradle-plugin#3-4-0
    
    PiperOrigin-RevId: 247908526

1	0	gradle.properties

commit 1b9d018296ae5c2a6fa6bf23ed9b563d12e804c5
Author: tonihei <tonihei@google.com>
Date:   2019-05-10 18:12:05 +0100

    Fix Javadoc links.
    
    PiperOrigin-RevId: 247630389

6	6	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java

commit 6ead14880bea2471add1fcea1f8fa026d06d7a61
Author: tonihei <tonihei@google.com>
Date:   2019-05-10 17:13:36 +0100

    Add setCodecOperatingRate workaround for 48KHz audio on ZTE Axon7 mini.
    
    Issue:#5821
    PiperOrigin-RevId: 247621164

2	0	RELEASENOTES.md
12	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit ac07c56dab4b5d90f17731d3b5e878a9b154206a
Author: tonihei <tonihei@google.com>
Date:   2019-05-10 16:23:02 +0100

    Fix NPE in HLS deriveAudioFormat.
    
    Issue:#5868
    PiperOrigin-RevId: 247613811

2	0	RELEASENOTES.md
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java

commit 29add854af1b9ad2a645a229da8c601807731d52
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-09 15:10:41 +0100

    Update player accessed on wrong thread URL
    
    PiperOrigin-RevId: 247418601

1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit ee5981c02dc1e6c465a463c2f8d826963619149b
Author: tonihei <tonihei@google.com>
Date:   2019-05-09 14:40:51 +0100

    Ensure messages get deleted if they throw an exception.
    
    If a PlayerMessage throws an exception, it is currently not deleted from the
    list of pending messages. This may be problematic as the list of pending
    messages is kept when the player is retried without reset and the message is
    sent again in such a case.
    
    PiperOrigin-RevId: 247414494

8	5	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 85a86e434a6aa4be083afe38130818865622d061
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-09 04:40:24 +0100

    Increase gapless trim sample count
    
    PiperOrigin-RevId: 247348352

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit 0698bd1dbb5c4a8bf7f8253e5321dd56078226be
Author: tonihei <tonihei@google.com>
Date:   2019-05-08 18:05:26 +0100

    Add option to clear all downloads.
    
    Adding an explicit option to clear all downloads prevents repeated database
    access in a loop when trying to delete all downloads.
    
    However, we still create an arbitrary number of parallel Task threads for this
    and seperate callbacks for each download.
    
    PiperOrigin-RevId: 247234181

4	0	RELEASENOTES.md
13	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
57	14	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
39	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java
26	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit 8325e400182edcbddf2ce84abd1c884d0002e10f
Merge: 3609a7ebb 2a0ead1b2
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-15 19:53:35 +0100

    Merge commit '2a0ead1b295c3ac2ad5e4ddc42913331a0616aa5' into dev-v2-r2.10.1

commit 3609a7ebba509957d385b5b78bfce9e3c1a8572b
Merge: b626dd70c faecef0be
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-15 19:51:49 +0100

    Merge commit 'faecef0befc4bb97c4c4a9316a94732dfd6aaec1' into dev-v2-r2.10.1

commit b626dd70c3445e921a63b5c3cf4797472378ac52
Author: eguven <eguven@google.com>
Date:   2019-04-25 16:52:35 +0100

    Add DownloadHelper.createMediaSource utility method
    
    PiperOrigin-RevId: 245243488

2	7	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
11	18	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
6	3	library/core/proguard-rules.txt
79	47	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 8edce41ff3537a91075070b6e8e8e9f62a2cb1c8
Author: olly <olly@google.com>
Date:   2019-05-15 17:50:50 +0100

    Add simpler HttpDataSource constructors
    
    PiperOrigin-RevId: 248350557

19	5	extensions/cronet/src/main/java/com/google/android/exoplayer2/ext/cronet/CronetDataSource.java
9	0	extensions/okhttp/src/main/java/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.java
1	1	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/FakeMediaChunk.java

commit cf389268b01d9616089e298e2d41a1e22ffd1408
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-14 23:18:42 +0100

    Add links to the developer guide in some READMEs
    
    PiperOrigin-RevId: 248221982

2	0	library/dash/README.md
2	0	library/hls/README.md
2	0	library/smoothstreaming/README.md
2	0	library/ui/README.md

commit 9d450e52f28aaff7475dd3f0cb8ff59357c64c1a
Author: olly <olly@google.com>
Date:   2019-05-14 13:42:16 +0100

    Allow empty values in ICY metadata
    
    Issue: #5876
    PiperOrigin-RevId: 248119726

1	1	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
11	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java

commit 14915fd1485f0d408a7ad5172fa506d40b9b9f2b
Author: bachinger <bachinger@google.com>
Date:   2019-05-14 12:33:19 +0100

    Fix rendering DVB subtitle on API 28.
    
    Issue: #5862
    PiperOrigin-RevId: 248112524

2	0	RELEASENOTES.md
6	5	library/core/src/main/java/com/google/android/exoplayer2/text/dvb/DvbParser.java

commit 50c9ae0efcbfe79df40c1d12b91c3f8def938062
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-13 19:17:00 +0100

    Assume that encrypted content requires secure decoders in renderer support checks
    
    Issue:#5568
    PiperOrigin-RevId: 247973411

2	0	RELEASENOTES.md
2	18	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
3	27	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmInitData.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java
12	15	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
1	8	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit 15688e3e6f9cc2d8f8f8944c2ae1eaf7b5237b9a
Author: tonihei <tonihei@google.com>
Date:   2019-05-13 16:21:33 +0100

    Fix Javadoc generation.
    
    Accessing task providers (like javaCompileProvider) at sync time is not
    possible. That's why the source sets of all generateJavadoc tasks is empty.
    
    The set of source directories can also be accessed directly through the static
    sourceSets field. Combining these allows to statically provide the relevant
    source files to the javadoc task without needing to access the run-time task
    provider.
    
    PiperOrigin-RevId: 247938176

4	1	javadoc_library.gradle

commit 0612d9f6d51621eafa5ce0e86edd873ce09bc943
Author: olly <olly@google.com>
Date:   2019-05-13 16:05:34 +0100

    Allow line terminators in ICY metadata
    
    Issue: #5876
    PiperOrigin-RevId: 247935822

2	0	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/icy/IcyDecoder.java
11	0	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java

commit a849f43e6d8b64bbc816cdb93444b96e22ae4c28
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-13 15:56:23 +0100

    Work around broken raw audio decoder on Oppo R9
    
    Issue: #5782
    PiperOrigin-RevId: 247934223

2	0	RELEASENOTES.md
11	9	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.java
10	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
6	3	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/EnumerateDecodersTest.java

commit 43195ed752d0af93e243daa9cd5ea37cbf96f6ba
Author: tonihei <tonihei@google.com>
Date:   2019-05-13 11:56:35 +0100

    Increase gradle heap size
    
    The update to Gradle 5.1.1 decreased the default heap size to 512MB and our
    build runs into Out-of-Memory errors.
    
    Setting the gradle flags to higher values instead.
    
    See https://developer.android.com/studio/releases/gradle-plugin#3-4-0
    
    PiperOrigin-RevId: 247908526

1	0	gradle.properties

commit 7d1ce3b13e2026c8429bb0dea9a7349866549365
Author: tonihei <tonihei@google.com>
Date:   2019-05-13 10:52:36 +0100

    Change legacy support UI dependency to more specific ViewPager dependency.
    
    PiperOrigin-RevId: 247902405

1	1	demos/main/build.gradle

commit 90fc659b75e950483c6e42edc5c9a0df8fd99efd
Author: tonihei <tonihei@google.com>
Date:   2019-05-10 18:12:05 +0100

    Fix Javadoc links.
    
    PiperOrigin-RevId: 247630389

6	6	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java

commit 23fa53bf0bfb08356f3efe538a8212fa0663adc2
Author: tonihei <tonihei@google.com>
Date:   2019-05-10 17:13:36 +0100

    Add setCodecOperatingRate workaround for 48KHz audio on ZTE Axon7 mini.
    
    Issue:#5821
    PiperOrigin-RevId: 247621164

3	1	RELEASENOTES.md
12	1	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java

commit 34dd4b1441891ab6105f8d7d069894db86f7c6e9
Author: tonihei <tonihei@google.com>
Date:   2019-05-10 16:23:02 +0100

    Fix NPE in HLS deriveAudioFormat.
    
    Issue:#5868
    PiperOrigin-RevId: 247613811

3	1	RELEASENOTES.md
1	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java

commit 95495328cf93135f9d6ebf338ca46f57be6a2d84
Author: olly <olly@google.com>
Date:   2019-05-09 22:41:07 +0100

    ...Androidx Migration...
    
    PiperOrigin-RevId: 247499141

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java
2	2	demos/main/src/main/res/layout/track_selection_dialog.xml

commit 3b6058481356fc5dd639f189ffe95960ddd2c959
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-09 16:16:08 +0100

    Add a release callback to DefaultDrmSession
    
    In preparation for reference counting in DrmSession
    
    PiperOrigin-RevId: 247428114

30	22	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
30	34	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 0a6f81a2ccd5b29ed20565dc8ec9630205062979
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-09 15:10:41 +0100

    Update player accessed on wrong thread URL
    
    PiperOrigin-RevId: 247418601

1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 3a3a941abdf68e03d67bfdc6f5703a00759de40d
Author: tonihei <tonihei@google.com>
Date:   2019-05-09 14:40:51 +0100

    Ensure messages get deleted if they throw an exception.
    
    If a PlayerMessage throws an exception, it is currently not deleted from the
    list of pending messages. This may be problematic as the list of pending
    messages is kept when the player is retried without reset and the message is
    sent again in such a case.
    
    PiperOrigin-RevId: 247414494

8	5	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 887116cd2db27388f2719f098cab54d50486f3e2
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-05-09 04:40:24 +0100

    Increase gapless trim sample count
    
    PiperOrigin-RevId: 247348352

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java

commit b3ae1d3fedf5b1477d838850df5100884b6df77b
Author: tonihei <tonihei@google.com>
Date:   2019-05-08 18:05:26 +0100

    Add option to clear all downloads.
    
    Adding an explicit option to clear all downloads prevents repeated database
    access in a loop when trying to delete all downloads.
    
    However, we still create an arbitrary number of parallel Task threads for this
    and seperate callbacks for each download.
    
    PiperOrigin-RevId: 247234181

1	0	RELEASENOTES.md
13	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
57	14	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
39	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java
26	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit 7d5558881df6509801678ab3e21ccb12490ee32e
Author: tonihei <tonihei@google.com>
Date:   2019-05-07 09:37:33 +0100

    Fix two ad insertion related bugs in DefaultPlaybackSessionManager.
    
    1. A content session after an ad has been played was not re-marked as active,
       leading to new ad session being marked as active too early.
    2. Switching from content to post-roll ended the content session because
       the return value of getAdGroupTimeUs of C.TIME_END_OF_SOURCE was not
       handled. Using the nextAdGroupIndex instead.
    
    PiperOrigin-RevId: 246977327

1	1	demos/main/build.gradle
1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java
2	2	demos/main/src/main/res/layout/track_selection_dialog.xml
2	1	library/core/src/main/java/com/google/android/exoplayer2/Timeline.java
7	9	library/core/src/main/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManager.java
101	0	library/core/src/test/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManagerTest.java

commit fbef530a3d283eee1f04b68ced7f9204138a9024
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-05-13 09:00:07 +0100

    Update CNAME

1	1	CNAME

commit 5b60d2367251248d74cba23a52afd05da95f7776
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-05-13 08:58:51 +0100

    Update CNAME

1	1	CNAME

commit 3d7fe782078eeada3c177549fecb5eaf6588502e
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-05-07 16:38:16 +0100

    Update download documentation.

20	25	downloading-media.md

commit 36806d6abe4f60e9dbdca7df73a40276b15d83b5
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-06 11:54:57 -0700

    Update search.js
    
    Fix CSE link 2

1	1	_includes/search-providers/google-custom-search-engine/search.js

commit 8deb41a0bb7cc42da3823816d8458ff354767261
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-06 11:54:07 -0700

    Update search.js
    
    Fix CSE link

2	2	_includes/search-providers/google-custom-search-engine/search.js

commit 95363eb24e069a924200110f48bb16cb69c7dbc9
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-06 11:43:18 -0700

    Update variables.yml
    
    Use google hosted jquery

2	2	_data/variables.yml

commit 44293e8f45fc62ff918001b4425c44d0ded5ffc9
Merge: 4bc79c946 7d430423d
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-06 10:29:21 -0700

    Merge pull request #5833 from google/dev-v2-r2.10.0
    
    r2.10.0

commit f8d6680aeabfaa62739d53bb1f9f9e418cb3e306
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-06 16:40:11 +0100

    Add querying downloads section

17	3	downloading-media.md

commit cac32637e3b341b2b6add8ce13d812d50c7281f5
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-03 21:28:12 +0100

    Update website for 2.10

3	0	404.html
6	2	Gemfile
8	6	third_party/github-markdown-css/LICENSE => LICENSE
1	1	README.md
91	1	_config.yml
111	0	_data/locale.yml
59	0	_data/navigation.yml
64	0	_data/variables.yml
-	-	_includes/.DS_Store
3	0	_includes/analytics-providers/custom.html
14	0	_includes/analytics-providers/google.html
7	8	_includes/analytics.html
55	0	_includes/article-footer.html
49	0	_includes/article-header.html
96	0	_includes/article-info.html
144	0	_includes/article-list.html
54	0	_includes/article-section-navigator.html
47	0	_includes/article/footer/author-profile.html
3	0	_includes/article/footer/custom.html
14	0	_includes/article/footer/license.html
6	0	_includes/article/footer/subscribe.html
3	0	_includes/article/top/custom.html
1	0	_includes/aside/toc.html
120	0	_includes/author-links.html
3	0	_includes/comments-providers/custom.html
22	0	_includes/comments-providers/disqus.html
39	0	_includes/comments-providers/gitalk.html
33	0	_includes/comments-providers/valine.html
11	0	_includes/comments.html
5	0	_includes/extensions/bilibili.html
4	0	_includes/extensions/codepen.html
4	0	_includes/extensions/netease-cloud-music.html
6	0	_includes/extensions/slideshare.html
4	0	_includes/extensions/soundcloud.html
5	0	_includes/extensions/ted.html
4	0	_includes/extensions/youtube.html
3	1	_includes/figure.html
37	0	_includes/footer.html
24	0	_includes/head.html
7	0	_includes/head/custom.html
26	0	_includes/head/favicon.html
46	0	_includes/header.html
0	4	_includes/info-box.html
2	4	_includes/known-issue-box.html
3	0	_includes/main/bottom/custom.html
3	0	_includes/main/top/custom.html
17	0	_includes/markdown-enhancements.html
15	0	_includes/markdown-enhancements/chart.html
17	0	_includes/markdown-enhancements/mathjax.html
10	0	_includes/markdown-enhancements/mermaid.html
3	0	_includes/pageview-providers/custom/home.html
3	0	_includes/pageview-providers/custom/post.html
35	0	_includes/pageview-providers/leancloud/home.html
71	0	_includes/pageview-providers/leancloud/leancloud.js
31	0	_includes/pageview-providers/leancloud/post.html
29	0	_includes/pageview.html
98	0	_includes/paginator.html
135	0	_includes/scripts/archieve.js
24	0	_includes/scripts/article.js
26	0	_includes/scripts/aside/affix.js
35	0	_includes/scripts/aside/toc.js
7	0	_includes/scripts/common.js
49	0	_includes/scripts/components/lightbox.js
86	0	_includes/scripts/components/search.js
31	0	_includes/scripts/components/sidebar.js
3	0	_includes/scripts/home.js
111	0	_includes/scripts/lib/affix.js
192	0	_includes/scripts/lib/gallery.js
143	0	_includes/scripts/lib/lazyload.js
64	0	_includes/scripts/lib/modal.js
13	0	_includes/scripts/lib/scroll-to.js
203	0	_includes/scripts/lib/swiper.js
28	0	_includes/scripts/lib/throttle.js
107	0	_includes/scripts/lib/toc.js
3	0	_includes/scripts/page.js
28	0	_includes/scripts/utils/imagesLoad.js
43	0	_includes/scripts/utils/utils.js
35	0	_includes/scripts/variables.html
3	0	_includes/search-providers/custom/search.html
14	0	_includes/search-providers/default/search-data.js
18	0	_includes/search-providers/default/search.html
127	0	_includes/search-providers/default/search.js
21	0	_includes/search-providers/google-custom-search-engine/search.html
33	0	_includes/search-providers/google-custom-search-engine/search.js
20	0	_includes/search.html
9	0	_includes/sharing-providers/addthis.html
10	0	_includes/sharing-providers/addtoany.html
3	0	_includes/sharing-providers/custom.html
7	0	_includes/sharing.html
25	0	_includes/sidebar/toc.html
9	0	_includes/snippets/assign.html
11	0	_includes/snippets/get-article-title.html
6	0	_includes/snippets/get-lang.html
12	0	_includes/snippets/get-locale-string.html
8	0	_includes/snippets/get-nav-url.html
2	0	_includes/snippets/get-sources.html
7	0	_includes/snippets/get-string-from-locale-config.html
6	0	_includes/snippets/is_collection.html
2	0	_includes/snippets/page-url.html
4	0	_includes/snippets/prepend-baseurl.html
1	0	_includes/snippets/prepend-path.html
3	0	_includes/svg/icon/social/behance.svg
5	0	_includes/svg/icon/social/douban.svg
3	0	_includes/svg/icon/social/facebook.svg
5	0	_includes/svg/icon/social/flicker.svg
3	0	_includes/svg/icon/social/github.svg
3	0	_includes/svg/icon/social/googleplus.svg
3	0	_includes/svg/icon/social/linkedin.svg
6	0	_includes/svg/icon/social/mail.svg
3	0	_includes/svg/icon/social/medium.svg
9	0	_includes/svg/icon/social/npm.svg
3	0	_includes/svg/icon/social/pinterest.svg
3	0	_includes/svg/icon/social/qq.svg
4	0	_includes/svg/icon/social/telegram.svg
3	0	_includes/svg/icon/social/twitter.svg
6	0	_includes/svg/icon/social/weibo.svg
3	0	_includes/svg/icon/social/weixin.svg
3	0	_includes/svg/icon/social/zhihu.svg
1	0	_includes/svg/logo.svg
52	0	_includes/tags.html
13	0	_layouts/404.html
31	0	_layouts/archive.html
29	0	_layouts/article.html
89	0	_layouts/articles.html
25	0	_layouts/base.html
0	70	_layouts/default.html
34	0	_layouts/home.html
178	0	_layouts/landing.html
1	0	_layouts/none.html
270	0	_layouts/page.html
29	0	_sass/additional/_alert.scss
17	0	_sass/additional/_photo-frame.scss
21	0	_sass/additional/_tag.scss
10	0	_sass/animate/_fade-in-down.scss
10	0	_sass/animate/_fade-in-up.scss
8	0	_sass/animate/_fade-in.scss
23	0	_sass/common/_classes.scss
15	0	_sass/common/_function.scss
20	0	_sass/common/_print.scss
160	0	_sass/common/_reset.scss
150	0	_sass/common/_variables.scss
13	0	_sass/common/classes/_animation.scss
19	0	_sass/common/classes/_clearfix.scss
159	0	_sass/common/classes/_clickable.scss
14	0	_sass/common/classes/_display.scss
394	0	_sass/common/classes/_flex.scss
80	0	_sass/common/classes/_grid.scss
14	0	_sass/common/classes/_horizontal-rules.scss
12	0	_sass/common/classes/_link.scss
17	0	_sass/common/classes/_media.scss
26	0	_sass/common/classes/_overflow.scss
33	0	_sass/common/classes/_pseudo.scss
22	0	_sass/common/classes/_shadow.scss
81	0	_sass/common/classes/_spacing.scss
24	0	_sass/common/classes/_split-line.scss
37	0	_sass/common/classes/_text.scss
4	0	_sass/common/classes/_transform.scss
4	0	_sass/common/classes/_transition.scss
6	0	_sass/common/classes/_user-select.scss
163	0	_sass/common/components/_button.scss
103	0	_sass/common/components/_card.scss
21	0	_sass/common/components/_gallery.scss
70	0	_sass/common/components/_hero.scss
19	0	_sass/common/components/_image.scss
100	0	_sass/common/components/_item.scss
67	0	_sass/common/components/_menu.scss
39	0	_sass/common/components/_modal.scss
48	0	_sass/common/components/_swiper.scss
112	0	_sass/common/components/_toc.scss
221	0	_sass/components/_article-content.scss
17	0	_sass/components/_article-footer.scss
50	0	_sass/components/_article-header.scss
25	0	_sass/components/_article-info.scss
18	0	_sass/components/_article-list.scss
43	0	_sass/components/_author-links.scss
26	0	_sass/components/_author-profile.scss
35	0	_sass/components/_extensions.scss
33	0	_sass/components/_footer.scss
120	0	_sass/components/_header.scss
7	0	_sass/components/_lightbox.scss
28	0	_sass/components/_main.scss
186	0	_sass/components/_search.scss
24	0	_sass/components/_tags.scss
7	0	_sass/custom.scss
14	0	_sass/layout/_404.scss
5	0	_sass/layout/_archive.scss
29	0	_sass/layout/_article.scss
17	0	_sass/layout/_articles.scss
6	0	_sass/layout/_base.scss
15	0	_sass/layout/_home.scss
23	0	_sass/layout/_landing.scss
165	0	_sass/layout/_page.scss
74	0	_sass/skins/_chocolate.scss
74	0	_sass/skins/_dark.scss
74	0	_sass/skins/_default.scss
74	0	_sass/skins/_forest.scss
74	0	_sass/skins/_ocean.scss
74	0	_sass/skins/_orange.scss
0	0	_sass/skins/highlight/_default.scss
2	0	_sass/skins/highlight/_tomorrow-night-blue.scss
2	0	_sass/skins/highlight/_tomorrow-night-bright.scss
2	0	_sass/skins/highlight/_tomorrow-night-eighties.scss
2	0	_sass/skins/highlight/_tomorrow-night.scss
2	0	_sass/skins/highlight/_tomorrow.scss
10	0	_sass/skins/highlight/tomorrow/_default.scss
74	0	_sass/skins/highlight/tomorrow/_highlight.scss
10	0	_sass/skins/highlight/tomorrow/_night-blue.scss
10	0	_sass/skins/highlight/tomorrow/_night-bright.scss
10	0	_sass/skins/highlight/tomorrow/_night-eighties.scss
10	0	_sass/skins/highlight/tomorrow/_night.scss
28	0	ad-insertion.md
-	-	assets/.DS_Store
-	-	assets/android-chrome-192x192.png
-	-	assets/android-chrome-256x256.png
-	-	assets/android-chrome-96x96.png
-	-	assets/apple-touch-icon.png
9	0	assets/browserconfig.xml
76	0	assets/css/main.scss
-	-	assets/favicon-16x16.png
-	-	assets/favicon-32x32.png
-	-	assets/favicon.ico
8	0	assets/images/logo/logo.svg
-	-	assets/mstile-150x150.png
23	0	assets/safari-pinned-tab.svg
3	0	assets/search.js
19	0	assets/site.webmanifest
12	13	battery-consumption.md
35	0	behind-live-window.md
0	47	css/default.css
0	21	css/github-markdown.css
0	6	css/pure-min.css
0	19	css/side-menu.css
0	60	css/syntax.css
92	0	customization.md
131	0	dash.md
106	0	debugging-playback-issues.md
57	36	demo-application.md
353	0	downloading-media.md
10	9	drm.md
211	0	getting-started.md
0	424	guide-v1.md
0	580	guide.md
179	0	hello-world.md
165	0	hls.md
-	-	images/dash-model.png
117	0	images/downloading.svg
-	-	images/hls-model.png
-	-	images/overriding-layoutfiles.png
-	-	images/standard-model.png
12	23	index.md
231	0	listening-to-player-events.md
144	0	media-sources.md
157	0	mediasource.md
18	14	oems.md
87	0	playlists.md
49	0	pros-and-cons.md
28	23	shrinking.md
132	0	smoothstreaming.md
0	2	supported-devices.md
24	0	supported-formats-dash.md
24	0	supported-formats-hls.md
14	0	supported-formats-smoothstreaming.md
22	80	supported-formats.md
0	648	third_party/github-markdown-css/github-markdown.css
0	29	third_party/pure-layout-side-menu/LICENSE
0	11	third_party/pure-layout-side-menu/pure-min.css
0	254	third_party/pure-layout-side-menu/side-menu-old-ie.css
0	248	third_party/pure-layout-side-menu/side-menu.css
0	35	third_party/pure-layout-side-menu/ui.js
41	0	track-selection.md
26	97	faqs.md => troubleshooting.md
212	0	ui-components.md

commit 7d430423d7bf37a87561af2d084f4655ecb636be
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-05 19:42:42 +0100

    Merge pull request #5760 from matamegger:feature/hex_format_tags_in_url_template
    
    PiperOrigin-RevId: 246733842

4	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/UrlTemplate.java

commit 2a0ead1b295c3ac2ad5e4ddc42913331a0616aa5
Merge: 03f518265 55154ad47
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-05 19:42:42 +0100

    Merge pull request #5760 from matamegger:feature/hex_format_tags_in_url_template
    
    PiperOrigin-RevId: 246733842

commit d31f23f30e5cb1d90ac9fe75ebb3b959b6215de7
Merge: 90cb15798 4bc79c946
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-05 18:44:35 +0100

    Merge branch 'release-v2' into dev-v2-r2.10.0

commit 03f518265bafee38f7f12ce68f9a391c010d30d6
Merge: f4968e1a8 4bc79c946
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-05 18:42:57 +0100

    Merge branch 'release-v2' into dev-v2

commit 90cb157985891d3cabb20a86965b9dccf003ba1b
Author: olly <olly@google.com>
Date:   2019-05-05 17:58:33 +0100

    Update translations
    
    PiperOrigin-RevId: 246729123

1	1	library/ui/src/main/res/values-af/strings.xml
1	1	library/ui/src/main/res/values-cs/strings.xml
2	2	library/ui/src/main/res/values-hi/strings.xml
1	1	library/ui/src/main/res/values-hy/strings.xml
1	1	library/ui/src/main/res/values-ja/strings.xml
1	1	library/ui/src/main/res/values-ka/strings.xml
1	1	library/ui/src/main/res/values-sw/strings.xml

commit 8b2d436d7c5483272cf034eca87eadaaecb6c206
Author: olly <olly@google.com>
Date:   2019-05-05 17:25:48 +0100

    Prevent CachedContentIndex.idToKey from growing without bound
    
    PiperOrigin-RevId: 246727723

31	12	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java

commit f4968e1a8e39563603a4b8528d8e826ee8c504ca
Author: olly <olly@google.com>
Date:   2019-05-05 17:58:33 +0100

    Update translations
    
    PiperOrigin-RevId: 246729123

1	1	library/ui/src/main/res/values-af/strings.xml
1	1	library/ui/src/main/res/values-cs/strings.xml
2	2	library/ui/src/main/res/values-hi/strings.xml
1	1	library/ui/src/main/res/values-hy/strings.xml
1	1	library/ui/src/main/res/values-ja/strings.xml
1	1	library/ui/src/main/res/values-ka/strings.xml
1	1	library/ui/src/main/res/values-sw/strings.xml

commit 1ef49ed205956122bff013c8359d1bce828125fc
Author: olly <olly@google.com>
Date:   2019-05-05 17:42:06 +0100

    Fix broken Javadoc
    
    PiperOrigin-RevId: 246728418

2	2	library/core/src/main/java/com/google/android/exoplayer2/util/GlUtil.java
4	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/CanvasRenderer.java

commit b53ac32b8c35cb62ede7df920d3d5b0015edad5e
Author: olly <olly@google.com>
Date:   2019-05-05 17:25:48 +0100

    Prevent CachedContentIndex.idToKey from growing without bound
    
    PiperOrigin-RevId: 246727723

31	12	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java

commit ce37c799687315a8d488e2f524cc3321c71823ee
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-03 21:12:02 +0100

    Fix Javadoc

2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/util/GlUtil.java
4	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/CanvasRenderer.java

commit affa7a43fee7ce316337a74b2379ee0c84f9a85f
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-03 20:57:09 +0100

    Javadoc 2.10.0

75	25	doc/reference/allclasses-frame.html
75	25	doc/reference/allclasses-noframe.html
367	0	doc/reference/com/google/android/exoplayer2/BasePlayer.ListenerHolder.html
58	30	doc/reference/com/google/android/exoplayer2/{ExoPlayer.EventListener.html => BasePlayer.ListenerInvocation.html}
24	5	doc/reference/com/google/android/exoplayer2/BasePlayer.html
97	30	doc/reference/com/google/android/exoplayer2/BaseRenderer.html
2	1	doc/reference/com/google/android/exoplayer2/C.Encoding.html
2	2	doc/reference/com/google/android/exoplayer2/C.Projection.html
163	0	doc/reference/com/google/android/exoplayer2/C.RoleFlags.html
2	2	doc/reference/com/google/android/exoplayer2/C.SelectionFlags.html
439	109	doc/reference/com/google/android/exoplayer2/C.html
1	25	doc/reference/com/google/android/exoplayer2/DefaultLoadControl.Builder.html
10	41	doc/reference/com/google/android/exoplayer2/DefaultLoadControl.html
6	6	doc/reference/com/google/android/exoplayer2/DefaultRenderersFactory.html
2	1	doc/reference/com/google/android/exoplayer2/ExoPlaybackException.Type.html
136	9	doc/reference/com/google/android/exoplayer2/ExoPlaybackException.html
2	2	doc/reference/com/google/android/exoplayer2/ExoPlayer.ExoPlayerComponent.html
59	208	doc/reference/com/google/android/exoplayer2/ExoPlayer.html
75	106	doc/reference/com/google/android/exoplayer2/ExoPlayerFactory.html
231	216	doc/reference/com/google/android/exoplayer2/Format.html
34	1	doc/reference/com/google/android/exoplayer2/FormatHolder.html
91	24	doc/reference/com/google/android/exoplayer2/NoSampleRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/PlaybackParameters.html
2	2	doc/reference/com/google/android/exoplayer2/Player.DefaultEventListener.html
1	5	doc/reference/com/google/android/exoplayer2/Player.EventListener.html
1	1	doc/reference/com/google/android/exoplayer2/Player.VideoComponent.html
8	8	doc/reference/com/google/android/exoplayer2/Player.html
1	1	doc/reference/com/google/android/exoplayer2/PlayerMessage.Target.html
2	2	doc/reference/com/google/android/exoplayer2/PlayerMessage.html
63	20	doc/reference/com/google/android/exoplayer2/Renderer.html
1	1	doc/reference/com/google/android/exoplayer2/RendererConfiguration.html
1	1	doc/reference/com/google/android/exoplayer2/RenderersFactory.html
1	1	doc/reference/com/google/android/exoplayer2/SeekParameters.html
118	53	doc/reference/com/google/android/exoplayer2/SimpleExoPlayer.html
25	11	doc/reference/com/google/android/exoplayer2/Timeline.Period.html
2	2	doc/reference/com/google/android/exoplayer2/Timeline.Window.html
8	7	doc/reference/com/google/android/exoplayer2/Timeline.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsCollector.Factory.html
19	15	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsCollector.html
2	2	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsListener.EventTime.html
1	1	doc/reference/com/google/android/exoplayer2/analytics/AnalyticsListener.html
2	2	doc/reference/com/google/android/exoplayer2/audio/Ac3Util.SyncFrameInfo.StreamType.html
3	3	doc/reference/com/google/android/exoplayer2/audio/Ac3Util.SyncFrameInfo.html
307	0	doc/reference/com/google/android/exoplayer2/audio/Ac4Util.SyncFrameInfo.html
130	173	doc/reference/com/google/android/exoplayer2/{offline/DownloadManager.TaskState.html => audio/Ac4Util.html}
3	3	doc/reference/com/google/android/exoplayer2/audio/AudioAttributes.html
2	2	doc/reference/com/google/android/exoplayer2/audio/AudioCapabilities.html
0	24	doc/reference/com/google/android/exoplayer2/audio/AudioCapabilitiesReceiver.html
2	3	doc/reference/com/google/android/exoplayer2/audio/AudioFocusManager.html
1	1	doc/reference/com/google/android/exoplayer2/audio/AudioProcessor.UnhandledFormatException.html
24	20	doc/reference/com/google/android/exoplayer2/audio/AudioProcessor.html
2	2	doc/reference/com/google/android/exoplayer2/audio/AudioRendererEventListener.EventDispatcher.html
52	54	doc/reference/com/google/android/exoplayer2/audio/AudioSink.html
3	3	doc/reference/com/google/android/exoplayer2/audio/AuxEffectInfo.html
675	0	doc/reference/com/google/android/exoplayer2/audio/BaseAudioProcessor.html
41	41	doc/reference/com/google/android/exoplayer2/audio/DefaultAudioSink.html
114	60	doc/reference/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.html
77	176	doc/reference/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessor.html
14	14	doc/reference/com/google/android/exoplayer2/audio/SimpleDecoderAudioRenderer.html
18	14	doc/reference/com/google/android/exoplayer2/audio/SonicAudioProcessor.html
1	1	doc/reference/com/google/android/exoplayer2/audio/TeeAudioProcessor.AudioBufferSink.html
1	0	doc/reference/com/google/android/exoplayer2/audio/TeeAudioProcessor.WavFileAudioBufferSink.html
50	217	doc/reference/com/google/android/exoplayer2/audio/TeeAudioProcessor.html
3	0	doc/reference/com/google/android/exoplayer2/audio/package-frame.html
30	11	doc/reference/com/google/android/exoplayer2/audio/package-summary.html
11	5	doc/reference/com/google/android/exoplayer2/audio/package-tree.html
278	0	doc/reference/com/google/android/exoplayer2/database/DatabaseIOException.html
307	0	doc/reference/com/google/android/exoplayer2/database/DatabaseProvider.html
335	0	doc/reference/com/google/android/exoplayer2/database/DefaultDatabaseProvider.html
399	0	doc/reference/com/google/android/exoplayer2/database/ExoDatabaseProvider.html
422	0	doc/reference/com/google/android/exoplayer2/database/VersionTable.html
28	0	doc/reference/com/google/android/exoplayer2/database/package-frame.html
187	0	doc/reference/com/google/android/exoplayer2/database/package-summary.html
156	0	doc/reference/com/google/android/exoplayer2/database/package-tree.html
31	12	doc/reference/com/google/android/exoplayer2/decoder/CryptoInfo.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/OutputBuffer.html
1	1	doc/reference/com/google/android/exoplayer2/decoder/SimpleDecoder.html
2	2	doc/reference/com/google/android/exoplayer2/decoder/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/decoder/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/drm/DecryptionException.html
228	0	doc/reference/com/google/android/exoplayer2/drm/DecryptionResource.Owner.html
76	93	doc/reference/com/google/android/exoplayer2/{offline/DownloadAction.Deserializer.html => drm/DecryptionResource.html}
2	6	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionEventListener.html
0	197	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.EventListener.html
2	2	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.MissingSchemeDataException.html
32	221	doc/reference/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.html
9	5	doc/reference/com/google/android/exoplayer2/drm/DrmInitData.SchemeData.html
35	9	doc/reference/com/google/android/exoplayer2/drm/DrmInitData.html
12	8	doc/reference/com/google/android/exoplayer2/drm/DrmSession.html
12	8	doc/reference/com/google/android/exoplayer2/drm/ErrorStateDrmSession.html
4	62	doc/reference/com/google/android/exoplayer2/drm/ExoMediaCrypto.html
1	1	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.OnEventListener.html
5	5	doc/reference/com/google/android/exoplayer2/drm/ExoMediaDrm.html
81	78	doc/reference/com/google/android/exoplayer2/drm/FrameworkMediaCrypto.html
3	3	doc/reference/com/google/android/exoplayer2/drm/FrameworkMediaDrm.html
6	4	doc/reference/com/google/android/exoplayer2/drm/OfflineLicenseHelper.html
2	1	doc/reference/com/google/android/exoplayer2/drm/WidevineUtil.html
2	1	doc/reference/com/google/android/exoplayer2/drm/package-frame.html
26	18	doc/reference/com/google/android/exoplayer2/drm/package-summary.html
3	5	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
26	33	doc/reference/com/google/android/exoplayer2/ext/cast/CastPlayer.html
4	4	doc/reference/com/google/android/exoplayer2/ext/cast/DefaultCastOptionsProvider.html
473	0	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.Builder.html
363	0	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.DrmScheme.html
394	0	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.UriBundle.html
463	0	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItem.html
387	0	doc/reference/com/google/android/exoplayer2/ext/cast/MediaItemQueue.html
14	18	doc/reference/com/google/android/exoplayer2/ext/cast/{CastPlayer.SessionAvailabilityListener.html => SessionAvailabilityListener.html}
6	1	doc/reference/com/google/android/exoplayer2/ext/cast/package-frame.html
32	1	doc/reference/com/google/android/exoplayer2/ext/cast/package-summary.html
6	1	doc/reference/com/google/android/exoplayer2/ext/cast/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSource.html
4	4	doc/reference/com/google/android/exoplayer2/ext/cronet/CronetDataSourceFactory.html
5	5	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/FfmpegAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.html
1	1	doc/reference/com/google/android/exoplayer2/ext/flac/LibflacAudioRenderer.html
20	16	doc/reference/com/google/android/exoplayer2/ext/gvr/GvrAudioProcessor.html
522	0	doc/reference/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.html
1	0	doc/reference/com/google/android/exoplayer2/ext/gvr/package-frame.html
6	0	doc/reference/com/google/android/exoplayer2/ext/gvr/package-summary.html
21	0	doc/reference/com/google/android/exoplayer2/ext/gvr/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.html
6	21	doc/reference/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.html
26	26	doc/reference/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.html
1	1	doc/reference/com/google/android/exoplayer2/ext/leanback/package-tree.html
0	653	doc/reference/com/google/android/exoplayer2/ext/mediasession/DefaultPlaybackController.html
26	27	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.CommandReceiver.html
15	6	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.CustomActionProvider.html
5	6	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.DefaultMediaMetadataProvider.html
238	0	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.MediaButtonEventHandler.html
5	5	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.MediaMetadataProvider.html
161	0	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.PlaybackActions.html
0	423	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.PlaybackController.html
3	3	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.PlaybackPreparer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.QueueEditor.html
38	15	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.QueueNavigator.html
5	45	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.RatingCallback.html
334	128	doc/reference/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.html
74	28	doc/reference/com/google/android/exoplayer2/ext/mediasession/RepeatModeActionProvider.html
1	1	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.MediaSourceFactory.html
36	45	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueEditor.html
73	72	doc/reference/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.html
5	2	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-frame.html
27	17	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-summary.html
5	2	doc/reference/com/google/android/exoplayer2/ext/mediasession/package-tree.html
7	7	doc/reference/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSource.html
8	8	doc/reference/com/google/android/exoplayer2/ext/okhttp/OkHttpDataSourceFactory.html
1	1	doc/reference/com/google/android/exoplayer2/ext/opus/LibopusAudioRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/ext/rtmp/RtmpDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/ext/rtmp/RtmpDataSourceFactory.html
77	35	doc/reference/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.html
2	2	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxLibrary.html
568	0	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.html
5	5	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxOutputBufferRenderer.html
2	2	doc/reference/com/google/android/exoplayer2/ext/vp9/VpxVideoSurfaceView.html
1	0	doc/reference/com/google/android/exoplayer2/ext/vp9/package-frame.html
7	1	doc/reference/com/google/android/exoplayer2/ext/vp9/package-summary.html
9	0	doc/reference/com/google/android/exoplayer2/ext/vp9/package-tree.html
6	6	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.OutputFrameHolder.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/BinarySearchSeeker.html
1	0	doc/reference/com/google/android/exoplayer2/extractor/DefaultExtractorsFactory.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/DummyTrackOutput.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/Extractor.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/Id3Peeker.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/SeekMap.SeekPoints.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/SeekPoint.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/TrackOutput.CryptoData.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/TrackOutput.html
163	0	doc/reference/com/google/android/exoplayer2/extractor/mkv/EbmlProcessor.ElementType.html
592	0	doc/reference/com/google/android/exoplayer2/extractor/mkv/EbmlProcessor.html
224	20	doc/reference/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.html
5	0	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-frame.html
23	0	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-summary.html
5	0	doc/reference/com/google/android/exoplayer2/extractor/mkv/package-tree.html
32	17	doc/reference/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/MdtaMetadataEntry.html
5	5	doc/reference/com/google/android/exoplayer2/extractor/mp4/PsshAtomUtil.html
20	7	doc/reference/com/google/android/exoplayer2/extractor/mp4/Track.html
3	3	doc/reference/com/google/android/exoplayer2/extractor/mp4/TrackEncryptionBox.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
1	0	doc/reference/com/google/android/exoplayer2/extractor/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac3Reader.html
491	0	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac4Extractor.html
401	0	doc/reference/com/google/android/exoplayer2/extractor/ts/Ac4Reader.html
2	2	doc/reference/com/google/android/exoplayer2/extractor/ts/AdtsExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.Flags.html
12	12	doc/reference/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/ElementaryStreamReader.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/LatmReader.html
28	11	doc/reference/com/google/android/exoplayer2/extractor/ts/TsExtractor.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/TsPayloadReader.DvbSubtitleInfo.html
2	0	doc/reference/com/google/android/exoplayer2/extractor/ts/package-frame.html
12	0	doc/reference/com/google/android/exoplayer2/extractor/ts/package-summary.html
4	2	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecInfo.html
1	1	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.DecoderInitializationException.html
168	66	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.html
9	28	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecSelector.html
33	20	doc/reference/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.html
2	2	doc/reference/com/google/android/exoplayer2/mediacodec/MediaFormatUtil.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/Metadata.Entry.html
54	7	doc/reference/com/google/android/exoplayer2/metadata/Metadata.html
2	2	doc/reference/com/google/android/exoplayer2/metadata/MetadataDecoder.html
7	5	doc/reference/com/google/android/exoplayer2/metadata/MetadataDecoderFactory.html
3	3	doc/reference/com/google/android/exoplayer2/metadata/MetadataRenderer.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessage.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoder.html
2	2	doc/reference/com/google/android/exoplayer2/metadata/emsg/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/metadata/emsg/package-tree.html
286	0	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyDecoder.html
590	0	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyHeaders.html
449	0	doc/reference/com/google/android/exoplayer2/metadata/icy/IcyInfo.html
20	0	doc/reference/com/google/android/exoplayer2/metadata/icy/package-frame.html
152	0	doc/reference/com/google/android/exoplayer2/metadata/icy/package-summary.html
135	0	doc/reference/com/google/android/exoplayer2/metadata/icy/package-tree.html
3	3	doc/reference/com/google/android/exoplayer2/metadata/id3/ApicFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/BinaryFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/ChapterFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/ChapterTocFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/CommentFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/GeobFrame.html
3	3	doc/reference/com/google/android/exoplayer2/metadata/id3/Id3Decoder.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/InternalFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/MlltFrame.html
1	1	doc/reference/com/google/android/exoplayer2/metadata/id3/PrivFrame.html
3	3	doc/reference/com/google/android/exoplayer2/metadata/id3/TextInformationFrame.html
3	3	doc/reference/com/google/android/exoplayer2/metadata/id3/UrlLinkFrame.html
2	2	doc/reference/com/google/android/exoplayer2/metadata/id3/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/metadata/id3/package-tree.html
231	0	doc/reference/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.DownloadIdProvider.html
282	0	doc/reference/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.html
494	0	doc/reference/com/google/android/exoplayer2/offline/DefaultDownloadIndex.html
41	57	doc/reference/com/google/android/exoplayer2/offline/{ActionFile.html => DefaultDownloaderFactory.html}
22	57	doc/reference/com/google/android/exoplayer2/{ui/PlaybackControlView.VisibilityListener.html => offline/Download.FailureReason.html}
14	22	doc/reference/com/google/android/exoplayer2/offline/{DownloadManager.TaskState.State.html => Download.State.html}
717	0	doc/reference/com/google/android/exoplayer2/offline/Download.html
0	596	doc/reference/com/google/android/exoplayer2/offline/DownloadAction.html
480	0	doc/reference/com/google/android/exoplayer2/offline/DownloadCursor.html
2	2	doc/reference/com/google/android/exoplayer2/offline/DownloadException.html
2	2	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.Callback.html
618	63	doc/reference/com/google/android/exoplayer2/offline/DownloadHelper.html
266	0	doc/reference/com/google/android/exoplayer2/offline/DownloadIndex.html
77	26	doc/reference/com/google/android/exoplayer2/offline/DownloadManager.Listener.html
321	161	doc/reference/com/google/android/exoplayer2/offline/DownloadManager.html
32	59	doc/reference/com/google/android/exoplayer2/offline/{TrackKey.html => DownloadProgress.html}
268	0	doc/reference/com/google/android/exoplayer2/offline/DownloadRequest.UnsupportedRequestException.html
668	0	doc/reference/com/google/android/exoplayer2/offline/DownloadRequest.html
718	151	doc/reference/com/google/android/exoplayer2/offline/DownloadService.html
236	0	doc/reference/com/google/android/exoplayer2/offline/Downloader.ProgressListener.html
42	52	doc/reference/com/google/android/exoplayer2/offline/Downloader.html
101	26	doc/reference/com/google/android/exoplayer2/offline/DownloaderConstructorHelper.html
231	0	doc/reference/com/google/android/exoplayer2/offline/DownloaderFactory.html
9	4	doc/reference/com/google/android/exoplayer2/offline/FilteringManifestParser.html
0	506	doc/reference/com/google/android/exoplayer2/offline/ProgressiveDownloadAction.html
0	423	doc/reference/com/google/android/exoplayer2/offline/ProgressiveDownloadHelper.html
36	61	doc/reference/com/google/android/exoplayer2/offline/ProgressiveDownloader.html
0	357	doc/reference/com/google/android/exoplayer2/offline/SegmentDownloadAction.SegmentDownloadActionDeserializer.html
0	444	doc/reference/com/google/android/exoplayer2/offline/SegmentDownloadAction.html
1	1	doc/reference/com/google/android/exoplayer2/offline/SegmentDownloader.Segment.html
42	63	doc/reference/com/google/android/exoplayer2/offline/SegmentDownloader.html
89	15	doc/reference/com/google/android/exoplayer2/offline/StreamKey.html
341	0	doc/reference/com/google/android/exoplayer2/offline/WritableDownloadIndex.html
15	10	doc/reference/com/google/android/exoplayer2/offline/package-frame.html
77	48	doc/reference/com/google/android/exoplayer2/offline/package-summary.html
28	21	doc/reference/com/google/android/exoplayer2/offline/package-tree.html
3	1	doc/reference/com/google/android/exoplayer2/package-frame.html
48	36	doc/reference/com/google/android/exoplayer2/package-summary.html
22	23	doc/reference/com/google/android/exoplayer2/package-tree.html
0	15	doc/reference/com/google/android/exoplayer2/scheduler/PlatformScheduler.html
10	9	doc/reference/com/google/android/exoplayer2/scheduler/{Requirements.NetworkType.html => Requirements.RequirementFlags.html}
185	100	doc/reference/com/google/android/exoplayer2/scheduler/Requirements.html
12	27	doc/reference/com/google/android/exoplayer2/scheduler/RequirementsWatcher.Listener.html
12	24	doc/reference/com/google/android/exoplayer2/scheduler/RequirementsWatcher.html
4	44	doc/reference/com/google/android/exoplayer2/scheduler/Scheduler.html
1	1	doc/reference/com/google/android/exoplayer2/scheduler/package-frame.html
2	2	doc/reference/com/google/android/exoplayer2/scheduler/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/scheduler/package-tree.html
6	6	doc/reference/com/google/android/exoplayer2/source/BaseMediaSource.html
7	0	doc/reference/com/google/android/exoplayer2/source/ClippingMediaPeriod.html
3	39	doc/reference/com/google/android/exoplayer2/source/ClippingMediaSource.html
7	7	doc/reference/com/google/android/exoplayer2/source/CompositeMediaSource.html
4	4	doc/reference/com/google/android/exoplayer2/source/ConcatenatingMediaSource.html
6	6	doc/reference/com/google/android/exoplayer2/source/DefaultMediaSourceEventListener.html
7	0	doc/reference/com/google/android/exoplayer2/source/DeferredMediaPeriod.html
5	9	doc/reference/com/google/android/exoplayer2/source/EmptySampleStream.html
1	2	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.EventListener.html
23	5	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.Factory.html
51	31	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.html
4	4	doc/reference/com/google/android/exoplayer2/source/LoopingMediaSource.html
42	13	doc/reference/com/google/android/exoplayer2/source/MediaPeriod.html
14	17	doc/reference/com/google/android/exoplayer2/source/MediaSource.MediaPeriodId.html
5	1	doc/reference/com/google/android/exoplayer2/source/MediaSource.SourceInfoRefreshListener.html
3	3	doc/reference/com/google/android/exoplayer2/source/MediaSource.html
13	13	doc/reference/com/google/android/exoplayer2/source/MediaSourceEventListener.EventDispatcher.html
4	4	doc/reference/com/google/android/exoplayer2/source/MediaSourceEventListener.MediaLoadData.html
5	5	doc/reference/com/google/android/exoplayer2/source/MediaSourceEventListener.html
2	2	doc/reference/com/google/android/exoplayer2/source/MergingMediaSource.IllegalMergeException.Reason.html
4	4	doc/reference/com/google/android/exoplayer2/source/MergingMediaSource.html
478	0	doc/reference/com/google/android/exoplayer2/source/ProgressiveMediaSource.Factory.html
494	0	doc/reference/com/google/android/exoplayer2/source/ProgressiveMediaSource.html
5	5	doc/reference/com/google/android/exoplayer2/source/SampleQueue.html
5	9	doc/reference/com/google/android/exoplayer2/source/SampleStream.html
3	3	doc/reference/com/google/android/exoplayer2/source/SinglePeriodTimeline.html
5	5	doc/reference/com/google/android/exoplayer2/source/SingleSampleMediaSource.Factory.html
2	2	doc/reference/com/google/android/exoplayer2/source/SingleSampleMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/TrackGroup.html
1	1	doc/reference/com/google/android/exoplayer2/source/TrackGroupArray.html
5	5	doc/reference/com/google/android/exoplayer2/source/ads/AdPlaybackState.AdGroup.html
20	14	doc/reference/com/google/android/exoplayer2/source/ads/AdPlaybackState.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdsLoader.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.MediaSourceFactory.html
5	5	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
26	5	doc/reference/com/google/android/exoplayer2/source/chunk/BaseMediaChunkIterator.html
2	2	doc/reference/com/google/android/exoplayer2/source/chunk/Chunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkExtractorWrapper.html
5	9	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.EmbeddedSampleStream.html
6	10	doc/reference/com/google/android/exoplayer2/source/chunk/ChunkSampleStream.html
28	3	doc/reference/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.html
1	1	doc/reference/com/google/android/exoplayer2/source/chunk/InitializationChunk.html
21	5	doc/reference/com/google/android/exoplayer2/source/chunk/MediaChunkIterator.html
347	0	doc/reference/com/google/android/exoplayer2/source/chunk/MediaChunkListIterator.html
2	2	doc/reference/com/google/android/exoplayer2/source/chunk/SingleSampleMediaChunk.html
1	0	doc/reference/com/google/android/exoplayer2/source/chunk/package-frame.html
6	0	doc/reference/com/google/android/exoplayer2/source/chunk/package-summary.html
5	1	doc/reference/com/google/android/exoplayer2/source/chunk/package-tree.html
8	10	doc/reference/com/google/android/exoplayer2/source/dash/DashChunkSource.Factory.html
30	6	doc/reference/com/google/android/exoplayer2/source/dash/DashMediaSource.Factory.html
2	2	doc/reference/com/google/android/exoplayer2/source/dash/DashMediaSource.html
3	3	doc/reference/com/google/android/exoplayer2/source/dash/DashUtil.html
9	11	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.RepresentationHolder.html
4	4	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.RepresentationSegmentIterator.html
7	8	doc/reference/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/PlayerEmsgHandler.PlayerTrackEmsgHandler.html
2	2	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifest.html
104	85	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.html
7	7	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Descriptor.html
3	3	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Period.html
1	1	doc/reference/com/google/android/exoplayer2/source/dash/manifest/ProgramInformation.html
4	4	doc/reference/com/google/android/exoplayer2/source/dash/manifest/RangedUri.html
7	12	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Representation.MultiSegmentRepresentation.html
16	24	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Representation.SingleSegmentRepresentation.html
23	55	doc/reference/com/google/android/exoplayer2/source/dash/manifest/Representation.html
0	444	doc/reference/com/google/android/exoplayer2/source/dash/offline/DashDownloadAction.html
0	429	doc/reference/com/google/android/exoplayer2/source/dash/offline/DashDownloadHelper.html
21	14	doc/reference/com/google/android/exoplayer2/source/dash/offline/DashDownloader.html
0	2	doc/reference/com/google/android/exoplayer2/source/dash/offline/package-frame.html
0	12	doc/reference/com/google/android/exoplayer2/source/dash/offline/package-summary.html
0	14	doc/reference/com/google/android/exoplayer2/source/dash/offline/package-tree.html
65	26	doc/reference/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.html
324	0	doc/reference/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.Result.html
37	18	doc/reference/com/google/android/exoplayer2/source/hls/HlsExtractorFactory.html
2	2	doc/reference/com/google/android/exoplayer2/source/hls/HlsManifest.html
65	27	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.html
55	7	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.Factory.html
6	141	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.html
508	0	doc/reference/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.VariantInfo.html
470	0	doc/reference/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.html
3	3	doc/reference/com/google/android/exoplayer2/source/hls/SampleQueueMappingException.html
0	444	doc/reference/com/google/android/exoplayer2/source/hls/offline/HlsDownloadAction.html
0	429	doc/reference/com/google/android/exoplayer2/source/hls/offline/HlsDownloadHelper.html
21	14	doc/reference/com/google/android/exoplayer2/source/hls/offline/HlsDownloader.html
0	2	doc/reference/com/google/android/exoplayer2/source/hls/offline/package-frame.html
0	12	doc/reference/com/google/android/exoplayer2/source/hls/offline/package-summary.html
0	14	doc/reference/com/google/android/exoplayer2/source/hls/offline/package-tree.html
3	0	doc/reference/com/google/android/exoplayer2/source/hls/package-frame.html
22	4	doc/reference/com/google/android/exoplayer2/source/hls/package-summary.html
3	0	doc/reference/com/google/android/exoplayer2/source/hls/package-tree.html
2	24	doc/reference/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistParserFactory.html
83	61	doc/reference/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.html
317	0	doc/reference/com/google/android/exoplayer2/source/hls/playlist/FilteringHlsPlaylistParserFactory.html
67	70	doc/reference/com/google/android/exoplayer2/source/hls/playlist/{HlsMasterPlaylist.HlsUrl.html => HlsMasterPlaylist.Rendition.html}
443	0	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.Variant.html
113	34	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.html
19	13	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylist.Segment.html
4	4	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylist.html
1	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParserFactory.html
3	3	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.PlaylistEventListener.html
5	5	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.PlaylistResetException.html
5	5	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.PlaylistStuckException.html
31	30	doc/reference/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.html
3	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/package-frame.html
15	2	doc/reference/com/google/android/exoplayer2/source/hls/playlist/package-summary.html
3	1	doc/reference/com/google/android/exoplayer2/source/hls/playlist/package-tree.html
2	0	doc/reference/com/google/android/exoplayer2/source/package-frame.html
16	6	doc/reference/com/google/android/exoplayer2/source/package-summary.html
3	1	doc/reference/com/google/android/exoplayer2/source/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/DefaultSsChunkSource.Factory.html
1	1	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsChunkSource.Factory.html
30	6	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.Factory.html
2	2	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.html
0	443	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloadAction.html
0	429	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloadHelper.html
21	14	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloader.html
0	2	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/package-frame.html
0	12	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/package-summary.html
0	14	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/offline/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/TextOutput.html
3	3	doc/reference/com/google/android/exoplayer2/text/TextRenderer.html
2	2	doc/reference/com/google/android/exoplayer2/text/package-tree.html
93	21	doc/reference/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.Factory.html
165	13	doc/reference/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.html
15	11	doc/reference/com/google/android/exoplayer2/trackselection/BaseTrackSelection.html
275	0	doc/reference/com/google/android/exoplayer2/trackselection/BufferSizeAdaptationBuilder.DynamicFormatFilter.html
646	0	doc/reference/com/google/android/exoplayer2/trackselection/BufferSizeAdaptationBuilder.html
41	5	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.AudioTrackScore.html
167	86	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.Parameters.html
298	132	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.ParametersBuilder.html
54	3	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.SelectionOverride.html
137	105	doc/reference/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.html
22	18	doc/reference/com/google/android/exoplayer2/trackselection/FixedTrackSelection.Factory.html
10	3	doc/reference/com/google/android/exoplayer2/trackselection/FixedTrackSelection.html
15	11	doc/reference/com/google/android/exoplayer2/trackselection/MappingTrackSelector.html
23	19	doc/reference/com/google/android/exoplayer2/trackselection/RandomTrackSelection.Factory.html
9	2	doc/reference/com/google/android/exoplayer2/trackselection/RandomTrackSelection.html
283	0	doc/reference/com/google/android/exoplayer2/trackselection/TrackBitrateEstimator.html
360	0	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelection.Definition.html
42	16	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelection.Factory.html
45	16	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelection.html
4	4	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionArray.html
370	0	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.Builder.html
475	0	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.html
231	0	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionUtil.AdaptiveTrackSelectionFactory.html
410	0	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectionUtil.html
26	21	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelector.html
6	4	doc/reference/com/google/android/exoplayer2/trackselection/TrackSelectorResult.html
326	0	doc/reference/com/google/android/exoplayer2/trackselection/WindowedTrackBitrateEstimator.html
9	0	doc/reference/com/google/android/exoplayer2/trackselection/package-frame.html
67	12	doc/reference/com/google/android/exoplayer2/trackselection/package-summary.html
17	2	doc/reference/com/google/android/exoplayer2/trackselection/package-tree.html
75	28	doc/reference/com/google/android/exoplayer2/ui/DefaultTimeBar.html
2	2	doc/reference/com/google/android/exoplayer2/ui/DefaultTrackNameProvider.html
358	0	doc/reference/com/google/android/exoplayer2/ui/DownloadNotificationHelper.html
35	29	doc/reference/com/google/android/exoplayer2/ui/DownloadNotificationUtil.html
2	2	doc/reference/com/google/android/exoplayer2/ui/PlaybackControlView.ControlDispatcher.html
16	121	doc/reference/com/google/android/exoplayer2/ui/PlaybackControlView.html
0	4	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.VisibilityListener.html
138	26	doc/reference/com/google/android/exoplayer2/ui/PlayerControlView.html
3	3	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.CustomActionReceiver.html
4	4	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.MediaDescriptionAdapter.html
73	12	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.NotificationListener.html
270	82	doc/reference/com/google/android/exoplayer2/ui/PlayerNotificationManager.html
15	15	doc/reference/com/google/android/exoplayer2/ui/PlayerView.html
3	3	doc/reference/com/google/android/exoplayer2/ui/SimpleExoPlayerView.html
2	2	doc/reference/com/google/android/exoplayer2/ui/SubtitleView.html
3	3	doc/reference/com/google/android/exoplayer2/ui/TimeBar.OnScrubListener.html
32	10	doc/reference/com/google/android/exoplayer2/ui/TimeBar.html
2	2	doc/reference/com/google/android/exoplayer2/ui/TrackNameProvider.html
232	0	doc/reference/com/google/android/exoplayer2/ui/TrackSelectionDialogBuilder.DialogCallback.html
505	0	doc/reference/com/google/android/exoplayer2/ui/TrackSelectionDialogBuilder.html
232	0	doc/reference/com/google/android/exoplayer2/ui/TrackSelectionView.TrackSelectionListener.html
113	55	doc/reference/com/google/android/exoplayer2/ui/TrackSelectionView.html
4	1	doc/reference/com/google/android/exoplayer2/ui/package-frame.html
37	19	doc/reference/com/google/android/exoplayer2/ui/package-summary.html
7	7	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
401	0	doc/reference/com/google/android/exoplayer2/ui/spherical/CanvasRenderer.html
439	0	doc/reference/com/google/android/exoplayer2/ui/spherical/GlViewGroup.html
79	102	doc/reference/com/google/android/exoplayer2/{upstream/cache/CacheUtil.CachingCounters.html => ui/spherical/PointerRenderer.html}
416	0	doc/reference/com/google/android/exoplayer2/ui/spherical/SceneRenderer.html
2	2	doc/reference/com/google/android/exoplayer2/ui/spherical/SingleTapListener.html
1	1	doc/reference/com/google/android/exoplayer2/ui/spherical/SphericalSurfaceView.SurfaceListener.html
4	4	doc/reference/com/google/android/exoplayer2/ui/spherical/SphericalSurfaceView.html
4	0	doc/reference/com/google/android/exoplayer2/ui/spherical/package-frame.html
24	0	doc/reference/com/google/android/exoplayer2/ui/spherical/package-summary.html
12	0	doc/reference/com/google/android/exoplayer2/ui/spherical/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/AssetDataSource.html
13	9	doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.EventListener.html
6	6	doc/reference/com/google/android/exoplayer2/upstream/BandwidthMeter.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/ByteArrayDataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/ContentDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSchemeDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/DataSourceInputStream.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/DataSpec.Flags.html
94	57	doc/reference/com/google/android/exoplayer2/upstream/DataSpec.html
27	51	doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.Builder.html
32	47	doc/reference/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.html
4	4	doc/reference/com/google/android/exoplayer2/upstream/DefaultDataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/DefaultDataSourceFactory.html
13	13	doc/reference/com/google/android/exoplayer2/upstream/DefaultHttpDataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/DefaultHttpDataSourceFactory.html
3	3	doc/reference/com/google/android/exoplayer2/upstream/DefaultLoadErrorHandlingPolicy.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/DummyDataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/FileDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/FileDataSourceFactory.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/HttpDataSource.InvalidResponseCodeException.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/Loader.html
36	2	doc/reference/com/google/android/exoplayer2/upstream/ParsingLoadable.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/PriorityDataSource.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/RawResourceDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/StatsDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/TeeDataSource.html
4	4	doc/reference/com/google/android/exoplayer2/upstream/UdpDataSource.html
15	1	doc/reference/com/google/android/exoplayer2/upstream/cache/Cache.CacheException.html
5	6	doc/reference/com/google/android/exoplayer2/upstream/cache/Cache.Listener.html
88	66	doc/reference/com/google/android/exoplayer2/upstream/cache/Cache.html
39	16	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSink.html
23	5	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSinkFactory.html
1	2	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSource.Flags.html
10	69	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSource.html
32	15	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheDataSourceFactory.html
23	4	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheEvictor.html
16	14	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheSpan.html
236	0	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheUtil.ProgressListener.html
77	55	doc/reference/com/google/android/exoplayer2/upstream/cache/CacheUtil.html
5	6	doc/reference/com/google/android/exoplayer2/upstream/cache/CachedRegionTracker.html
109	30	doc/reference/com/google/android/exoplayer2/upstream/cache/ContentMetadata.html
62	7	doc/reference/com/google/android/exoplayer2/upstream/cache/ContentMetadataMutations.html
85	56	doc/reference/com/google/android/exoplayer2/upstream/cache/DefaultContentMetadata.html
33	10	doc/reference/com/google/android/exoplayer2/upstream/cache/LeastRecentlyUsedCacheEvictor.html
31	8	doc/reference/com/google/android/exoplayer2/upstream/cache/NoOpCacheEvictor.html
250	100	doc/reference/com/google/android/exoplayer2/upstream/cache/SimpleCache.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/cache/package-frame.html
11	11	doc/reference/com/google/android/exoplayer2/upstream/cache/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/upstream/cache/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/crypto/AesCipherDataSource.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
4	4	doc/reference/com/google/android/exoplayer2/util/Assertions.html
18	2	doc/reference/com/google/android/exoplayer2/util/AtomicFile.html
1	1	doc/reference/com/google/android/exoplayer2/util/Clock.html
1	1	doc/reference/com/google/android/exoplayer2/util/CodecSpecificDataUtil.html
1	1	doc/reference/com/google/android/exoplayer2/util/EGLSurfaceTexture.html
4	4	doc/reference/com/google/android/exoplayer2/util/EventLogger.html
2	2	doc/reference/com/google/android/exoplayer2/util/FlacStreamInfo.html
347	0	doc/reference/com/google/android/exoplayer2/util/GlUtil.html
2	2	doc/reference/com/google/android/exoplayer2/util/HandlerWrapper.html
4	4	doc/reference/com/google/android/exoplayer2/util/Log.html
133	72	doc/reference/com/google/android/exoplayer2/util/MimeTypes.html
17	17	doc/reference/com/google/android/exoplayer2/util/NotificationUtil.html
2	2	doc/reference/com/google/android/exoplayer2/util/ParsableByteArray.html
17	1	doc/reference/com/google/android/exoplayer2/util/SlidingPercentile.html
2	2	doc/reference/com/google/android/exoplayer2/util/TimedValueQueue.html
241	108	doc/reference/com/google/android/exoplayer2/util/Util.html
2	2	doc/reference/com/google/android/exoplayer2/util/XmlPullParserUtil.html
1	0	doc/reference/com/google/android/exoplayer2/util/package-frame.html
28	22	doc/reference/com/google/android/exoplayer2/util/package-summary.html
2	1	doc/reference/com/google/android/exoplayer2/util/package-tree.html
5	5	doc/reference/com/google/android/exoplayer2/video/ColorInfo.html
317	0	doc/reference/com/google/android/exoplayer2/video/DolbyVisionConfig.html
2	2	doc/reference/com/google/android/exoplayer2/video/DummySurface.html
1	1	doc/reference/com/google/android/exoplayer2/video/HevcConfig.html
176	62	doc/reference/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.html
4	0	doc/reference/com/google/android/exoplayer2/video/VideoFrameMetadataListener.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoFrameReleaseTimeHelper.html
3	3	doc/reference/com/google/android/exoplayer2/video/VideoRendererEventListener.EventDispatcher.html
1	1	doc/reference/com/google/android/exoplayer2/video/VideoRendererEventListener.html
1	0	doc/reference/com/google/android/exoplayer2/video/package-frame.html
11	5	doc/reference/com/google/android/exoplayer2/video/package-summary.html
1	0	doc/reference/com/google/android/exoplayer2/video/package-tree.html
4	0	doc/reference/com/google/android/exoplayer2/video/spherical/CameraMotionListener.html
2	2	doc/reference/com/google/android/exoplayer2/video/spherical/CameraMotionRenderer.html
31	7	doc/reference/com/google/android/exoplayer2/video/spherical/FrameRotationQueue.html
1	1	doc/reference/com/google/android/exoplayer2/video/spherical/ProjectionDecoder.html
939	403	doc/reference/constant-values.html
132	213	doc/reference/deprecated-list.html
3117	1176	doc/reference/index-all.html
2	0	doc/reference/overview-frame.html
35	27	doc/reference/overview-summary.html
158	91	doc/reference/overview-tree.html
2	0	doc/reference/package-list
18	4	doc/reference/serialized-form.html

commit 71d7e0afe20e02fd83063bba024907c3da84be30
Author: olly <olly@google.com>
Date:   2019-05-03 13:14:38 +0100

    Add a couple of assertions to DownloadManager set methods
    
    PiperOrigin-RevId: 246491511

3	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 116602d8c04ec977dbc364841ae0e1e882c3d155
Author: olly <olly@google.com>
Date:   2019-05-02 17:35:30 +0100

    Minor download documentation tweaks
    
    PiperOrigin-RevId: 246333281

1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactory.java

commit 1292a35ec65f23a1ed9c453d25ef4e132390d9f3
Author: olly <olly@google.com>
Date:   2019-05-03 13:14:38 +0100

    Add a couple of assertions to DownloadManager set methods
    
    PiperOrigin-RevId: 246491511

3	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 76184deb21af9ea058bcdf0cb35b28441e419c6e
Author: olly <olly@google.com>
Date:   2019-05-02 17:35:30 +0100

    Minor download documentation tweaks
    
    PiperOrigin-RevId: 246333281

1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactory.java

commit c33835b4785f4253133c0951e46847894bfa39ba
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-02 11:41:06 +0100

    Fix SmoothStreaming links
    
    NOTE: Streams are working on ExoPlayer but querying them from
    other platforms yields "bad request".
    
    The new links:
    + Match Microsoft's test server.
    + Allow querying from clients other than ExoPlayer, like curl.
    
    PiperOrigin-RevId: 246289755

2	2	demos/main/src/main/assets/media.exolist.json

commit 241ce2df490bc024814d33b08c26950f56c67920
Author: tonihei <tonihei@google.com>
Date:   2019-05-02 10:37:31 +0100

    Post-submit fixes for https://github.com/google/ExoPlayer/commit/eed5d957d87d44cb9c716f1a4c80f39ad2a6a442.
    
    One wrong return value, a useless assignment, unusual visibility of private
    class fields and some nullability issues.
    
    PiperOrigin-RevId: 246282995

21	13	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 9f9cf316bd3c7740c3fa1fa5ccbfa0d5dd3c417b
Author: olly <olly@google.com>
Date:   2019-05-01 20:50:44 +0100

    Remove unnecessary logging
    
    As justification for why we should not have this type of logging,
    it would scale up to about 13K LOC, 1800 Strings, and 36K (after
    pro-guarding - in the case of the demo app) if we did it through
    the whole code base*. It makes the code messier to read, and in
    most cases doesn't add significant value.
    
    Note: I left the Scheduler logging because it logs interactions
    with some awkward library components outside of ExoPlayer, so is
    perhaps a bit more justified.
    
    * This is a bit unfair since realistically we wouldn't ever add
      lots of logging into trivial classes. But I think it is fair
      to say that the deltas would be non-negligible.
    
    PiperOrigin-RevId: 246181421

1	0	extensions/jobdispatcher/src/main/java/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.java
0	22	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
7	20	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java
0	12	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
0	23	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Scheduler.java
1	21	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit 214a372e062f9740644d73501c0a08e338ac5657
Author: olly <olly@google.com>
Date:   2019-05-01 20:06:11 +0100

    Periodically persist progress to index whilst downloading
    
    PiperOrigin-RevId: 246173972

30	7	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit d215b81167f1b8768a2fb24ada4cfd72b2837bd1
Author: olly <olly@google.com>
Date:   2019-05-01 19:19:02 +0100

    Rework DownloadManager to fix remaining TODOs
    
    - Removed DownloadInternal and its sometimes-out-of-sync
      duplicate state
    - Fixed downloads being in STOPPED rather than QUEUED state
      when the manager is paused
    - Fixed setMaxParallelDownloads to start/stop downloads if
      necessary when the value changes
    - Fixed isWaitingForRequirements
    
    PiperOrigin-RevId: 246164845

5	4	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
21	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
369	403	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java
8	6	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtilTest.java
31	23	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit ad5948f3ed62941acf6a8e39ce43a4001c53a255
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-05-02 11:41:06 +0100

    Fix SmoothStreaming links
    
    NOTE: Streams are working on ExoPlayer but querying them from
    other platforms yields "bad request".
    
    The new links:
    + Match Microsoft's test server.
    + Allow querying from clients other than ExoPlayer, like curl.
    
    PiperOrigin-RevId: 246289755

2	2	demos/main/src/main/assets/media.exolist.json

commit 5992699d91406e8e1d289e565f95a15e3b40a11b
Author: tonihei <tonihei@google.com>
Date:   2019-05-02 10:37:31 +0100

    Post-submit fixes for https://github.com/google/ExoPlayer/commit/eed5d957d87d44cb9c716f1a4c80f39ad2a6a442.
    
    One wrong return value, a useless assignment, unusual visibility of private
    class fields and some nullability issues.
    
    PiperOrigin-RevId: 246282995

21	13	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit de7c62a915076dd8363054acb0377c43601d794a
Author: olly <olly@google.com>
Date:   2019-05-01 20:50:44 +0100

    Remove unnecessary logging
    
    As justification for why we should not have this type of logging,
    it would scale up to about 13K LOC, 1800 Strings, and 36K (after
    pro-guarding - in the case of the demo app) if we did it through
    the whole code base*. It makes the code messier to read, and in
    most cases doesn't add significant value.
    
    Note: I left the Scheduler logging because it logs interactions
    with some awkward library components outside of ExoPlayer, so is
    perhaps a bit more justified.
    
    * This is a bit unfair since realistically we wouldn't ever add
      lots of logging into trivial classes. But I think it is fair
      to say that the deltas would be non-negligible.
    
    PiperOrigin-RevId: 246181421

1	0	extensions/jobdispatcher/src/main/java/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.java
0	22	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
7	20	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java
0	12	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
0	23	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Scheduler.java
1	21	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit ea0efa74641fb688ece3e170a0ecfe42a3f3ffe5
Author: olly <olly@google.com>
Date:   2019-05-01 20:06:11 +0100

    Periodically persist progress to index whilst downloading
    
    PiperOrigin-RevId: 246173972

30	7	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit eed5d957d87d44cb9c716f1a4c80f39ad2a6a442
Author: olly <olly@google.com>
Date:   2019-05-01 19:19:02 +0100

    Rework DownloadManager to fix remaining TODOs
    
    - Removed DownloadInternal and its sometimes-out-of-sync
      duplicate state
    - Fixed downloads being in STOPPED rather than QUEUED state
      when the manager is paused
    - Fixed setMaxParallelDownloads to start/stop downloads if
      necessary when the value changes
    - Fixed isWaitingForRequirements
    
    PiperOrigin-RevId: 246164845

5	4	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
21	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
369	403	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java
8	6	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtilTest.java
31	23	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit faecef0befc4bb97c4c4a9316a94732dfd6aaec1
Merge: f8cd770d8 3e14ce109
Author: Oliver Woodman <olly@google.com>
Date:   2019-05-02 13:04:32 +0100

    Merge pull request #5807 from zsmatyas:dev-v2
    
    PiperOrigin-RevId: 246132620

commit f8cd770d84dfcc03ac43251eb77cc1f3a8d5e83b
Author: olly <olly@google.com>
Date:   2019-05-01 10:08:27 +0100

    Migrate from is(Not)SameAs to is(Not)SameInstanceAs.
    
    They behave identically, and the old names are being removed.
    
    Open-source note: The new methods are available in Truth as of version 0.44.
    
    END_PUBLIC
    
    More information:
      go/issameas-lsc
    
    Tested:
        TAP --sample ran all affected tests and none failed
        http://test/OCL:246024032:BASE:246042619:1556672975894:513e7746
    PiperOrigin-RevId: 246101315

1	1	library/core/src/test/java/com/google/android/exoplayer2/source/ads/AdPlaybackStateTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlRenderUtilTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/TrackSelectionUtilTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/trackselection/WindowedTrackBitrateEstimatorTest.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/upstream/BaseDataSourceTest.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylistParserTest.java

commit 6c1065c6d25d682521d8bcdf0728f5712d5a3ab2
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-30 12:26:39 +0100

    Prevent index out of bounds exceptions in some live HLS scenarios
    
    Can happen if the load position falls behind in every playlist and
    when we try to load the next segment, the adaptive selection logic
    decides to change variant.
    
    Issue:#5816
    PiperOrigin-RevId: 245923006

2	0	RELEASENOTES.md
6	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java

commit 4a5b8e17de84d9ae34af3f0964147f9a2bffcd49
Author: olly <olly@google.com>
Date:   2019-04-30 12:25:04 +0100

    DownloadManager improvements
    
    - Do requirements TODO
    - Add useful helper method to retrieve not met requirements
    - Fix WritableDownloadIndex Javadoc
    
    PiperOrigin-RevId: 245922903

18	7	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
13	13	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java

commit 6b34ade908dfe750f6d26c2ca74636a542556ac3
Author: olly <olly@google.com>
Date:   2019-04-30 10:56:23 +0100

    Rename DownloadThread to Task
    
    This resolves some naming confusion that previously existed
    as a result of DownloadThread also being used for removals.
    Some related variables (e.g. activeDownloadCount) would refer
    to both download and removal tasks, whilst others
    (e.g. maxParallelDownloads) would refer only to downloads.
    This change renames those that refer to both to use "task"
    terminology.
    
    This change also includes minor test edits.
    
    PiperOrigin-RevId: 245913671

63	58	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadBuilder.java
3	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit 618d97db1c6fbb917740ed53848fc120cad957d1
Author: bachinger <bachinger@google.com>
Date:   2019-04-29 15:56:41 +0100

    Never set null as a session meta data object.
    
    Issue: #5810
    PiperOrigin-RevId: 245745646

6	3	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit c480818249b6c470990c4c1b7849969020d1f46f
Author: tonihei <tonihei@google.com>
Date:   2019-04-30 16:57:19 +0100

    Fix some random AndroidStudio warnings.
    
    PiperOrigin-RevId: 245956915

0	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
1	2	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
1	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/C.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
4	6	library/core/src/main/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManager.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSession.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmInitData.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/drm/OfflineLicenseHelper.java
32	34	library/core/src/main/java/com/google/android/exoplayer2/extractor/ogg/VorbisUtil.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/metadata/MetadataRenderer.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/trackselection/MappingTrackSelector.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheDataSink.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtilTest.java
4	9	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
2	7	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java
2	8	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheTest.java
5	7	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
4	6	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
2	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/spherical/SphericalSurfaceView.java
1	4	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/CacheAsserts.java
17	18	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/MediaPeriodAsserts.java

commit 0bb32a8f0917d589ecc5d90343986f57a7c70656
Author: tonihei <tonihei@google.com>
Date:   2019-04-30 12:51:34 +0100

    Add IntDef for Player states.
    
    PiperOrigin-RevId: 245925254

1	1	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DefaultReceiverPlayerManager.java
1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
2	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
1	1	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
1	1	extensions/ima/src/main/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.java
4	3	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/FakePlayer.java
4	4	extensions/leanback/src/main/java/com/google/android/exoplayer2/ext/leanback/LeanbackPlayerAdapter.java
1	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
1	1	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
1	1	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java
13	4	library/core/src/main/java/com/google/android/exoplayer2/Player.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsCollector.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/analytics/AnalyticsListener.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/util/EventLogger.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/DebugTextViewHelper.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java
2	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/Action.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoHostedTest.java
1	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExoPlayerTestRunner.java
1	0	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/StubExoPlayer.java

commit f64011ae04632e23d6b5c4c20a8d90fad39e3bd6
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-30 12:26:39 +0100

    Prevent index out of bounds exceptions in some live HLS scenarios
    
    Can happen if the load position falls behind in every playlist and
    when we try to load the next segment, the adaptive selection logic
    decides to change variant.
    
    Issue:#5816
    PiperOrigin-RevId: 245923006

2	0	RELEASENOTES.md
6	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java

commit 802ebc8db10336a9fc2a60b4128d3e522a549645
Author: olly <olly@google.com>
Date:   2019-04-30 12:25:04 +0100

    DownloadManager improvements
    
    - Do requirements TODO
    - Add useful helper method to retrieve not met requirements
    - Fix WritableDownloadIndex Javadoc
    
    PiperOrigin-RevId: 245922903

18	7	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
13	13	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java

commit 51914f8f82c8c17e16e4e59f9a64b9204d74ce0d
Author: olly <olly@google.com>
Date:   2019-04-30 10:56:23 +0100

    Rename DownloadThread to Task
    
    This resolves some naming confusion that previously existed
    as a result of DownloadThread also being used for removals.
    Some related variables (e.g. activeDownloadCount) would refer
    to both download and removal tasks, whilst others
    (e.g. maxParallelDownloads) would refer only to downloads.
    This change renames those that refer to both to use "task"
    terminology.
    
    This change also includes minor test edits.
    
    PiperOrigin-RevId: 245913671

63	58	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadBuilder.java
3	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit 44ad47746a452ac24a37af37053afe6be7dd9d31
Author: bachinger <bachinger@google.com>
Date:   2019-04-29 15:56:41 +0100

    Never set null as a session meta data object.
    
    Issue: #5810
    PiperOrigin-RevId: 245745646

6	3	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 1fb128df36f9c2a8ecbac5de319bd4cfa5b56f6a
Author: tonihei <tonihei@google.com>
Date:   2019-04-29 10:31:36 +0100

    Move playback session manager to core library.
    
    This allows to use the session management capabilities for other analytics
    purposes.
    
    PiperOrigin-RevId: 245710588

359	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManager.java
120	0	library/core/src/main/java/com/google/android/exoplayer2/analytics/PlaybackSessionManager.java
957	0	library/core/src/test/java/com/google/android/exoplayer2/analytics/DefaultPlaybackSessionManagerTest.java

commit 880f4031811460471791b2243d360bd8717333a7
Author: olly <olly@google.com>
Date:   2019-04-26 18:54:07 +0100

    Fix line break
    
    PiperOrigin-RevId: 245448908

2	2	RELEASENOTES.md

commit 3e14ce1094a5bf932fd33c225ed8b53b573d9db3
Author: Zsolt Matyas <zmmatyas@amazon.com>
Date:   2019-04-29 12:56:25 -0700

    Code changes suggested by tonihei

10	10	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea608Decoder.java

commit 2f356badd231302ae1780f28285cb6741b2a49d7
Author: Zsolt Matyas <zmmatyas@amazon.com>
Date:   2019-04-26 14:37:26 -0700

    Handling XDS and TEXT modes
    
    [Problem]
    There are 3 services / modes transported on line 21:
    - Captioning
    - TEXT (generally not program related)
    - XDS (eXtended Data Services)
    
    Bytes belonging to the unsupported modes are interleaved with the
    bytes of the captioning mode.
    See Chapter 7, Chapter 8.5 and Chapter 8.6 of the CEA608 Standard for
    more details.
    
    [Solution]
    Drop all bytes belonging to unsupported modes.
    
    [Test]
    - All streams containing only captioning services should not be influenced
    - Test all 4 CEA 608 channels with live over-the-air content and
    using all available TEXT and XDS streams.

73	7	library/core/src/main/java/com/google/android/exoplayer2/text/cea/Cea608Decoder.java

commit 590140c1a6c7b48d968c71c9157bd1ea00c5a849
Author: Oliver Woodman <olly@google.com>
Date:   2019-04-26 20:41:29 +0100

    Fix bad merge

0	18	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 5eb36f86a25a3f988771ad38fd746f3b9bd25c66
Author: Oliver Woodman <olly@google.com>
Date:   2019-04-26 18:49:45 +0100

    Fix line break

2	2	RELEASENOTES.md

commit cb13f2df0f975ede53328d55ad59f8e24b4ad677
Merge: 0128cebce 6473d46cb
Author: Oliver Woodman <olly@google.com>
Date:   2019-04-26 18:48:06 +0100

    Merge branch 'dev-v2-r2.10.0' of https://github.com/google/ExoPlayer into dev-v2-r2.10.0

commit 0128cebce1e1cb04c5a4974f25006354579fe286
Author: eguven <eguven@google.com>
Date:   2019-04-26 12:05:09 +0100

    Add simpler DownloadManager constructor
    
    PiperOrigin-RevId: 245397736

18	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit e4f1f89f5ca4a21c064f34d70b76a4094fb42cb9
Author: eguven <eguven@google.com>
Date:   2019-04-26 18:26:24 +0100

    Downloading documentation
    
    PiperOrigin-RevId: 245443109

2	1	RELEASENOTES.md

commit 9463c31cded5cd6523769c4deab04cc4204eeb3c
Author: tonihei <tonihei@google.com>
Date:   2019-04-23 11:00:55 +0100

    Update default min duration for playbacks with video to match max duration.
    
    Experiments show this is beneficial for rebuffers with only minor impact
    on battery usage.
    
    Configurations which explicitly set a minimum buffer duration are unaffected.
    
    Issue:#2083
    PiperOrigin-RevId: 244823642

60	17	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java

commit f62fa434dd8513a1766e688e59febb258762e968
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-26 18:14:55 +0100

    Log warnings when extension libraries can't be used
    
    Issue: #5788
    PiperOrigin-RevId: 245440858

5	0	RELEASENOTES.md
11	1	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.java
7	1	library/core/src/main/java/com/google/android/exoplayer2/util/LibraryLoader.java

commit b55e17588b2328c77a33586e5c81cd9413ff6201
Author: olly <olly@google.com>
Date:   2019-04-26 14:35:51 +0100

    Link blog post from release notes
    
    PiperOrigin-RevId: 245411528

4	2	RELEASENOTES.md

commit 56520b7c731ca41088f18e6a7c3ded28f7346a00
Author: olly <olly@google.com>
Date:   2019-04-26 13:53:58 +0100

    Move DownloadManager internal logic into isolated inner class
    
    There are no logic changes here. It's just moving code around and removing
    the "internal" part of names where no longer required.
    
    PiperOrigin-RevId: 245407238

386	377	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit d187d9ec8fa252fdd25333a90116b3e11a9a3afb
Author: olly <olly@google.com>
Date:   2019-04-26 13:30:48 +0100

    Post maxParallelDownload and minRetryCount changes
    
    PiperOrigin-RevId: 245405316

53	15	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 9d03ae41095495df6e0f4f4ff6aee847610c8582
Author: olly <olly@google.com>
Date:   2019-04-26 12:46:48 +0100

    Add missing getters and clarify STATE_QUEUED documentation
    
    PiperOrigin-RevId: 245401274

11	1	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
51	13	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit fc35d5fca6b0f8c505376583a040a602a7094dfa
Author: eguven <eguven@google.com>
Date:   2019-04-26 12:05:09 +0100

    Add simpler DownloadManager constructor
    
    PiperOrigin-RevId: 245397736

24	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit c97ee9429ba8c7284268f0b9abd1b0584c23ee1c
Author: eguven <eguven@google.com>
Date:   2019-04-26 10:25:21 +0100

    Allow content id to be set in DownloadHelper.getDownloadRequest
    
    PiperOrigin-RevId: 245388082

15	4	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 249f6a77ee31c05e486df5d37e2adbab889cfdaa
Author: tonihei <tonihei@google.com>
Date:   2019-04-25 13:38:54 +0100

    Update gradle plugin (part 2).
    
    PiperOrigin-RevId: 245218900

1	1	build.gradle

commit 7626ff72de8e6d9feab54980e6dee13dcab8361f
Author: tonihei <tonihei@google.com>
Date:   2019-04-25 13:32:07 +0100

    Update gradle plugin.
    
    This also removes the build warning about the experimental flag.
    
    PiperOrigin-RevId: 245218251

0	1	gradle.properties
2	2	gradle/wrapper/gradle-wrapper.properties

commit 4da14e46fa7ded200c11771a19946949fb9c34da
Author: eguven <eguven@google.com>
Date:   2019-04-24 11:08:00 +0100

    Add DownloadService SET_REQUIREMENTS action
    
    PiperOrigin-RevId: 245014381

2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
81	22	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
30	4	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java

commit f7f6489f573189f84d8c3f9b0b9ab0797f648d08
Author: eguven <eguven@google.com>
Date:   2019-04-23 17:09:05 +0100

    Add option to add entries in an ActionFile to DownloadIndex as completed
    
    PiperOrigin-RevId: 244864742

8	4	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
10	4	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
47	4	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtilTest.java

commit 615513985677ad3accef8e32370915565b93e3c4
Author: tonihei <tonihei@google.com>
Date:   2019-04-23 15:50:30 +0100

    Fix bug which logs errors twice if stack traces are disabled.
    
    Disabling stack trackes currently logs messages twice, once with and once
    without stack trace.
    
    PiperOrigin-RevId: 244853127

4	8	library/core/src/main/java/com/google/android/exoplayer2/util/Log.java

commit 3d6407a58e6a0762885f73f04add750c5eeaad15
Author: tonihei <tonihei@google.com>
Date:   2019-04-23 13:35:58 +0100

    Always update loading period in handleSourceInfoRefreshed.
    
    This ensures we keep the loading period in sync with the the playing period in
    PlybackInfo, when the latter changes to something new.
    
    PiperOrigin-RevId: 244838123

1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 3e519824ff909b0d5e0a31936ca2886c29f844c0
Author: eguven <eguven@google.com>
Date:   2019-04-26 18:26:24 +0100

    Downloading documentation
    
    PiperOrigin-RevId: 245443109

2	1	RELEASENOTES.md

commit 1bc279795b6a7d4e78ccab86ee0e08e540832588
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-26 18:14:55 +0100

    Log warnings when extension libraries can't be used
    
    Issue: #5788
    PiperOrigin-RevId: 245440858

3	0	RELEASENOTES.md
11	1	extensions/ffmpeg/src/main/java/com/google/android/exoplayer2/ext/ffmpeg/FfmpegLibrary.java
7	1	library/core/src/main/java/com/google/android/exoplayer2/util/LibraryLoader.java

commit 61f28f8107434143794b6c5757d7d8cc34a91248
Author: olly <olly@google.com>
Date:   2019-04-26 14:35:51 +0100

    Link blog post from release notes
    
    PiperOrigin-RevId: 245411528

4	2	RELEASENOTES.md

commit 2b0b6e1b2e52357d0c905901787d65f0302ab9ed
Author: olly <olly@google.com>
Date:   2019-04-26 13:53:58 +0100

    Move DownloadManager internal logic into isolated inner class
    
    There are no logic changes here. It's just moving code around and removing
    the "internal" part of names where no longer required.
    
    PiperOrigin-RevId: 245407238

386	377	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit f37b28f12e1b50908dd1e8511f5e8544cb06873b
Author: olly <olly@google.com>
Date:   2019-04-26 13:30:48 +0100

    Post maxParallelDownload and minRetryCount changes
    
    PiperOrigin-RevId: 245405316

53	15	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 643e187d991ef7a0b688fcd7a4cdd8801b00032c
Author: olly <olly@google.com>
Date:   2019-04-26 12:46:48 +0100

    Add missing getters and clarify STATE_QUEUED documentation
    
    PiperOrigin-RevId: 245401274

11	1	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
51	13	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 01ad1c1a84ab8761736705a2c16940146daeb133
Author: eguven <eguven@google.com>
Date:   2019-04-26 12:05:09 +0100

    Add simpler DownloadManager constructor
    
    PiperOrigin-RevId: 245397736

24	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 3382c74488196f5b5977dfa545f142d6ac30f120
Author: eguven <eguven@google.com>
Date:   2019-04-26 10:25:21 +0100

    Allow content id to be set in DownloadHelper.getDownloadRequest
    
    PiperOrigin-RevId: 245388082

15	4	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 708cad6b28ed66c02826fb1d3ded8974591ecf7e
Author: eguven <eguven@google.com>
Date:   2019-04-25 16:52:35 +0100

    Add DownloadHelper.createMediaSource utility method
    
    PiperOrigin-RevId: 245243488

2	7	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
11	18	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
6	3	library/core/proguard-rules.txt
79	47	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 21b2a471bb1580ef5e0d1ae5584a25dc8ca9d683
Author: tonihei <tonihei@google.com>
Date:   2019-04-25 13:48:36 +0100

    Toggle playback controls according to standard Android click handling.
    
    We currently toggle the view in onTouchEvent ACTION_DOWN which is non-standard
    and causes problems when used in a ViewGroup intercepting touch events.
    
    Switch to standard Android click handling instead which is also what most
    other player apps are doing.
    
    Issue:#5784
    PiperOrigin-RevId: 245219728

2	0	RELEASENOTES.md
15	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerView.java

commit 84e03aea7064f82e1220c094382a0410a3e3b348
Author: tonihei <tonihei@google.com>
Date:   2019-04-25 13:38:54 +0100

    Update gradle plugin (part 2).
    
    PiperOrigin-RevId: 245218900

1	1	build.gradle

commit b4420f61d1c22b61d0c6d2fb5396b57b207e1919
Author: tonihei <tonihei@google.com>
Date:   2019-04-25 13:32:07 +0100

    Update gradle plugin.
    
    This also removes the build warning about the experimental flag.
    
    PiperOrigin-RevId: 245218251

0	1	gradle.properties
2	2	gradle/wrapper/gradle-wrapper.properties

commit 009d6296503965143959687a770528338a3b8885
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-25 12:11:17 +0100

    Check codec profiles/levels for VP9
    
    Also add some unit tests for codecs strings parsing.
    
    PiperOrigin-RevId: 245210490

55	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
80	0	library/core/src/test/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtilTest.java

commit 0ff47a8c0df183d8206d4f7bc98393a8f06a2aff
Author: eguven <eguven@google.com>
Date:   2019-04-24 11:08:00 +0100

    Add DownloadService SET_REQUIREMENTS action
    
    PiperOrigin-RevId: 245014381

2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
81	22	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
30	4	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java

commit d60b6d64abc6ae6a0900c1cdd1f98920f2a25cb6
Author: olly <olly@google.com>
Date:   2019-04-23 19:03:22 +0100

    Migrate from containsAllOf to containsAtLeast.
    
    The two behave identically, and containsAllOf is being removed.
    
    More information:
      go/containsall-lsc
    
    Tested:
        TAP --sample for global presubmit queue
        http://test/OCL:244737393:BASE:244782138:1555991083653:3080d7c7
    PiperOrigin-RevId: 244886736

1	1	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/drm/DrmInitDataTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java

commit ba94f9dc0195c8698a39c04ac75d966b5fbc5b67
Author: olly <olly@google.com>
Date:   2019-04-23 19:03:05 +0100

    Migrate from isNotSameAs to isNotSameInstanceAs.
    
    The two behave identically, and isNotSameAs is being removed.
    
    More information:
      go/issameas-lsc
    
    Tested:
        TAP --sample for global presubmit queue
        http://test/OCL:244736857:BASE:244751659:1555988098671:1e0f72c5
    PiperOrigin-RevId: 244886651

2	2	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlRenderUtilTest.java

commit 03313fb5e29a92dfa4a3c6de5ca88ca8459a8204
Author: eguven <eguven@google.com>
Date:   2019-04-23 17:09:05 +0100

    Add option to add entries in an ActionFile to DownloadIndex as completed
    
    PiperOrigin-RevId: 244864742

8	4	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
10	4	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
47	4	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtilTest.java

commit 06586b75b00c9e43065fbd171465bd46d7aa01c9
Author: tonihei <tonihei@google.com>
Date:   2019-04-23 15:50:30 +0100

    Fix bug which logs errors twice if stack traces are disabled.
    
    Disabling stack trackes currently logs messages twice, once with and once
    without stack trace.
    
    PiperOrigin-RevId: 244853127

4	8	library/core/src/main/java/com/google/android/exoplayer2/util/Log.java

commit 4507c6870deec9715802d31e433b2756bcaaae59
Author: tonihei <tonihei@google.com>
Date:   2019-04-23 15:09:57 +0100

    Move away from AndroidX bundled Truth to be closer to head revision.
    
    The AndroidX bundled version (0.42) lags behind the most up-to-date public
    release (0.44) making it more difficult to stay close to the actual head
    revision which is used internally.
    
    PiperOrigin-RevId: 244848568

1	0	constants.gradle
1	1	extensions/vp9/build.gradle
2	2	library/core/build.gradle
1	1	testutils/build.gradle

commit 3acd8a6048882902d835d5a6ea999a12ce585027
Author: tonihei <tonihei@google.com>
Date:   2019-04-23 13:36:24 +0100

    Remove unused PlaybackInfo.resetToNewPosition
    
    PiperOrigin-RevId: 244838165

5	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
1	29	library/core/src/main/java/com/google/android/exoplayer2/PlaybackInfo.java

commit 9441f7244520e3e17ea8dce4f6372e108d3ecd03
Author: tonihei <tonihei@google.com>
Date:   2019-04-23 13:35:58 +0100

    Always update loading period in handleSourceInfoRefreshed.
    
    This ensures we keep the loading period in sync with the the playing period in
    PlybackInfo, when the latter changes to something new.
    
    PiperOrigin-RevId: 244838123

1	1	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 3e9a45b9d360760cd82216e6cc072a3107b18a9a
Author: olly <olly@google.com>
Date:   2019-04-23 11:23:34 +0100

    Fix DownloadManagerDashTest tests
    
    Also re-enable two of them, although note that the fix here is
    not related to the flakiness that caused them to be disabled.
    I'm re-enabling them since much has changed in DownloadManager,
    and the hope is that these tests are no longer flaky.
    
    PiperOrigin-RevId: 244826225

2	4	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java

commit 9725132e3c09280c2532f2de3077e9cd6ba28b1d
Author: tonihei <tonihei@google.com>
Date:   2019-04-23 11:00:55 +0100

    Update default min duration for playbacks with video to match max duration.
    
    Experiments show this is beneficial for rebuffers with only minor impact
    on battery usage.
    
    Configurations which explicitly set a minimum buffer duration are unaffected.
    
    Issue:#2083
    PiperOrigin-RevId: 244823642

2	0	RELEASENOTES.md
60	17	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java

commit d89f3eeb29884f02bc91e7cbadf6327bbbcb7a74
Author: olly <olly@google.com>
Date:   2019-04-23 09:58:52 +0100

    Update dependency versions
    
    PiperOrigin-RevId: 244816212

1	1	extensions/cronet/build.gradle

commit b01075f325ca48e6ad24928330610621989dd174
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-23 09:18:03 +0100

    Play out remaining data on reconfiguration
    
    Before this change we'd release the audio track and create a new one as soon
    as audio processors had drained when reconfiguring.
    
    Fix this behavior by stop()ing the AudioTrack to play out all written data.
    
    Issue: #2446
    PiperOrigin-RevId: 244812402

2	0	RELEASENOTES.md
1	1	extensions/mediasession/build.gradle
33	24	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java
1	1	library/ui/build.gradle

commit 6473d46cbd9e24f9c8b480659be969c67e379937
Author: Oliver Woodman <olly@google.com>
Date:   2019-04-19 16:05:04 +0100

    Fix tests

2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java

commit b4b82f5b1eb00b668d1abe5004da0e3b8c577316
Author: Oliver Woodman <olly@google.com>
Date:   2019-04-19 00:04:02 +0100

    Remove dev-v2 section for 2.10

0	2	RELEASENOTES.md
1	1	build.gradle

commit 7f885351dba24321dcc98b163bba4b3196d73cd6
Author: Oliver Woodman <olly@google.com>
Date:   2019-04-19 00:00:53 +0100

    Upgrade dependency versions

1	1	extensions/cronet/build.gradle
1	1	extensions/mediasession/build.gradle

commit 0d8146cbcab4ea9b8478d70ee06e0beaefe58dfd
Author: olly <olly@google.com>
Date:   2019-04-18 23:44:58 +0100

    Further improve DownloadService action names & methods
    
    - We had buildAddRequest and sendNewDownload. Converged to
      buildAddDownload and sendAddDownload.
    - Also fixed a few more inconsistencies, and brought the
      action constants into line as well.
    
    PiperOrigin-RevId: 244274041

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
33	27	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java

commit 748a29e8f5ddf808d8da43f284b1c6227aa77e87
Author: olly <olly@google.com>
Date:   2019-04-18 23:44:58 +0100

    Further improve DownloadService action names & methods
    
    - We had buildAddRequest and sendNewDownload. Converged to
      buildAddDownload and sendAddDownload.
    - Also fixed a few more inconsistencies, and brought the
      action constants into line as well.
    
    PiperOrigin-RevId: 244274041

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
33	27	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java

commit b8cdd7e40bff8f56aa078a8e2fd760e21cedec39
Author: olly <olly@google.com>
Date:   2019-04-18 23:17:03 +0100

    Fix lint warnings for 2.10
    
    PiperOrigin-RevId: 244268855

16	5	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
0	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlaybackException.java

commit b30efe968b8459d77779daea9960d15c3e6268a1
Author: olly <olly@google.com>
Date:   2019-04-18 23:08:43 +0100

    Clean up database tables for launch
    
    PiperOrigin-RevId: 244267255

53	74	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
5	8	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java

commit 54a5d6912bfd516091279fcd23d8984709819485
Author: olly <olly@google.com>
Date:   2019-04-18 21:02:48 +0100

    Improve progress reporting logic
    
    - Listener based reporting of progress allows the content length
      to be persisted into the download index (and notified via a
      download state change) as soon as it's available.
    - Moved contentLength back into Download proper. It should only
      ever change once, so I'm not sure it belongs in the mutable part
      of Download.
    - Made a DownloadProgress class, for naming sanity.
    
    PiperOrigin-RevId: 244242487

5	3	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
13	14	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
28	39	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
74	33	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
28	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadProgress.java
24	24	library/core/src/main/java/com/google/android/exoplayer2/offline/Downloader.java
18	22	library/core/src/main/java/com/google/android/exoplayer2/offline/ProgressiveDownloader.java
108	100	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java
74	63	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
7	7	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
43	27	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadBuilder.java
13	31	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest.java
84	54	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheUtilTest.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/offline/DashDownloader.java
30	16	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloaderTest.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloader.java
25	11	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloaderTest.java
2	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloader.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationHelper.java
1	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashDownloadTest.java

commit 7d67047e9472efad1291d3a2522edd913a784628
Author: olly <olly@google.com>
Date:   2019-04-18 19:34:00 +0100

    Support multiple DefaultDownloadIndex instances
    
    PiperOrigin-RevId: 244226680

41	28	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
6	8	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java

commit 38c5350c2cfbb86264081db7d367584f80f32044
Author: olly <olly@google.com>
Date:   2019-04-18 19:19:38 +0100

    Simplify DownloadManager constructors
    
    PiperOrigin-RevId: 244223870

1	7	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
38	67	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
5	7	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
1	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
1	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java

commit 8c624081201b418c51747af753e41880d14f1edf
Author: olly <olly@google.com>
Date:   2019-04-18 18:48:09 +0100

    Rename start/stopDownloads to resume/pauseDownloads
    
    PiperOrigin-RevId: 244216620

17	17	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
69	49	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java

commit 138da6d51900e831ee4bcaee885bb373655d7b90
Author: olly <olly@google.com>
Date:   2019-04-18 18:26:00 +0100

    Rename manualStopReason to stopReason
    
    PiperOrigin-RevId: 244210737

2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
10	10	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
10	10	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
45	48	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
39	50	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java
22	25	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadBuilder.java
13	15	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit 6d8bd34590f88110041e3ff6ee085b3235b5eaaa
Author: eguven <eguven@google.com>
Date:   2019-04-18 17:04:31 +0100

    Add missing DownloadService build*Intent and startWith* methods
    
    PiperOrigin-RevId: 244196081

1	1	demos/ima/build.gradle
1	1	demos/main/build.gradle
2	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
1	1	extensions/cast/build.gradle
1	1	extensions/cronet/build.gradle
1	1	extensions/ffmpeg/build.gradle
1	1	extensions/flac/build.gradle
1	1	extensions/gvr/build.gradle
1	1	extensions/leanback/build.gradle
1	1	extensions/okhttp/build.gradle
1	1	extensions/rtmp/build.gradle
1	1	extensions/vp9/build.gradle
1	1	library/core/build.gradle
102	25	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	1	library/dash/build.gradle
1	1	library/hls/build.gradle
1	1	library/smoothstreaming/build.gradle
1	1	library/ui/build.gradle
1	1	playbacktests/build.gradle
1	1	testutils/build.gradle
1	1	testutils_robolectric/build.gradle

commit b6337adc4724236ef6b1d033b01feeb563437777
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-18 14:41:45 +0100

    Avoid selecting a forced text track that doesn't match the audio selection
    
    Assuming there is no text language preference.
    
    PiperOrigin-RevId: 244176667

3	1	RELEASENOTES.md
20	20	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
15	21	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit a501f8c2452eafafb4c792179fc342a71e3bcc03
Author: eguven <eguven@google.com>
Date:   2019-04-18 13:34:52 +0100

    Fix flaky DownloadManagerDashTest
    
    PiperOrigin-RevId: 244170179

1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
25	16	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
8	1	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit be0acc3621759a5c900f19185bfda34931ba55e3
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-18 13:17:04 +0100

    Add test for HlsTrackMetadataEntry population in the HlsPlaylistParser
    
    PiperOrigin-RevId: 244168713

103	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit c2bbf38ee8798246a0060897712a79154437d392
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-18 08:35:07 +0100

    Extend Bluetooth dead audio track workaround to Q
    
    PiperOrigin-RevId: 244139959

1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioTrackPositionTracker.java

commit 898bfbff6c9cf677e6c4d83205d31557608d98d9
Author: olly <olly@google.com>
Date:   2019-04-18 00:58:44 +0100

    [libvpx] permalaunch number of buffers.
    
    PiperOrigin-RevId: 244094942

2	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java

commit 0748566482161e12d18e85751b2fea39fcdad37d
Author: olly <olly@google.com>
Date:   2019-04-17 20:45:03 +0100

    Remove TODOs we're not going to do
    
    1. customCacheKey for DASH/HLS/SS is now asserted against
       in DownloadRequest
    2. Merging of event delivery in DownloadManager is very
       tricky to get right and probably not a good idea
    
    PiperOrigin-RevId: 244048392

0	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactory.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 289a8ffe4ced9050e8ef3fedd0955c213a3ce99d
Author: eguven <eguven@google.com>
Date:   2019-04-17 17:20:18 +0100

    Small javadoc fix for DownloadManager constructors
    
    PiperOrigin-RevId: 244009343

2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit afd72839dceeaad8e99940a0710181782ab51f03
Author: olly <olly@google.com>
Date:   2019-04-17 16:59:11 +0100

    Disable cache span touching for offline
    
    Currently SimpleCache will touch cache spans whenever it reads
    from them. With legacy SimpleCache setups this involves a potentially
    expensive file rename. With new SimpleCache setups it involves
    a more efficient but still non-free database write.
    
    For offline use cases, and more generally any use case where the
    eviction policy doesn't use last access timestamps, touching is
    not useful. This change allows the evictor to specify whether it
    needs cache spans to be touched or not. SimpleCache will only touch
    spans if the evictor requires it.
    
    Note: There is a potential change in behavior in cases where a
    cache uses an evictor that doesn't need cache spans to be touched,
    but then later switches to an evictor that does. The new evictor
    may temporarily make sub-optimal eviction decisions as a result.
    I think this is a very fair trade-off, since this scenario is
    unlikely to occur much, if at all, in practice, and even if it
    does occur the result isn't that bad.
    PiperOrigin-RevId: 244005682

5	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/Cache.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheEvictor.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadata.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
7	8	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheSpan.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContent.java
8	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/LeastRecentlyUsedCacheEvictor.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/NoOpCacheEvictor.java
16	11	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
14	14	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpan.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndexTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedRegionTrackerTest.java
9	12	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpanTest.java

commit 2907f79e69633b7739ae7b48a225572abf54a7b7
Author: olly <olly@google.com>
Date:   2019-04-17 16:46:42 +0100

    Don't start download if user explicitly deselects all tracks
    
    PiperOrigin-RevId: 244003817

14	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java

commit c1246937dfac4fd047ae9ab48606b33aeee1ac34
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-17 14:50:40 +0100

    Upgrade IMA to 3.11.2
    
    PiperOrigin-RevId: 243988105

2	2	extensions/ima/build.gradle

commit e15e6212f25d531c2f1403876e463dc645e4ab29
Author: olly <olly@google.com>
Date:   2019-04-17 14:45:18 +0100

    Fix playback of badly clipped MP3 streams
    
    Issue: #5772
    PiperOrigin-RevId: 243987497

4	2	RELEASENOTES.md
13	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java

commit 721e1dbfaf8c18c4a62badf5a6aa7518e999e152
Author: olly <olly@google.com>
Date:   2019-04-17 13:32:17 +0100

    Add WritableDownloadIndex interface
    
    One goal we forgot about a little bit was to allow applications
    to provide their own index implementation. This requires the
    writable side to also be defined by an interface.
    
    PiperOrigin-RevId: 243979660

5	31	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndex.java
7	8	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
59	0	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java

commit 6b0fd513788c7eee458f7d336905dcf779cfc808
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-17 11:47:48 +0100

    Reset playback info but not position/state in release
    
    ImaAdsLoader gets the player position after the app releases
    the player to support resuming ads at their current position
    if the same ads loader is reused.
    
    PiperOrigin-RevId: 243969916

2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java

commit dcb8417a3c6a18e636be07c44d21eddf98208639
Author: eguven <eguven@google.com>
Date:   2019-04-17 09:30:25 +0100

    Assert customCacheKey is null for DASH, HLS and SmoothStreaming downloads
    
    PiperOrigin-RevId: 243954989

8	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadRequest.java
-	-	library/core/src/test/assets/offline/action_file_for_download_index_upgrade.exi
6	6	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtilTest.java
3	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadRequestTest.java

commit bab7b9e9a1f434e5380c71bcef1c7ba069dbc22a
Author: olly <olly@google.com>
Date:   2019-04-18 23:17:03 +0100

    Fix lint warnings for 2.10
    
    PiperOrigin-RevId: 244268855

16	5	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
0	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlaybackException.java

commit 864b59080aed2c2f9433d3a5a0b9b2127ee0529a
Author: olly <olly@google.com>
Date:   2019-04-18 23:08:43 +0100

    Clean up database tables for launch
    
    PiperOrigin-RevId: 244267255

53	74	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
1	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
5	8	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java

commit 82061e9afbc660aaf788578e76d69cab1ddc52c1
Author: olly <olly@google.com>
Date:   2019-04-18 21:02:48 +0100

    Improve progress reporting logic
    
    - Listener based reporting of progress allows the content length
      to be persisted into the download index (and notified via a
      download state change) as soon as it's available.
    - Moved contentLength back into Download proper. It should only
      ever change once, so I'm not sure it belongs in the mutable part
      of Download.
    - Made a DownloadProgress class, for naming sanity.
    
    PiperOrigin-RevId: 244242487

5	3	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
13	14	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
28	39	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
74	33	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
28	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadProgress.java
24	24	library/core/src/main/java/com/google/android/exoplayer2/offline/Downloader.java
18	22	library/core/src/main/java/com/google/android/exoplayer2/offline/ProgressiveDownloader.java
108	100	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java
74	63	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
7	7	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
43	27	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadBuilder.java
13	31	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest.java
84	54	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheUtilTest.java
2	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/offline/DashDownloader.java
30	16	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloaderTest.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloader.java
25	11	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloaderTest.java
2	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloader.java
2	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationHelper.java
1	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashDownloadTest.java

commit 0ccda60ab4d24c90b75aeab3983229512bee8fad
Author: olly <olly@google.com>
Date:   2019-04-18 19:34:00 +0100

    Support multiple DefaultDownloadIndex instances
    
    PiperOrigin-RevId: 244226680

41	28	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
6	8	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java

commit e9413b0d4180036e0163e8e38c41d244b6454bd3
Author: olly <olly@google.com>
Date:   2019-04-18 19:19:38 +0100

    Simplify DownloadManager constructors
    
    PiperOrigin-RevId: 244223870

1	7	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
38	67	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
5	7	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
1	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
1	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java

commit 62964026b91d7b466f005d83264ffd5160ef4088
Author: olly <olly@google.com>
Date:   2019-04-18 18:48:09 +0100

    Rename start/stopDownloads to resume/pauseDownloads
    
    PiperOrigin-RevId: 244216620

17	17	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
69	49	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java

commit 82af6899a0903cb6638ff1776cbcd7e2b89521c2
Author: olly <olly@google.com>
Date:   2019-04-18 18:26:00 +0100

    Rename manualStopReason to stopReason
    
    PiperOrigin-RevId: 244210737

2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
10	10	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
10	10	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
45	48	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
39	50	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
8	8	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java
22	25	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadBuilder.java
13	15	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit f9f009645d8978d87da45d5527184aa042b39eb9
Author: eguven <eguven@google.com>
Date:   2019-04-18 17:04:31 +0100

    Add missing DownloadService build*Intent and startWith* methods
    
    PiperOrigin-RevId: 244196081

1	1	demos/ima/build.gradle
1	1	demos/main/build.gradle
2	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
1	1	extensions/cast/build.gradle
1	1	extensions/cronet/build.gradle
1	1	extensions/ffmpeg/build.gradle
1	1	extensions/flac/build.gradle
1	1	extensions/gvr/build.gradle
1	1	extensions/leanback/build.gradle
1	1	extensions/okhttp/build.gradle
1	1	extensions/rtmp/build.gradle
1	1	extensions/vp9/build.gradle
1	1	library/core/build.gradle
102	25	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
1	1	library/dash/build.gradle
1	1	library/hls/build.gradle
1	1	library/smoothstreaming/build.gradle
1	1	library/ui/build.gradle
1	1	playbacktests/build.gradle
1	1	testutils/build.gradle
1	1	testutils_robolectric/build.gradle

commit 4ea2463856566818008a1441941e20be7cd7956a
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-18 14:41:45 +0100

    Avoid selecting a forced text track that doesn't match the audio selection
    
    Assuming there is no text language preference.
    
    PiperOrigin-RevId: 244176667

3	1	RELEASENOTES.md
20	20	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
15	21	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit fe65f002a50898314d15b8e37fd3f7e5e812ac94
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-18 14:15:38 +0100

    Move E-AC3 workaround out of MediaCodecUtil
    
    PiperOrigin-RevId: 244173887

7	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
0	7	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java

commit 6665af5b7b332587138d90a185cc2a8043c65132
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-18 13:37:08 +0100

    Support additional DV profiles that require fallback
    
    PiperOrigin-RevId: 244170391

1	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
17	0	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit 50c9fe629486c1d417913176fa379c1fb1d19429
Author: eguven <eguven@google.com>
Date:   2019-04-18 13:34:52 +0100

    Fix flaky DownloadManagerDashTest
    
    PiperOrigin-RevId: 244170179

1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
25	16	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
8	1	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit f6de1aa24203681e5999898cd9b07f06ddf77a33
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-18 13:17:04 +0100

    Add test for HlsTrackMetadataEntry population in the HlsPlaylistParser
    
    PiperOrigin-RevId: 244168713

103	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 2347bd2c9901cb679979dd4b292c6b1ef18cd65c
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-18 13:03:14 +0100

    Prioritize decoders with format support
    
    PiperOrigin-RevId: 244167456

3	0	RELEASENOTES.md
7	4	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
50	41	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
23	7	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit a985ca93c5c7dcf9aef38eca93f5f907d4de871a
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-18 08:35:07 +0100

    Extend Bluetooth dead audio track workaround to Q
    
    PiperOrigin-RevId: 244139959

1	1	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioTrackPositionTracker.java

commit 4c967895e9a493d0f59dc593fa39563c7a9d3b48
Author: olly <olly@google.com>
Date:   2019-04-18 00:58:44 +0100

    [libvpx] permalaunch number of buffers.
    
    PiperOrigin-RevId: 244094942

2	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java

commit 92269ff774c59cc8f0af0210720a0e743f951a57
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-17 21:31:21 +0100

    Make MediaCodecRenderer#onInputFormatChanged take a FormatHolder
    
    PiperOrigin-RevId: 244056421

4	2	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
5	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
3	2	testutils/src/main/java/com/google/android/exoplayer2/testutil/DebugRenderersFactory.java

commit 4d6aca7629445cb8ac8c73b29f7ba0229274c0a8
Author: olly <olly@google.com>
Date:   2019-04-17 20:45:03 +0100

    Remove TODOs we're not going to do
    
    1. customCacheKey for DASH/HLS/SS is now asserted against
       in DownloadRequest
    2. Merging of event delivery in DownloadManager is very
       tricky to get right and probably not a good idea
    
    PiperOrigin-RevId: 244048392

0	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactory.java
0	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit f001e492956c42f8d4ae1eb5124e84331342d017
Author: eguven <eguven@google.com>
Date:   2019-04-17 17:20:18 +0100

    Small javadoc fix for DownloadManager constructors
    
    PiperOrigin-RevId: 244009343

2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit e290f883d1ede6523b00854c3fdf439b0e4b851f
Author: olly <olly@google.com>
Date:   2019-04-17 16:59:11 +0100

    Disable cache span touching for offline
    
    Currently SimpleCache will touch cache spans whenever it reads
    from them. With legacy SimpleCache setups this involves a potentially
    expensive file rename. With new SimpleCache setups it involves
    a more efficient but still non-free database write.
    
    For offline use cases, and more generally any use case where the
    eviction policy doesn't use last access timestamps, touching is
    not useful. This change allows the evictor to specify whether it
    needs cache spans to be touched or not. SimpleCache will only touch
    spans if the evictor requires it.
    
    Note: There is a potential change in behavior in cases where a
    cache uses an evictor that doesn't need cache spans to be touched,
    but then later switches to an evictor that does. The new evictor
    may temporarily make sub-optimal eviction decisions as a result.
    I think this is a very fair trade-off, since this scenario is
    unlikely to occur much, if at all, in practice, and even if it
    does occur the result isn't that bad.
    PiperOrigin-RevId: 244005682

5	6	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/Cache.java
7	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheEvictor.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadata.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
7	8	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheSpan.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContent.java
8	3	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/LeastRecentlyUsedCacheEvictor.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/NoOpCacheEvictor.java
16	11	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
14	14	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpan.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndexTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedRegionTrackerTest.java
9	12	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpanTest.java

commit d656782bd4deaba624ab47da4d4f4e44d56c0786
Author: olly <olly@google.com>
Date:   2019-04-17 16:46:42 +0100

    Don't start download if user explicitly deselects all tracks
    
    PiperOrigin-RevId: 244003817

14	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java

commit a0fe7ace833000dbb92cacf5a42cca25b318c077
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-17 14:50:40 +0100

    Upgrade IMA to 3.11.2
    
    PiperOrigin-RevId: 243988105

2	2	extensions/ima/build.gradle

commit c9470296ab59d0c66ac07f46d988841c357abbe8
Author: olly <olly@google.com>
Date:   2019-04-17 14:45:18 +0100

    Fix playback of badly clipped MP3 streams
    
    Issue: #5772
    PiperOrigin-RevId: 243987497

4	2	RELEASENOTES.md
13	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp3/Mp3Extractor.java

commit 2feadc97626a9ddea4c8d44687205c547084b9a7
Author: olly <olly@google.com>
Date:   2019-04-17 13:32:17 +0100

    Add WritableDownloadIndex interface
    
    One goal we forgot about a little bit was to allow applications
    to provide their own index implementation. This requires the
    writable side to also be defined by an interface.
    
    PiperOrigin-RevId: 243979660

5	31	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndex.java
7	8	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
59	0	library/core/src/main/java/com/google/android/exoplayer2/offline/WritableDownloadIndex.java

commit e0c8af51909e552473bf4339673eaf8161352ca4
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-17 11:47:48 +0100

    Reset playback info but not position/state in release
    
    ImaAdsLoader gets the player position after the app releases
    the player to support resuming ads at their current position
    if the same ads loader is reused.
    
    PiperOrigin-RevId: 243969916

2	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java

commit d92e6bfaf82e068133aa0fd5cec4b82d8e0c791b
Author: eguven <eguven@google.com>
Date:   2019-04-17 09:30:25 +0100

    Assert customCacheKey is null for DASH, HLS and SmoothStreaming downloads
    
    PiperOrigin-RevId: 243954989

8	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadRequest.java
-	-	library/core/src/test/assets/offline/action_file_for_download_index_upgrade.exi
6	6	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtilTest.java
3	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadRequestTest.java

commit af5131e393dd5c0de31de2144bf2238d65f2820e
Author: olly <olly@google.com>
Date:   2019-04-16 18:56:09 +0100

    Rename Shadow*Looper classes (PR#4868)
    
    ShadowLooper -> ShadowLegacyLooper
    ShadowRealisticLooper -> ShadowPausedLooper
    ShadowBaseLooper -> ShadowLooper
    
    And all public methods from ShadowLegacyLooper get pushed up to ShadowLooper
    
    Pull Request: https://github.com/robolectric/robolectric/pull/4868
    
    Copybara: OK
    
    Also adjust Google3 tests  using custom looper shadows where necessary.
    Convert exoplayer to paused looper to eliminate reliance on custom shadows
    
    PiperOrigin-RevId: 243839311

2	1	constants.gradle
2	3	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
2	3	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
4	5	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java
2	3	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java
2	3	library/core/src/test/java/com/google/android/exoplayer2/source/LoopingMediaSourceTest.java
2	3	library/core/src/test/java/com/google/android/exoplayer2/source/MergingMediaSourceTest.java
2	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashMediaPeriodTest.java
2	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
2	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
2	3	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java
2	3	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriodTest.java
2	2	testutils/src/test/java/com/google/android/exoplayer2/testutil/FakeClockTest.java
1	0	testutils_robolectric/build.gradle
0	231	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/RobolectricUtil.java

commit 10f3b8db6ed5c920188c66eb87637ea4b16e1ad1
Author: olly <olly@google.com>
Date:   2019-04-16 17:27:11 +0100

    Update release notes for 2.10 branch cut
    
    PiperOrigin-RevId: 243821394

10	10	RELEASENOTES.md

commit e62da368d28f6fe2286fafa611397966fad6b83d
Author: tonihei <tonihei@google.com>
Date:   2019-04-16 17:16:00 +0100

    Use player.retry in demo app instead of manual position tracking.
    
    We currently do manual position tracking while the player is in error mode.
    This is to allow an initial seek to the new position when trying to re-prepare.
    
    Instead, we can just use our player.retry method and remove the tracking code.
    
    PiperOrigin-RevId: 243819580

1	11	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java

commit 8e7a2ba9587072c549b72189fa8aa115201a3d5a
Author: tonihei <tonihei@google.com>
Date:   2019-04-16 17:15:08 +0100

    Don't reset masking position when prepare fails.
    
    The removed condition only applies when prepare fails and no timeline was or
    is known. We should keep a pending seek position in such a case. The internal
    player does the same thing already.
    
    PiperOrigin-RevId: 243819466

1	2	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java

commit 6c5a39ac8277eac88e29614fbcb053a0c791dab2
Author: Philippe Simons <simons.philippe@gmail.com>
Date:   2019-04-17 12:42:52 +0200

    android X

1	1	extensions/workmanager/build.gradle

commit 1c7cbef1b92f6199a8c9cc98fedf7f8de4980058
Author: Philippe Simons <simons.philippe@gmail.com>
Date:   2019-04-17 12:41:10 +0200

    use Util.SDK_INT
    use androidX workmanager

1	1	extensions/workmanager/build.gradle
1	1	extensions/workmanager/src/main/java/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.java

commit a2282ad0ddf9d2f56f21323f9c755e458949577d
Author: loki666 <simons.philippe@gmail.com>
Date:   2019-04-16 18:26:32 +0200

    PR comments update

2	2	extensions/workmanager/README.md
3	3	extensions/workmanager/build.gradle
1	1	extensions/workmanager/src/main/java/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.java

commit ee08e7dcac508af05c9cc9ab6663df34299264a7
Author: olly <olly@google.com>
Date:   2019-04-16 16:26:09 +0100

    Fix key and accessibility scrubbing
    
    Issue: #5767
    PiperOrigin-RevId: 243811443

56	41	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTimeBar.java
3	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java
3	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/TimeBar.java

commit 0be4bee25f2fd89c8a8b1f9efd3eca351dcc769a
Author: borrelli <borrelli@google.com>
Date:   2019-04-16 15:57:24 +0100

    Add "setCustomErrorMessage" override that allows including an extras bundle with a custom error.
    
    PiperOrigin-RevId: 243807109

1	0	RELEASENOTES.md
18	1	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit 5856e75781c5f4edc209ffb29ddec90b81f598bd
Author: eguven <eguven@google.com>
Date:   2019-04-16 15:55:27 +0100

    Rename DownloadAction to DownloadRequest
    
    PiperOrigin-RevId: 243806888

2	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java
9	13	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
22	22	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFile.java
18	18	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
9	9	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
15	15	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactory.java
6	6	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
13	13	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
53	54	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
29	29	library/core/src/main/java/com/google/android/exoplayer2/offline/{DownloadAction.java => DownloadRequest.java}
32	35	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloaderFactory.java
11	10	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileTest.java
28	28	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtilTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactoryTest.java
0	246	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadActionTest.java
11	4	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadBuilder.java
7	7	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
93	92	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
246	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadRequestTest.java
3	3	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloaderTest.java
17	17	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
6	6	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
3	3	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloaderTest.java
3	3	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloaderTest.java
8	8	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit 9fc3ea79a122bc63ae9b1bdc5cade3584de563d6
Author: borrelli <borrelli@google.com>
Date:   2019-04-16 14:54:40 +0100

    Add ability to register/unregister custom CommandReceivers.
    
    PiperOrigin-RevId: 243799572

3	0	RELEASENOTES.md
32	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java

commit c2c7c43a369d90303f9c61bd72b56eb8515c726b
Author: eguven <eguven@google.com>
Date:   2019-04-16 11:53:15 +0100

    Remove redundant proguard files
    
    PiperOrigin-RevId: 243781000

0	1	library/dash/build.gradle
0	7	library/dash/proguard-rules.txt
0	1	library/dash/src/main/proguard-rules.txt
0	1	library/hls/build.gradle
0	7	library/hls/proguard-rules.txt
0	1	library/hls/src/main/proguard-rules.txt
0	1	library/smoothstreaming/build.gradle
0	7	library/smoothstreaming/proguard-rules.txt
0	1	library/smoothstreaming/src/main/proguard-rules.txt

commit 77b78b96dff4d117ef7dffe0ff3d77314eafce19
Author: olly <olly@google.com>
Date:   2019-04-15 23:09:15 +0100

    DownloadTracker shouldn't depend on DefaultDownloadIndex
    
    - It can work with any DownloadIndex
    - Also simplify things to not require that it's registered
      as a DownloadManager listener by someone else
    
    PiperOrigin-RevId: 243697352

1	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
26	28	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java

commit 9c759a867b51d1fb4e95f7169646c71256679247
Author: olly <olly@google.com>
Date:   2019-04-15 18:09:22 +0100

    Prepare SimpleCache for 2.10.0 release
    
    - Expose constructors that take DatabaseProvider. Deprecate those
      that do not.
    - Expose Cache.getUid. This will likely be used for naming of the
      tables accessed by DefaultDownloadIndex .
    
    PiperOrigin-RevId: 243637786

12	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
16	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/Cache.java
50	32	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit 45348a97a954d4c13aeaf56b6c55e8ea01623ec7
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-15 18:05:01 +0100

    Fix Atom ConstantCaseForConstant suppression
    
    PiperOrigin-RevId: 243636923

220	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Atom.java

commit 68bd5da3cb1d01c69054c9698813fdc1e5521fff
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-15 17:41:11 +0100

    Fix DecryptionResource.Owner#onLastReferenceReleased type
    
    PiperOrigin-RevId: 243632134

8	7	library/core/src/main/java/com/google/android/exoplayer2/drm/DecryptionResource.java

commit 7b84a1ead7fb487a957ca8d029c38ca57ff77ceb
Author: olly <olly@google.com>
Date:   2019-04-15 17:11:03 +0100

    DownloadManager.getCurrentDownloads: Return list instead of array
    
    - Allows enforcing immutability, which in a future CL will allow
      avoiding allocating a new array/list on every call.
    - Also some left over doc cleanup from the DownloadState rename.
    
    PiperOrigin-RevId: 243627352

2	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java
1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
10	9	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
10	9	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
6	3	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
2	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
6	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationHelper.java
4	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationUtil.java

commit 9ddd39c1c06d57f233de731bd4153ec35283e3d7
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-15 16:54:03 +0100

    Add the HlsMetadataEntry from the Master playlist to the Hls tracks
    
    PiperOrigin-RevId: 243624081

12	0	library/core/src/main/java/com/google/android/exoplayer2/Format.java
15	0	library/core/src/main/java/com/google/android/exoplayer2/metadata/Metadata.java
1	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit e9a7d47f62a7e2ddc677912ba8d1afa3946a3e4f
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-15 16:20:52 +0100

    Move the RELEASENOTES entry for PlayReady's LA_URL workaround from HLS to DRM
    
    PiperOrigin-RevId: 243618907

3	2	RELEASENOTES.md

commit ba91501751af1112332ea29594ee44e35fc42c13
Author: eguven <eguven@google.com>
Date:   2019-04-15 16:03:41 +0100

    Add DownloadService.invalidateForegroundNotification
    
    ISSUE: #4563
    PiperOrigin-RevId: 243616444

31	16	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit 18dd3fdb46acd1b51bb8eb74aa751da03eff901e
Author: olly <olly@google.com>
Date:   2019-04-15 12:40:30 +0100

    Bump release to 2.10.0 and update release notes
    
    PiperOrigin-RevId: 243592790

75	80	RELEASENOTES.md
2	2	constants.gradle
3	3	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerLibraryInfo.java

commit 1ee51518ae032569f4b333006bf8076c3b4a3efc
Author: tonihei <tonihei@google.com>
Date:   2019-04-15 12:33:54 +0100

    Use new exoplayer.dev domain everywhere.
    
    The old domain automatically forwards to the new one. For consistency, change
    all doc and code references regardless.
    
    Also adds GitHub CNAME config file which configures our page for the custom
    domain.
    
    PiperOrigin-RevId: 243592110

2	2	.github/ISSUE_TEMPLATE/bug.md
2	2	.github/ISSUE_TEMPLATE/content_not_playing.md
1	1	.github/ISSUE_TEMPLATE/question.md
2	2	README.md
1	1	extensions/cast/README.md
2	2	extensions/cronet/README.md
2	2	extensions/ffmpeg/README.md
1	1	extensions/flac/README.md
1	1	extensions/gvr/README.md
2	2	extensions/ima/README.md
1	1	extensions/leanback/README.md
1	1	extensions/mediasession/README.md
2	2	extensions/okhttp/README.md
1	1	extensions/opus/README.md
2	2	extensions/rtmp/README.md
1	1	extensions/vp9/README.md
1	1	library/all/README.md
1	1	library/core/README.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
1	1	library/dash/README.md
1	1	library/hls/README.md
1	1	library/smoothstreaming/README.md
1	1	library/ui/README.md

commit 75238e5e4f8813961902893c50d0d41c13eaa239
Author: tonihei <tonihei@google.com>
Date:   2019-04-15 11:51:43 +0100

    Remove duplications from handleSourceInfoRefreshed.
    
    handleSourceInfoRefreshed checks for various conditions which may trigger a
    change in position. In all cases, we need to resolve the new position for ads,
    and if the corresponding MediaPeriods already exist, perform the seek to the new
    position.
    
    This change simplified the code by
     1. Moving all conditions in a single if-else structure which just determines
        the new playback position. This makes it easier to read and to follow.
     2. Doing the subsequent seek and position update in one final step to remove
        duplicated code.
    
    As a side effect, it also improves some edge cases. For example when skipping
    an ad to an already prebuffered period, we now properly update the existing
    prebuffered period.
    
    PiperOrigin-RevId: 243588014

50	92	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 1bf1790edc9428f1b77591f0911f60e97abdf3d5
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-15 11:00:12 +0100

    Extract factory method for FragmentedMp4Extractor in DefaultHlsExtractorFactory
    
    PiperOrigin-RevId: 243582468

1	0	library/dash/src/main/proguard-rules.txt
15	12	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java
1	0	library/hls/src/main/proguard-rules.txt
1	0	library/smoothstreaming/src/main/proguard-rules.txt

commit 2e3eac25b79453d9a0c4ca86c1b32fccf55d949b
Author: olly <olly@google.com>
Date:   2019-04-13 01:44:55 +0100

    Cleanly detach DownloadThreads on release
    
    - Make a best effort to avoid posting MSG_DOWNLOAD_THREAD_STOPPED
      if the internal thread has already quit. Doing so is harmless,
      but causes an error in Logcat. We used to generate this warning
      quite a bit in ExoPlayerImplInternal as well, and we got quite
      a few issues filed about it, so best to avoid it if possible.
    - Null out the back reference DownloadThread holds to its manager
      on release. This avoids a potential issue where a download thread
      can prevent GC of its manager if it doesn't cancel quickly.
      There's similar logic (with a similar comment) in Loader.LoadTask.
    
    PiperOrigin-RevId: 243365143

33	10	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 97acc681d10036c0b90573c5ba7d701c45f1e979
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-12 19:49:19 +0100

    Add HlsMetadataEntries to HlsMasterPlaylist's variants and renditions
    
    PiperOrigin-RevId: 243304549

5	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
54	27	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit b2c29da6b39668605c8c3da556b298480d4edd19
Author: olly <olly@google.com>
Date:   2019-04-12 15:07:07 +0100

    Finalize DownloadManager interface
    
    - Rename getAllDownloads to getCurrentDownloads to make it clear
      that it doesn't include completed and failed downloads
    - Change getDownloadCount to isWaitingForRequirements, which is
      what it's used for. Added TODO to make it returns the right thing
    
    PiperOrigin-RevId: 243257856

33	21	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit c1e25f7768a1bcc3730cf51487c9f7c941137709
Author: tonihei <tonihei@google.com>
Date:   2019-04-12 14:13:26 +0100

    Add check for retryDelayMs==C.TIME_UNSET in DASH and SS manifest onLoadError.
    
    If the returned retry delay is unset, we should use a DONT_RETRY_FATAL action
    instead and dispatch the event with the "canceled" flag.
    
    PiperOrigin-RevId: 243251554

9	8	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
9	9	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit a588717b4648b1d365376d842b184c7e0a480137
Author: olly <olly@google.com>
Date:   2019-04-12 14:00:41 +0100

    Move download state transitions into DownloadManager
    
    Non-trivial download state transitions are currently split across
    DownloadManager and Download. These transitions are part of the
    same state machine, so it's clearer if they're all in the same place
    (i.e. DownloadManager, since this is the component that transitions
    downloads between states).
    
    PiperOrigin-RevId: 243249915

12	2	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtil.java
16	59	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
49	8	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
41	41	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileUpgradeUtilTest.java
25	13	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
86	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
0	274	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadTest.java

commit f623a9dea0afbca26a28e4a1f91998575d774864
Author: olly <olly@google.com>
Date:   2019-04-12 13:09:14 +0100

    Reduce use of DownloadInternal in DownloadManager
    
    The only state DownloadInternal holds is duplicate of state contained
    in Download, but can confusingly be temporarily out of sync. This is
    error prone because it's easy to use the wrong variable (e.g.
    download.state vs state). DownloadInternals methods are called into
    and call out into DownloadManager, which makes some code paths that
    are quite hard to follow.
    
    It's possible to simplify DownloadManager quite a lot by removing the
    duplicated state in DownloadInternal, at which point DownloadInternal's
    methods flatten into DownloadManager, which can just hold an internal
    list of Downloads directly.
    
    This is a first step, which makes it clear that DownloadThready only
    needs its immutable DownloadAction + an isRemove flag.
    
    PiperOrigin-RevId: 243245288

1	13	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadAction.java
42	33	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
1	1	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit bd841b18f22ee5d184c22fb98d21d0a76d0ad4bb
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-12 12:58:40 +0100

    Add DecryptionResource to FormatHolder
    
    PiperOrigin-RevId: 243243975

13	1	library/core/src/main/java/com/google/android/exoplayer2/FormatHolder.java

commit 936bc244b64f8c9f7ad11f07858b36275ad8d6d1
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-12 11:53:38 +0100

    Add an HLS metadata entry sublcass to populate HLS track formats
    
    Include information to facilitate adaptive track selection in HLS.
    
    PiperOrigin-RevId: 243238232

1	0	RELEASENOTES.md
240	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsTrackMetadataEntry.java

commit 9cfac7ea077e9c54b2ddbeb0498dd0ac9b01a73b
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-12 11:40:39 +0100

    Rename CryptoResource to DecryptionResource
    
    PiperOrigin-RevId: 243237265

8	7	library/core/src/main/java/com/google/android/exoplayer2/drm/{CryptoResource.java => DecryptionResource.java}

commit 53934c13b2800cdcc49c7f3df5005b0a9b3d7943
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-12 02:12:55 +0100

    Select non-primary tunneling decoder
    
    Issue: #3100
    Issue: #5547
    PiperOrigin-RevId: 243181217

8	3	RELEASENOTES.md
8	3	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
7	3	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecSelector.java
122	65	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
30	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java
15	4	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashStreamingTest.java
2	1	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
8	4	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/EnumerateDecodersTest.java

commit b84c51434f7750924b6d7a6a5ef9bcd13c818812
Author: olly <olly@google.com>
Date:   2019-04-11 17:36:03 +0100

    Deprecate ActionFile and simplify upgrading
    
    PiperOrigin-RevId: 243085292

10	12	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
0	5	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
8	2	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFile.java
38	21	library/core/src/main/java/com/google/android/exoplayer2/offline/{DownloadIndexUtil.java => ActionFileUpgradeUtil.java}
7	7	library/core/src/test/java/com/google/android/exoplayer2/offline/{DownloadIndexUtilTest.java => ActionFileUpgradeUtilTest.java}

commit 112117a1ac016db57e78f66e56b228d4d01ff537
Author: olly <olly@google.com>
Date:   2019-04-10 18:15:45 +0100

    Reorder DownloadManager methods
    
    Put methods into a more sensible order (the same order as
    in the switch statement, which is a more natural order with
    e.g. initialize coming first and release coming last).
    
    PiperOrigin-RevId: 242891742

101	101	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 9779d71a1d7f6d9e009b8816d820a1c8d07935c7
Author: olly <olly@google.com>
Date:   2019-04-10 18:15:27 +0100

    Fix stopping downloads
    
    - Changed startDownloads/stopDownloads back to their previous behavior
      of starting and stopping all downloads at the manager level.
    - Made setManualStopReason methods for the new case of setting a manual
      stop reason or some or all downloads.
    - Added plumbing to specify an initial manual stop reason when adding a
      new download, without also overwriting the manual stop reasons of all
      other preexisting downloads. Using the value is left as a TODO pending
      a bit of further cleanup that'll make it easier.
    
    PiperOrigin-RevId: 242891688

3	5	library/core/src/main/java/com/google/android/exoplayer2/offline/Download.java
90	102	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
81	53	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
16	12	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadTest.java

commit 68993f233d9c9acd43a20066f411ff3af6515bae
Author: olly <olly@google.com>
Date:   2019-04-10 15:49:01 +0100

    Improve DownloadNotificationHelper
    
    - Remove completed downloads from progress notification.
    - Treat restarting as a downloading, When there are both
    remove and download tasks ongoing, we prefer to show a
    download notification to a remove one. A restarting task
    encapsulates is basically a (remove+download) task. Given
    our preference, we should treat it as a download rather
    than as a removal.
    
    PiperOrigin-RevId: 242867228

3	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationHelper.java

commit c830c8dc634d643271cd6e2c13b15e6598339098
Author: tonihei <tonihei@google.com>
Date:   2019-04-10 13:47:25 +0100

    Use LoadErrorHandlingPolicy.getRetryDelayMsFor for DASH/SS manifest loads.
    
    Both manifest loads currently use the default retry delay although a
    LoadErrorHandlingPolicy is provided to the MediaSource.
    
    PiperOrigin-RevId: 242852672

9	3	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaSource.java
6	1	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.java

commit 30beb9b30054e076d75eb7aad75727c284d97270
Author: olly <olly@google.com>
Date:   2019-04-10 13:32:52 +0100

    Add DownloadAction merge tests
    
    PiperOrigin-RevId: 242851294

11	5	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadAction.java
139	15	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadActionTest.java

commit 8688bd2d8885c381853938325b800b26663a6821
Author: eguven <eguven@google.com>
Date:   2019-04-10 11:37:56 +0100

    Rename DownloadState to Download
    
    PiperOrigin-RevId: 242839480

8	8	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java
20	20	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
40	41	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
12	12	library/core/src/main/java/com/google/android/exoplayer2/offline/{DownloadState.java => Download.java}
16	16	library/core/src/main/java/com/google/android/exoplayer2/offline/{DownloadStateCursor.java => DownloadCursor.java}
10	11	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndex.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndexUtil.java
162	164	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
23	25	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
122	146	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
28	34	library/core/src/test/java/com/google/android/exoplayer2/offline/{DownloadStateBuilder.java => DownloadBuilder.java}
17	17	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadIndexUtilTest.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
84	97	library/core/src/test/java/com/google/android/exoplayer2/offline/{DownloadStateTest.java => DownloadTest.java}
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
10	10	library/ui/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationHelper.java
4	4	library/ui/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationUtil.java
13	15	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit f0cd144baf8705e601e87e67cbb76d73fc36ba9e
Author: tonihei <tonihei@google.com>
Date:   2019-04-10 10:16:08 +0100

    Update UI translations.
    
    We have new strings for track role types.
    
    PiperOrigin-RevId: 242829944

4	0	library/ui/src/main/res/values-af/strings.xml
4	0	library/ui/src/main/res/values-am/strings.xml
4	0	library/ui/src/main/res/values-ar/strings.xml
4	0	library/ui/src/main/res/values-az/strings.xml
4	0	library/ui/src/main/res/values-b+sr+Latn/strings.xml
4	0	library/ui/src/main/res/values-be/strings.xml
4	0	library/ui/src/main/res/values-bg/strings.xml
4	0	library/ui/src/main/res/values-bn/strings.xml
4	0	library/ui/src/main/res/values-bs/strings.xml
4	0	library/ui/src/main/res/values-ca/strings.xml
4	0	library/ui/src/main/res/values-cs/strings.xml
4	0	library/ui/src/main/res/values-da/strings.xml
4	0	library/ui/src/main/res/values-de/strings.xml
4	0	library/ui/src/main/res/values-el/strings.xml
4	0	library/ui/src/main/res/values-en-rAU/strings.xml
4	0	library/ui/src/main/res/values-en-rGB/strings.xml
4	0	library/ui/src/main/res/values-en-rIN/strings.xml
4	0	library/ui/src/main/res/values-es-rUS/strings.xml
4	0	library/ui/src/main/res/values-es/strings.xml
4	0	library/ui/src/main/res/values-et/strings.xml
4	0	library/ui/src/main/res/values-eu/strings.xml
4	0	library/ui/src/main/res/values-fa/strings.xml
4	0	library/ui/src/main/res/values-fi/strings.xml
4	0	library/ui/src/main/res/values-fr-rCA/strings.xml
4	0	library/ui/src/main/res/values-fr/strings.xml
4	0	library/ui/src/main/res/values-gl/strings.xml
4	0	library/ui/src/main/res/values-gu/strings.xml
4	0	library/ui/src/main/res/values-hi/strings.xml
4	0	library/ui/src/main/res/values-hr/strings.xml
4	0	library/ui/src/main/res/values-hu/strings.xml
4	0	library/ui/src/main/res/values-hy/strings.xml
4	0	library/ui/src/main/res/values-in/strings.xml
4	0	library/ui/src/main/res/values-is/strings.xml
4	0	library/ui/src/main/res/values-it/strings.xml
4	0	library/ui/src/main/res/values-iw/strings.xml
4	0	library/ui/src/main/res/values-ja/strings.xml
4	0	library/ui/src/main/res/values-ka/strings.xml
4	0	library/ui/src/main/res/values-kk/strings.xml
4	0	library/ui/src/main/res/values-km/strings.xml
4	0	library/ui/src/main/res/values-kn/strings.xml
4	0	library/ui/src/main/res/values-ko/strings.xml
4	0	library/ui/src/main/res/values-ky/strings.xml
4	0	library/ui/src/main/res/values-lo/strings.xml
4	0	library/ui/src/main/res/values-lt/strings.xml
4	0	library/ui/src/main/res/values-lv/strings.xml
4	0	library/ui/src/main/res/values-mk/strings.xml
4	0	library/ui/src/main/res/values-ml/strings.xml
4	0	library/ui/src/main/res/values-mn/strings.xml
4	0	library/ui/src/main/res/values-mr/strings.xml
4	0	library/ui/src/main/res/values-ms/strings.xml
4	0	library/ui/src/main/res/values-my/strings.xml
4	0	library/ui/src/main/res/values-nb/strings.xml
4	0	library/ui/src/main/res/values-ne/strings.xml
4	0	library/ui/src/main/res/values-nl/strings.xml
4	0	library/ui/src/main/res/values-pa/strings.xml
4	0	library/ui/src/main/res/values-pl/strings.xml
4	0	library/ui/src/main/res/values-pt-rPT/strings.xml
4	0	library/ui/src/main/res/values-pt/strings.xml
4	0	library/ui/src/main/res/values-ro/strings.xml
4	0	library/ui/src/main/res/values-ru/strings.xml
4	0	library/ui/src/main/res/values-si/strings.xml
4	0	library/ui/src/main/res/values-sk/strings.xml
4	0	library/ui/src/main/res/values-sl/strings.xml
4	0	library/ui/src/main/res/values-sq/strings.xml
4	0	library/ui/src/main/res/values-sr/strings.xml
4	0	library/ui/src/main/res/values-sv/strings.xml
4	0	library/ui/src/main/res/values-sw/strings.xml
5	1	library/ui/src/main/res/values-ta/strings.xml
4	0	library/ui/src/main/res/values-te/strings.xml
4	0	library/ui/src/main/res/values-th/strings.xml
4	0	library/ui/src/main/res/values-tl/strings.xml
4	0	library/ui/src/main/res/values-tr/strings.xml
4	0	library/ui/src/main/res/values-uk/strings.xml
4	0	library/ui/src/main/res/values-ur/strings.xml
4	0	library/ui/src/main/res/values-uz/strings.xml
4	0	library/ui/src/main/res/values-vi/strings.xml
4	0	library/ui/src/main/res/values-zh-rCN/strings.xml
4	0	library/ui/src/main/res/values-zh-rHK/strings.xml
4	0	library/ui/src/main/res/values-zh-rTW/strings.xml
4	0	library/ui/src/main/res/values-zu/strings.xml

commit 3f565c33befdbd260958b0a0eb1e2d9468efaf82
Author: olly <olly@google.com>
Date:   2019-04-09 20:03:32 +0100

    Simplify offline Requirements
    
    - Remove NETWORK_TYPE_NOT_ROAMING and NETWORK_TYPE_METERED
      because JobScheduler doesn't support them, and they're
      probably not useful to many people (data when roaming is
      normally enabled/disabled at the OS level, and restricting
      to *only* metered networks seems niche)
    - Convert network requirements proper flags
    - Stop persisting requirements in DownloadIndex. The direction
      we're headed to solve the manager start/stop problem is
      going to involve state in DownloadManager determining whether
      downloads actually start, and if we're doing that then it's
      no worse to do it for this as well
    
    PiperOrigin-RevId: 242713196

4	12	extensions/jobdispatcher/src/main/java/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.java
10	8	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndexUtil.java
5	5	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
8	16	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadState.java
4	29	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java
57	140	library/core/src/main/java/com/google/android/exoplayer2/scheduler/Requirements.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
0	7	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateBuilder.java
17	27	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java

commit 9e6f9ee9dd090aac086f246e59c736e6155c1353
Author: tonihei <tonihei@google.com>
Date:   2019-04-09 18:12:07 +0100

    Remove DataSpec self-links.
    
    We usually avoid linking to the same page. Replacing all {@link DataSpec}
    with just "data spec" accordingly.
    
    PiperOrigin-RevId: 242689537

14	16	library/core/src/main/java/com/google/android/exoplayer2/upstream/DataSpec.java

commit 9779b34885eeb9df3d50afc2fc18ac33c243e39d
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-09 17:56:55 +0100

    Fix Parcelable.Creator#newArray implementations
    
    PiperOrigin-RevId: 242686312

12	12	library/core/src/main/java/com/google/android/exoplayer2/metadata/Metadata.java
12	12	library/core/src/main/java/com/google/android/exoplayer2/video/ColorInfo.java

commit d3b63a97ad731a66c4629083fa97bfbe774fb654
Author: olly <olly@google.com>
Date:   2019-04-09 13:06:06 +0100

    Remove DownloadAction serialization
    
    Implement Parcelable instead, which is a more intented way of
    passing structured data via Intents.
    
    PiperOrigin-RevId: 242646441

2	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
87	14	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFile.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
59	161	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadAction.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
20	25	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndexUtil.java
6	16	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
37	1	library/core/src/main/java/com/google/android/exoplayer2/offline/StreamKey.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactoryTest.java
22	197	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadActionTest.java
9	9	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadIndexUtilTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
1	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateBuilder.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java
41	0	library/core/src/test/java/com/google/android/exoplayer2/offline/StreamKeyTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloaderTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
1	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloaderTest.java
1	1	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloaderTest.java

commit 14d40b0faf3f6e0313eed4bcd0d1cb11f4b6ed05
Author: tonihei <tonihei@google.com>
Date:   2019-04-09 10:46:17 +0100

    Fix test which is relying on wrong Robolectric behavior.
    
    Robolectric calls messages posted to the main thread immediately inline. This
    will change in the upcoming release and will break tests implicitly relying
    on that behavior.
    
    Update ConcatenatingMediaSourceTest to actually wait for the posted message.
    
    PiperOrigin-RevId: 242631531

81	33	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java

commit 18dcad9b8d825ed1afe56985b3ea065376c20989
Author: olly <olly@google.com>
Date:   2019-04-09 00:26:07 +0100

    Simplify DownloadState to contain its DownloadAction
    
    This makes sense now that DownloadAction is only for downloading,
    and not also for removal.
    
    PiperOrigin-RevId: 242561575

2	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoDownloadService.java
9	14	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
61	59	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
28	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadAction.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndexUtil.java
11	27	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
17	67	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadState.java
6	11	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadIndexUtilTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
11	17	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateBuilder.java
12	17	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java
2	6	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit 73acdcf1e295af3fa83c7fde3d1cd6678996b446
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-08 17:28:18 +0100

    Add a flag to enable the preemptive 608 track in HLS
    
    By passing false, users can disable the preemptive 608 track.
    
    Issue:#5736
    PiperOrigin-RevId: 242476274

27	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/DefaultHlsExtractorFactory.java

commit 9a03e73b7a6f0d80f48e5f3b5d35d839192db502
Author: olly <olly@google.com>
Date:   2019-04-08 16:13:46 +0100

    Remove ActionFile serialization, which is no longer used
    
    PiperOrigin-RevId: 242465135

1	26	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFile.java
-	-	library/core/src/test/assets/offline/action_file_for_download_index_upgrade.exi
-	-	library/core/src/test/assets/offline/action_file_incomplete_header.exi
0	0	library/core/src/test/assets/offline/action_file_no_data.exi
-	-	library/core/src/test/assets/offline/action_file_one_action.exi
-	-	library/core/src/test/assets/offline/action_file_two_actions.exi
-	-	library/core/src/test/assets/offline/action_file_unsupported_version.exi
-	-	library/core/src/test/assets/offline/action_file_zero_actions.exi
40	81	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileTest.java
22	14	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadIndexUtilTest.java

commit e7d717b96c8530fb7d78b09304e44e262a050859
Author: olly <olly@google.com>
Date:   2019-04-08 15:41:20 +0100

    Sanitize naming of keys variable.
    
    PiperOrigin-RevId: 242460786

1	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactory.java
20	28	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadAction.java
3	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadState.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
2	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadIndexUtilTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateBuilder.java

commit a0c21461aaa8823a101f753bc465e4696a4578a1
Author: olly <olly@google.com>
Date:   2019-04-08 15:40:49 +0100

    Ensure getAllDownloadStates order is stable
    
    HashMap.values does not guarantee a stable order, but our tests
    assert that the order is stable. It's probably a nice property
    that the order is the same as that in which downloads are added,
    so this change makes the order stable, with that order.
    
    A future change will likely improve the way this works, by
    changing the internal thread "downloads" variable to have type
    ArrayList<Download>, at which point the internal thread can just
    pass a read-only copy of its list to the main thread whenever a
    state changes.
    
    PiperOrigin-RevId: 242460725

21	10	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 8b766ba4b8a8ac1eeaf853877372efbab87e95d4
Author: bachinger <bachinger@google.com>
Date:   2019-04-08 15:31:36 +0100

    Use FLAG_UPDATE_CURRENT for PendingIntents of playback commands.
    
    ISSUE: #5734
    PiperOrigin-RevId: 242459668

1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 47601980d95d7748c053cfd9bb6abcd6e8240591
Author: olly <olly@google.com>
Date:   2019-04-08 15:15:11 +0100

    Use DownloadAction.id properly
    
    - Fix ID being dropped when DownloadAction is serialized and
      de-serialized as it's passed to DownloadService
    - Properly set DownloadAction.id when building an action from
      a DownloadState
    - Make ID a required constructor argument. Else it's too easy
      to not propagate it by accident.
    
    PiperOrigin-RevId: 242457831

7	23	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadAction.java
4	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileTest.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactoryTest.java
17	10	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadActionTest.java
5	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadIndexUtilTest.java
3	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java
1	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloaderTest.java
6	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
6	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
1	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloaderTest.java
1	0	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloaderTest.java

commit 401e20d9c8caf5f96e4ff2651cd14f46f1c35517
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-08 14:46:02 +0100

    Signal fallback via renderer constructor
    
    Remove MediaCodecSelector.DEFAULT_WITH_FALLBACK, as codec selectors
    will need to be able to return a list of decoder infos even when not
    using fallback in a later change. Instead signal that fallback should
    be used via a renderer constructor.
    
    Fallback is always disabled for audio.
    
    PiperOrigin-RevId: 242454172

3	0	RELEASENOTES.md
1	0	library/core/src/main/java/com/google/android/exoplayer2/audio/MediaCodecAudioRenderer.java
15	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
0	27	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecSelector.java
51	3	library/core/src/main/java/com/google/android/exoplayer2/video/MediaCodecVideoRenderer.java

commit baf00406c029a9129d98127a1a137ad40e0870c0
Author: bachinger <bachinger@google.com>
Date:   2019-04-08 14:34:57 +0100

    Provide option to include next/prev button in lock screen/compact mode.
    
    Issue: #5616
    PiperOrigin-RevId: 242452686

2	0	RELEASENOTES.md
45	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit a6d52d4ae723e3ee87bd3a4bc25412c16fc22c05
Author: tonihei <tonihei@google.com>
Date:   2019-04-08 14:07:03 +0100

    Update initial bitrate estimates.
    
    PiperOrigin-RevId: 242449883

176	175	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeter.java

commit 2d7b9d876f8b01b26eaa97cad1ff68c58ba3d1cc
Author: tonihei <tonihei@google.com>
Date:   2019-04-08 14:00:25 +0100

    Allow ContainerMediaChunks to provide their own TrackOutputProvider.
    
    Adding a protected method for that allows to supply a customized
    TrackOutputProvider to the ExtractorWrapper used by the ContainerMediaChunk
    (e.g. for logging purposes).
    
    The alternative would be to provide a  TrackOutputProvider through the
    ChunkSampleStream constructor, but the extra initialization taking place
    in the ChunkSampleStream constructor would need to move somewhere else and
    some methods of BaseMediaChunkOutput would need to move to the
    TrackOutputProvider interface. This seems too much effort for niche
    customization case.
    
    PiperOrigin-RevId: 242448776

14	1	library/core/src/main/java/com/google/android/exoplayer2/source/chunk/ContainerMediaChunk.java

commit 66e416b61537ab7af0891c4ecb0b1674eacd7be3
Author: olly <olly@google.com>
Date:   2019-04-08 13:20:03 +0100

    Fix bug when caching from non-zero position
    
    The position should be subtracted from the total content length
    retrieved from the cache in this case, both for iteration and for
    filling out counters.contentLength (for the latter, note not
    doing it this way is inconsistent with what happens when dataSpec
    length is set to a known value).
    
    PiperOrigin-RevId: 242445034

46	33	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java
18	0	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheUtilTest.java

commit 0daaba443c3347068db8ac7a868ed69928263093
Author: olly <olly@google.com>
Date:   2019-04-08 13:10:13 +0100

    Get rid of DownloadState.STATE_REMOVED
    
    It's a transient state whose only use is when passing a removed
    download to onDownloadStateChanged. It's a bit strange to have it
    as a proper state, since we end up asserting that it's an invalid
    value in other places.
    
    This change adds an explicit onDownloadRemoved, which allows
    removal of the transient STATE_REMOVED, related assertions, and
    uncertainty when dealing with an @State variable whether it's
    necessary to handle it being STATE_REMOVED.
    
    PiperOrigin-RevId: 242444128

11	6	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
0	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
44	27	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
23	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
3	7	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadState.java
5	4	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
1	2	library/ui/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationHelper.java
20	1	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit 925dd5aa122cc8f1c6cdbb026a0d8f7e463b0238
Author: olly <olly@google.com>
Date:   2019-04-08 12:21:23 +0100

    Fix most remaining issues with DownloadManager threading
    
    PiperOrigin-RevId: 242439330

193	115	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit c17c7221589b502a53ccdfcddaa38a46e9b1eecc
Author: eguven <eguven@google.com>
Date:   2019-04-08 12:00:48 +0100

    Make DataIndex accessing code run on internal thread
    
    This is the last cl of a series of cls that will convert DownloadManager
    threading model as public methods post actions on an internal thread
    which then do the work.
    
    PiperOrigin-RevId: 242437229

126	101	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 55154ad475eb3f498fcf31a7430bf6354b526fdb
Author: Matthias Tamegger <matthias.tamegger@bitmovin.com>
Date:   2019-04-12 10:49:48 +0200

    Allow hex format tags when parsing url templates

1	1	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/UrlTemplate.java

commit 312914e4e0312bd6f2e84651a9b4bb58b2194d3a
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 17:40:24 +0100

    Update exo_sdk base URL

1	1	_config.yml

commit a2ce834caef01c4347a979a36aa323ad7f10fa92
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:46:06 +0100

    Create CNAME

1	0	CNAME

commit d99327ca61e9f77cb9268efca1bb11ad1310dda0
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:44:47 +0100

    Change baseurl to reflect new top-level domain.

1	1	_config.yml

commit 23c966d649cbd4f3670231b6b9c446f873bc7e4b
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:28:43 +0100

    Delete CNAME

0	1	CNAME

commit 85dfe8caa29adb29852acf9ebd13a4710f2ff2a9
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:28:06 +0100

    Create CNAME

1	0	CNAME

commit a00d6bf9162183e21eef0f0d1f86ab2fb26f4320
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:25:14 +0100

    Delete CNAME

0	1	CNAME

commit 5fa21762c42fefe9df2e26a6e98d5ad3e30e5d07
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:24:39 +0100

    Create CNAME

1	0	CNAME

commit e9ed31e134d0884ef30e51e83f5e8fdea8c64df3
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:20:26 +0100

    Delete CNAME

0	1	CNAME

commit b98bc055bb18ed4e7622ad94fcf8ff63d137a934
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:18:57 +0100

    Create CNAME

1	0	CNAME

commit 97ef87c098d00432a5595b04560d7a1aa558bb9a
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:15:02 +0100

    Delete CNAME

0	1	CNAME

commit 70073ce32d0dd99f6961829db96e26196b4ce0c1
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:14:51 +0100

    Create CNAME

1	0	CNAME

commit abda183cb8c45b7cde80dbb7f83b61e76c3f9544
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:07:22 +0100

    Delete CNAME

0	1	CNAME

commit d83908fc6e682003110973030a50b1908e782e4c
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-10 16:05:54 +0100

    Create CNAME

1	0	CNAME

commit 70530cd1e6000ceb3b99dfaf84bfb6de0cce7943
Author: toxicbakery <toxicbakery@gmail.com>
Date:   2019-04-04 15:39:19 -0400

    #5731 Add license information to generated POM files

1	0	build.gradle
32	0	publish.gradle

commit 3169b140fc5cceba848fa1bd6a103645e873c115
Author: vigneshv <vigneshv@google.com>
Date:   2019-04-05 20:21:33 +0100

    vp9_extension: Use the vp9_codec_control macro
    
    This is part of the public API and the underscored versions
    weren't intended to be used outside the library.
    
    Also updating the external instructions to checkout the version
    of libvpx that supports this macro for this particular constant.
    
    #codehealth
    
    PiperOrigin-RevId: 242170926

1	1	extensions/vp9/README.md
3	4	extensions/vp9/src/main/jni/vpx_jni.cc

commit be61715517a21b1114cf7deaed647aecd4bdd20d
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-05 14:00:34 +0100

    Fix Cast demo app
    
    Broken in https://github.com/google/ExoPlayer/commit/399aa706a7e570e8ed7ca93b54beaae6ee3dac91
    
    PiperOrigin-RevId: 242112068

1	1	demos/cast/src/main/res/layout/main_activity.xml

commit 346c72c00e3af146f5f445fc18cad61eeec82e72
Author: tonihei <tonihei@google.com>
Date:   2019-04-05 11:12:56 +0100

    Move PriorityTaskManager from DefaultLoadControl to SimpleExoPlayer.
    
    The priority task manager only needs to listen to loading state changes and
    is independent of the rest of DefaultLoadControl. This also fixes problems
    where the player stops loading without consultin the LoadControl.
    
    PiperOrigin-RevId: 242098374

1	0	RELEASENOTES.md
0	56	library/core/src/main/java/com/google/android/exoplayer2/DefaultLoadControl.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
51	1	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java
0	19	library/core/src/main/java/com/google/android/exoplayer2/trackselection/BufferSizeAdaptationBuilder.java

commit d6244773eceb1591b09e2d776f42770e87adbbfd
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-05 10:29:48 +0100

    Add back missing libvpx build instructions
    
    PiperOrigin-RevId: 242094027

20	0	extensions/vp9/README.md

commit 9471d61183fa5f1ddadeaf031cf890e777880a8f
Author: olly <olly@google.com>
Date:   2019-04-03 22:56:06 +0100

    Fix ExoPlayer's demo app
    
    PiperOrigin-RevId: 241811732

1	1	demos/main/src/main/res/layout/track_selection_dialog.xml

commit 37bab0a98de45a9ad3bacf96cb83dc21a7b03c30
Author: eguven <eguven@google.com>
Date:   2019-04-03 19:41:22 +0100

    Temporally make DataIndex accessing code run on main thread
    
    This is the second cl of a series of cls that will convert DownloadManager
    threading model as public methods post actions on an internal thread
    which then do the work.
    
    PiperOrigin-RevId: 241773765

91	178	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 9c0819001dc111dfc840ee28537e16625ee762f3
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-03 19:26:17 +0100

    Fix ExoPlayer's demo app gradle build
    
    Broken by https://github.com/google/ExoPlayer/commit/399aa706a7e570e8ed7ca93b54beaae6ee3dac91.
    
    PiperOrigin-RevId: 241770676

1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java

commit 27884c70f88ea18a11678b4ec40f105e743ff5d2
Author: eguven <eguven@google.com>
Date:   2019-04-03 18:52:03 +0100

    Make DownloadState counters mutable
    
    PiperOrigin-RevId: 241763220

10	7	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
10	23	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
41	25	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadState.java
7	8	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
8	14	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateBuilder.java
3	3	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java
4	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/DownloadNotificationHelper.java

commit b10f4023f09193f2e68ff76b29ef061f4aefe0a1
Author: bachinger <bachinger@google.com>
Date:   2019-04-03 18:46:57 +0100

    handle meta atom as a full box when parsing mp4
    
    Issues: #5698, #5694
    PiperOrigin-RevId: 241762106

3	0	RELEASENOTES.md
29	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java

commit 95f65e5258007057b1c5cb893c9fb6aa47798f7d
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-03 11:19:50 +0100

    Add abstract superclass for Crypto resources
    
    Necessary for implementing scheme-independant resource management.
    
    Example: A media source needs to have ownership of a crypto resource
    while samples are in buffer (but not yet in the renderer).
    PiperOrigin-RevId: 241698575

70	0	library/core/src/main/java/com/google/android/exoplayer2/drm/CryptoResource.java

commit 399aa706a7e570e8ed7ca93b54beaae6ee3dac91
Author: olly <olly@google.com>
Date:   2019-04-03 04:29:19 +0100

    Remove usages of the widget package and migrate to new packages.
    
    PiperOrigin-RevId: 241656157

1	1	demos/cast/src/main/res/layout/main_activity.xml
1	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java
1	1	demos/main/src/main/res/layout/track_selection_dialog.xml

commit 8480a4b44d37f442282c141a5ce5ffd12a076f08
Author: eguven <eguven@google.com>
Date:   2019-04-03 01:24:07 +0100

    Add Downloader.getCounters method
    
    PiperOrigin-RevId: 241636860

4	0	library/core/src/main/java/com/google/android/exoplayer2/offline/Downloader.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/offline/ProgressiveDownloader.java
5	0	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java
6	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit ee7bf4b0ee5729e2f6200cc60b610def02af6497
Author: olly <olly@google.com>
Date:   2019-04-02 17:42:06 +0100

    Make callback Handler instantiation consistent
    
    Most of our components that have Handler instances for calling
    back to application code instantiate the Handler using Util.getLooper
    in the constructor. This makes the two components that do
    something else consistent with that model.
    
    PiperOrigin-RevId: 241545575

3	6	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
5	7	library/core/src/main/java/com/google/android/exoplayer2/scheduler/RequirementsWatcher.java

commit 7c265dfb3a1d485ab794823f3e2a7344b20b5a47
Author: olly <olly@google.com>
Date:   2019-04-02 17:36:52 +0100

    Detect external surround sound on Amazon devices
    
    PiperOrigin-RevId: 241544595

37	3	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioCapabilities.java
69	28	library/core/src/main/java/com/google/android/exoplayer2/audio/AudioCapabilitiesReceiver.java

commit 9b064fb9d5aaba215e6beafc3e3b5e09f301f88a
Author: eguven <eguven@google.com>
Date:   2019-04-02 17:30:24 +0100

    Use CachingCounters in SegmentDownloader
    
    PiperOrigin-RevId: 241543543

24	20	library/core/src/main/java/com/google/android/exoplayer2/offline/SegmentDownloader.java

commit d5b19694faca3ecb73c40601760ddcac564f4615
Author: eguven <eguven@google.com>
Date:   2019-04-02 15:34:18 +0100

    Add percentage field to CacheUtil.CachingCounters
    
    PiperOrigin-RevId: 241524766

1	4	library/core/src/main/java/com/google/android/exoplayer2/offline/ProgressiveDownloader.java
14	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheUtil.java

commit 9aacef47ad1690bf4660133aab172c7fe136e03c
Author: olly <olly@google.com>
Date:   2019-04-02 15:23:38 +0100

    Allow TrackSelectionDialog to indicate whether it has any content
    
    PiperOrigin-RevId: 241523313

24	14	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
8	5	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
99	52	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java

commit 42b641221c9cb72c5058769bf84d7e7583fd50ea
Author: olly <olly@google.com>
Date:   2019-04-02 11:37:57 +0100

    Provide flag to disable throwing of cache initialization exceptions
    
    PiperOrigin-RevId: 241497141

12	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit 644e056017e810a8f4c83e4704a370c097229b28
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-02 09:39:39 +0100

    Delete CNAME

0	1	CNAME

commit c07c347a2857ca7329012984a9597710efee1213
Author: tonihei <tonihei@users.noreply.github.com>
Date:   2019-04-02 09:39:15 +0100

    Create CNAME

1	0	CNAME

commit 9dc22c3086590bd36f67ec2c6ced0b1d2f7b4865
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-04-01 20:55:48 +0100

    Enable HDMV DTS stream detection if a flag is set
    
    Issue: #5330
    PiperOrigin-RevId: 241381723

4	0	RELEASENOTES.md
7	7	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/DefaultTsPayloadReaderFactory.java

commit 2dc07fc4614244788f515be17d0cc919ed2829c7
Author: bachinger <bachinger@google.com>
Date:   2019-04-01 19:08:17 +0100

    assert userAgent is not empty when constructing a DefaultHttpDataSourceFactory
    
    Issue: #5706
    PiperOrigin-RevId: 241360166

2	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultHttpDataSourceFactory.java

commit e8b0d489eb8c67a5846142d34f1b54a3984f2b67
Author: olly <olly@google.com>
Date:   2019-04-01 19:05:13 +0100

    Rename Lib Opus in ExoV2 to avoid the namespace collision between ExoV1 and ExoV2's version of libopusJNI.so
    
    PiperOrigin-RevId: 241359424

1	1	extensions/opus/src/main/java/com/google/android/exoplayer2/ext/opus/OpusLibrary.java
2	2	extensions/opus/src/main/jni/Android.mk

commit e612511afc2cf99b0979ac358edf9d523bca1ab6
Author: bachinger <bachinger@google.com>
Date:   2019-04-01 16:26:29 +0100

    take byte offset into account when unsynchronizing an id3 frame
    
    Issue #5673
    
    PiperOrigin-RevId: 241328598

2	1	RELEASENOTES.md
4	2	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/Id3Decoder.java

commit 5fd4fddfacd5af99fb39c47f220e85742deefb6b
Author: tonihei <tonihei@google.com>
Date:   2019-04-01 15:45:02 +0100

    Use system Locale language to select audio track.
    
    If no track matches the preferred language or no preferred language is provided,
    use the system Locale language as the next decision criterion.
    
    PiperOrigin-RevId: 241322703

1	0	RELEASENOTES.md
56	25	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
45	3	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java

commit 129a64c477398517ac0bc4b21dfbf63066224123
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-04-01 14:22:24 +0100

    Use getItemIds to get the actual size of the Cast media queue
    
    Issue:#4964
    PiperOrigin-RevId: 241311763

2	0	RELEASENOTES.md
3	1	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastPlayer.java
61	24	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimeline.java
56	25	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastTimelineTracker.java
5	3	extensions/cast/src/main/java/com/google/android/exoplayer2/ext/cast/CastUtils.java
65	67	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastTimelineTrackerTest.java

commit 334da7deb9a8b57ae7e8adc13415aa862ae7d1cf
Merge: 592b5eafe fd4998bcc
Author: Oliver Woodman <olly@google.com>
Date:   2019-04-01 20:31:39 +0100

    Merge pull request #5390 from zsmatyas:dev-v2
    
    PiperOrigin-RevId: 241308265

commit 592b5eafee3613646f0a8e6bfffd3eec6beef5a4
Author: olly <olly@google.com>
Date:   2019-03-31 23:40:58 +0100

    Support multiple CC channels in DASH
    
    Issue: #5656
    PiperOrigin-RevId: 241235377

4	1	RELEASENOTES.md
5	5	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashChunkSource.java
130	55	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DashMediaPeriod.java
9	17	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/DefaultDashChunkSource.java

commit 5db33deef4aaff76ec22c41390e738e63a5ae6c7
Author: olly <olly@google.com>
Date:   2019-03-29 16:10:03 +0000

    HLS: Fix playlist tracker bundle lookup
    
    As of https://github.com/google/ExoPlayer/commit/99f89132c219b52b991b4614322fa7af6208c906 an identity check isn't sufficient for the lookup.
    
    PiperOrigin-RevId: 240989848

3	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java

commit 99f89132c219b52b991b4614322fa7af6208c906
Author: olly <olly@google.com>
Date:   2019-03-29 13:48:17 +0000

    Remove HlsUrl and introduce HlsMasterPlaylist.mediaPlaylistUrls
    
    - This removes the need for Variant and Rendition to have a common
      base class, allowing the url field to be marked as @Nullable in
      Rendition but not in Variant.
    - The addition of mediaPlaylistUrls is needed for the new StreamKey
      indexing for HLS. It's also convenient in a couple of places (e.g.
      HlsDownloader), where a list of all media playlist URLs is needed.
    - Lots of places where HlsUrl was passed only needed the actual
      URL (not the Format, which is the other piece of HlsUrl). Passing
      just the URL is a little simpler, and resolves some of the naming
      confusion.
    
    Issue: #5596
    Issue: #2600
    PiperOrigin-RevId: 240970466

47	41	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java
14	12	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java
35	26	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
7	9	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
4	7	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloader.java
60	52	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
53	25	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
17	19	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.java
1	1	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 2623b4b3820251409d0bf17f8fe64923864087dd
Author: olly <olly@google.com>
Date:   2019-03-29 13:13:24 +0000

    Pre-resolve HlsUrl urls
    
    This is to make it possible to use equality of HlsUrl.url fields
    to determine whether two HlsUrls point at the same media playlist.
    This doesn't work currently because it's possible to mix absolute
    and relative urls, which will not be equal until after the relative
    url is resolved against the playlist baseUrl.
    
    Issue: #5596
    Issue: #2600
    PiperOrigin-RevId: 240966503

7	10	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloader.java
1	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
8	9	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
5	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
4	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistTracker.java
7	8	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java
8	6	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 32924e3f178cd76dbf0ccbe1202618d10701fffb
Author: tonihei <tonihei@google.com>
Date:   2019-03-28 17:30:25 +0000

    Use role flags in DefaultTrackNameProvider.
    
    Also make combination of language and role flags the default over the label,
    as it's more readable and auto-translated into other languages.
    
    PiperOrigin-RevId: 240801070

35	12	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTrackNameProvider.java
8	0	library/ui/src/main/res/values/strings.xml

commit 28ea31cd4c0e973b34c312478ed84241a90a38d2
Author: tonihei <tonihei@google.com>
Date:   2019-03-28 15:12:58 +0000

    Use Closeable interface for DownloadStateCursor to simplify closing.
    
    PiperOrigin-RevId: 240775823

1	3	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
7	13	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
6	4	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadStateCursor.java

commit e8cf67c0cdf17fe0ee2c96b76b12e84a31962d5b
Author: tonihei <tonihei@google.com>
Date:   2019-03-28 14:58:49 +0000

    Allow simplified custom adaptive track selection factories.
    
    Custom factories currently need to copy most of the code in the
    AdaptiveTrackSelection.Factory to make use of the same functionality.
    Simplify this by allowing to overwrite the factory.
    
    PiperOrigin-RevId: 240773271

29	24	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java

commit bb48dc99169d18467e00f3aa46f84faf85e82133
Author: tonihei <tonihei@google.com>
Date:   2019-03-28 14:23:20 +0000

    Close cursor in DownloadManager.
    
    Not closing the cursor crashes the demo app when in run in StrictMode.
    
    PiperOrigin-RevId: 240768493

6	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit b1a13f96513b01a3b81816ca7b07d7305f47418d
Author: eguven <eguven@google.com>
Date:   2019-03-28 10:32:42 +0000

    Create internal methods that will run on internal thread
    
    This is the first of a series of cls that will convert DownloadManager
    threading model as public methods post actions on an internal thread
    which then do the work.
    
    PiperOrigin-RevId: 240743400

103	85	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit 62f719f3ee0a2fb883f775fd73dc8159f665dd4a
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-28 10:20:33 +0000

    Remove some long-deprecated DefaultDrmSessionManager constructors
    
    PiperOrigin-RevId: 240742207

0	128	library/core/src/main/java/com/google/android/exoplayer2/drm/DefaultDrmSessionManager.java

commit 0810fe9159fe4d11e18b8513007c6415aed85533
Author: olly <olly@google.com>
Date:   2019-03-27 20:08:24 +0000

    Remove "variant" terminology from HlsChunkSource
    
    HlsChunkSource may also be downloading segments from demuxed
    renditions, which are not variants.
    
    PiperOrigin-RevId: 240625139

51	51	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsChunkSource.java

commit 65bab95f72bfbe2c36d44c4f4cb8f66e4432de82
Author: olly <olly@google.com>
Date:   2019-03-27 20:01:06 +0000

    Add video and closed caption renditions to HlsMasterPlaylist
    
    Still skipping any renditions that have a null URL, which means that
    closedCaptions in particular is always empty. This restriction will
    be removed in a subsequent change, which will also remove muxedAudioFormat
    and muxedAudioCaptions from HlsMasterPlaylist and instead derive them
    from the Variant and Rendition information in HlsMediaPeriod.
    
    Issue: #5596
    Issue: #2600
    PiperOrigin-RevId: 240623500

3	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
46	17	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
88	29	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
2	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java
4	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylistParserTest.java

commit 6e6df6a2f014956b8c8b2e877e3e6335e2d2ec5b
Author: olly <olly@google.com>
Date:   2019-03-27 15:42:31 +0000

    Improve DownloadService notification documentation
    
    The one functional change here is to require subclasses to implement getForegroundNotification. It seems easier and less error prone to
    force developers to implement it than it does to document the cases
    in which they need to override it (which is most cases).
    
    PiperOrigin-RevId: 240566737

50	48	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
16	16	library/core/src/main/java/com/google/android/exoplayer2/util/NotificationUtil.java
7	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java

commit facd32e65ebbb0dd65d5f45ea4247360c8ad53c8
Author: eguven <eguven@google.com>
Date:   2019-03-27 14:53:14 +0000

    Remove DownloadAction.createRemoveAction
    
    PiperOrigin-RevId: 240557315

10	3	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFile.java
24	56	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadAction.java
13	12	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
7	4	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
10	17	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadState.java
52	68	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadActionTest.java
0	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
0	5	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadIndexUtilTest.java
36	94	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
0	49	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java
2	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloadTestData.java
8	20	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
16	24	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
37	0	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit d4f5c9c721d5bba4a35c8c979633d2b7ddeb6148
Author: eguven <eguven@google.com>
Date:   2019-03-26 22:45:03 +0000

    Remove DownloadHelper.getRemoveAction
    
    PiperOrigin-RevId: 240444051

6	5	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
0	9	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
0	11	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java

commit 9d99f92146edb950835e2995138246bf245d8ca5
Author: olly <olly@google.com>
Date:   2019-03-26 22:27:40 +0000

    Improve DownloadService action documentation
    
    PiperOrigin-RevId: 240440477

97	46	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java

commit e3a8429ee299c2aea275e587c6286b0bdf894745
Author: olly <olly@google.com>
Date:   2019-03-26 20:49:36 +0000

    More faithfully parse content of HLS master playlists
    
    - Split HlsUrl into Rendition and Variant
    - Add Rendition/Variant specific information to the new types
    
    Issue: #5596
    PiperOrigin-RevId: 240419763

4	3	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
2	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloader.java
2	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/DefaultHlsPlaylistTracker.java
90	38	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
31	14	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
34	27	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java
4	4	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit ae5e5f7efc41d94261a35e3ffad428270c09bc87
Author: eguven <eguven@google.com>
Date:   2019-03-26 17:31:28 +0000

    Stop using remove DownloadActions in DownloadManager
    
    PiperOrigin-RevId: 240376409

27	29	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
0	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java

commit 709a712a5f1e1897c056ec0b1112e34d6fd679b8
Author: eguven <eguven@google.com>
Date:   2019-03-26 16:31:15 +0000

    DownloadAction custom id
    
    PiperOrigin-RevId: 240363716

33	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadAction.java

commit 30d66f50315ec0ac972b1cccadccfd0b26e48695
Author: olly <olly@google.com>
Date:   2019-03-26 15:06:19 +0000

    Rollback of https://github.com/google/ExoPlayer/commit/be69d5b747ca1f12129ac061cbb259ec45470ef8
    
    Issue: #5596
    
    This arguably made a worse problem than it solved, and also I think subtly broken HLS
    downloads by changing which renditions HlsMasterPlaylist.copy would retain in some
    cases. Reverting as a mini step toward removing smart logic from the HLS playlist parser.
    
    *** Original commit ***
    
    Expand check for muxed audio media tags to include uris that match variants
    
    Issue:#5313
    
    ***
    
    PiperOrigin-RevId: 240348969

1	15	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
0	19	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java

commit 9220b18bdc4494f01b18958d963d49439581d9b2
Author: eguven <eguven@google.com>
Date:   2019-03-26 14:37:43 +0000

    Fix parameter order in JobDispatcherScheduler.schedule()
    
    Issue: #5613
    PiperOrigin-RevId: 240344666

4	4	extensions/jobdispatcher/src/main/java/com/google/android/exoplayer2/ext/jobdispatcher/JobDispatcherScheduler.java

commit 07e3509dd9e4fbf2077a8cf3222efe68b73d00c2
Author: olly <olly@google.com>
Date:   2019-03-26 13:11:55 +0000

    Support providing all keys via EXT-X-SESSION-KEY tags
    
    PiperOrigin-RevId: 240333415

20	0	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmInitData.java
19	0	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
73	10	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
21	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaSource.java
30	11	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java
13	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
33	34	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
4	2	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java
4	2	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylistParserTest.java

commit c04f5b9c5d8378e184cd01116daf9b150621516e
Author: eguven <eguven@google.com>
Date:   2019-03-26 12:51:41 +0000

    Add DownloadManager.removeDownload method
    
    PiperOrigin-RevId: 240330799

86	28	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
47	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
20	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadState.java

commit 3919f3843d55197996784de3c060584122e28b34
Author: eguven <eguven@google.com>
Date:   2019-03-26 11:20:13 +0000

    Make DownloadManager use DownloadIndex
    
    PiperOrigin-RevId: 240320220

15	10	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java
26	56	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
194	129	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
8	8	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
5	6	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
5	9	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
31	1	testutils/src/main/java/com/google/android/exoplayer2/testutil/DummyMainThread.java

commit e4b49477ec74f83f0369e9d25cae8a46889f3361
Author: olly <olly@google.com>
Date:   2019-03-26 11:04:01 +0000

    Some nullability cleanup for HLS playlists
    
    PiperOrigin-RevId: 240318686

5	5	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylist.java

commit 679b628326ab128bc03ea15f6c157da76b2132a2
Author: tonihei <tonihei@google.com>
Date:   2019-03-25 16:03:33 +0000

    Add experimental option for multiple parallel adaptive track selections.
    
    If enabled, DefaultTrackSelector returns multiple groups with more than one
    track. AdaptiveTrackSelection then decides on the order in which the tracks
    are changed such that the BandwidthProvider for each selection can figure out
    the allocated bandwidth.
    
    PiperOrigin-RevId: 240150206

169	5	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
14	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit 32347362f452c83d28021a92b578d15f6666dc23
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-25 14:18:09 +0000

    Select text track matching selected audio language when selecting forced text tracks
    
    PiperOrigin-RevId: 240133676

27	8	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
50	1	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java

commit e91eec7cf8e482e52227ed6f26ebc20fa758f227
Author: olly <olly@google.com>
Date:   2019-03-25 12:30:30 +0000

    Make DownloadThread extend Thread
    
    PiperOrigin-RevId: 240120782

3	5	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java

commit b0bb6ec8a5b5ba0e4645244fa517830264f66b80
Author: tonihei <tonihei@google.com>
Date:   2019-03-25 11:35:44 +0000

    Allow to set selection reason and data when specifying an override.
    
    It's currently very difficult to actually set a reason for track selection
    triggered by a SelectionOverride. It would require creating a new custom
    TrackSelection.Factory where the reason gets injected somehow before the
    override is specified on the player.
    
    Simplify this whole procedure by allowing to set the reason directly and
    forward this reason to all fixed selections created based on this override.
    
    PiperOrigin-RevId: 240114942

1	0	RELEASENOTES.md
3	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelection.java
29	3	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
16	0	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelection.java
3	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionUtil.java

commit 6f9d33dbd3be68a31ce32bc4d04594d1aafbdbf8
Author: eguven <eguven@google.com>
Date:   2019-03-25 10:37:35 +0000

    Add DefaultDownloadIndex setManualStopReason variant for single download
    
    PiperOrigin-RevId: 240108843

25	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
54	1	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java

commit afd9014b823a3ff194a6f410cefe4bed53280693
Author: tonihei <tonihei@google.com>
Date:   2019-03-25 10:10:27 +0000

    Ignore AC-3 tracks with fscod=3.
    
    3 ("11") is the reserved code for fscod in AC3. The spec says that "If the
    reserved code is indicated, the decoder should not attempt to decode audio and
    should mute."
    
    We currently throw an exception as we try to access an array with an invalid
    index. Now ignoring the track instead by invalidating the format.
    
    Issue:#5638
    PiperOrigin-RevId: 240106255

12	5	library/core/src/main/java/com/google/android/exoplayer2/audio/Ac3Util.java

commit 5da4c67c8ab3a657047b64aa8beef3213b7dd7cb
Merge: 77d597de5 55ed5cfac
Author: Toni <tonihei@google.com>
Date:   2019-03-26 10:40:14 +0000

    Merge pull request #5303 from DolbyLaboratories:dev-v2-ac4
    
    PiperOrigin-RevId: 239957730

commit 77d597de5f1565419ec9ec7ada0633379b15b1b3
Author: olly <olly@google.com>
Date:   2019-03-22 19:41:25 +0000

    Parse CHARACTERISTICS attribute for EXT-X-MEDIA tags
    
    PiperOrigin-RevId: 239844963

1	0	RELEASENOTES.md
20	10	library/core/src/main/java/com/google/android/exoplayer2/C.java
2	21	library/core/src/main/java/com/google/android/exoplayer2/Format.java
1	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
4	4	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
5	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
30	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
1	0	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java
1	0	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit cdd433acda1b8fd9f842f395473d71694f164418
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-22 16:43:19 +0000

    Disambiguate comment in Ac3Reader
    
    PiperOrigin-RevId: 239810798

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/ts/Ac3Reader.java

commit e5aed73fbaf9a30900dd9f13a714d288d8dc68a7
Author: tonihei <tonihei@google.com>
Date:   2019-03-22 13:13:34 +0000

    Switch format language tag to use full BCP 47 codes.
    
    This allows to distinguish between regional variants and scripts.
    
    We still need to normalize the language code itself to make track selection
    independent of the whether 2 or 3 letter codes are used.
    
    PiperOrigin-RevId: 239783115

1	0	RELEASENOTES.md
1	1	library/core/src/main/java/com/google/android/exoplayer2/Format.java
2	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
23	21	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/trackselection/TrackSelectionParameters.java
14	4	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
26	1	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java
1	1	library/ui/src/main/java/com/google/android/exoplayer2/ui/DefaultTrackNameProvider.java

commit 3543116da4486fd013229f762bf3ba86a30526e7
Author: tonihei <tonihei@google.com>
Date:   2019-03-21 16:04:48 +0000

    Prevent seeking when ICY metadata is present.
    
    Any seek map with non-zero offsets breaks playback with ICY metadata as
    the metadata is no longer read from the correct position.
    
    Issue:#5658
    PiperOrigin-RevId: 239605839

2	0	RELEASENOTES.md
2	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit b7299a1164c5358fcc8a8a09f2b7fc7465e41881
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-21 14:51:22 +0000

    DefaultTrackSelector: make audio track selections before text
    
    PiperOrigin-RevId: 239594105

25	21	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java

commit a989304a4d0f524fafcbc9919999b775d38eb7ad
Author: tonihei <tonihei@google.com>
Date:   2019-03-21 10:07:30 +0000

    Add missing thread verification to SimpleExoPlayer.release().
    
    This call also needs to be made from the right thread to prevent messages
    from getting lost and causing ANRs.
    
    PiperOrigin-RevId: 239564573

1	0	library/core/src/main/java/com/google/android/exoplayer2/SimpleExoPlayer.java

commit 68ef1d3e97cbb45a34c83d1faf787a7da0d9134b
Author: olly <olly@google.com>
Date:   2019-03-20 21:35:20 +0000

    Temporarily disable cache UID creation.
    
    PiperOrigin-RevId: 239476751

3	0	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/Cache.java
14	7	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit 3abf5ed1433f423118bab7aa486e685eb4a58f49
Author: olly <olly@google.com>
Date:   2019-03-20 17:50:23 +0000

    Automated g4 rollback of changelist 239294713.
    
    *** Reason for rollback ***
    
    Trying to forward fix instead.
    
    *** Original change description ***
    
    Automated g4 rollback of changelist 237051112.
    
    *** Original change description ***
    
    Add SimpleCache deletion functionality
    
    This is needed now that index data may be stored outside
    of the cache directory.
    
    ***
    
    ***
    
    PiperOrigin-RevId: 239429430

39	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
47	20	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
60	12	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit f7f500988378c4a854652fe3507dac6addb41134
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-20 15:40:58 +0000

    Add workaround for PlayReady issue with setMediaDrmSession
    
    PiperOrigin-RevId: 239403506

6	0	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit a86a9137be5f0ed89de3d68f4c4800a7753cc881
Merge: 448ca0cf7 d7c2519a5
Author: Oliver Woodman <olly@google.com>
Date:   2019-03-20 23:28:26 +0000

    Merge pull request #5578 from szaboa:dev-v2-5529
    
    PiperOrigin-RevId: 239398940

commit 448ca0cf7f7503e459ff7b428d1014bffc9bdc8a
Author: olly <olly@google.com>
Date:   2019-03-20 11:13:14 +0000

    Sanitize internal parameter ordering in Format
    
    This is a precursor to merging https://github.com/google/ExoPlayer/pull/5578
    
    PiperOrigin-RevId: 239371046

254	230	library/core/src/main/java/com/google/android/exoplayer2/Format.java
14	13	library/core/src/test/java/com/google/android/exoplayer2/FormatTest.java

commit d775b9b4126fa0b920c08fdae89cafe437b12cf5
Author: olly <olly@google.com>
Date:   2019-03-19 23:33:17 +0000

    Automated g4 rollback of changelist 237051112.
    
    *** Original change description ***
    
    Add SimpleCache deletion functionality
    
    This is needed now that index data may be stored outside
    of the cache directory.
    
    ***
    
    PiperOrigin-RevId: 239294713

2	39	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
20	47	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
12	60	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit 35d82e1808566f9c39df9742add776bdcf0960f0
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-19 10:14:54 +0000

    Upgrade IMA to 3.10.9
    
    PiperOrigin-RevId: 239157535

2	2	extensions/ima/build.gradle

commit 2b42f0d35af80af4ae14a290a7250b1a5c3e2693
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-19 09:06:56 +0000

    Remove unnecessary check
    
    PiperOrigin-RevId: 239149688

1	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java

commit 8ffd7da890fcbe6d96d31db43746f4559c9d603a
Author: olly <olly@google.com>
Date:   2019-03-19 04:24:15 +0000

    [libvpx] Add flag to experiment with the impact of input/output buffers
    
    PiperOrigin-RevId: 239122083

14	6	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java

commit c81c14ae86dc736eda72c45baf0c5fe423e5d125
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-18 21:53:29 +0000

    Work around lack of LA_URL attributes in PlayReady key requests init data
    
    PiperOrigin-RevId: 239066912

1	0	RELEASENOTES.md
3	0	library/core/src/main/java/com/google/android/exoplayer2/C.java
67	0	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java

commit b5e4523b584f8abcd054ededafd3aa3474f11229
Author: eguven <eguven@google.com>
Date:   2019-03-18 20:08:37 +0000

    Remove index modifier methods from DownloadIndex interface
    
    PiperOrigin-RevId: 239045412

1	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
11	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
0	14	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndex.java
3	2	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndexUtil.java

commit d85ee01ae70f8702431e52c425a367e1343886b8
Author: eguven <eguven@google.com>
Date:   2019-03-18 18:00:43 +0000

    Convert DownloadManager.Listener methods no-op default methods
    
    PiperOrigin-RevId: 239019504

0	19	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
7	5	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
0	5	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadService.java
0	7	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/TestDownloadManagerListener.java

commit d229e1f4051694d82ed13a8598c9a402bf3fb6ad
Author: eguven <eguven@google.com>
Date:   2019-03-18 16:40:47 +0000

    Add helper methods to check existence and delete ActionFiles
    
    PiperOrigin-RevId: 239002281

10	3	library/core/src/main/java/com/google/android/exoplayer2/offline/ActionFile.java
1	1	library/core/src/main/java/com/google/android/exoplayer2/util/AtomicFile.java

commit a5616cb552a4c07e03f848d1f35f44d85b4a0564
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-18 14:41:44 +0000

    Extract AV1 streams in DASH (fMP4/Matroska)
    
    PiperOrigin-RevId: 238983394

5	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java
5	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Atom.java
4	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/AtomParsers.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Sniffer.java
15	10	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecUtil.java
3	0	library/core/src/main/java/com/google/android/exoplayer2/util/MimeTypes.java

commit 3e4c15aa15410828753cfbf40f01d2847c9c7286
Author: eguven <eguven@google.com>
Date:   2019-03-18 11:03:43 +0000

    Add methods to DefaultDownloadIndex to set manual stop reason and not met requirements
    
    PiperOrigin-RevId: 238960156

60	32	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
55	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
15	51	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java

commit 2959b5f9c2a0c6b26345a1020f1b66d81719ff11
Author: olly <olly@google.com>
Date:   2019-03-15 17:32:12 +0000

    Roll forward of 238625384.
    
    PiperOrigin-RevId: 238666870

1	0	RELEASENOTES.md
2	2	constants.gradle
2	2	library/core/build.gradle
1	1	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java

commit a291d6221f5b05b5d4ffb281a6a7dd0c54ba6d75
Author: olly <olly@google.com>
Date:   2019-03-15 12:37:15 +0000

    Automated g4 rollback of changelist 238625384.
    
    *** Original change description ***
    
    Allow exoplayer/v2 mockito2
    
    ***
    
    PiperOrigin-RevId: 238626401

0	1	RELEASENOTES.md
2	2	constants.gradle
2	2	library/core/build.gradle
1	1	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java

commit 07702cecddf989fa56cfe422e240365cf19a9131
Author: olly <olly@google.com>
Date:   2019-03-15 12:24:43 +0000

    Allow exoplayer/v2/ mockito2
    
    PiperOrigin-RevId: 238625384

1	0	RELEASENOTES.md
2	2	constants.gradle
1	0	demos/cast/src/main/java/com/google/android/exoplayer2/castdemo/DemoUtil.java
2	2	library/core/build.gradle
1	0	library/core/src/main/java/com/google/android/exoplayer2/source/MediaSource.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java

commit f9055396b80e284bfa49687c2df7b952218bc37a
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-15 01:04:55 +0000

    Post errors before calling stopInternal
    
    When an error occurs we call stopInternal, and this clears the MediaPeriodQueue,
    which in turn releases media period holders and notifies that media periods have
    been released. AnalyticsCollector updates its information about media periods
    using the media period release events, which means that if we post the source
    error after stopInternal posts its events we can't determine what media period
    the source error corresponds to.
    
    Move error notifications before calling stopInternal, so that
    AnalyticsCollector's model of the media period queue contains the loading period
    at the point when it handles the error.
    
    For consistency also move the other (non-source) error notifications to match
    the new ordering.
    
    PiperOrigin-RevId: 238559324

6	6	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
1	1	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java

commit d088be7accf0aa68f926e0d537f81d55aaed4f09
Author: eguven <eguven@google.com>
Date:   2019-03-14 14:59:54 +0000

    Remove DownloadState.stopFlags
    
    PiperOrigin-RevId: 238442845

11	11	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
40	53	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
12	28	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadState.java
0	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
0	8	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateBuilder.java
21	5	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java

commit f566c9486c5efb0c19719b0daa1d98eb6c979f79
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-14 09:17:38 +0000

    Remove app-specific build configurations recommendations from dev-guide and readme
    
    Issue:#5572
    PiperOrigin-RevId: 238401862

0	14	README.md

commit d93ee00d195e3f28cdc2edc92e877bc0beeecfc1
Author: tonihei <tonihei@google.com>
Date:   2019-03-13 15:16:03 +0000

    Add convenience method to DownloadHelper to add selection for single renderer.
    
    This simplifies the DownloadHelper code in the demo app and is generally
    useful for more specific updates with SelectionOverrides.
    
    PiperOrigin-RevId: 238228276

9	32	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
33	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 8e80acd18fe00b2e75d19dd43f91a9a72a228d97
Author: tonihei <tonihei@google.com>
Date:   2019-03-12 14:39:44 +0000

    Use androidx.test and extensions.
    
    This replaces the deprecated usages of RobolectricTestRunner and
    RuntimeEnvironent and fully migrates the tests to androidx.
    
    PiperOrigin-RevId: 238011667

2	5	constants.gradle
0	4	extensions/cast/build.gradle
2	2	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/CastTimelineTrackerTest.java
2	2	extensions/cast/src/test/java/com/google/android/exoplayer2/ext/cast/MediaItemTest.java
2	2	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/ByteArrayUploadDataProviderTest.java
2	2	extensions/cronet/src/test/java/com/google/android/exoplayer2/ext/cronet/CronetDataSourceTest.java
0	1	extensions/ffmpeg/build.gradle
2	2	extensions/ffmpeg/src/test/java/com/google/android/exoplayer2/ext/ffmpeg/DefaultRenderersFactoryTest.java
1	2	extensions/flac/build.gradle
1	0	extensions/flac/src/androidTest/AndroidManifest.xml
13	7	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacBinarySearchSeekerTest.java
12	7	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorSeekTest.java
13	10	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacExtractorTest.java
3	3	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
2	2	extensions/flac/src/test/java/com/google/android/exoplayer2/ext/flac/DefaultExtractorsFactoryTest.java
2	2	extensions/flac/src/test/java/com/google/android/exoplayer2/ext/flac/DefaultRenderersFactoryTest.java
0	4	extensions/ima/build.gradle
6	6	extensions/ima/src/test/java/com/google/android/exoplayer2/ext/ima/ImaAdsLoaderTest.java
2	2	extensions/opus/build.gradle
1	0	extensions/opus/src/androidTest/AndroidManifest.xml
3	3	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
2	2	extensions/opus/src/test/java/com/google/android/exoplayer2/ext/opus/DefaultRenderersFactoryTest.java
1	2	extensions/rtmp/build.gradle
6	4	extensions/rtmp/src/test/java/com/google/android/exoplayer2/ext/rtmp/DefaultDataSourceTest.java
3	3	extensions/vp9/build.gradle
1	0	extensions/vp9/src/androidTest/AndroidManifest.xml
3	3	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
2	2	extensions/vp9/src/test/java/com/google/android/exoplayer2/ext/vp9/DefaultRenderersFactoryTest.java
6	4	library/core/build.gradle
1	0	library/core/src/androidTest/AndroidManifest.xml
1	1	library/core/src/androidTest/java/com/google/android/exoplayer2/upstream/ContentDataSourceTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/CTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/DefaultLoadControlTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/DefaultMediaClockTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/FormatTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/MediaPeriodQueueTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/TimelineTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/analytics/AnalyticsCollectorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/audio/Ac3UtilTest.java
7	5	library/core/src/test/java/com/google/android/exoplayer2/audio/AudioFocusManagerTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/audio/DefaultAudioSinkTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/audio/SilenceSkippingAudioProcessorTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/audio/SimpleDecoderAudioRendererTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/audio/SonicAudioProcessorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/database/VersionTableTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/drm/ClearKeyUtilTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/drm/DrmInitDataTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/drm/OfflineLicenseHelperTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/ConstantBitrateSeekMapTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorInputTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/DefaultExtractorsFactoryTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ExtractorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/Id3PeekerTest.java
16	16	library/core/src/test/java/com/google/android/exoplayer2/extractor/amr/AmrExtractorSeekTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/amr/AmrExtractorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/flv/FlvExtractorTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/mkv/DefaultEbmlReaderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractorTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/mkv/VarintReaderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp3/Mp3ExtractorTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp3/XingSeekerTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/AtomParsersTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4ExtractorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/MdtaMetadataEntryTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/Mp4ExtractorTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/mp4/PsshAtomUtilTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/DefaultOggSeekerUtilMethodsTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggExtractorTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPacketTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/OggPageHeaderTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisBitArrayTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisReaderTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ogg/VorbisUtilTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/rawcc/RawCcExtractorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/Ac3ExtractorTest.java
10	10	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorSeekTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsExtractorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/AdtsReaderTest.java
7	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/PsDurationReaderTest.java
6	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/PsExtractorSeekTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/PsExtractorTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/SectionReaderTest.java
9	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/TsDurationReaderTest.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorSeekTest.java
11	7	library/core/src/test/java/com/google/android/exoplayer2/extractor/ts/TsExtractorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/extractor/wav/WavExtractorTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoderTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoderTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/metadata/emsg/EventMessageTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyDecoderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyHeadersTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/metadata/icy/IcyStreamInfoTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/metadata/id3/ChapterFrameTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/metadata/id3/ChapterTocFrameTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/metadata/id3/Id3DecoderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/metadata/id3/MlltFrameTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/metadata/scte35/SpliceInfoDecoderTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/offline/ActionFileTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloaderFactoryTest.java
5	4	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadActionTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadHelperTest.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadIndexUtilTest.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadManagerTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/ClippingMediaSourceTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/source/CompositeSequenceableLoaderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/ConcatenatingMediaSourceTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/LoopingMediaSourceTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/MergingMediaSourceTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/source/SampleQueueTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/source/ShuffleOrderTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/source/SinglePeriodTimelineTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/TrackGroupArrayTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/TrackGroupTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/ads/AdPlaybackStateTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/source/chunk/MediaChunkListIteratorTest.java
15	10	library/core/src/test/java/com/google/android/exoplayer2/text/ssa/SsaDecoderTest.java
24	13	library/core/src/test/java/com/google/android/exoplayer2/text/subrip/SubripDecoderTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlDecoderTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlRenderUtilTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/text/ttml/TtmlStyleTest.java
31	17	library/core/src/test/java/com/google/android/exoplayer2/text/tx3g/Tx3gDecoderTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/CssParserTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/Mp4WebvttDecoderTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttCueParserTest.java
5	5	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttDecoderTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/text/webvtt/WebvttSubtitleTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/BufferSizeAdaptiveTrackSelectionTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelectorTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/trackselection/MappingTrackSelectorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/TrackSelectionUtilTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/TrackSelectorTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/WindowedTrackBitrateEstimatorTest.java
7	7	library/core/src/test/java/com/google/android/exoplayer2/upstream/AssetDataSourceTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/BaseDataSourceTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/upstream/ByteArrayDataSourceTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSchemeDataSourceTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/upstream/DataSourceInputStreamTest.java
54	49	library/core/src/test/java/com/google/android/exoplayer2/upstream/DefaultBandwidthMeterTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/DefaultLoadErrorHandlingPolicyTest.java
6	7	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest.java
6	7	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheDataSourceTest2.java
6	7	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CacheUtilTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndexTest.java
5	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedRegionTrackerTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/DefaultContentMetadataTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/LeastRecentlyUsedCacheEvictorTest.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheSpanTest.java
7	8	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/upstream/crypto/AesFlushingCipherTest.java
6	7	library/core/src/test/java/com/google/android/exoplayer2/util/AtomicFileTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/util/ColorParserTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/util/MimeTypesTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/util/NalUnitUtilTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/util/ParsableBitArrayTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/util/ParsableByteArrayTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/util/ParsableNalUnitBitArrayTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/util/ReusableBufferedOutputStreamTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/util/TimedValueQueueTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/util/UriUtilTest.java
3	5	library/core/src/test/java/com/google/android/exoplayer2/util/UtilTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/video/spherical/FrameRotationQueueTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/video/spherical/ProjectionDecoderTest.java
2	2	library/core/src/test/java/com/google/android/exoplayer2/video/spherical/ProjectionTest.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashMediaPeriodTest.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashMediaSourceTest.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashUtilTest.java
3	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/EventSampleStreamTest.java
11	8	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParserTest.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestTest.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/RangedUriTest.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/manifest/UrlTemplateTest.java
5	4	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DashDownloaderTest.java
2	2	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadHelperTest.java
5	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadManagerDashTest.java
5	5	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/offline/DownloadServiceDashTest.java
2	2	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/Aes128DataSourceTest.java
2	2	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriodTest.java
2	2	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/WebvttExtractorTest.java
2	2	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/DownloadHelperTest.java
5	4	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/offline/HlsDownloaderTest.java
2	2	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylistParserTest.java
2	2	library/hls/src/test/java/com/google/android/exoplayer2/source/hls/playlist/HlsMediaPlaylistParserTest.java
2	2	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/SsMediaPeriodTest.java
5	5	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParserTest.java
2	2	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestTest.java
2	2	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/offline/DownloadHelperTest.java
2	2	library/smoothstreaming/src/test/java/com/google/android/exoplayer2/source/smoothstreaming/offline/SsDownloaderTest.java
2	2	library/ui/src/test/java/com/google/android/exoplayer2/ui/spherical/CanvasRendererTest.java
4	4	library/ui/src/test/java/com/google/android/exoplayer2/ui/spherical/TouchTrackerTest.java
2	2	playbacktests/build.gradle
1	0	playbacktests/src/androidTest/AndroidManifest.xml
2	4	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/CommonEncryptionDrmTest.java
2	3	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashDownloadTest.java
2	3	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashStreamingTest.java
6	14	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashTestRunner.java
2	3	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/DashWidevineOfflineTest.java
2	8	playbacktests/src/androidTest/java/com/google/android/exoplayer2/playbacktests/gts/EnumerateDecodersTest.java
2	1	testutils/build.gradle
3	19	testutils/src/main/java/com/google/android/exoplayer2/testutil/ExtractorAsserts.java
1	7	testutils/src/main/java/com/google/android/exoplayer2/testutil/MetricsLogger.java
2	2	testutils/src/test/java/com/google/android/exoplayer2/testutil/FakeAdaptiveDataSetTest.java
2	2	testutils/src/test/java/com/google/android/exoplayer2/testutil/FakeClockTest.java
2	2	testutils/src/test/java/com/google/android/exoplayer2/testutil/FakeDataSetTest.java
2	2	testutils/src/test/java/com/google/android/exoplayer2/testutil/FakeDataSourceTest.java
1	0	testutils_robolectric/build.gradle
2	2	testutils_robolectric/src/main/java/com/google/android/exoplayer2/testutil/DefaultRenderersFactoryAsserts.java

commit 9c6c74d564d7cb2a939d87e26b60df70484c211f
Author: eguven <eguven@google.com>
Date:   2019-03-12 13:31:08 +0000

    Fix merging download action to completed and stop flag set download
    
    PiperOrigin-RevId: 238002393

3	3	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadState.java
16	0	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadStateTest.java

commit 76e99504097a7519d496de3d709f14c7e73bb55e
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-11 22:57:26 +0000

    Make MatroskaExtractor.seek() non-final
    
    Now that this class can be extended, it makes sense for subclasses to be able
    to clear state in seek().
    
    PiperOrigin-RevId: 237902276

2	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit 7acc0ee798d4e5fb1bc97a179d47fa232f166680
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-11 22:50:35 +0000

    Fix ProgressiveMediaSource DefaultExtractorsFactory proguarding
    
    PiperOrigin-RevId: 237900673

5	0	RELEASENOTES.md
2	2	extensions/flac/src/androidTest/java/com/google/android/exoplayer2/ext/flac/FlacPlaybackTest.java
2	2	extensions/opus/src/androidTest/java/com/google/android/exoplayer2/ext/opus/OpusPlaybackTest.java
2	2	extensions/vp9/src/androidTest/java/com/google/android/exoplayer2/ext/vp9/VpxPlaybackTest.java
18	5	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaSource.java

commit 7bf963c06c275f4f328243cc058902bf12a7a321
Author: tonihei <tonihei@google.com>
Date:   2019-03-11 15:08:15 +0000

    Add unit tests for buffer-based ABR.
    
    PiperOrigin-RevId: 237803831

2	2	library/core/src/main/java/com/google/android/exoplayer2/trackselection/BufferSizeAdaptationBuilder.java
248	0	library/core/src/test/java/com/google/android/exoplayer2/trackselection/BufferSizeAdaptiveTrackSelectionTest.java

commit 64af87cba0d42db8069890205e07654028bdb49a
Author: tonihei <tonihei@google.com>
Date:   2019-03-11 10:46:44 +0000

    Depend on androidx leanback 1.0 for the leanback extension.
    
    PiperOrigin-RevId: 237772784

1	1	extensions/leanback/build.gradle

commit c0e1f425e8807ef6624c67e40bdc6fe6880d1703
Author: tonihei <tonihei@google.com>
Date:   2019-03-08 17:56:01 +0000

    Fix gradle leanback build by switching to androidx leanback.
    
    PiperOrigin-RevId: 237467628

2	1	extensions/leanback/build.gradle

commit 57e2ec6a1d9e10aa3d6e736f1f585b5e8dd12b4a
Author: tonihei <tonihei@google.com>
Date:   2019-03-08 11:15:40 +0000

    Actually use view atrribute for min update interval.
    
    We didn't read the attribute value so far.
    
    PiperOrigin-RevId: 237420697

4	0	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerControlView.java

commit d92973dbe2fb0abd9d89e8c5fc51832cedf6fe59
Author: tonihei <tonihei@google.com>
Date:   2019-03-08 10:33:22 +0000

    Add release notes for time bar changes.
    
    PiperOrigin-RevId: 237416206

3	0	RELEASENOTES.md

commit 89908794e618507b6fad58a246b051b9a4388152
Merge: 3ea6d78ee eaf0d4088
Author: Oliver Woodman <olly@google.com>
Date:   2019-03-15 04:50:32 +0000

    Merge pull request #5496 from szaboa:dev-v2-5040
    
    PiperOrigin-RevId: 237412166

commit 3ea6d78ee7690c26a1841246a266141134747952
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-07 15:59:27 +0000

    Add some tests for DefaultAudioSink
    
    PiperOrigin-RevId: 237247769

240	0	library/core/src/test/java/com/google/android/exoplayer2/audio/DefaultAudioSinkTest.java

commit 1aad0f8e22f9d4517f368e5cc77bef23254d33ad
Author: tonihei <tonihei@google.com>
Date:   2019-03-07 14:35:35 +0000

    Don't throw in ProgressiveMediaPeriod.onLoadCompleted.
    
    We may currently throw if the load completes before we finished preparation.
    Don't throw and instead check for this condition in maybeThrowPrepareError.
    
    PiperOrigin-RevId: 237237000

7	3	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit 851134ec163d5eb8022b643a2371545c9b8519df
Author: olly <olly@google.com>
Date:   2019-03-06 17:58:31 +0000

    Derive Format.frameRate for MP4 videos
    
    Issue: #5598
    PiperOrigin-RevId: 237067179

10	4	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java
1	1	library/core/src/test/assets/mp4/sample.mp4.0.dump
1	1	library/core/src/test/assets/mp4/sample.mp4.1.dump
1	1	library/core/src/test/assets/mp4/sample.mp4.2.dump
1	1	library/core/src/test/assets/mp4/sample.mp4.3.dump

commit f81efde47637c614ce944a959eab4a6919771970
Author: Philippe Simons <simons.philippe@gmail.com>
Date:   2019-03-12 10:14:47 +0100

    replace current Work since requirements may have changed

1	1	extensions/workmanager/src/main/java/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.java

commit 0ea023047d1417ea829458f3f4455cc5bf016681
Author: Philippe Simons <simons.philippe@gmail.com>
Date:   2019-03-11 13:22:33 +0100

    add WorkManager extension

2	0	core_settings.gradle
23	0	extensions/workmanager/README.md
49	0	extensions/workmanager/build.gradle
18	0	extensions/workmanager/src/main/AndroidManifest.xml
164	0	extensions/workmanager/src/main/java/com/google/android/exoplayer2/ext/workmanager/WorkManagerScheduler.java

commit d7c2519a5dbfac421ff24770785ad4097eed5033
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-03-07 00:09:11 +0200

    Fixes according to the code review

4	1	library/core/src/main/java/com/google/android/exoplayer2/C.java
39	36	library/core/src/main/java/com/google/android/exoplayer2/Format.java
68	64	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
3	0	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashMediaPeriodTest.java
2	1	library/dash/src/test/java/com/google/android/exoplayer2/source/dash/DashUtilTest.java
2	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
1	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsMasterPlaylist.java
4	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
3	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit f35dbeb567cc009db799572beedb714b369a04b5
Author: olly <olly@google.com>
Date:   2019-03-06 16:33:20 +0000

    TrackSelectionView: Default to Auto when last check box deselected
    
    PiperOrigin-RevId: 237052890

0	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/TrackSelectionView.java

commit 97ea23fb89514ba744d2a92c35bcdb28750a36b8
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-06 16:27:30 +0000

    Fix load error handling call in ProgressiveMediaPeriod
    
    PiperOrigin-RevId: 237052069

1	1	library/core/src/main/java/com/google/android/exoplayer2/source/ProgressiveMediaPeriod.java

commit a8d8f610ba486a0b6db5150fd63dacf60683172b
Author: olly <olly@google.com>
Date:   2019-03-06 16:20:57 +0000

    Add SimpleCache deletion functionality
    
    This is needed now that index data may be stored outside
    of the cache directory.
    
    PiperOrigin-RevId: 237051112

39	2	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
47	20	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
60	12	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java

commit ea42bfbf3452c64454676cfedef446865002c3b5
Author: tonihei <tonihei@google.com>
Date:   2019-03-06 15:31:00 +0000

    Don't retry UnexpectedLoaderExceptions.
    
    These are thrown for non-IOException encountered during loading. Also, they
    are thrown from an unexpected position and retrying is likely to fail anyway
    because the Extractor is left in an unrecoverable state.
    
    PiperOrigin-RevId: 237043948

7	4	library/core/src/main/java/com/google/android/exoplayer2/upstream/DefaultLoadErrorHandlingPolicy.java

commit ab5dae64b9caf51752a095d2f8fbdd6f0e618a59
Author: olly <olly@google.com>
Date:   2019-03-06 14:51:03 +0000

    Make sure we handle SQLiteException and other IO errors properly
    
    SQLiteException is a runtime exception, which makes it easy to
    forget to handle it. This change converts SQLiteExceptions into
    a checked exception, which is then handled appropriately.
    
    PiperOrigin-RevId: 237038793

24	15	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
31	0	library/core/src/main/java/com/google/android/exoplayer2/database/DatabaseIOException.java
49	30	library/core/src/main/java/com/google/android/exoplayer2/database/VersionTable.java
77	55	library/core/src/main/java/com/google/android/exoplayer2/offline/DefaultDownloadIndex.java
14	6	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndex.java
2	1	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadIndexUtil.java
1	0	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadManager.java
71	40	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CacheFileMetadataIndex.java
103	86	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
79	28	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
4	4	library/core/src/test/java/com/google/android/exoplayer2/database/VersionTableTest.java
18	11	library/core/src/test/java/com/google/android/exoplayer2/offline/DefaultDownloadIndexTest.java
6	4	library/core/src/test/java/com/google/android/exoplayer2/offline/DownloadIndexUtilTest.java
2	3	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndexTest.java
4	5	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheTest.java

commit dd06a2d5f17c6c8a7fc5187ad364a3052c20837f
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-06 13:18:14 +0000

    Fix integer bitrate division
    
    PiperOrigin-RevId: 237028164

2	1	library/core/src/main/java/com/google/android/exoplayer2/trackselection/BufferSizeAdaptationBuilder.java

commit 155a129d2c3bd887e9795fa329727e1374dc1f7d
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-06 13:11:09 +0000

    Make flags-only DecoderInputBuffer hold all flags
    
    Currently a flags-only DecoderInputBuffer may hold only the end-of-stream
    flag. This change makes flags-only buffer read any kind of flag set in
    the next sample. If no sample is available RESULT_NOTHING_READ is
    returned.
    
    PiperOrigin-RevId: 237027581

1	2	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java
24	18	library/core/src/main/java/com/google/android/exoplayer2/source/SampleMetadataQueue.java
18	10	library/core/src/main/java/com/google/android/exoplayer2/source/SampleQueue.java
11	9	library/core/src/main/java/com/google/android/exoplayer2/source/SampleStream.java
4	1	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java

commit a4754bb7410cd8ca31c0bd8261762cf5c425f31e
Author: olly <olly@google.com>
Date:   2019-03-06 12:57:32 +0000

    Don't show track selection tabs if there's only one
    
    PiperOrigin-RevId: 237025639

4	3	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java

commit 3500f07be6c266e0903bc42f1dfdb0df63b1c1b9
Author: tonihei <tonihei@google.com>
Date:   2019-03-06 10:49:13 +0000

    Use theme overlay for track selection dialog.
    
    We currrently just inherit the acitivity's alertDialogTheme style (which
    is equivalent to ThemeOverlay.AppCompat.Dialog.Alert). Using the theme
    overlay directly and also force-enable the title such that the title is
    shown even if the activity disabled the title.
    
    PiperOrigin-RevId: 237012601

5	8	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java
4	1	demos/main/src/main/res/values/styles.xml

commit febb8c589ecf0d88f0ba4b7ddc000b2fe6c10389
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-05 14:51:07 +0000

    Improve handling of failed NAL prefix reads
    
    nalPrefix.readUnsignedIntToInt() will throw if the unsigned output doesn't fit
    in an int. Before this change, in the error case we'd retry reading from after
    the NAL prefix position. Throw a ParserException so that reading an obviously
    invalid NAL prefix will be treated as a fatal exception by the default load
    error handling policy.
    
    PiperOrigin-RevId: 236839690

5	1	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/FragmentedMp4Extractor.java
6	2	library/core/src/main/java/com/google/android/exoplayer2/extractor/mp4/Mp4Extractor.java

commit 034209c5a20e078b640899aeb2a0b4b912bd0635
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-03-05 09:16:39 +0000

    Remove vp9 RGB output mode-related code
    
    PiperOrigin-RevId: 236805460

1	0	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxOutputBuffer.java

commit 36060e36cb01dc80067a6f6ccd09cd0cdeb6beb0
Author: tonihei <tonihei@google.com>
Date:   2019-03-04 17:38:27 +0000

    Fix TrackSelectionView selection/deselection again.
    
    There are 6 different situations which are now more explicitly covered to
    ensure we handle them correctly:
    1. Radio button (non-adaptive, single group only)
       Selected -> Do nothing.
       Unselected -> Replace override with selected track.
    2. Check box (non-adaptive, but multi-group allowed)
       Selected -> Remove track (and override). If last one, set isDisabled flag.
       Unselected -> Replace override with selected track.
    3. Check box (adaptive allowed, single or multi group)
       Selected -> Remove track. If last, remove override and maybe set isDisabled.
       Unselected -> Add track to override.
    
    PiperOrigin-RevId: 236668642

24	13	library/ui/src/main/java/com/google/android/exoplayer2/ui/TrackSelectionView.java

commit 641c1d2af4f9bf7a1fb60d0e054373af0bb23926
Author: tonihei <tonihei@google.com>
Date:   2019-03-04 15:55:09 +0000

    Properly release DownloadHelper and TrackSelectionDialog.
    
    The release needs to post to the MediaSource thread and also needs to post
    back to the DownloadHelper thread to prevent sending updates after release has
    been called. The point where we release the downloadHelper also needs to
    dismiss the dialog in case the creation has already been queued before the
    release.
    
    PiperOrigin-RevId: 236652309

5	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java
46	11	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java

commit 8a2fc55c497caee0fbd54acdc0fc2b7677e407e0
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-04 15:24:54 +0000

    Fix load error handling policy invocation
    
    PiperOrigin-RevId: 236648435

1	1	library/core/src/main/java/com/google/android/exoplayer2/source/SingleSampleMediaPeriod.java

commit d68c861b21e6ab4760be76f99f15d57b32c20a06
Author: olly <olly@google.com>
Date:   2019-03-04 15:00:03 +0000

    Remove duplicate layout file
    
    PiperOrigin-RevId: 236645446

2	3	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java
12	1	demos/main/src/main/res/layout/track_selection_dialog.xml
0	25	demos/main/src/main/res/layout/track_selection_dialog_tab.xml

commit 28c7cb3716c2c054d47a55a927f368058a0ed2a5
Author: tonihei <tonihei@google.com>
Date:   2019-03-04 11:30:06 +0000

    Reset period position when resetState=True.
    
    This is more in line with "forgetting all previous state" as documented for
    resetState=True. Also only apply the current position as initial seek position
    in this case.
    PiperOrigin-RevId: 236623630

2	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImpl.java
14	8	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java

commit 7a1b8a95850bdf9142865b764432ec62f49b9bed
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-03-04 11:10:19 +0000

    Extract method in MediaCodecRenderer
    
    Deduplicates a bit of code
    
    PiperOrigin-RevId: 236621851

17	23	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit 8fce3ce678689888f7b499b3f15180286a6e20b8
Author: tonihei <tonihei@google.com>
Date:   2019-03-01 08:59:42 +0000

    Do not throw in resolveSeekPosition on playback thread.
    
    We currently throw if a pending seek position was valid when the user issued
    it on the app thread, but can't be resolved on the playback thread because the
    timeline changed in the meantime. Throwing in this case seems wrong as the
    user could not have known about the issue (and the seek position was actually
    valid). Also, in other cases where the currently playing period is no longer
    in the new timeline, we gracefully use a subsequent period or transition to
    ENDED state instead of throwing. So it seems more consistent to transition to
    ENDED state as well.
    
    PiperOrigin-RevId: 236274862

3	16	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
20	42	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit b48ceb19bd656fefbed95e78c53a24e4d2c6c814
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 17:27:13 +0000

    Remove unneccessary deprecated constants and classes.
    
    This constants and classes are defined by the same name in the super class and
    thus can be safely removed.
    
    PiperOrigin-RevId: 236136197

0	23	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlaybackControlView.java

commit 0624046a7b8eaefc5c5c5714a7d4e20ca2260f27
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 17:10:22 +0000

    Stop using deprecated method in demo app.
    
    PiperOrigin-RevId: 236133636

2	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java

commit f87cb81f3541a0f35314626dcfd7b2da37b16959
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 16:02:24 +0000

    Enable caching in internal demo app.
    
    So far it's only enabled in the external demo app.
    
    PiperOrigin-RevId: 236122825

10	10	demos/main/src/main/java/com/google/android/exoplayer2/demo/DemoApplication.java

commit cde6189c14c8eebc8485ea274b20500ab44a2233
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 15:42:37 +0000

    Repair progressive downloads in DownloadTracker.
    
    They are currently broken because we ignore downloads without periods.
    As the DownloadHelper doesn't create periods for progressive media, we don't
    download them. Fixing by starting download automatically without showing
    track selection dialog.
    
    PiperOrigin-RevId: 236120202

4	1	demos/main/src/main/java/com/google/android/exoplayer2/demo/DownloadTracker.java

commit 84c8842dfa78becbc4bfccc2e26426a6cb4f840f
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 15:38:42 +0000

    Prevent multiple track selection dialogs in PlayerActivity.
    
    PiperOrigin-RevId: 236119640

8	3	demos/main/src/main/java/com/google/android/exoplayer2/demo/PlayerActivity.java
5	2	demos/main/src/main/java/com/google/android/exoplayer2/demo/TrackSelectionDialog.java

commit 3eeb3acb3b50676bedbfd4cdcb631d15ec7b9f91
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 15:33:17 +0000

    Remove nullness suppressions.
    
    These were added in an internal clean-up and are better fixed than suppressed.
    
    PiperOrigin-RevId: 236118715

1	3	library/core/src/main/java/com/google/android/exoplayer2/drm/DrmInitData.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/ChapterTocFrame.java
3	4	library/core/src/main/java/com/google/android/exoplayer2/metadata/id3/MlltFrame.java
2	4	library/core/src/main/java/com/google/android/exoplayer2/offline/DownloadHelper.java
1	3	library/core/src/main/java/com/google/android/exoplayer2/trackselection/DefaultTrackSelector.java
1	2	library/core/src/main/java/com/google/android/exoplayer2/util/Util.java
3	3	library/ui/src/main/java/com/google/android/exoplayer2/ui/PlayerNotificationManager.java

commit 84e20216d7b283cb76e9978a27030d717067832a
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 15:31:33 +0000

    Do not allow deselection of radio button.
    
    Instead just set the currently clicked item as override. If the already
    selected button is clicked, the override is reset with the same value.
    
    PiperOrigin-RevId: 236118429

2	9	library/ui/src/main/java/com/google/android/exoplayer2/ui/TrackSelectionView.java

commit 0bb123aa4c9cc1c0dc94ef2ba3d326658e2c53d1
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 15:31:09 +0000

    TrackSelectionView: Use same "isAdaptive" logic in updateViews and onClick.
    
    We currently do not show check boxes if the renderer does not support adaptive
    switches between tracks in one group. However, we assume check boxes in the
    onClick method.
    
    Use same logic for both methods to be consistent.
    
    PiperOrigin-RevId: 236118372

13	6	library/ui/src/main/java/com/google/android/exoplayer2/ui/TrackSelectionView.java

commit 2ae07936baf638bfd2a714a1a73ef9f31eab8e9c
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 13:00:20 +0000

    Handle !resetPosition as initial seek position.
    
    The flag in ExoPlayer.prepare is documented as keeping the current window
    index and window position. We are currently using the current period UID and
    period position instead. This causes problems when the media source is changed
    but the position is not reset.
    
    Using the initial seek position instead ensures we actually use the window
    index and position.
    
    Issue:#5520
    PiperOrigin-RevId: 236101024

3	0	RELEASENOTES.md
6	0	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayerImplInternal.java
39	0	library/core/src/test/java/com/google/android/exoplayer2/ExoPlayerTest.java

commit 377e550d0fa7036853fa16514ca129d20212544e
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 11:55:24 +0000

    Improve new error type documentation and prevent NPE in error listener.
    
    Adding new error types may cause issues when listeners assume a fixed set of
    error types and don't handle arbitrary defaults.
    
    Fixing error handling in one case and improving documentation to make people
    aware of the issue.
    
    PiperOrigin-RevId: 236093265

2	0	RELEASENOTES.md
8	7	library/core/src/main/java/com/google/android/exoplayer2/ExoPlaybackException.java

commit 92a7bb534a706fe917308af48a4958c99b3bb754
Author: tonihei <tonihei@google.com>
Date:   2019-02-28 11:21:09 +0000

    Remove wrong documentation.
    
    This is a left-over from the past and is no longer true.
    
    PiperOrigin-RevId: 236089921

0	6	library/core/src/main/java/com/google/android/exoplayer2/ExoPlayer.java

commit b25d2c9978d69de6836b7a06cf6e4aa658abea85
Author: olly <olly@google.com>
Date:   2019-02-27 00:07:01 +0000

    Adding @SuppressWarnings for the latest stable SDK Q drop
    
    Global Presubmit : https://test.corp.google.com/ui#id=OCL:235456897:BASE:235767406:1551211793273:aa1704f6
    
    LSC doc: go/android-sdk-lsc
    
    PiperOrigin-RevId: 235812819

4	0	library/core/src/main/java/com/google/android/exoplayer2/drm/FrameworkMediaDrm.java
2	0	library/core/src/main/java/com/google/android/exoplayer2/scheduler/PlatformScheduler.java

commit 9798fdeadee1b66e40274cd4571f1ed896780180
Author: bachinger <bachinger@google.com>
Date:   2019-02-26 10:26:17 +0000

    add comments to issue templates which make the bot validate them
    
    PiperOrigin-RevId: 235685393

4	0	.github/ISSUE_TEMPLATE/bug.md
4	1	.github/ISSUE_TEMPLATE/content_not_playing.md
4	1	.github/ISSUE_TEMPLATE/feature_request.md
4	1	.github/ISSUE_TEMPLATE/question.md

commit 0645a1838adf54cdf628cdda6721c6d23136484d
Author: olly <olly@google.com>
Date:   2019-02-25 20:07:22 +0000

    [libvpx] Allow enabling row multi thread mode decoding in LibVPX
    
    PiperOrigin-RevId: 235576645

6	0	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/LibvpxVideoRenderer.java
5	2	extensions/vp9/src/main/java/com/google/android/exoplayer2/ext/vp9/VpxDecoder.java
9	1	extensions/vp9/src/main/jni/vpx_jni.cc

commit 8449e7f45072b4a88da4835684c1437a1762200b
Author: olly <olly@google.com>
Date:   2019-02-25 17:14:14 +0000

    Add stubs for onCreate() and onPostCreate()
    
    PiperOrigin-RevId: 235541545

2	3	extensions/gvr/src/main/java/com/google/android/exoplayer2/ext/gvr/GvrPlayerActivity.java

commit 8edecd5ccb59880a24e9d3f104920eb1a1ce161e
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-02-25 15:11:00 +0000

    Update Matroska video codec FourCCs
    
    Issue: #5503
    PiperOrigin-RevId: 235523955

4	3	library/core/src/main/java/com/google/android/exoplayer2/extractor/mkv/MatroskaExtractor.java

commit f394697d4a485a4c2b1f75b2d470d621ba5675c8
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-02-25 10:20:47 +0000

    Fix updating rate with codec reuse while disabled
    
    While disabled the renderer does not have non-null stream formats. This means
    that setting the operating rate could cause a NullPointerException if there was
    a codec for reuse.
    
    Check for being enabled/started before trying to set the operating rate. After
    the renderer is enabled it should receive a new input format which will update
    the operating rate as needed.
    
    PiperOrigin-RevId: 235494384

3	1	library/core/src/main/java/com/google/android/exoplayer2/mediacodec/MediaCodecRenderer.java

commit caeaa9574e5f3841425d970ee6cf564bed1ec9dd
Author: andrewlewis <andrewlewis@google.com>
Date:   2019-02-23 20:20:10 +0000

    Avoid draining audio processors while reset
    
    If the DefaultAudioSink was reconfigured in a way that was compatible with the
    previous configuration just after having been reset, we would try to drain audio
    processors despite not having an AudioTrack. This could result in a
    NullPointerException if speed adjustment was active.
    
    Fix this behavior by only trying to drain audio processors if we actually have
    an AudioTrack.
    
    PiperOrigin-RevId: 235355466

11	8	library/core/src/main/java/com/google/android/exoplayer2/audio/DefaultAudioSink.java

commit e8077fb3f4a8f970e8d1314975b42ee8f746804f
Author: bachinger <bachinger@google.com>
Date:   2019-02-22 16:29:36 +0000

    honour shuffle order when publishing queue to media session
    
    Issue #5360
    
    PiperOrigin-RevId: 235196177

2	0	RELEASENOTES.md
1	0	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/MediaSessionConnector.java
41	12	extensions/mediasession/src/main/java/com/google/android/exoplayer2/ext/mediasession/TimelineQueueNavigator.java

commit eea1ce3e0a505f04d17feeaceffea6c1ee1df442
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-02-22 15:39:36 +0000

    Fix channel count propagation on HLS traditional preparation
    
    PiperOrigin-RevId: 235189983

1	0	library/core/src/main/java/com/google/android/exoplayer2/Format.java
5	0	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsSampleStreamWrapper.java

commit 3e03e71cf96679c9307bbe212d69909138c3f698
Author: olly <olly@google.com>
Date:   2019-02-22 15:27:28 +0000

    Start enabling database based SimpleCache indexing
    
    - Expose constructor (package private for now, for tests only)
    - Add some tests for cache initialization
    - Add some TODOs for handling initialization failure
    
    PiperOrigin-RevId: 235188386

1	1	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/CachedContentIndex.java
84	25	library/core/src/main/java/com/google/android/exoplayer2/upstream/cache/SimpleCache.java
35	5	library/core/src/test/java/com/google/android/exoplayer2/upstream/cache/SimpleCacheTest.java

commit ff7f0304e583296f290d8d80d15ba4e213edf6ba
Author: olly <olly@google.com>
Date:   2019-02-22 15:12:10 +0000

    Automated g4 rollback of changelist 235153912.
    
    *** Reason for rollback ***
    
    Breaks ExoPlayer's gradle build
    
    *** Original change description ***
    
    Migrate Mockito Matchers.{hamcrestMethods} to MockitoHamcrest.{hamcrestMethods}
    
    All methods accepting a hamcrest Matcher in org.mockito.Matchers have been changed
    to only accept an ArgumentMatcher. The corresponding methods are now available on
    MockitoHamcrest.
    
    For more information see http://go/mockito-2-lsc
    
    Tested:
        TAP --sample for global presubmit queue
        http://test/OCL:235033293:BASE:234998256:1550793421835:c2ccbbda
    
    ***
    
    PiperOrigin-RevId: 235186705

2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java

commit 6682580ad71de542569180e3c49415b29ebd162c
Author: aquilescanta <aquilescanta@google.com>
Date:   2019-02-22 11:34:44 +0000

    Extract HlsMediaChunk#feedDataToExtractor method
    
    Deduplicates the call to Extractor#read and sorrounding logic.
    
    PiperOrigin-RevId: 235165499

23	34	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaChunk.java

commit 325029d58eb67a72d0ee8204e280cfd555f15b14
Author: olly <olly@google.com>
Date:   2019-02-22 09:38:19 +0000

    Migrate Mockito Matchers.{hamcrestMethods} to MockitoHamcrest.{hamcrestMethods}
    
    All methods accepting a hamcrest Matcher in org.mockito.Matchers have been changed
    to only accept an ArgumentMatcher. The corresponding methods are now available on
    MockitoHamcrest.
    
    For more information see http://go/mockito-2-lsc
    
    Tested:
        TAP --sample for global presubmit queue
        http://test/OCL:235033293:BASE:234998256:1550793421835:c2ccbbda
    PiperOrigin-RevId: 235153912

2	2	library/core/src/test/java/com/google/android/exoplayer2/trackselection/AdaptiveTrackSelectionTest.java

commit 7f9a156323df278f09ed0e2e0f38a5c195eb1fe0
Author: bachinger <bachinger@google.com>
Date:   2019-02-21 16:14:30 +0000

    fix issue templates
    
    PiperOrigin-RevId: 234997641

1	1	.github/ISSUE_TEMPLATE/bug.md
1	1	.github/ISSUE_TEMPLATE/content_not_playing.md
1	1	.github/ISSUE_TEMPLATE/feature_request.md
1	1	.github/ISSUE_TEMPLATE/question.md

commit 854419962ada33b34a734b3801edd9e05c083684
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-03-05 23:38:49 +0200

    Merge role and accessibility fields into RoleFlags

26	42	library/core/src/main/java/com/google/android/exoplayer2/C.java
36	75	library/core/src/main/java/com/google/android/exoplayer2/Format.java
66	51	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
2	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
3	6	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
2	4	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit 58d746ecaa811d29f9bb52b1e4e232b3bc92ed07
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-03-03 20:26:31 +0200

    Add IntDef for role and accessibility descriptor's value, parse these also for video / audio tracks

48	0	library/core/src/main/java/com/google/android/exoplayer2/C.java
58	51	library/core/src/main/java/com/google/android/exoplayer2/Format.java
80	34	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
6	2	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/HlsMediaPeriod.java
8	4	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java
6	2	library/smoothstreaming/src/main/java/com/google/android/exoplayer2/source/smoothstreaming/manifest/SsManifestParser.java

commit 43ea3880980b01a7740a51e3a223fea5b7af498b
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-02-28 00:11:04 +0200

    Remove old parseRole method that looked only for main

0	18	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java

commit 06ed877845dbe971fc92df94872520119e8a9543
Author: Arnold Szabo <szaboaarnold@gmail.com>
Date:   2019-02-27 23:53:52 +0200

    Pass role and accessibility descriptor values from adaptation set to format

66	2	library/core/src/main/java/com/google/android/exoplayer2/Format.java
42	2	library/dash/src/main/java/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.java
3	1	library/hls/src/main/java/com/google/android/exoplayer2/source/hls/playlist/HlsPlaylistParser.java

commit 4bc79c9465abd00e29ff576c5f7a7517be632f5a
Author: Marc Baechinger <marc.baechinger@gmail.com>
Date:   2019-02-26 10:38:03 +0000

    Add comment for template validation with Google OSS Bot

4	1	.github/ISSUE_TEMPLATE/question.md

commit 266f196cbf8c90b783a3d6c42772823cf36d992b
Author: Marc Baechinger <marc.baechinger@gmail.com>
Date:   2019-02-26 10:36:50 +0000

    Add comments for template validation with Google OSS Bot

4	1	.github/ISSUE_TEMPLATE/feature_request.md

commit fd0d4433618dbf6d1b9ec3e51b983bc0dd48ad02
Author: Marc Baechinger <marc.baechinger@gmail.com>
Date:   2019-02-26 10:35:26 +0000

    Add comment for template validation with Google OSS Bot

4	1	.github/ISSUE_TEMPLATE/content_not_playing.md

commit 52a18d09b29b8aa833b94a626b807598eaa578a6
Author: Marc Baechinger <marc.baechinger@gmail.com>
Date:   2019-02-26 10:34:19 +0000

    Add comment for template validation with Google OSS Bot

4	0	.github/ISSUE_TEMPLATE/bug.md

commit 3751dc87480aac83ff9230aa9dc72ae0f3fca99a
Author: Andrew Lewis <andrewlewis@google.com>
Date:   2019-02-21 16:58:13 +0000

    Update to 2.9.6

3	3	audio-app/build.gradle
1	0	audio-app/src/main/AndroidManifest.xml
3	3	audio-app/src/main/java/com/google/android/exoplayer/audiodemo/Samples.java
3	3	video-app/build.gradle
4	2	video-app/src/main/java/com/google/android/exoplayer/videodemo/MainActivity.java

commit b88cc63951ae43e7d166867a56d2f04174f21936
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-02-21 16:05:23 +0000

    fix issue template for 'question'

1	1	.github/ISSUE_TEMPLATE/question.md

commit 544dd8a18ab3e48e7c2cad813beccab2a48fa2dd
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-02-21 16:04:46 +0000

    fix issue template for 'feature request'

1	1	.github/ISSUE_TEMPLATE/feature_request.md

commit 04a74bb82ce0cd57896389f40d45bf0b3d0f7854
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-02-21 16:03:58 +0000

    fix issue template for 'content not playing'

1	1	.github/ISSUE_TEMPLATE/content_not_playing.md

commit 4747604c0640fa93a6a62a930e977909dbe811cc
Author: Marc Baechinger <bachinger@google.com>
Date:   2019-02-21 16:02:04 +0000

    fix issue tempate for bugs

1	1	.github/ISSUE_TEMPLATE/bug.md

commit 8e0fa513030dc56d5f6ad821fbe8e06c34db6019
Author: Andrew Lewis <andrewlewis@google.com>
Date:   2019-02-21 15:51:39 +0000

    Javadoc 2.9.6

1	2	doc/reference/allclasses-frame.html
1	2	doc/reference/allclasses-noframe.html
2	2	doc/reference/com/google/android/exoplayer2/drm/package-tree.html
2	2	doc/reference/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.Builder.html
122	65	doc/reference/com/google/android/exoplayer2/ext/ima/ImaAdsLoader.html
0	557	doc/reference/com/google/android/exoplayer2/ext/ima/ImaAdsMediaSource.html
0	1	doc/reference/com/google/android/exoplayer2/ext/ima/package-frame.html
1	7	doc/reference/com/google/android/exoplayer2/ext/ima/package-summary.html
0	5	doc/reference/com/google/android/exoplayer2/ext/ima/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/mp4/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/extractor/ts/package-tree.html
5	26	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessage.html
4	3	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessageDecoder.html
5	10	doc/reference/com/google/android/exoplayer2/metadata/emsg/EventMessageEncoder.html
17	17	doc/reference/com/google/android/exoplayer2/package-tree.html
16	51	doc/reference/com/google/android/exoplayer2/source/BaseMediaSource.html
7	14	doc/reference/com/google/android/exoplayer2/source/ClippingMediaSource.html
7	14	doc/reference/com/google/android/exoplayer2/source/CompositeMediaSource.html
7	14	doc/reference/com/google/android/exoplayer2/source/ConcatenatingMediaSource.html
2	2	doc/reference/com/google/android/exoplayer2/source/DynamicConcatenatingMediaSource.html
7	14	doc/reference/com/google/android/exoplayer2/source/ExtractorMediaSource.html
6	13	doc/reference/com/google/android/exoplayer2/source/LoopingMediaSource.html
0	4	doc/reference/com/google/android/exoplayer2/source/MediaSource.SourceInfoRefreshListener.html
15	46	doc/reference/com/google/android/exoplayer2/source/MediaSource.html
7	14	doc/reference/com/google/android/exoplayer2/source/MergingMediaSource.html
7	14	doc/reference/com/google/android/exoplayer2/source/SingleSampleMediaSource.html
254	0	doc/reference/com/google/android/exoplayer2/source/ads/AdsLoader.AdViewProvider.html
15	15	doc/reference/com/google/android/exoplayer2/source/ads/AdsLoader.EventListener.html
85	57	doc/reference/com/google/android/exoplayer2/source/ads/AdsLoader.html
2	2	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.AdLoadException.Type.html
0	297	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.EventListener.html
2	2	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.MediaSourceFactory.html
18	123	doc/reference/com/google/android/exoplayer2/source/ads/AdsMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/ads/package-frame.html
5	6	doc/reference/com/google/android/exoplayer2/source/ads/package-summary.html
2	2	doc/reference/com/google/android/exoplayer2/source/ads/package-tree.html
7	14	doc/reference/com/google/android/exoplayer2/source/dash/DashMediaSource.html
14	15	doc/reference/com/google/android/exoplayer2/source/dash/manifest/DashManifestParser.html
7	14	doc/reference/com/google/android/exoplayer2/source/hls/HlsMediaSource.html
1	1	doc/reference/com/google/android/exoplayer2/source/package-tree.html
7	14	doc/reference/com/google/android/exoplayer2/source/smoothstreaming/SsMediaSource.html
2	2	doc/reference/com/google/android/exoplayer2/text/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/text/webvtt/package-tree.html
110	52	doc/reference/com/google/android/exoplayer2/ui/PlayerView.html
2	2	doc/reference/com/google/android/exoplayer2/ui/SimpleExoPlayerView.html
2	2	doc/reference/com/google/android/exoplayer2/ui/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/upstream/package-tree.html
1	1	doc/reference/com/google/android/exoplayer2/util/package-tree.html
3	3	doc/reference/constant-values.html
26	52	doc/reference/deprecated-list.html
65	137	doc/reference/index-all.html
36	37	doc/reference/overview-tree.html
